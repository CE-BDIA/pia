
<!doctype html>
<html lang="ca" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../2.%20Contenidors%20de%20BBDD%20amb%20Docker/">
      
      
        <link rel="next" href="../4.%20Servidors%20amb%20Flask/">
      
      
      <link rel="icon" href="../../img/jaume.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.34">
    
    
      
        <title>3. Peticions HTTP. API REST - Programació d'Intel·ligència Artificial - CE Big Data i IA</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.35f28582.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#el-protocol-htpp" class="md-skip">
          Salta el contingut
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Capçalera">
    <a href="../.." title="Programació d&#39;Intel·ligència Artificial - CE Big Data i IA" class="md-header__button md-logo" aria-label="Programació d'Intel·ligència Artificial - CE Big Data i IA" data-md-component="logo">
      
  <img src="../../img/jaume.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Programació d'Intel·ligència Artificial - CE Big Data i IA
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              3. Peticions HTTP. API REST
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Cerca" placeholder="Cerca" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Cerca">
        
        <button type="reset" class="md-search__icon md-icon" title="Neteja" aria-label="Neteja" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicialitzant cerca
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navegació" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Programació d&#39;Intel·ligència Artificial - CE Big Data i IA" class="md-nav__button md-logo" aria-label="Programació d'Intel·ligència Artificial - CE Big Data i IA" data-md-component="logo">
      
  <img src="../../img/jaume.png" alt="logo">

    </a>
    Programació d'Intel·ligència Artificial - CE Big Data i IA
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Unitat 1. Introducció a la Programació
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Unitat 1. Introducció a la Programació
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../U01%20Introducci%C3%B3%20a%20la%20programaci%C3%B3/01_Algorismes_Llenguatges/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. Algorismes i llenguatges
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../U01%20Introducci%C3%B3%20a%20la%20programaci%C3%B3/Exercici/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2. Exercici pràctic
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Unitat 2. El llenguatge Python
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Unitat 2. El llenguatge Python
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../U02%20Python/01_Entorns_i_projectes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. Preparació de l'entorn
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../U02%20Python/02_Tipus_Variables_Operadors/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2. Tipus de Dades. Operadors
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../U02%20Python/03_Estructures_de_control/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3. Estructures de control
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../U02%20Python/04_Funcions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4. Funcions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../U02%20Python/05_Estructures_de_dades/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5. Estructures de dades
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../U02%20Python/06_POO/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6. Programació orientada a objectes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../U02%20Python/07_Projecte/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7. Projecte
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../U02%20Python/08_ExerciciPreProjecte/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    8. Exercici pre projecte guiat
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../U02%20Python/09_Tractament_de_fitxer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    9. Annex I - Tractament de fitxers i carpetes amb python
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Unitat 3. Python aplicat al Big Data i Intel·ligencia Artificial
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Unitat 3. Python aplicat al Big Data i Intel·ligencia Artificial
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Teoria
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            Teoria
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/0.%20Index/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. Introducció
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/1.%20NumPy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2. Manipulació de Dades amb Numpy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/02_Pandas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3. Manipulació de Dades amb Pandas
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/03_Matplotlib-Seaborn/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4. Visualització de dades amb Matplotlib i Seaborn
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/04_Sklearn/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5. Introducció al Machine Learning amb Scikit-Learn
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/05_Keras/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6. Introducció al DeepLearning amb Keras
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/06_Reutilitzant_models/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7. Reutilizant models
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tasques
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Tasques
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_1" >
        
          
          <label class="md-nav__link" for="__nav_3_2_1" id="__nav_3_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    2. NumPy
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_1">
            <span class="md-nav__icon md-icon"></span>
            2. NumPy
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/numpy/01_numpy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. Activitats
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_1_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2_1_2" id="__nav_3_2_1_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    2. Pràctiques
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_3_2_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_1_2">
            <span class="md-nav__icon md-icon"></span>
            2. Pràctiques
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/numpy/02_mario/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. Mario
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/numpy/03_derivades/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2. Derivades
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/numpy/04_vi/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3. Vi
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/numpy/05_KNN/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4. KNN
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/numpy/Soroll_Impulsiu/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5. Soroll Impulsiu
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/numpy/06_sobel/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6. Sobel
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2_2" id="__nav_3_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    3. Pandas
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_2">
            <span class="md-nav__icon md-icon"></span>
            3. Pandas
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_2_1" >
        
          
          <label class="md-nav__link" for="__nav_3_2_2_1" id="__nav_3_2_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    1. Activitats
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_3_2_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_2_1">
            <span class="md-nav__icon md-icon"></span>
            1. Activitats
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/01_creacio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. Creacio
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/02_indexacio_seleccio_assignacio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2. Indexació, Selecció i Assignació
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/03_resum_mapatge/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3. Resum i mapatge
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/04_agrupament_i_ordenacio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4. Agrupaments i ordenació
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/05_tipus_de_dades_i_valors_nulls/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5. Dades i valors nuls
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/06_renombrat_i_combinacio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6. Renombrat i combinació
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_2_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2_2_2" id="__nav_3_2_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    2. Pràctiques
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_3_2_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_2_2">
            <span class="md-nav__icon md-icon"></span>
            2. Pràctiques
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/01_practica_vendes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. Vendes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/02_practica_dades_categoriques/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2. Dades categòriques
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_3" >
        
          
          <label class="md-nav__link" for="__nav_3_2_3" id="__nav_3_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    4. Matplotlib i Seaborn
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_3">
            <span class="md-nav__icon md-icon"></span>
            4. Matplotlib i Seaborn
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_2_3_1" id="__nav_3_2_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    1. Activitats
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_3_2_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_3_1">
            <span class="md-nav__icon md-icon"></span>
            1. Activitats
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/seaborn/01_linecharts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. Gràfics de línies
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/seaborn/02_bars_heatmaps/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2. Gràfics de barres i mapes de calor
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/seaborn/03_scatters/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3. Gràfics de dispersió
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/seaborn/04_distributions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4. Distibucions
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_4" >
        
          
          <label class="md-nav__link" for="__nav_3_2_4" id="__nav_3_2_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    5. Sklearn
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_4">
            <span class="md-nav__icon md-icon"></span>
            5. Sklearn
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_4_1" >
        
          
          <label class="md-nav__link" for="__nav_3_2_4_1" id="__nav_3_2_4_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    1. Activitats
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_3_2_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_4_1">
            <span class="md-nav__icon md-icon"></span>
            1. Activitats
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/sklearn/01_model/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. Contrucció del model
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/sklearn/02_validacio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2. Validació del model
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_4_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2_4_2" id="__nav_3_2_4_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    2. Pràctiques
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_3_2_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_4_2">
            <span class="md-nav__icon md-icon"></span>
            2. Pràctiques
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/sklearn/03_comparacio_de_models/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. Comparació de models
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/sklearn/04_overfitting_underfitting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2. Ajust de models
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_5" >
        
          
          <label class="md-nav__link" for="__nav_3_2_5" id="__nav_3_2_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    6. Keras
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_5">
            <span class="md-nav__icon md-icon"></span>
            6. Keras
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_5_1" >
        
          
          <label class="md-nav__link" for="__nav_3_2_5_1" id="__nav_3_2_5_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    1. Activitats
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_3_2_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_5_1">
            <span class="md-nav__icon md-icon"></span>
            1. Activitats
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/keras/01_underfitting_overfitting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. Subajust i sobreajust - Parada anticipada
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/keras/02_dropout/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2. Abandonament
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/keras/03_batch_normalization/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3. Normalització de lots
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_5_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2_5_2" id="__nav_3_2_5_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    2. Pràctiques
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_3_2_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_5_2">
            <span class="md-nav__icon md-icon"></span>
            2. Pràctiques
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/keras/04_regression/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. Xarxes Neuronals - Regressió
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/keras/05_classification/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2. Xarxes Neuronals - Classificació
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/keras/06_sklearn_vs_keras/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3. Algoritmes clàssics front a xarxes neuronals
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/keras/07_save_and_load/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4. Guardat i càrrega de models
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Unitat 4. Programació d'aplicacions
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Unitat 4. Programació d'aplicacions
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../1.%20Aplicacions%20clients%20amb%20Flet/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. Programació d'aplicacions client amb Flet
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../2.%20Contenidors%20de%20BBDD%20amb%20Docker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2. Contenidors. Bases de Dades
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    3. Peticions HTTP. API REST
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    3. Peticions HTTP. API REST
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Taula de continguts">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Taula de continguts
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#el-protocol-htpp" class="md-nav__link">
    <span class="md-ellipsis">
      El protocol HTPP
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#serveis-api-rest" class="md-nav__link">
    <span class="md-ellipsis">
      Serveis API REST
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#consumint-recursos-de-internet-la-llibreria-request" class="md-nav__link">
    <span class="md-ellipsis">
      Consumint recursos de internet. La llibreria request
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Consumint recursos de internet. La llibreria request">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#afegint-parametres-i-recursos" class="md-nav__link">
    <span class="md-ellipsis">
      Afegint paràmetres i recursos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enviar-parametres" class="md-nav__link">
    <span class="md-ellipsis">
      Enviar paràmetres
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#web-scraping" class="md-nav__link">
    <span class="md-ellipsis">
      Web Scraping
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Web Scraping">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#beautifulsoup" class="md-nav__link">
    <span class="md-ellipsis">
      BeautifulSoup
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BeautifulSoup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#selenuim" class="md-nav__link">
    <span class="md-ellipsis">
      Selenuim
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#beautifulsoup_1" class="md-nav__link">
    <span class="md-ellipsis">
      BeautifulSoup
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BeautifulSoup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#accedir-al-contingut-com-a-text" class="md-nav__link">
    <span class="md-ellipsis">
      Accedir al contingut com a text
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#navegacio-a-partir-dun-element" class="md-nav__link">
    <span class="md-ellipsis">
      Navegació a partir d'un element
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exemple-de-scraping" class="md-nav__link">
    <span class="md-ellipsis">
      Exemple de scraping
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../4.%20Servidors%20amb%20Flask/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4. Servidors amb Flask
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../5.%20Practiques/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5. Pràctiques
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Unitat 5. Programació d'aplicacions d'IA
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Unitat 5. Programació d'aplicacions d'IA
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/01_AzureTextAnalytics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. Azure Text
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/02_FaceDetection/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2. Azure Face
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/03_ComputerVision/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3. Computer Vision
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/04_Practiques/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4. Pràctiques
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Informació general
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Informació general
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../info/guia_didactica/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Guia didàctica
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Taula de continguts">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Taula de continguts
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#el-protocol-htpp" class="md-nav__link">
    <span class="md-ellipsis">
      El protocol HTPP
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#serveis-api-rest" class="md-nav__link">
    <span class="md-ellipsis">
      Serveis API REST
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#consumint-recursos-de-internet-la-llibreria-request" class="md-nav__link">
    <span class="md-ellipsis">
      Consumint recursos de internet. La llibreria request
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Consumint recursos de internet. La llibreria request">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#afegint-parametres-i-recursos" class="md-nav__link">
    <span class="md-ellipsis">
      Afegint paràmetres i recursos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enviar-parametres" class="md-nav__link">
    <span class="md-ellipsis">
      Enviar paràmetres
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#web-scraping" class="md-nav__link">
    <span class="md-ellipsis">
      Web Scraping
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Web Scraping">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#beautifulsoup" class="md-nav__link">
    <span class="md-ellipsis">
      BeautifulSoup
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BeautifulSoup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#selenuim" class="md-nav__link">
    <span class="md-ellipsis">
      Selenuim
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#beautifulsoup_1" class="md-nav__link">
    <span class="md-ellipsis">
      BeautifulSoup
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BeautifulSoup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#accedir-al-contingut-com-a-text" class="md-nav__link">
    <span class="md-ellipsis">
      Accedir al contingut com a text
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#navegacio-a-partir-dun-element" class="md-nav__link">
    <span class="md-ellipsis">
      Navegació a partir d'un element
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exemple-de-scraping" class="md-nav__link">
    <span class="md-ellipsis">
      Exemple de scraping
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>3. Peticions HTTP. API REST</h1>

<h2 id="el-protocol-htpp">El protocol HTPP</h2>
<p>Hui en dia tot el núvol d'aplicacions i la web està gestionat, entre altres pel protocol HTTP i altres serveis que permeten estar interconnectats.</p>
<p>HTTP (Hiper Text Transfer Protocol) es basa en senzilles operacions de sol·licitud/resposta:</p>
<ol>
<li>Un client estableix una connexió amb un servidor i envia un missatge amb les dades de la sol·licitud. Aquesta petició s'anomena <code>request</code> i destaquen 4 tipus de peticions:</li>
<li>GET, per a demanar algun recurs al servidor</li>
<li>POST, per a desar algun recurs al servidor</li>
<li>PUT, per a modificar algun recurs ja existent al resvidor</li>
<li>DELETE, per a esborrar algun recurs</li>
<li>El servidor respon amb un missatge similar, que conté l'estat de l'operació i el seu possible resultat. Aquesta resposta s'anomena <code>response</code>, formada, com hem dit per:</li>
<li>Els possibles estat son un codi que indica el resultat de la petició. Infomració més detallada a la <a href="https://es.wikipedia.org/wiki/Anexo:Códigos_de_estado_HTTP">wikipedia</a><ol>
<li>1XX Respostes informatives</li>
<li>2XX Peticions correctes</li>
<li>3XX Redireccions</li>
<li>4XX Errors provocats pel client</li>
<li>5XX Errors provocats dins del servidor</li>
</ol>
</li>
<li>El recurs sol·licitad. Habitualmente serà una pàgina web (HTML més la hipermèdia), un arxiu JSON amb dades, un arxiu PDF, etc.</li>
</ol>
<h2 id="serveis-api-rest">Serveis API REST</h2>
<p>Anem a definir una API REST de manera molt bàsica per a poder-ho entendre ràpidament:</p>
<ul>
<li>S'anomena un <strong>servei</strong> tot allò que ens pot donar un servidor. Dades, pàgines, arxius, l'hora, etc.</li>
<li>
<p><strong>API</strong> és l'acrònim de <em>Application Programming Interfaces</em> i indica tot allò que ens pot oferir un servidor, així com la sintaxi que hem de fer sevir per a demana-li les coses</p>
<blockquote>
<p>Dins del llenguatges de programació, la API son les llibreries que disposa i com hem de invocar a les funcions de dites llibreries. </p>
</blockquote>
</li>
<li>
<p>Una <strong>API REST</strong> (<em>Representational State Transfer</em>) és un conjunt de regles i convencions arquitectòniques per dissenyar serveis web basats en el protocol HTTP. Cap destacar que REST implica:</p>
</li>
<li>Fer servir HTTP, i per tant identificar la seua API mitjançant:<ul>
<li>Les URL on es demana la petició (ruta al servidor)</li>
<li>El tipus o mètode de la petició (GET, POST, etc.)</li>
</ul>
</li>
<li>Que siga <strong>Stateless</strong> o sense memòria. Una petició serà atesa per ella mateixa, sense recordar res de les anteriors peticions.</li>
<li>Estat Representacional: es refereix a l'estat del recurs demanat en el moment de la petició, i ve expresat en XML o actualment en JSON</li>
<li>Seguretat (amb JWT) i hipermèdia (HAETOAS, amb enllaços als recursos relacionats)</li>
</ul>
<h2 id="consumint-recursos-de-internet-la-llibreria-request">Consumint recursos de internet. La llibreria <code>request</code></h2>
<p>És en aquest apartat on anem a estudiar com fer peticions a recursos de internet, mitjançant les peticions vistes anteriorment amb http. Aquestes peticinos s'engloben dins de la llibreria <code>request</code>. Els recursos poden ser be:</p>
<ul>
<li>Una pàgina web</li>
<li>Una imatge o arxiu ubicat en algun lloc</li>
<li>Una API rest a la que demanarem/enviarem algun recurs</li>
</ul>
<p>El fluxe de treball serà:</p>
<ol>
<li>Composar la URL de destí </li>
<li>Afegir a la petició arguments o paràmetres</li>
<li>Llançar la petició</li>
<li>Arreplegar la resposta (response)</li>
<li>Avaluar el codi d'estat per saber com ha anat</li>
<li>Recuperar el cos de la resposta (JSON, Arxius, HTML, etc..)</li>
</ol>
<details class="example" open="open">
<summary>Petició bàsica amb request</summary>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1">1</a></span>
<span class="normal"><a href="#__codelineno-0-2">2</a></span>
<span class="normal"><a href="#__codelineno-0-3">3</a></span>
<span class="normal"><a href="#__codelineno-0-4">4</a></span>
<span class="normal"><a href="#__codelineno-0-5">5</a></span>
<span class="normal"><a href="#__codelineno-0-6">6</a></span>
<span class="normal"><a href="#__codelineno-0-7">7</a></span>
<span class="normal"><a href="#__codelineno-0-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="kn">import</span> <span class="nn">requests</span>
<a id="__codelineno-0-2" name="__codelineno-0-2"></a>
<a id="__codelineno-0-3" name="__codelineno-0-3"></a><span class="n">resposta</span><span class="o">=</span><span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://swapi.dev/api/films/1/&#39;</span><span class="p">)</span>
<a id="__codelineno-0-4" name="__codelineno-0-4"></a>
<a id="__codelineno-0-5" name="__codelineno-0-5"></a><span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">resposta</span><span class="p">))</span>
<a id="__codelineno-0-6" name="__codelineno-0-6"></a><span class="nb">print</span><span class="p">(</span><span class="n">resposta</span><span class="o">.</span><span class="n">status_code</span><span class="p">)</span>
<a id="__codelineno-0-7" name="__codelineno-0-7"></a><span class="nb">print</span><span class="p">(</span><span class="n">resposta</span><span class="o">.</span><span class="n">headers</span><span class="p">)</span>
<a id="__codelineno-0-8" name="__codelineno-0-8"></a><span class="nb">print</span><span class="p">(</span><span class="n">resposta</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
</code></pre></div></td></tr></table></div>
</details>
<p>Com pot observar-se:</p>
<ul>
<li>Es crea tot a partir del objecte <code>requests</code>. Aquest mètode te tants mètodes com tipus de peticions http, encara que sols veurem les 4 bàsiques. Rep com a paràmetre la url que volem fer la petició.</li>
<li>Ens retorna un objecte de tipus <code>Response</code>, el qual encapsula la resposta del servidor:</li>
<li><code>Response.status_code</code> amb el codi html de com ha anat la petició</li>
<li><code>Response.headers</code> la capçalera en la metainformació de la resposta. Per exemple:
  <div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">JSON</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-1-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-1-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-1-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-1-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-1-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-1-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-1-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-1-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-1-10">10</a></span>
<span class="normal"><a href="#__codelineno-1-11">11</a></span>
<span class="normal"><a href="#__codelineno-1-12">12</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="p">{</span>
<a id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="w">    </span><span class="err">&#39;Server&#39;</span><span class="p">:</span><span class="w"> </span><span class="err">&#39;</span><span class="kc">n</span><span class="err">gi</span><span class="kc">n</span><span class="err">x/</span><span class="mf">1.16.1</span><span class="err">&#39;</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-1-3" name="__codelineno-1-3"></a><span class="w">    </span><span class="err">&#39;Da</span><span class="kc">te</span><span class="err">&#39;</span><span class="p">:</span><span class="w"> </span><span class="err">&#39;Mo</span><span class="kc">n</span><span class="p">,</span><span class="w"> </span><span class="mi">18</span><span class="w"> </span><span class="err">Sep</span><span class="w"> </span><span class="mi">2023</span><span class="w"> </span><span class="mi">08</span><span class="p">:</span><span class="mi">11</span><span class="p">:</span><span class="mi">28</span><span class="w"> </span><span class="err">GMT&#39;</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-1-4" name="__codelineno-1-4"></a><span class="w">    </span><span class="err">&#39;Co</span><span class="kc">ntent</span><span class="mi">-</span><span class="err">Type&#39;</span><span class="p">:</span><span class="w"> </span><span class="err">&#39;applica</span><span class="kc">t</span><span class="err">io</span><span class="kc">n</span><span class="err">/jso</span><span class="kc">n</span><span class="err">&#39;</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-1-5" name="__codelineno-1-5"></a><span class="w">    </span><span class="err">&#39;Tra</span><span class="kc">nsfer</span><span class="mf">-E</span><span class="kc">n</span><span class="err">codi</span><span class="kc">n</span><span class="err">g&#39;</span><span class="p">:</span><span class="w"> </span><span class="err">&#39;chu</span><span class="kc">n</span><span class="err">ked&#39;</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;</span>
<a id="__codelineno-1-6" name="__codelineno-1-6"></a><span class="w">    </span><span class="err">Co</span><span class="kc">nne</span><span class="err">c</span><span class="kc">t</span><span class="err">io</span><span class="kc">n</span><span class="err">&#39;</span><span class="p">:</span><span class="w"> </span><span class="err">&#39;keep</span><span class="mi">-</span><span class="err">alive&#39;</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-1-7" name="__codelineno-1-7"></a><span class="w">    </span><span class="err">&#39;Vary&#39;</span><span class="p">:</span><span class="w"> </span><span class="err">&#39;Accep</span><span class="kc">t</span><span class="p">,</span><span class="w"> </span><span class="err">Cookie&#39;</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-1-8" name="__codelineno-1-8"></a><span class="w">    </span><span class="err">&#39;X</span><span class="mi">-</span><span class="err">Frame</span><span class="mi">-</span><span class="err">Op</span><span class="kc">t</span><span class="err">io</span><span class="kc">ns</span><span class="err">&#39;</span><span class="p">:</span><span class="w"> </span><span class="err">&#39;SAMEORIGIN&#39;</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-1-9" name="__codelineno-1-9"></a><span class="w">    </span><span class="err">&#39;ETag&#39;</span><span class="p">:</span><span class="w"> </span><span class="err">&#39;</span><span class="s2">&quot;5af12d8e740a258e0c502b480ae78f2f&quot;</span><span class="err">&#39;</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-1-10" name="__codelineno-1-10"></a><span class="w">    </span><span class="err">&#39;Allow&#39;</span><span class="p">:</span><span class="w"> </span><span class="err">&#39;GET</span><span class="p">,</span><span class="w"> </span><span class="err">HEAD</span><span class="p">,</span><span class="w"> </span><span class="err">OPTIONS&#39;</span><span class="p">,</span><span class="w"> </span><span class="err">&#39;S</span><span class="kc">tr</span><span class="err">ic</span><span class="kc">t</span><span class="mi">-</span><span class="err">Tra</span><span class="kc">ns</span><span class="err">por</span><span class="kc">t</span><span class="mi">-</span><span class="err">Securi</span><span class="kc">t</span><span class="err">y&#39;</span><span class="p">:</span><span class="w"> </span>
<a id="__codelineno-1-11" name="__codelineno-1-11"></a><span class="w">    </span><span class="err">&#39;max</span><span class="mi">-</span><span class="err">age=</span><span class="mi">15768000</span><span class="err">&#39;</span>
<a id="__codelineno-1-12" name="__codelineno-1-12"></a><span class="w"> </span><span class="p">}</span>
</code></pre></div></td></tr></table></div></li>
<li><code>Response.content</code> el contingut de la resposta, directament en bytes. Si la resposta es text, s'interpreta directament.</li>
<li><code>Response.text</code> la resposta en format text.</li>
<li><code>Response.json()</code>, quan la resposta conté un json, ens permet parsejar-la directament i guarda-la dins d'un objecte:
   <div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">JSON</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1">1</a></span>
<span class="normal"><a href="#__codelineno-2-2">2</a></span>
<span class="normal"><a href="#__codelineno-2-3">3</a></span>
<span class="normal"><a href="#__codelineno-2-4">4</a></span>
<span class="normal"><a href="#__codelineno-2-5">5</a></span>
<span class="normal"><a href="#__codelineno-2-6">6</a></span>
<span class="normal"><a href="#__codelineno-2-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="p">{</span>
<a id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="w">   </span><span class="err">&#39;</span><span class="kc">t</span><span class="err">i</span><span class="kc">tle</span><span class="err">&#39;</span><span class="p">:</span><span class="w"> </span><span class="err">&#39;A</span><span class="w"> </span><span class="err">New</span><span class="w"> </span><span class="err">Hope&#39;</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-2-3" name="__codelineno-2-3"></a><span class="w">   </span><span class="err">&#39;episode_id&#39;</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-2-4" name="__codelineno-2-4"></a><span class="w">   </span><span class="err">&#39;ope</span><span class="kc">n</span><span class="err">i</span><span class="kc">n</span><span class="err">g_crawl&#39;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;It is a period of civil war.\r\nRebel spaceships, striking\r\nfrom a hidden base, have won\r\ntheir first victory against\r\nthe evil Galactic Empire.\r\n\r\nDuring the battle, Rebel\r\nspies managed to steal secret\r\nplans to the Empire&#39;s\r\nultimate weapon, the DEATH\r\nSTAR, an armored space\r\nstation with enough power\r\nto destroy an entire planet.\r\n\r\nPursued by the Empire&#39;s\r\nsinister agents, Princess\r\nLeia races home aboard her\r\nstarship, custodian of the\r\nstolen plans that can save her\r\npeople and restore\r\nfreedom to the galaxy....&quot;</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-2-5" name="__codelineno-2-5"></a><span class="w">   </span><span class="err">&#39;direc</span><span class="kc">t</span><span class="err">or&#39;</span><span class="p">:</span><span class="w"> </span><span class="err">&#39;George</span><span class="w"> </span><span class="err">Lucas&#39;</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-2-6" name="__codelineno-2-6"></a><span class="w">   </span><span class="err">...</span>
<a id="__codelineno-2-7" name="__codelineno-2-7"></a><span class="w">   </span><span class="p">}</span>
</code></pre></div></td></tr></table></div></li>
</ul>
<details class="example" open="open">
<summary>Descarregant una imatge de la web</summary>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-3-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-3-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-3-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-3-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-3-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-3-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-3-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-3-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-3-10">10</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
<a id="__codelineno-3-2" name="__codelineno-3-2"></a><span class="kn">from</span> <span class="nn">io</span> <span class="kn">import</span> <span class="n">BytesIO</span>
<a id="__codelineno-3-3" name="__codelineno-3-3"></a><span class="kn">import</span> <span class="nn">requests</span>
<a id="__codelineno-3-4" name="__codelineno-3-4"></a>
<a id="__codelineno-3-5" name="__codelineno-3-5"></a><span class="n">r</span><span class="o">=</span><span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://upload.wikimedia.org/wikipedia/commons/thumb/c/c3/Python-logo-notext.svg/701px-Python-logo-notext.svg.png&#39;</span><span class="p">)</span>
<a id="__codelineno-3-6" name="__codelineno-3-6"></a>
<a id="__codelineno-3-7" name="__codelineno-3-7"></a><span class="c1"># print(r.json()) Donaria error</span>
<a id="__codelineno-3-8" name="__codelineno-3-8"></a><span class="n">imatge</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">BytesIO</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">content</span><span class="p">))</span>
<a id="__codelineno-3-9" name="__codelineno-3-9"></a><span class="n">imatge</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<a id="__codelineno-3-10" name="__codelineno-3-10"></a><span class="n">imatge</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;Python.png&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
</details>
<p>A l'anterior exemple:</p>
<ul>
<li>La petició <code>get()</code> és a un recurs gràfic.</li>
<li>El content es passem per la classe <code>BytesIO</code> que ens permet tractar-lo com un stream de bytes, el que ens permet passar-ho a:</li>
<li>el mètode <code>open()</code> de la classe <code>Image</code> de la llibreria <code>PIL</code> (Python Image Library), dedicada a la manipulació d'imatges.</li>
<li>La imatge la podem obrir e inclòs guardar-la a un fitxer al nostre sistema. </li>
</ul>
<details class="info" open="open">
<summary>Repte</summary>
<p>Busca a la documentació com implementaries la descarrega d'un fitxer de qualssevol tipus, un pdf o un zip, i implementa-ho</p>
</details>
<h3 id="afegint-parametres-i-recursos">Afegint paràmetres i recursos</h3>
<p>De vegades (i molt sovint) voldrem enviar dades  al servidor que ens aten la petició, per exemple identificar-nos, penjar un arxiu, marcar una compra a la cistella, etc. Existeixen dos maneres bàsiques de enviar eixa informació, per paràmetres o amb el cos de la petició</p>
<h3 id="enviar-parametres">Enviar paràmetres</h3>
<p>Les dades dins dels paràmetres s'envien afegint al recurs que volem les dades a enviar de la forma <code>parametre=valor</code> darrere d'un símbol d'interrogació (<code>?</code>). Cas d'haver més paràmetres, es concatenen amb l'ampersand (<code>&amp;</code>). Per exemple si volem fer un login, la petició seria algo com <code>http://www.elmeuservidor.com/login?user=pepito&amp;password=123456</code>.</p>
<p>La primera solució per a fer-ho així seria composar la url de manera artesanal:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-1">1</a></span>
<span class="normal"><a href="#__codelineno-4-2">2</a></span>
<span class="normal"><a href="#__codelineno-4-3">3</a></span>
<span class="normal"><a href="#__codelineno-4-4">4</a></span>
<span class="normal"><a href="#__codelineno-4-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="n">user</span><span class="o">=</span><span class="s2">&quot;Pepito&quot;</span>
<a id="__codelineno-4-2" name="__codelineno-4-2"></a><span class="n">password</span><span class="o">=</span><span class="s2">&quot;123456&quot;</span>
<a id="__codelineno-4-3" name="__codelineno-4-3"></a><span class="n">url</span><span class="o">=</span><span class="s2">&quot;http://www.elmeuservidor.com/login?user=&quot;</span><span class="o">+</span><span class="n">user</span><span class="o">+</span><span class="s2">&quot;&amp;password=&quot;</span><span class="o">+</span><span class="n">password</span>
<a id="__codelineno-4-4" name="__codelineno-4-4"></a>
<a id="__codelineno-4-5" name="__codelineno-4-5"></a><span class="n">resposta</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<p>La segona solució, recomanable. és fer servir eines pròpies de la llibreria per a elaborar-ho més fàcil:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1">1</a></span>
<span class="normal"><a href="#__codelineno-5-2">2</a></span>
<span class="normal"><a href="#__codelineno-5-3">3</a></span>
<span class="normal"><a href="#__codelineno-5-4">4</a></span>
<span class="normal"><a href="#__codelineno-5-5">5</a></span>
<span class="normal"><a href="#__codelineno-5-6">6</a></span>
<span class="normal"><a href="#__codelineno-5-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="n">dades</span><span class="o">=</span><span class="p">{</span>
<a id="__codelineno-5-2" name="__codelineno-5-2"></a>   <span class="s2">&quot;user&quot;</span><span class="p">:</span><span class="s2">&quot;Pepito&quot;</span>
<a id="__codelineno-5-3" name="__codelineno-5-3"></a>   <span class="s2">&quot;password&quot;</span><span class="p">:</span><span class="s2">&quot;123456&quot;</span>
<a id="__codelineno-5-4" name="__codelineno-5-4"></a><span class="p">}</span>
<a id="__codelineno-5-5" name="__codelineno-5-5"></a><span class="n">url</span><span class="o">=</span><span class="s2">&quot;http://www.elmeuservidor.com/login&quot;</span>
<a id="__codelineno-5-6" name="__codelineno-5-6"></a>
<a id="__codelineno-5-7" name="__codelineno-5-7"></a><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">dades</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<p>Si volem afegir dades, al cos de la petició, de la mateixa manera que es fa amb postman o similar, s'ha de fer canviant la crida:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-6-1">1</a></span>
<span class="normal"><a href="#__codelineno-6-2">2</a></span>
<span class="normal"><a href="#__codelineno-6-3">3</a></span>
<span class="normal"><a href="#__codelineno-6-4">4</a></span>
<span class="normal"><a href="#__codelineno-6-5">5</a></span>
<span class="normal"><a href="#__codelineno-6-6">6</a></span>
<span class="normal"><a href="#__codelineno-6-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="n">dades</span><span class="o">=</span><span class="p">{</span>
<a id="__codelineno-6-2" name="__codelineno-6-2"></a>   <span class="s2">&quot;user&quot;</span><span class="p">:</span><span class="s2">&quot;Pepito&quot;</span>
<a id="__codelineno-6-3" name="__codelineno-6-3"></a>   <span class="s2">&quot;password&quot;</span><span class="p">:</span><span class="s2">&quot;123456&quot;</span>
<a id="__codelineno-6-4" name="__codelineno-6-4"></a><span class="p">}</span>
<a id="__codelineno-6-5" name="__codelineno-6-5"></a><span class="n">url</span><span class="o">=</span><span class="s2">&quot;http://www.elmeuservidor.com/login&quot;</span>
<a id="__codelineno-6-6" name="__codelineno-6-6"></a>
<a id="__codelineno-6-7" name="__codelineno-6-7"></a><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">dades</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<p>Teniu més informació disponible a la pàgina ofical <a href="https://requests.readthedocs.io/en/latest/">https://requests.readthedocs.io/en/latest/</a>.</p>
<h2 id="web-scraping">Web Scraping</h2>
<p>El <strong>web scraping</strong>, o <strong>rascat web</strong> en català, és una tècnica utilitzada per <strong>extreure informació de llocs web</strong> de manera automatitzada. En altres paraules, es tracta de processos automatitzats que naveguen per pàgines web, descarreguen el seu contingut i extreuen dades específiques d'interès. Aquestes dades poden incloure text, imatges, enllaços, preus, puntuacions i molt més, depenent de la naturalesa del lloc web i de la informació que es vulgui obtenir.</p>
<p>El web scraping és una eina valuosa per recopilar dades de la web <strong>quan no es disposa d'un accés directe a una API</strong> (Interfície de Programació d'Aplicacions) o quan es necessita automatitzar la recopilació d'informació. Tot i això, és important fer servir aquesta tècnica amb <strong>responsabilitat</strong> i <strong>respectar els termes d'ús</strong> dels llocs web, ja que <strong>alguns llocs poden prohibir o limitar</strong> l'ús del web scraping per tal de protegir les seves dades i continguts.</p>
<p>Com que necessitem descarregar contingut web, la llibreria <strong>request</strong> estudiat anteriorment casa perfectament per a descarregar els arxius HTML.</p>
<h3 id="beautifulsoup">BeautifulSoup</h3>
<p>Beautiful Soup és una biblioteca de Python que facilita <strong>l'extracció de dades de documents HTML i XML</strong>. Aquesta biblioteca proporciona eines per analitzar i "navegar" pels elements d'un document web, facilitant la tasca d'extreure informació específica. És especialment útil en conjunció amb tècniques de web scraping, ja que <strong>permet accedir als diferents components d'una pàgina web</strong> i extraure el contingut desitjat de manera més eficient.</p>
<p>Per a fer servir aquiesta llibreria, hem de instal·lar-la amb <code>pip install beautifulsoup4</code> o mitjançant <code>conda</code>.
L'estrctura bàsica d'un programa de scrapping és la següent:</p>
<details class="example" open="open">
<summary>Obtenir la sopa</summary>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-7-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-7-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-7-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-7-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-7-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-7-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-7-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-7-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-7-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-7-10">10</a></span>
<span class="normal"><a href="#__codelineno-7-11">11</a></span>
<span class="normal"><a href="#__codelineno-7-12">12</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a>    <span class="kn">import</span> <span class="nn">requests</span>
<a id="__codelineno-7-2" name="__codelineno-7-2"></a>    <span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>
<a id="__codelineno-7-3" name="__codelineno-7-3"></a>
<a id="__codelineno-7-4" name="__codelineno-7-4"></a>    <span class="c1"># URL de la pàgina a estudiar</span>
<a id="__codelineno-7-5" name="__codelineno-7-5"></a>    <span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://www.la_meua_web.es&#39;</span>
<a id="__codelineno-7-6" name="__codelineno-7-6"></a>
<a id="__codelineno-7-7" name="__codelineno-7-7"></a>    <span class="c1"># Fer la sol·licitud HTTP i obtenir el contingut de la pàgina</span>
<a id="__codelineno-7-8" name="__codelineno-7-8"></a>    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<a id="__codelineno-7-9" name="__codelineno-7-9"></a>    <span class="n">content</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">content</span>
<a id="__codelineno-7-10" name="__codelineno-7-10"></a>
<a id="__codelineno-7-11" name="__codelineno-7-11"></a>    <span class="c1"># Crear un objecte BeautifulSoup per analitzar el contingut HTML</span>
<a id="__codelineno-7-12" name="__codelineno-7-12"></a>    <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">content</span><span class="p">,</span> <span class="s1">&#39;html.parser&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
</details>
<blockquote>
<p>Consideracions:</p>
<ul>
<li>La dificultat del Scraping és el veure en quina part de la pàgina està el contingut a extreure</li>
<li>Moltes pàgines tenen mecanismes d'intentar detectar bots o programes de scraping, per això és bona idea el aplicar un user agent (navegador) distint.</li>
</ul>
</blockquote>
<details class="example" open="open">
<summary>Canviar navegador d'orige</summary>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-8-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-8-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-8-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-8-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-8-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-8-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-8-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-8-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-8-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-8-10">10</a></span>
<span class="normal"><a href="#__codelineno-8-11">11</a></span>
<span class="normal"><a href="#__codelineno-8-12">12</a></span>
<span class="normal"><a href="#__codelineno-8-13">13</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="kn">import</span> <span class="nn">requests</span>
<a id="__codelineno-8-2" name="__codelineno-8-2"></a><span class="kn">from</span> <span class="nn">fake_useragent</span> <span class="kn">import</span> <span class="n">UserAgent</span>
<a id="__codelineno-8-3" name="__codelineno-8-3"></a>
<a id="__codelineno-8-4" name="__codelineno-8-4"></a><span class="c1"># Instanciar un objeto UserAgent</span>
<a id="__codelineno-8-5" name="__codelineno-8-5"></a><span class="n">ua</span> <span class="o">=</span> <span class="n">UserAgent</span><span class="p">()</span>
<a id="__codelineno-8-6" name="__codelineno-8-6"></a>
<a id="__codelineno-8-7" name="__codelineno-8-7"></a><span class="c1"># Realizar varias solicitudes con User-Agents aleatorios</span>
<a id="__codelineno-8-8" name="__codelineno-8-8"></a><span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
<a id="__codelineno-8-9" name="__codelineno-8-9"></a>      <span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;User-Agent&#39;</span><span class="p">:</span> <span class="n">ua</span><span class="o">.</span><span class="n">random</span><span class="p">}</span>
<a id="__codelineno-8-10" name="__codelineno-8-10"></a>      <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;User-Agent: </span><span class="si">{</span><span class="n">headers</span><span class="p">[</span><span class="s1">&#39;User-Agent&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-8-11" name="__codelineno-8-11"></a>
<a id="__codelineno-8-12" name="__codelineno-8-12"></a>      <span class="c1"># Petició des d&#39;aquest user-agent</span>
<a id="__codelineno-8-13" name="__codelineno-8-13"></a>      <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
</details>
<p>Això generarà alguna cosa com:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-9-1">1</a></span>
<span class="normal"><a href="#__codelineno-9-2">2</a></span>
<span class="normal"><a href="#__codelineno-9-3">3</a></span>
<span class="normal"><a href="#__codelineno-9-4">4</a></span>
<span class="normal"><a href="#__codelineno-9-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1"></a>User-Agent:<span class="w"> </span>Mozilla/5.0<span class="w"> </span><span class="o">(</span>Windows<span class="w"> </span>NT<span class="w"> </span><span class="m">10</span>.0<span class="p">;</span><span class="w"> </span>Win64<span class="p">;</span><span class="w"> </span>x64<span class="o">)</span><span class="w"> </span>AppleWebKit/537.36<span class="w"> </span><span class="o">(</span>KHTML,<span class="w"> </span>like<span class="w"> </span>Gecko<span class="o">)</span><span class="w"> </span>Chrome/112.0.0.0<span class="w"> </span>Safari/537.36
<a id="__codelineno-9-2" name="__codelineno-9-2"></a>User-Agent:<span class="w"> </span>Mozilla/5.0<span class="w"> </span><span class="o">(</span>X11<span class="p">;</span><span class="w"> </span>Linux<span class="w"> </span>x86_64<span class="p">;</span><span class="w"> </span>rv:109.0<span class="o">)</span><span class="w"> </span>Gecko/20100101<span class="w"> </span>Firefox/116.0
<a id="__codelineno-9-3" name="__codelineno-9-3"></a>User-Agent:<span class="w"> </span>Mozilla/5.0<span class="w"> </span><span class="o">(</span>X11<span class="p">;</span><span class="w"> </span>Ubuntu<span class="p">;</span><span class="w"> </span>Linux<span class="w"> </span>x86_64<span class="p">;</span><span class="w"> </span>rv:109.0<span class="o">)</span><span class="w"> </span>Gecko/20100101<span class="w"> </span>Firefox/116.0
<a id="__codelineno-9-4" name="__codelineno-9-4"></a>User-Agent:<span class="w"> </span>Mozilla/5.0<span class="w"> </span><span class="o">(</span>Macintosh<span class="p">;</span><span class="w"> </span>Intel<span class="w"> </span>Mac<span class="w"> </span>OS<span class="w"> </span>X<span class="w"> </span>10_15_7<span class="o">)</span><span class="w"> </span>AppleWebKit/605.1.15<span class="w"> </span><span class="o">(</span>KHTML,<span class="w"> </span>like<span class="w"> </span>Gecko<span class="o">)</span><span class="w"> </span>Version/17.0<span class="w"> </span>Safari/605.1.15
<a id="__codelineno-9-5" name="__codelineno-9-5"></a>User-Agent:<span class="w"> </span>Mozilla/5.0<span class="w"> </span><span class="o">(</span>X11<span class="p">;</span><span class="w"> </span>Linux<span class="w"> </span>x86_64<span class="o">)</span><span class="w"> </span>AppleWebKit/537.36<span class="w"> </span><span class="o">(</span>KHTML,<span class="w"> </span>like<span class="w"> </span>Gecko<span class="o">)</span><span class="w"> </span>Chrome/115.0.0.0<span class="w"> </span>Safari/537.36
</code></pre></div></td></tr></table></div>
<p>Tot i que podem trobar tota la documentació a <a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/">https://www.crummy.com/software/BeautifulSoup/bs4/doc/</a>, anem a veure els principals elements que podem trobar per a accedir a les etiquetes d'una pàgina.</p>
<div class="admonition tip">
<p class="admonition-title">Atenció</p>
<p>El més important és recordar:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code>- La estructura del DOM (**Documento Object Model**), fortament jerarquitzada (elements que contenen elements, amb estructura de pares-fills i germans)
- Cada element és d&#39;un tipus, definit per la etiqueta del mateix. A banda de la etiqueta, podem veure de quina classe és (atribut `class=xxx`)
- Pot identificar-se elements accedint amb l&#39;identificador del mateix, que si es compleix la especificaicó del HTML, deu ser únic (`id=yyy`).
</code></pre></div></td></tr></table></div>
</div>
<div class="admonition warning">
<p class="admonition-title"><strong>Atenció</strong></p>
<p>Hem partit d'un exemple al qual ens baixem l'HTML de la pàgina web a fer scrapping, però ara tenim que tindre en consideració el següent. El que mostra el navegador no sempre és el HTML, sinò que moltes vegades aquest HTML font s'amplia amb l'execució de JAvascript</p>
<p>Si descarreguem amb <code>request</code> la pàgina web tindrem el HTML pre-javascript. i a nosaltres ens interessa el HTML post-javascript, ja que molta informació pot ser el resultat de l'execució de javascript, amb consultes a BBDD o similar</p>
</div>
<h4 id="selenuim">Selenuim</h4>
<p>Selènium <a href="https://www.selenium.dev">https://www.selenium.dev</a> és una potent suite d'eines per a la <strong>automatització de navegadors web</strong>. Dissenyat inicialment per a testing automatitzat de pàgines web, Selenium s'ha convertit en una eina essencial per als desenvolupadors i testers que necessiten interactuar amb navegadors web mitjançant codi.</p>
<p>Amb Selenium, els usuaris poden escriure scripts en diversos llenguatges de programació com Python, Java, C#, entre d'altres, per a realitzar <strong>tasques automatitzades a través de l'interfície gràfica d'un navegador web</strong>. Això inclou clicar en enllaços, emplenar formularis, navegar entre pàgines i molt més.</p>
<p>Selenium suporta diversos navegadors com Chrome, Firefox, Safari i Edge, el que fa que sigui una eina versàtil per a la creació de proves automatitzades o per a la realització de tasques repetitives en l'entorn web.</p>
<p>A més de la seva utilització en testing, Selenium també és àmpliament utilitzat en web scraping, monitoratge de pàgines web, i altres tasques d'automatització relacionades amb la interacció amb navegadors. La seva naturalesa flexible i la capacitat de controlar navegadors en temps real fan de Selenium una eina imprescindible per als desenvolupadors i professionals del control de qualitat que treballen amb aplicacions web.</p>
<p>Per fer la instal·lació de selenium <code>conda install -c conda-forge selenium</code>.</p>
<p>Si recordes hem arribat ací perquè volem la versió definitiva del HTML (post javascript). Llavors no ens queda altra que <em>navegar</em> per aquella pàgina que volem scrapejar, i Selenium ens permet emular dita navegació. </p>
<div class="admonition example">
<p class="admonition-title">Selecció del navegador</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-10-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-10-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-10-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-10-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-10-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-10-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-10-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-10-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-10-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-10-10">10</a></span>
<span class="normal"><a href="#__codelineno-10-11">11</a></span>
<span class="normal"><a href="#__codelineno-10-12">12</a></span>
<span class="normal"><a href="#__codelineno-10-13">13</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1"></a><span class="kn">from</span> <span class="nn">selenium</span> <span class="kn">import</span> <span class="n">webdriver</span>
<a id="__codelineno-10-2" name="__codelineno-10-2"></a>
<a id="__codelineno-10-3" name="__codelineno-10-3"></a>
<a id="__codelineno-10-4" name="__codelineno-10-4"></a><span class="k">def</span> <span class="nf">getBrowser</span><span class="p">():</span>
<a id="__codelineno-10-5" name="__codelineno-10-5"></a>   <span class="n">browser</span><span class="o">=</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<a id="__codelineno-10-6" name="__codelineno-10-6"></a>   <span class="k">if</span> <span class="n">browser</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
<a id="__codelineno-10-7" name="__codelineno-10-7"></a>      <span class="n">driver</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Edge</span><span class="p">()</span>
<a id="__codelineno-10-8" name="__codelineno-10-8"></a>   <span class="k">elif</span> <span class="n">browser</span><span class="o">==</span><span class="mi">2</span><span class="p">:</span>
<a id="__codelineno-10-9" name="__codelineno-10-9"></a>      <span class="n">driver</span><span class="o">=</span><span class="n">webdriver</span><span class="o">.</span><span class="n">Chrome</span><span class="p">()</span>
<a id="__codelineno-10-10" name="__codelineno-10-10"></a>   <span class="k">elif</span> <span class="n">browser</span><span class="o">==</span><span class="mi">3</span><span class="p">:</span>
<a id="__codelineno-10-11" name="__codelineno-10-11"></a>      <span class="n">driver</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Safari</span><span class="p">()</span>
<a id="__codelineno-10-12" name="__codelineno-10-12"></a>
<a id="__codelineno-10-13" name="__codelineno-10-13"></a>   <span class="k">return</span> <span class="n">driver</span>
</code></pre></div></td></tr></table></div>
</div>
<p>Aquest codi ens permet seleccionar un navegador distint (o no) cada cop que el demanem. Això és adequat per a evitar mecanismes anti-scrapping. També podrien ser canviar les IP d'orige, per a semblar consexions de llocs distints.</p>
<p>Un cop sel·leccionat el navegador, simplement deurem d'alçar la instància del mateix, dir-li la pàgina on volem a nar i revisar-la tota (anant de dalt a baix...)</p>
<div class="admonition example">
<p class="admonition-title">Navegació per la pàgina www.marca.com</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-11-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-11-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-11-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-11-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-11-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-11-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-11-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-11-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-11-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-11-10">10</a></span>
<span class="normal"><a href="#__codelineno-11-11">11</a></span>
<span class="normal"><a href="#__codelineno-11-12">12</a></span>
<span class="normal"><a href="#__codelineno-11-13">13</a></span>
<span class="normal"><a href="#__codelineno-11-14">14</a></span>
<span class="normal"><a href="#__codelineno-11-15">15</a></span>
<span class="normal"><a href="#__codelineno-11-16">16</a></span>
<span class="normal"><a href="#__codelineno-11-17">17</a></span>
<span class="normal"><a href="#__codelineno-11-18">18</a></span>
<span class="normal"><a href="#__codelineno-11-19">19</a></span>
<span class="normal"><a href="#__codelineno-11-20">20</a></span>
<span class="normal"><a href="#__codelineno-11-21">21</a></span>
<span class="normal"><a href="#__codelineno-11-22">22</a></span>
<span class="normal"><a href="#__codelineno-11-23">23</a></span>
<span class="normal"><a href="#__codelineno-11-24">24</a></span>
<span class="normal"><a href="#__codelineno-11-25">25</a></span>
<span class="normal"><a href="#__codelineno-11-26">26</a></span>
<span class="normal"><a href="#__codelineno-11-27">27</a></span>
<span class="normal"><a href="#__codelineno-11-28">28</a></span>
<span class="normal"><a href="#__codelineno-11-29">29</a></span>
<span class="normal"><a href="#__codelineno-11-30">30</a></span>
<span class="normal"><a href="#__codelineno-11-31">31</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1"></a><span class="n">driver</span> <span class="o">=</span> <span class="n">getBrowser</span><span class="p">()</span>         <span class="c1"># seleccionem un navegador</span>
<a id="__codelineno-11-2" name="__codelineno-11-2"></a><span class="n">driver</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;www.marca.com&quot;</span><span class="p">)</span>   <span class="c1"># indiquem la web a visitar</span>
<a id="__codelineno-11-3" name="__codelineno-11-3"></a><span class="n">driver</span><span class="o">.</span><span class="n">maximize_window</span><span class="p">()</span>      <span class="c1"># (opcional) maximitzem</span>
<a id="__codelineno-11-4" name="__codelineno-11-4"></a><span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>               <span class="c1"># esperem mig segon</span>
<a id="__codelineno-11-5" name="__codelineno-11-5"></a>
<a id="__codelineno-11-6" name="__codelineno-11-6"></a><span class="c1"># anem fent scroll fins al final de la web</span>
<a id="__codelineno-11-7" name="__codelineno-11-7"></a><span class="nb">iter</span><span class="o">=</span><span class="mi">1</span>
<a id="__codelineno-11-8" name="__codelineno-11-8"></a><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-11-9" name="__codelineno-11-9"></a>   <span class="c1"># Què ens queda fins arribar baix de tot?</span>
<a id="__codelineno-11-10" name="__codelineno-11-10"></a>   <span class="n">scrollHeight</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">execute_script</span><span class="p">(</span><span class="s2">&quot;return document.documentElement.scrollHeight&quot;</span><span class="p">)</span>
<a id="__codelineno-11-11" name="__codelineno-11-11"></a>   <span class="c1"># aleatori el bot cap avall, multiplicat per la iteració actual</span>
<a id="__codelineno-11-12" name="__codelineno-11-12"></a>   <span class="n">height</span><span class="o">=</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span><span class="mi">400</span><span class="p">)</span><span class="o">*</span><span class="nb">iter</span>
<a id="__codelineno-11-13" name="__codelineno-11-13"></a>   <span class="c1"># Ens situem en dita posició</span>
<a id="__codelineno-11-14" name="__codelineno-11-14"></a>   <span class="n">driver</span><span class="o">.</span><span class="n">execute_script</span><span class="p">(</span><span class="s2">&quot;window.scrollTo(0, &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">Height</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;);&quot;</span><span class="p">)</span>
<a id="__codelineno-11-15" name="__codelineno-11-15"></a>
<a id="__codelineno-11-16" name="__codelineno-11-16"></a>   <span class="c1"># Si ja hem arribat al final trenquem el bucle i eixim</span>
<a id="__codelineno-11-17" name="__codelineno-11-17"></a>   <span class="k">if</span> <span class="n">height</span> <span class="o">&gt;</span> <span class="n">scrollHeight</span><span class="p">:</span>
<a id="__codelineno-11-18" name="__codelineno-11-18"></a>      <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;End of page&#39;</span><span class="p">)</span>
<a id="__codelineno-11-19" name="__codelineno-11-19"></a>      <span class="k">break</span>
<a id="__codelineno-11-20" name="__codelineno-11-20"></a>   <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
<a id="__codelineno-11-21" name="__codelineno-11-21"></a>   <span class="nb">iter</span><span class="o">+=</span><span class="mi">1</span>
<a id="__codelineno-11-22" name="__codelineno-11-22"></a>
<a id="__codelineno-11-23" name="__codelineno-11-23"></a>
<a id="__codelineno-11-24" name="__codelineno-11-24"></a><span class="c1"># recuperem el interior del cos, quedant-nos amb el HTML</span>
<a id="__codelineno-11-25" name="__codelineno-11-25"></a><span class="n">body</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">execute_script</span><span class="p">(</span><span class="s2">&quot;return document.body&quot;</span><span class="p">)</span>
<a id="__codelineno-11-26" name="__codelineno-11-26"></a><span class="n">source</span> <span class="o">=</span> <span class="n">body</span><span class="o">.</span><span class="n">get_attribute</span><span class="p">(</span><span class="s1">&#39;innerHTML&#39;</span><span class="p">)</span>
<a id="__codelineno-11-27" name="__codelineno-11-27"></a>
<a id="__codelineno-11-28" name="__codelineno-11-28"></a><span class="c1"># creem el DOM per a processar-lo amb BeautifulSoup</span>
<a id="__codelineno-11-29" name="__codelineno-11-29"></a><span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="s2">&quot;html.parser&quot;</span><span class="p">)</span>
<a id="__codelineno-11-30" name="__codelineno-11-30"></a>
<a id="__codelineno-11-31" name="__codelineno-11-31"></a><span class="c1"># Fer scraping amb la &quot;sopa&quot;</span>
</code></pre></div></td></tr></table></div>
</div>
<h3 id="beautifulsoup_1">BeautifulSoup</h3>
<p>Anem a veure els mètodes més important que farem servir de la llibreria BeautifulSoup un cop recuperat l'HTML i parsejat. Partim una mica del següent DOM per a l'explicació</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">HTML</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-12-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-12-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-12-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-12-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-12-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-12-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-12-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-12-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-12-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-12-10">10</a></span>
<span class="normal"><a href="#__codelineno-12-11">11</a></span>
<span class="normal"><a href="#__codelineno-12-12">12</a></span>
<span class="normal"><a href="#__codelineno-12-13">13</a></span>
<span class="normal"><a href="#__codelineno-12-14">14</a></span>
<span class="normal"><a href="#__codelineno-12-15">15</a></span>
<span class="normal"><a href="#__codelineno-12-16">16</a></span>
<span class="normal"><a href="#__codelineno-12-17">17</a></span>
<span class="normal"><a href="#__codelineno-12-18">18</a></span>
<span class="normal"><a href="#__codelineno-12-19">19</a></span>
<span class="normal"><a href="#__codelineno-12-20">20</a></span>
<span class="normal"><a href="#__codelineno-12-21">21</a></span>
<span class="normal"><a href="#__codelineno-12-22">22</a></span>
<span class="normal"><a href="#__codelineno-12-23">23</a></span>
<span class="normal"><a href="#__codelineno-12-24">24</a></span>
<span class="normal"><a href="#__codelineno-12-25">25</a></span>
<span class="normal"><a href="#__codelineno-12-26">26</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1"></a><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
<a id="__codelineno-12-2" name="__codelineno-12-2"></a>    <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Just testing<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
<a id="__codelineno-12-3" name="__codelineno-12-3"></a>    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;block&quot;</span><span class="p">&gt;</span>
<a id="__codelineno-12-4" name="__codelineno-12-4"></a>      <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span>Some links<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
<a id="__codelineno-12-5" name="__codelineno-12-5"></a>      <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>Hi there!<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<a id="__codelineno-12-6" name="__codelineno-12-6"></a>      <span class="p">&lt;</span><span class="nt">ul</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;data&quot;</span><span class="p">&gt;</span>
<a id="__codelineno-12-7" name="__codelineno-12-7"></a>        <span class="p">&lt;</span><span class="nt">li</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;blue&quot;</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;https://example1.com&quot;</span><span class="p">&gt;</span>Example 1<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
<a id="__codelineno-12-8" name="__codelineno-12-8"></a>        <span class="p">&lt;</span><span class="nt">li</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;red&quot;</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;https://example2.com&quot;</span><span class="p">&gt;</span>Example 2<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
<a id="__codelineno-12-9" name="__codelineno-12-9"></a>        <span class="p">&lt;</span><span class="nt">li</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;gold&quot;</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;https://example3.com&quot;</span><span class="p">&gt;</span>Example 3<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
<a id="__codelineno-12-10" name="__codelineno-12-10"></a>      <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
<a id="__codelineno-12-11" name="__codelineno-12-11"></a>    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<a id="__codelineno-12-12" name="__codelineno-12-12"></a>    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;block&quot;</span><span class="p">&gt;</span>
<a id="__codelineno-12-13" name="__codelineno-12-13"></a>      <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span>Formulario<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
<a id="__codelineno-12-14" name="__codelineno-12-14"></a>      <span class="p">&lt;</span><span class="nt">form</span> <span class="na">action</span><span class="o">=</span><span class="s">&quot;&quot;</span> <span class="na">method</span><span class="o">=</span><span class="s">&quot;post&quot;</span><span class="p">&gt;</span>
<a id="__codelineno-12-15" name="__codelineno-12-15"></a>        <span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">&quot;POST-name&quot;</span><span class="p">&gt;</span>Nombre:<span class="p">&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<a id="__codelineno-12-16" name="__codelineno-12-16"></a>        <span class="p">&lt;</span><span class="nt">input</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;POST-name&quot;</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;name&quot;</span><span class="p">&gt;</span>
<a id="__codelineno-12-17" name="__codelineno-12-17"></a>        <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;submit&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;Save&quot;</span><span class="p">&gt;</span>
<a id="__codelineno-12-18" name="__codelineno-12-18"></a>      <span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
<a id="__codelineno-12-19" name="__codelineno-12-19"></a>    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<a id="__codelineno-12-20" name="__codelineno-12-20"></a>    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;footer&quot;</span><span class="p">&gt;</span>
<a id="__codelineno-12-21" name="__codelineno-12-21"></a>      This is the footer
<a id="__codelineno-12-22" name="__codelineno-12-22"></a>      <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;inline&quot;</span><span class="p">&gt;&lt;</span><span class="nt">p</span><span class="p">&gt;</span>This is span 1<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
<a id="__codelineno-12-23" name="__codelineno-12-23"></a>      <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;inline&quot;</span><span class="p">&gt;&lt;</span><span class="nt">p</span><span class="p">&gt;</span>This is span 2<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
<a id="__codelineno-12-24" name="__codelineno-12-24"></a>      <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;inline&quot;</span><span class="p">&gt;&lt;</span><span class="nt">p</span><span class="p">&gt;</span>This is span 2<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
<a id="__codelineno-12-25" name="__codelineno-12-25"></a>    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<a id="__codelineno-12-26" name="__codelineno-12-26"></a><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</code></pre></div></td></tr></table></div>
<p>Observem que cada element conté:
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">HTML</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-13-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1"></a><span class="p">&lt;</span><span class="nt">etiqueta</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;classe&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;idETQ&quot;</span> <span class="na">atr1</span><span class="o">=</span><span class="s">valor1</span> <span class="na">atr2</span><span class="o">=</span><span class="s">valor2</span> <span class="p">&gt;</span> text <span class="p">&lt;/</span><span class="nt">etiqueta</span><span class="p">&gt;</span>
</code></pre></div></td></tr></table></div></p>
<p>i podem buscar-los com segueix:</p>
<ul>
<li><strong>Localitazar elements</strong> <code>soup.find_all('etiqueta')</code>. Retorna tots els elements del tipus d'etiqueta indicat. Per exemple <code>soup.find_all('li')</code> tornarà tots els elements de la llista.</li>
<li>
<p><strong>Localitazar elements d'una classe</strong>:</p>
</li>
<li>
<p><code>soup.find_all('etiqueta',class_='classe')</code>. Torna els elements de les etiquetes indicades d'una certa classe</p>
</li>
<li><code>soup.find_all(class_='classe')</code>. Torna els elements indicades d'una certa classe, podent ser de distint tipus d'etiqueta</li>
<li><strong>Localitzar un element identificat</strong> <code>soup.find_all('etiqueta',id='identificacor')</code></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Atenció</p>
<p>Tenir en compte:</p>
<ul>
<li>Els mètodes <code>find_all()</code> retornent un conjunt d'elements (buit o no) </li>
<li>Els mètode <code>find</code> retorna:<ul>
<li>None si no troba res (no existeix)</li>
<li>Un element, quan per exemple busquem per identificador, i el troba</li>
<li>El primer element en cas de trobar-ne diversos.</li>
</ul>
</li>
</ul>
</div>
<div class="admonition warning">
<p class="admonition-title">Espai a les búsquede</p>
<p>Tenir en compte que els mètodes <code>find</code> i <code>find_all()</code> efectuen la búsqueda a l'interior del element des del qual busquem:</p>
<ul>
<li><code>soup.find_all('li')</code> retornarà tots els elements que hi han al document, ja que busquem desde l'inici del DOM</li>
<li><code>element.find_all('div')</code> buscarà sols dins de cada element.</li>
</ul>
</div>
<p>Un cop ja tenim localitzat un element podem accedir, des d'ell a tot el següent. Suposem que el tenim referenciat amb la variable <code>elem</code>:</p>
<ul>
<li><strong>Tipus d'element o tag</strong> → <code>elem.name</code>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-14-1">1</a></span>
<span class="normal"><a href="#__codelineno-14-2">2</a></span>
<span class="normal"><a href="#__codelineno-14-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1"></a><span class="n">elem</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;ul&#39;</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;data&#39;</span><span class="p">)</span>
<a id="__codelineno-14-2" name="__codelineno-14-2"></a><span class="n">elem</span><span class="o">.</span><span class="n">name</span>
<a id="__codelineno-14-3" name="__codelineno-14-3"></a><span class="s1">&#39;ul&#39;</span>
</code></pre></div></td></tr></table></div></li>
<li>Accedir a característiques o atributs d'ell → Una etiqueta pot tenir un llistat d'atributs o característiques. Podem accedir a ells com si d'un diccionari es tratara <code>elem[atribut]</code>:</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-15-1">1</a></span>
<span class="normal"><a href="#__codelineno-15-2">2</a></span>
<span class="normal"><a href="#__codelineno-15-3">3</a></span>
<span class="normal"><a href="#__codelineno-15-4">4</a></span>
<span class="normal"><a href="#__codelineno-15-5">5</a></span>
<span class="normal"><a href="#__codelineno-15-6">6</a></span>
<span class="normal"><a href="#__codelineno-15-7">7</a></span>
<span class="normal"><a href="#__codelineno-15-8">8</a></span>
<span class="normal"><a href="#__codelineno-15-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1"></a><span class="n">elem</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;input&#39;</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;POST-name&#39;</span><span class="p">)</span>
<a id="__codelineno-15-2" name="__codelineno-15-2"></a>
<a id="__codelineno-15-3" name="__codelineno-15-3"></a><span class="c1"># elem és &lt;input id=&quot;POST-name&quot; name=&quot;melibea&quot; type=&quot;json&quot;/&gt;</span>
<a id="__codelineno-15-4" name="__codelineno-15-4"></a>
<a id="__codelineno-15-5" name="__codelineno-15-5"></a><span class="n">elem</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span>     <span class="c1"># retorna &#39;POST-name&#39;</span>
<a id="__codelineno-15-6" name="__codelineno-15-6"></a>
<a id="__codelineno-15-7" name="__codelineno-15-7"></a><span class="n">elem</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>   <span class="c1"># retorna &#39;melibea&#39;</span>
<a id="__codelineno-15-8" name="__codelineno-15-8"></a>
<a id="__codelineno-15-9" name="__codelineno-15-9"></a><span class="n">elem</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span>   <span class="c1"># retorn &#39;json&#39;</span>
</code></pre></div></td></tr></table></div>
<p>També podem recuperar-los tots amb <code>elem.attrs</code>:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-16-1">1</a></span>
<span class="normal"><a href="#__codelineno-16-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1"></a><span class="n">elem</span><span class="o">.</span><span class="n">attrs</span>
<a id="__codelineno-16-2" name="__codelineno-16-2"></a><span class="p">{</span><span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;POST-name&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;json&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;melibea&#39;</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h4 id="accedir-al-contingut-com-a-text">Accedir al contingut com a text</h4>
<p>El contingut textual, per entendre-ho, ha de diferenciar-se que podem diferenciar entre els següents tipus d'elements:</p>
<ul>
<li>Elements que contenen sols una línea de text
 <div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">XML</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-17-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1"></a><span class="nt">&lt;elem&gt;</span>Contingut<span class="w"> </span>textual<span class="nt">&lt;/eleme&gt;</span>
</code></pre></div></td></tr></table></div></li>
<li>
<p>Elements que contenen altres elements:
 <div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">XML</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-18-1">1</a></span>
<span class="normal"><a href="#__codelineno-18-2">2</a></span>
<span class="normal"><a href="#__codelineno-18-3">3</a></span>
<span class="normal"><a href="#__codelineno-18-4">4</a></span>
<span class="normal"><a href="#__codelineno-18-5">5</a></span>
<span class="normal"><a href="#__codelineno-18-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1"></a><span class="nt">&lt;div</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;footer&quot;</span><span class="nt">&gt;</span>
<a id="__codelineno-18-2" name="__codelineno-18-2"></a>Peu<span class="w"> </span>de<span class="w"> </span>la<span class="w"> </span>pàgina
<a id="__codelineno-18-3" name="__codelineno-18-3"></a><span class="w">   </span><span class="nt">&lt;span</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;inline&quot;</span><span class="nt">&gt;&lt;p&gt;</span>This<span class="w"> </span>is<span class="w"> </span>span<span class="w"> </span>1<span class="nt">&lt;/p&gt;&lt;/span&gt;</span>
<a id="__codelineno-18-4" name="__codelineno-18-4"></a><span class="w">   </span><span class="nt">&lt;span</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;inline&quot;</span><span class="nt">&gt;&lt;p&gt;</span>This<span class="w"> </span>is<span class="w"> </span>span<span class="w"> </span>2<span class="nt">&lt;/p&gt;&lt;/span&gt;</span>
<a id="__codelineno-18-5" name="__codelineno-18-5"></a><span class="w">   </span><span class="nt">&lt;span</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;inline&quot;</span><span class="nt">&gt;&lt;p&gt;</span>This<span class="w"> </span>is<span class="w"> </span>span<span class="w"> </span>2<span class="nt">&lt;/p&gt;&lt;/span&gt;</span>
<a id="__codelineno-18-6" name="__codelineno-18-6"></a><span class="nt">&lt;/div&gt;</span>
</code></pre></div></td></tr></table></div>
Tenim diverses opcions per a recuperar contingut:</p>
</li>
<li>
<p><code>elem.text</code> → retorna un string amb tot el contingut textual. Apareixeran els bots de linia si els elements d'on extraguem el text estan en linies diferents, inclòs sagnats. Segons els tipus anteriors tindriem:</p>
<p><code>Contingut textual</code></p>
<p>o be </p>
<p><code>'\n      Peu de la pàgina\n      This is span 1\nThis is span 2\nThis is span 2\n'</code></p>
</li>
<li>
<p><code>elem.strings</code> → Retorna un llistat (array) amb els elements textuals, <strong>incloses bots de linia i blancs</strong>. Segons els tipus anteriors tindriem:</p>
<p><code>['Contingut textual']</code></p>
<p>o be</p>
<p><code>['\n      This is the footer\n      ',
   'This is span 1',
   '\n',
   'This is span 2',
   '\n',
   'This is span 2',
   '\n']</code></p>
</li>
<li>
<p><code>elem.stripped_strings</code>  → Retorna un llistat (array) amb els elements textuals, <strong>sense bots de linia i blancs</strong>. Segons els tipus anteriors tindriem:</p>
<p><code>['Contingut textual']</code></p>
<p>o be</p>
<p><code>['This is the footer','This is span 1','This is span 2','This is span 2']</code>  </p>
</li>
<li>
<p><code>elem.string</code> → retorna sols una cadena, quan l'element conté sols un únic element textual. Cas contrari (buida o més d'una) no retorna res</p>
</li>
</ul>
<h4 id="navegacio-a-partir-dun-element">Navegació a partir d'un element</h4>
<p><center></p>
<table>
<thead>
<tr>
<th>Acció</th>
<th>funció</th>
</tr>
</thead>
<tbody>
<tr>
<td>Contigut</td>
<td><code>elem.contents</code></td>
</tr>
<tr>
<td>Contingut iterable</td>
<td><code>elem.children</code></td>
</tr>
<tr>
<td>Accedir al pare del element</td>
<td><code>elem.parent</code></td>
</tr>
<tr>
<td>Llista amb tots els pares</td>
<td><code>elem.parents</code></td>
</tr>
<tr>
<td>El següent germa (dins d'element)</td>
<td><code>elem.next_sibling</code></td>
</tr>
<tr>
<td>Iterable amb els següents germans</td>
<td><code>elem.next_siblings</code></td>
</tr>
<tr>
<td>L'anterior germa (dins d'element)</td>
<td><code>elem.previous_sibling</code></td>
</tr>
<tr>
<td>Iterable amb els anteriors germans</td>
<td><code>elem.previous_siblings</code></td>
</tr>
<tr>
<td>Següent element (germà o no)</td>
<td><code>elem.next_element</code></td>
</tr>
<tr>
<td>Anterior element (germà o no)</td>
<td><code>elem.previous</code></td>
</tr>
</tbody>
</table>
<p></center></p>
<h3 id="exemple-de-scraping">Exemple de scraping</h3>
<p>Primer que res hem d'analitzar el contingut de la pàgina web. A l'exemple anem a estudiar la web <code>whatcar.com</code>, que fa anàlisi de cotxes. Dins de la web, podem accedir a la pestanya de reviews, i ens trobem això:</p>
<p><center><img alt="Contingut de la web" src="../img/Scrap01.png" width="75%" /></center></p>
<p>Sembla que hi ha un enllaç per a cada marca. Per veure el  tipus d'element, hem de fer una tasca d'anàlisi del codi font, mitjançant les eines de desenvolupador. Llavors ens trobem que:</p>
<p><center><img alt="Contingut real de la web" src="../img/Scrap02.png" width="95%" /></center></p>
<ul>
<li>Per a cada marca que s'analitza està dins d'etiquetes <code>&lt;a class="FragmentReviewsMake-makeContainer-d9f354b1" ...&gt;</code></li>
<li>Dins de cada marka hi ha un link a la pàgina de cada marca <code>&lt;a href='...'&gt;</code></li>
</ul>
<div class="admonition success">
<p class="admonition-title">Arreplegant els links de les marques</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Python</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-19-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-19-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-19-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-19-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-19-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-19-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-19-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-19-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-19-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-19-10">10</a></span>
<span class="normal"><a href="#__codelineno-19-11">11</a></span>
<span class="normal"><a href="#__codelineno-19-12">12</a></span>
<span class="normal"><a href="#__codelineno-19-13">13</a></span>
<span class="normal"><a href="#__codelineno-19-14">14</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1"></a><span class="n">base_url</span><span class="o">=</span><span class="s2">&quot;https://www.whatcar.com&quot;</span>
<a id="__codelineno-19-2" name="__codelineno-19-2"></a><span class="n">page</span><span class="o">=</span><span class="s2">&quot;/reviews&quot;</span>
<a id="__codelineno-19-3" name="__codelineno-19-3"></a>
<a id="__codelineno-19-4" name="__codelineno-19-4"></a><span class="n">soup</span><span class="o">=</span><span class="n">get_soup_from_webPage</span><span class="p">(</span><span class="n">base_url</span><span class="o">+</span><span class="n">page</span><span class="p">)</span>
<a id="__codelineno-19-5" name="__codelineno-19-5"></a>
<a id="__codelineno-19-6" name="__codelineno-19-6"></a><span class="n">class_marca</span><span class="o">=</span><span class="s1">&#39;FragmentReviewsMake-makeContainer-d9f354b1&#39;</span>
<a id="__codelineno-19-7" name="__codelineno-19-7"></a>
<a id="__codelineno-19-8" name="__codelineno-19-8"></a><span class="n">soup</span><span class="o">=</span>
<a id="__codelineno-19-9" name="__codelineno-19-9"></a><span class="n">marques</span><span class="o">=</span><span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="n">class_</span><span class="o">=</span><span class="n">class_marca</span><span class="p">)</span>
<a id="__codelineno-19-10" name="__codelineno-19-10"></a>
<a id="__codelineno-19-11" name="__codelineno-19-11"></a><span class="n">file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;Brands.txt&quot;</span><span class="p">,</span><span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>
<a id="__codelineno-19-12" name="__codelineno-19-12"></a><span class="k">for</span> <span class="n">marca</span> <span class="ow">in</span> <span class="n">marques</span><span class="p">:</span>
<a id="__codelineno-19-13" name="__codelineno-19-13"></a>     <span class="n">link_marca</span><span class="o">=</span> <span class="n">marca</span><span class="p">[</span><span class="s1">&#39;href&#39;</span><span class="p">]</span>
<a id="__codelineno-19-14" name="__codelineno-19-14"></a>     <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">base_url</span><span class="o">+</span><span class="n">link_marca</span><span class="o">+</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<p>el resultat és un arxiu de text amb el següent contingut:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Text Only</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-20-1">1</a></span>
<span class="normal"><a href="#__codelineno-20-2">2</a></span>
<span class="normal"><a href="#__codelineno-20-3">3</a></span>
<span class="normal"><a href="#__codelineno-20-4">4</a></span>
<span class="normal"><a href="#__codelineno-20-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1"></a>https://www.whatcar.com/make/abarth
<a id="__codelineno-20-2" name="__codelineno-20-2"></a>https://www.whatcar.com/make/alfa-romeo
<a id="__codelineno-20-3" name="__codelineno-20-3"></a>https://www.whatcar.com/make/alpine
<a id="__codelineno-20-4" name="__codelineno-20-4"></a>https://www.whatcar.com/make/aston-martin
<a id="__codelineno-20-5" name="__codelineno-20-5"></a>https://www.whatcar.com/make/audi
</code></pre></div></td></tr></table></div>
</div>
<p>Ara, de manera recursiva hauriem d'analitzar cadascuna de les marques, vegem primer la estructura de cada marca:</p>
<p><center><img alt="Pàgina amb la marca" src="../img/Scrap03.png" width="100%" /></center></p>
<p>i si explorem cadascuna de les targetes de cada model:</p>
<p><center><img alt="Pàgina amb la marca" src="../img/Scrap04.png" width="100%" /></center></p>
<p>podem trobar que dins mateix tenim un link <code>&lt;a href="/bmw/2-series/hatchback/review/n78" ...&gt; &lt;/a&gt;</code>, del qual sols ens interessa el href..</p>
<p>Posteriorment hauriem de veure com accedir a la pàgina de cada model i buscar els elements amb informació interessant per veure com extreure-la.</p>
<div class="admonition info">
<p class="admonition-title">Enllaços</p>
<p>Referències:</p>
<ul>
<li><a href="https://verneacademy.com/blog/articulos-data/web-scraping-paginas-dinamicas-selenium-python-y-beautifulsoup/">https://verneacademy.com/blog/articulos-data/web-scraping-paginas-dinamicas-selenium-python-y-beautifulsoup/</a></li>
<li><a href="https://medium.com/@repopkukato/web-scraping-en-python-con-selenium-y-beautiful-soup-19fccb62908e">https://medium.com/@repopkukato/web-scraping-en-python-con-selenium-y-beautiful-soup-19fccb62908e</a></li>
<li><a href="https://pypi.org/project/selenium/">https://pypi.org/project/selenium/</a></li>
</ul>
</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "content.code.select", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.07f07601.min.js", "translations": {"clipboard.copied": "Copiat al porta-retalls", "clipboard.copy": "C\u00f2pia al porta-retalls", "search.result.more.one": "1 m\u00e9s en aquesta p\u00e0gina", "search.result.more.other": "# m\u00e9s en aquesta p\u00e0gina", "search.result.none": "Cap document coincideix", "search.result.one": "1 document coincident", "search.result.other": "# documents coincidents", "search.result.placeholder": "Escriu per a comen\u00e7ar a cercar", "search.result.term.missing": "Desaparegut", "select.version": "Selecciona la versi\u00f3"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.56dfad97.min.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>