{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Programaci\u00f3 d'intel\u00b7lig\u00e8ncia artificial","text":""},{"location":"#curs-despecialitzacio-en-intelligencia-artificial-i-big-data","title":"Curs d'Especialitzaci\u00f3 en Intel\u00b7lig\u00e8ncia Artificial i Big Data","text":""},{"location":"#2024-2025","title":"2024 - 2025","text":"<p>Professors:</p> <ul> <li>Joan Gerard Camarena Estruch</li> <li>Ferran Cunyat Pellicer</li> </ul>"},{"location":"U01%20Introducci%C3%B3%20a%20la%20programaci%C3%B3/01_Algorismes_Llenguatges/","title":"1. Algorismes i llenguatges","text":"<p>Per a comen\u00e7ar amb aquest curs, cal repassar algunes consideracions molt b\u00e0siques (i molt r\u00e0pidament) de conceptes que tenim que tindre molt clars. </p>"},{"location":"U01%20Introducci%C3%B3%20a%20la%20programaci%C3%B3/01_Algorismes_Llenguatges/#11-programa-i-programacio","title":"1.1 Programa i programaci\u00f3","text":"Definicions b\u00e0siques <ul> <li>El client \u00e9s qui diu les seues necessitats. </li> <li>Un analista \u00e9s aquella persona que s'encarrega de especificar qu\u00e9 ha de fer el programa, a partir del requisits que li ha dit el client .</li> <li>Un dissenyador \u00e9s aquell que perfila l'algorisme a seguir per a solucionar els requeriments del client.</li> <li>Un programador/a \u00e9s aquella persona que s'encarrega de codificar programes, segons l'algorisme dissenyat.</li> <li>Usuari/a \u00e9s el terme que s\u2019utilitza per referir-se a la persona que fa servir una aplicaci\u00f3 inform\u00e0tica amb la intenci\u00f3 d\u2019aconseguir un resultat final. La persona que treballar\u00e0 amb el programa final.</li> </ul> <p>Tenint els rols clars de qu\u00ed \u00e9s qu\u00ed,</p> M\u00e9s definicions <ul> <li>Un algorisme \u00e9s un m\u00e8tode de resoluci\u00f3 d\u2019un problema en un nombre finit de passos. Exemple: com es fa una truita a la francesa?</li> <li>A partir d'ell.. el programa \u00e9s l\u2019expressi\u00f3 d\u2019un algorisme en un llenguatge entenedor per l\u2019ordinador. </li> <li>La programaci\u00f3 \u00e9s la seq\u00fc\u00e8ncia de passos que ha d\u2019efectuar el/la programador/a per obtenir un programa.</li> <li>Una aplicaci\u00f3 inform\u00e0tica \u00e9s un conjunt de programes enlla\u00e7ats de manera convenient, per exemple un client i un servidor.</li> <li>Els programes manipularan unes dades d'entrada per a produ\u00efr altres de sortida</li> </ul> <p></p> <p>No anem a entrar m\u00e9s en detalls sobre els programes, sobre les fases, etc. Podeu veure un interesant infogracfia en aquest enlla\u00e7</p>"},{"location":"U01%20Introducci%C3%B3%20a%20la%20programaci%C3%B3/01_Algorismes_Llenguatges/#12-algorisme-vs-programa","title":"1.2 Algorisme vs Programa","text":"<p>Hem parlat que necessitem un algorisme per a resoldre un problema, pero a m\u00e9s a m\u00e9s el volem resoldre amb un llenguatge de programaci\u00f3. El problema \u00e9s que el llenguatge de programaci\u00f3 sol ser una s\u00e8rie d'instruccions m\u00e9s o menys entendibles pel programador, i aix\u00f2 no ho enten el processador sobre el que s'executa el programa. Es necessita un proc\u00e9s de traducci\u00f3 entre el llenguatge de programaci\u00f3 (text) i el llenguante m\u00e0quina (emmetxador o binari directament) que \u00e9s el que enten el processador.</p> <p>Atesos a la proximitat del processador, distinguim entre:</p> <p></p>"},{"location":"U01%20Introducci%C3%B3%20a%20la%20programaci%C3%B3/01_Algorismes_Llenguatges/#121-llenguatge-compilat","title":"1.2.1 Llenguatge compilat","text":"<p>Els llenguatges compilats s\u00f3n aquells que es realitza una traducci\u00f3 total de les instruccions que formen el programa.</p> <p></p> <p>Els grans exemples de llenguatges compilats s\u00f3n C i C++. En dits llenguatges a partir del codi font (fitxer de text) es crea el fitxer executable, que ja pot llan\u00e7ar-se de manera independent.</p> <p>Aquest llenguatges no son portables, ja que sols funcionen en la m\u00e0quina a la qual es compila. Necessitem compiladors d'aquest llenguatges per a diverses m\u00e0quines i sistemes operatius.</p>"},{"location":"U01%20Introducci%C3%B3%20a%20la%20programaci%C3%B3/01_Algorismes_Llenguatges/#122-llenguatge-interpretat","title":"1.2.2 Llenguatge interpretat","text":"<p>Els llenguatges interpretats realitzen traduccions parcials de cada linia o bloc de codi font i van execunat-lo poc a poc (traduisc-execute i anem repetint). Aquest llenguatges requereixen un int\u00e8rpret que \u00e9s qui fa eixa execuci\u00f3. El gran representant d'aquest llenguatge \u00e9s <code>Python</code>. </p> <p></p> <p>Aquest llenguatges son molt portables, ja que aquest codi permet ser executat per qualssevol m\u00e0quina, sempre que tinga l'int\u00e8rpret instal\u00b7lat al seu sistema.</p>"},{"location":"U01%20Introducci%C3%B3%20a%20la%20programaci%C3%B3/01_Algorismes_Llenguatges/#123-llenguatges-mixtes","title":"1.2.3 Llenguatges mixtes","text":"<p>Hi han llenguatges intermedis, que fan un primer pas de compilaci\u00f3, el resutat del qual s\u00f3n unes instruccions que permet ser executades per un int\u00e8rpret. El gran representant \u00e9s el llenguatje <code>Java</code>.</p> <p></p> <p></p>"},{"location":"U01%20Introducci%C3%B3%20a%20la%20programaci%C3%B3/01_Algorismes_Llenguatges/#13-llenguatges-segons-el-sei-us","title":"1.3 Llenguatges segons el sei \u00fas","text":"<p>Depenent de la destinaci\u00f3 dels programes, hem d'escollir uns o altres llengutges de programaci\u00f3. Anem a veure una xicoteta classificaci\u00f3 de per a que podem fer servir cada llenguatge:</p> <ul> <li><code>C</code> \u2192 llenguatge molt potent. Hui en dia es fa servir per a programar sistemes operatius i microcontroladores, per \u00e9l seu acc\u00e9s a baix nivell. Tamb\u00e9 es fa servir per a programar llibreries que faran servir altres llenguatges com per exemple <code>Python</code>.</li> <li><code>Java</code> \u2192 llenguatge pensat per a la creaci\u00f3 de programes de prop\u00f2sit general, amb acc\u00e8s a bases de dades i servidors. Tamb\u00e9 permet la programaci\u00f3 de dispositius d'oci.</li> <li><code>Python</code> \u2192 llenguatge de prop\u00f2sit general, amb una gran col\u00b7lecci\u00f3 de llibreries que permeten desenvolupar programes de qualsevol naturalesa. Es fa servir molt per a IA, fent servir llibreries programades en C, com hem comentat abans</li> <li><code>node o javascript</code> \u2192 llenguatge pensat per a la programaci\u00f3 de servidors r\u00e0pid i escalable. S'integra molt be amb els navegadors web.</li> <li><code>php</code> \u2192 llenguatge pensat per a la programaci\u00f3 de servidors.</li> <li><code>R</code> \u2192 llenguatge pensant per a l'an\u00e0lisi de dades i big data, aix\u00ed com representaci\u00f3 de la informaci\u00f3</li> <li><code>Kotlin</code> \u2192 llenguatge que permet combinar i incloure codi Java. Actualment pensat pera desenvolupament en Android.</li> </ul>"},{"location":"U01%20Introducci%C3%B3%20a%20la%20programaci%C3%B3/Continguts/","title":"Continguts","text":"<p>En aquesta unitat s'estudiar\u00e0:</p> <ul> <li>Llenguatge de programaci\u00f3</li> <li>Algorisme</li> <li>Compilat vs Implementat</li> <li>Comparativa de llenguatges</li> <li>...</li> </ul>"},{"location":"U01%20Introducci%C3%B3%20a%20la%20programaci%C3%B3/Exercici/","title":"2. Exercici pr\u00e0ctic","text":""},{"location":"U01%20Introducci%C3%B3%20a%20la%20programaci%C3%B3/Exercici/#1-proves-de-rendiment","title":"1. Proves de rendiment","text":"<p>En aquesta pr\u00e0ctica anem a fer una prova de rendiment de 3 llenguatges de programaci\u00f3, un compilat com \u00e9s C, un interpretatm com \u00e9s Python i un mixte com \u00e9s Java. </p> <p>Tots els programes en q\u00fcesti\u00f3 fa la multiplicaci\u00f3 de 2 matrius de 2048x2048 elements, amb un total de 8,589,934,592 operacions, combinant multiplicacions i sumes.</p> <p>Per  la realitzaci\u00f3 del exercici necessitar\u00e0s:</p> <ul> <li>Tenir instal\u00b7lat el compilador de C (per defecte a ubuntu)</li> <li>Tenir instal\u00b7lat un jdk</li> <li>Tenir instal\u00b7lat Python i la llibreria <code>numpy</code></li> </ul> <p>\u00c9s</p> Codi en C C<pre><code>#include &lt;stdlib.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;time.h&gt;\n\n#define n 2048\n\ndouble A[n][n];\ndouble B[n][n];\ndouble C[n][n];\n\nint main() {\n\n    //populate the matrices with random values between 0.0 and 1.0\n    for (int i = 0; i &lt; n; i++) {\n        for (int j = 0; j &lt; n; j++) {\n\n            A[i][j] = (double) rand() / (double) RAND_MAX;\n            B[i][j] = (double) rand() / (double) RAND_MAX;\n            C[i][j] = 0;\n        }\n    }\n\n    struct timespec start, end;\n    double time_spent;\n\n    //matrix multiplication\n    clock_gettime(CLOCK_REALTIME, &amp;start);\n    for (int i = 0; i &lt; n; i++) {\n        for (int j = 0; j &lt; n; j++) {\n            for (int k = 0; k &lt; n; k++) {\n                C[i][j] += A[i][k] * B[k][j];\n            }\n        }\n    }\n    clock_gettime(CLOCK_REALTIME, &amp;end);\n    time_spent = (end.tv_sec - start.tv_sec) + (end.tv_nsec - start.tv_nsec) / 1000000000.0;\n    printf(\"Elapsed time in seconds: %f \\n\", time_spent);\n    return 0;\n}\n</code></pre> Codi en Python Python<pre><code>import random\nimport time\n\nn = 2048\n\n#populate the matrices with random values between 0.0 and 1.0\nA = [[random.random() for row in range(n)] for col in range(n)]\nB = [[random.random() for row in range(n)] for col in range(n)]\nC = [[0 for row in range(n)] for col in range(n)]\n\nstart = time.time()\n#matrix multiplication\nfor i in range(n):\n    for j in range(n):\n        for k in range(n):\n            C[i][j] += A[i][k] * B[k][j]\n\nend = time.time()\nprint(\"Elapsed time in seconds %0.6f\" % (end-start))\n</code></pre> Codi en Java Java<pre><code>import java.util.Random;\n\npublic class Matrix{\n    static int n = 2048;\n    static double[][] A = new double[n][n];\n    static double[][] B = new double[n][n];\n    static double[][] C = new double[n][n];\n\n    public static void main(String[] args) {\n        //populate the matrices with random values between 0.0 and 1.0\n        Random r = new Random();\n        for (int i = 0; i &lt; n; i++) {\n            for (int j = 0; j &lt; n; j++) {\n                A[i][j] = r.nextDouble();\n                B[i][j] = r.nextDouble();\n                C[i][j] = 0;\n            }\n        }\n\n        long start = System.nanoTime();\n        //matrix multiplication\n        for (int i = 0; i &lt; n; i++) {\n            for (int j = 0; j &lt; n; j++) {\n                for (int k = 0; k &lt; n; k++) {\n                    C[i][j] += A[i][k] * B[k][j];\n                }\n            }\n        }\n\n        long stop = System.nanoTime();\n        double timeDiff = (stop - start) * 1e-9;\n        System.out.println(\"Elapsed time in seconds: \" + timeDiff);\n    }\n}\n</code></pre>"},{"location":"U01%20Introducci%C3%B3%20a%20la%20programaci%C3%B3/Exercici/#2-compilacio-i-llanacament-dels-programes","title":"2. Compilaci\u00f3 i llana\u00e7ament dels programes","text":"<ol> <li>Compila cada programa (que dega ser compilat) </li> <li>Executa  5 cops cada programa. </li> <li>Anota-ho a un full de c\u00e0lcul, per treure una estad\u00edstica.</li> </ol> Compilaci\u00f3 i execuci\u00f3 dels programes Bash<pre><code>#C\ngcc MatrixMultiplication.c -o matrix\n./matrix\n#Java\njavac MatrixMultiplication.java\njava MatrixMultiplication\n#Python\npython MatrixMultiplication.py\n</code></pre> <ol> <li>Veuras un resultat sorprenenet. Recompila els programes de C aix\u00ed</li> </ol> Compilaci\u00f3  optimizada amb C Bash<pre><code>gcc -O2 MatrixMultiplication.c -o matrixO2\n./matrix02\ngcc -O3 MatrixMultiplication.c -o matrixO2\n./matrix03\n</code></pre>"},{"location":"U01%20Introducci%C3%B3%20a%20la%20programaci%C3%B3/Exercici/#3-llibreria-dalt-rendiment-numpy","title":"3. Llibreria d'alt rendiment: <code>numpy</code>","text":"<p>Repeteix la prova amb el seg\u00fcent program:</p> C\u00e0lcul amb la llibreri <code>numpy</code> Python<pre><code>import numpy as np\nimport time\n\n\nTAM=2048\n\n#matriu = [[np.random.rand() for j in range(TAM)] for i in range(TAM)]\n\nm1 = np.random.rand(TAM,TAM)\nm2 = np.random.rand(TAM,TAM)\ndesti = np.zeros((TAM,TAM),dtype=float)\n\nstart = time.time()\nnova=np.dot(m1,m2)\nend = time.time()\nprint(\"Amb np: Elapsed time in seconds %0.6f\" % (end-start))\n\n\nstart = time.time()\n#matrix multiplication\nfor i in range(TAM):\n    for j in range(TAM):\n        for k in range(TAM):\n            desti[i][j] += m1[i][k] * m2[k][j]\nend = time.time()\nprint(\"Sense np: Elapsed time in seconds %0.6f\" % (end-start))\n</code></pre>"},{"location":"U01%20Introducci%C3%B3%20a%20la%20programaci%C3%B3/exercicis/matrix/","title":"Matrix","text":"In\u00a0[\u00a0]: Copied! <pre>import random\nimport time\n</pre> import random import time In\u00a0[\u00a0]: Copied! <pre>n = 2048\n</pre> n = 2048 In\u00a0[\u00a0]: Copied! <pre>#populate the matrices with random values between 0.0 and 1.0\nA = [[random.random() for row in range(n)] for col in range(n)]\nB = [[random.random() for row in range(n)] for col in range(n)]\nC = [[0 for row in range(n)] for col in range(n)]\n</pre> #populate the matrices with random values between 0.0 and 1.0 A = [[random.random() for row in range(n)] for col in range(n)] B = [[random.random() for row in range(n)] for col in range(n)] C = [[0 for row in range(n)] for col in range(n)] In\u00a0[\u00a0]: Copied! <pre>start = time.time()\n#matrix multiplication\nfor i in range(n):\n    for j in range(n):\n        for k in range(n):\n            C[i][j] += A[i][k] * B[k][j]\n</pre> start = time.time() #matrix multiplication for i in range(n):     for j in range(n):         for k in range(n):             C[i][j] += A[i][k] * B[k][j] In\u00a0[\u00a0]: Copied! <pre>end = time.time()\nprint(\"Elapsed time in seconds %0.6f\" % (end-start))\n</pre> end = time.time() print(\"Elapsed time in seconds %0.6f\" % (end-start))"},{"location":"U01%20Introducci%C3%B3%20a%20la%20programaci%C3%B3/exercicis/matrixnp/","title":"Matrixnp","text":"In\u00a0[\u00a0]: Copied! <pre>import numpy as np\nimport time\n</pre> import numpy as np import time In\u00a0[\u00a0]: Copied! <pre>TAM=2048\n</pre> TAM=2048 <p>matriu = [[np.random.rand() for j in range(TAM)] for i in range(TAM)]</p> In\u00a0[\u00a0]: Copied! <pre>m1 = np.random.rand(TAM,TAM)\nm2 = np.random.rand(TAM,TAM)\ndesti = np.zeros((TAM,TAM),dtype=float)\n</pre> m1 = np.random.rand(TAM,TAM) m2 = np.random.rand(TAM,TAM) desti = np.zeros((TAM,TAM),dtype=float) In\u00a0[\u00a0]: Copied! <pre>start = time.time()\nnova=np.dot(m1,m2)\nend = time.time()\nprint(\"Amb np: Elapsed time in seconds %0.6f\" % (end-start))\n</pre> start = time.time() nova=np.dot(m1,m2) end = time.time() print(\"Amb np: Elapsed time in seconds %0.6f\" % (end-start)) In\u00a0[\u00a0]: Copied! <pre>start = time.time()\n#matrix multiplication\nfor i in range(TAM):\n    for j in range(TAM):\n        for k in range(TAM):\n            desti[i][j] += m1[i][k] * m2[k][j]\nend = time.time()\nprint(\"Sense np: Elapsed time in seconds %0.6f\" % (end-start))\n</pre> start = time.time() #matrix multiplication for i in range(TAM):     for j in range(TAM):         for k in range(TAM):             desti[i][j] += m1[i][k] * m2[k][j] end = time.time() print(\"Sense np: Elapsed time in seconds %0.6f\" % (end-start))"},{"location":"U02%20Python/","title":"Index","text":"<p>Unitat 2. El llenguatge de programaci\u00f3 Python</p>"},{"location":"U02%20Python/01_Entorns_i_projectes/","title":"1. Preparaci\u00f3 de l'entorn","text":""},{"location":"U02%20Python/01_Entorns_i_projectes/#1-preparant-lentorn-en-python","title":"1. Preparant l'Entorn en Python","text":"<p>Abans de comen\u00e7ar a programar en Python hem de preparar la nostra m\u00e0quina per a tal tasca. Est\u00e0 clar que podem tenir un superordenador i instal\u00b7lar tot al complet, per\u00f2 al poc de temps ens adoanrem que perdrem el control del que tenim. Varies versions dels int\u00e8rprets de Python (2 o 3) i dins de la 3, 3.7, 3.9, etc... Adem\u00e9s tenim tota la col\u00b7lecci\u00f3 de llibreries que podem instal\u00b7lar amb <code>pip</code> per a fer-les servir al nostre programa. Espai i m\u00e9s espai.. versions i m\u00e9s versions.</p> <p>Per a evitar aquestes instal\u00b7lacions massives de incloure-ho tot, ens ajuden els gestors de depend\u00e8ncies, com els que ja coneixereu <code>Maven</code>, <code>Ant</code>, <code>Gradle</code> per a <code>Java</code>, per exemple el Node Package Manager de <code>node.js</code>. Els gestors de dependencies ens permeten crear una mena d'entorns a\u00efllats on podem indicar quines llibreries i depend\u00e8ncies ens calen per al nostre projecte. Aquestes llibreries no depenen del sistema anfitri\u00f3, i a m\u00e9s a m\u00e9s, permeten una exportaci\u00f3 f\u00e0cil, ja que no hem de copiar ni d'exportar les llibreries, ja que al dest\u00ed s'agafaran de nou.</p> <p>En resum, els entorns virtuals ens permeten:</p> <ul> <li>Organitzar i tindre millor controlades totes les llibreries</li> <li>Estabilitat, ja que sempre tenim la llibreria exacta del nostre entorn i no la de la m\u00e0quina real</li> <li>Version distintes </li> </ul> <p>Atenci\u00f3</p> <p>Recomanem per tant, crear un entorn virtual per a cadascun dels projectes que desenvoluparem.</p>"},{"location":"U02%20Python/01_Entorns_i_projectes/#2-installacio-de-python-3","title":"2. Instal\u00b7laci\u00f3 de Python 3","text":""},{"location":"U02%20Python/01_Entorns_i_projectes/#21-installar-python-3","title":"2.1. Instal\u00b7lar Python 3","text":"<p>Abans de comen\u00e7ar a treballar amb venv, assegura't de tenir Python 3 instal\u00b7lat al teu ordinador. Aqu\u00ed tens els passos per instal\u00b7lar-lo segons el sistema operatiu.</p> WindowsmacOSLinux (Ubuntu/Debian) <ol> <li>Ves a https://www.python.org/downloads/ i descarrega l'\u00faltima versi\u00f3 de Python 3.</li> <li>Durant la instal\u00b7laci\u00f3, assegura't de seleccionar l'opci\u00f3 \"Add Python to PATH\".</li> <li>Un cop instal\u00b7lat, obre un terminal i comprova la versi\u00f3 amb:    Bash<pre><code>python --version\n</code></pre></li> </ol> <ol> <li>Si tens <code>Homebrew</code> instal\u00b7lat, pots instal\u00b7lar Python 3 amb:    Bash<pre><code>brew install python\n</code></pre></li> <li>Despr\u00e9s de la instal\u00b7laci\u00f3, comprova que funciona:    Bash<pre><code>python3 --version\n</code></pre></li> </ol> <ol> <li>Obre el terminal i executa:    Bash<pre><code>sudo apt update\nsudo apt install python3 python3-venv python3-pip\n</code></pre></li> <li>Comprova la instal\u00b7laci\u00f3 amb:    Bash<pre><code>python3 --version\n</code></pre></li> </ol>"},{"location":"U02%20Python/01_Entorns_i_projectes/#22-introduccio-a-venv-creacio-dentorns-virtuals-a-python","title":"2.2. Introducci\u00f3 a venv: Creaci\u00f3 d'entorns virtuals a Python","text":""},{"location":"U02%20Python/01_Entorns_i_projectes/#221-que-es-un-entorn-virtual","title":"2.2.1. Qu\u00e8 \u00e9s un entorn virtual?","text":"<p>Un entorn virtual \u00e9s una carpeta especial que cont\u00e9 una c\u00f2pia de Python i de totes les biblioteques que utilitzarem en un projecte. D'aquesta manera, mantenim els nostres projectes a\u00efllats, evitant problemes de compatibilitat entre versions de Python i biblioteques.</p>"},{"location":"U02%20Python/01_Entorns_i_projectes/#222-com-crear-un-entorn-virtual-amb-venv","title":"2.2.2. Com crear un entorn virtual amb venv","text":"<ol> <li>Crear l'entorn virtual:</li> </ol> <p>Navega fins a la carpeta del projecte i crea l'entorn virtual amb:    Bash<pre><code>python3 -m venv nom_entorn\n</code></pre></p> <p><code>nom_entorn</code> \u00e9s el nom que donar\u00e0s a l'entorn (pots posar, per exemple, <code>.venv</code> o <code>env</code>).</p> <ol> <li>Activar l'entorn virtual:</li> </ol> WindowsmacOS/Linux Bash<pre><code>.\\nom_entorn\\Scripts\\activate\n</code></pre> <p>File cannot be loaded because running scripts is disabled on this system.</p> <p>Si apareix un error semblant a aquest, has de canviar la pol\u00edtica de seguretat de Windows per a que deixe executar Scripts:</p> <ul> <li>Obre PowerShell com a Administrador.</li> <li>Executa la seg\u00fcent ordre per permetre l'execuci\u00f3 d'scripts:     PowerShell<pre><code>Set-ExecutionPolicy RemoteSigned\n</code></pre></li> <li>Quan et pregunten si vols canviar la pol\u00edtica, respon amb Y (Yes).</li> <li>Tanca la finestra de PowerShell i obre'n una de nova per aplicar el canvi.</li> </ul> Bash<pre><code>source nom_entorn/bin/activate\n</code></pre> <p>Quan l'entorn estigui actiu, veur\u00e0s el nom de l'entorn entre par\u00e8ntesis abans del teu prompt.</p> <ol> <li> <p>Instal\u00b7lar paquets dins l'entorn:</p> <p>Ara que tens l'entorn activat, pots instal\u00b7lar paquets amb <code>pip</code> que nom\u00e9s s'instal\u00b7laran dins l'entorn: Bash<pre><code>pip install nom_del_paquet\n</code></pre></p> </li> <li> <p>Desactivar l'entorn virtual:</p> <p>Quan hagis acabat de treballar, pots desactivar l'entorn amb: Bash<pre><code>deactivate\n</code></pre></p> </li> </ol>"},{"location":"U02%20Python/01_Entorns_i_projectes/#223-beneficis-dutilitzar-entorns-virtuals","title":"2.2.3. Beneficis d'utilitzar entorns virtuals:","text":"<ul> <li>Separar les depend\u00e8ncies entre projectes.</li> <li>Evitar problemes de compatibilitat entre versions de Python i paquets.</li> <li>Facilitar la reproducci\u00f3 d'entorns en altres m\u00e0quines.</li> </ul>"},{"location":"U02%20Python/01_Entorns_i_projectes/#224-exemple-practic","title":"2.2.4. Exemple pr\u00e0ctic:","text":"<ol> <li> <p>Crear un projecte nou:    Bash<pre><code>mkdir projecte\ncd projecte\npython3 -m venv env\n</code></pre></p> </li> <li> <p>Activar l'entorn:    Bash<pre><code>source env/bin/activate  # O \\env\\Scripts\\activate a Windows\n</code></pre></p> </li> <li> <p>Instal\u00b7lar un paquet, com ara <code>requests</code>:    Bash<pre><code>pip install requests\n</code></pre></p> </li> <li> <p>Desactivar l'entorn quan acabis:    Bash<pre><code>deactivate\n</code></pre></p> </li> </ol>"},{"location":"U02%20Python/01_Entorns_i_projectes/#3-jupyter-notebooks","title":"3. Jupyter notebooks","text":"<p>Els Jupyter Notebooks s\u00f3n una eina fonamental en el m\u00f3n de la programaci\u00f3 i la ci\u00e8ncia de dades que ha revolucionat la manera en qu\u00e8 els professionals treballen i col\u00b7laboren en l'an\u00e0lisi de dades, el desenvolupament de programari i la recerca cient\u00edfica. Aquesta plataforma, que es va originar com a derivaci\u00f3 del projecte <code>IPython</code>, ofereix un entorn interactiu que combina codi, text, imatges i gr\u00e0fics en un \u00fanic document web, permetent als usuaris crear i compartir continguts din\u00e0mics i ben documentats.</p> <p>Un dels elements m\u00e9s destacats dels Jupyter Notebooks \u00e9s la seva capacitat d'integrar codi executable (Python) amb text explicatiu (Markdown), la qual cosa facilita la creaci\u00f3 de documents que expliquen i demostren pas a pas els processos anal\u00edtics i els resultats obtinguts. Aquesta funcionalitat fa que sigui una eina ideal per a cient\u00edfics de dades, enginyers, estudiants i professionals que volen comunicar les seves idees i resultats de manera clara i efectiva.</p> <p>A m\u00e9s de ser utilitzats per a l'exploraci\u00f3 de dades i l'an\u00e0lisi estad\u00edstica, els Jupyter Notebooks tamb\u00e9 s\u00f3n \u00e0mpliament emprats en l'aprenentatge de programaci\u00f3 i la doc\u00e8ncia, ja que permeten als estudiants escriure, provar i comprendre el codi en un entorn interactiu i amigable.</p> <p>Per comen\u00e7ar a desenvolupar amb Jupyter Notebooks, haur\u00e0s d'instal\u00b7lar algunes eines i depend\u00e8ncies al teu sistema. Aqu\u00ed tens els passos b\u00e0sics per a la instal\u00b7laci\u00f3:</p> <ol> <li> <p>Python: Els Jupyter Notebooks s\u00f3n m\u00e9s comunsment utilitzats amb Python. Assegura't de tenir Python instal\u00b7lat al teu sistema. \u00c9s recomanable utilitzar Python 3, ja que Python 2 ja no rep suport.</p> </li> <li> <p>Gestor de paquets de Python: Si no ho tens ja instal\u00b7lat, \u00e9s aconsellable utilitzar un gestor de paquets de Python com <code>pip</code> o <code>conda</code>. Aquestes eines et permetran instal\u00b7lar i gestionar les llibreries i paquets necessaris.</p> </li> <li> <p>Jupyter Notebook: Pots instal\u00b7lar Jupyter Notebook executant la seg\u00fcent comanda a la terminal utilitzant <code>pip</code>:</p> </li> </ol> Text Only<pre><code>pip install notebook\n</code></pre> <p>Si utilitzes l'entorn de conda, tamb\u00e9 pots instal\u00b7lar-lo amb:</p> Text Only<pre><code>conda install notebook\n</code></pre> <p>Un cop hagis instal\u00b7lat tots aquests components, ja est\u00e0s llest per comen\u00e7ar a treballar amb Jupyter Notebooks. Pots iniciar un servidor de Jupyter Notebook amb la comanda:</p> Text Only<pre><code>jupyter notebook\n</code></pre> <p>Aquesta comanda obrir\u00e0 el teu navegador web amb l'entorn de Jupyter Notebook, on podr\u00e0s crear nous fitxers de notebook, obrir-ne de existents i comen\u00e7ar a escriure codi i text interactius.</p> <p>Recordeu que potser tamb\u00e9 voldr\u00e0s utilitzar un entorn virtual (com <code>virtualenv</code> o <code>conda</code>) per gestionar les depend\u00e8ncies i els paquets espec\u00edfics del teu projecte, especialment si treballes en diversos projectes amb versions diferents de les llibreries.</p>"},{"location":"U02%20Python/01_Entorns_i_projectes/#4-jupyter-i-visual-studio-code","title":"4. Jupyter i visual studio code","text":"<p>Si prefereixes utilitzar Visual Studio Code (VS Code) per desenvolupar amb Jupyter Notebooks, tamb\u00e9 pots fer-ho. VS Code \u00e9s una excel\u00b7lent opci\u00f3 per als desenvolupadors de Python i ofereix una integraci\u00f3 nativa amb Jupyter que facilita la creaci\u00f3 i l'execuci\u00f3 de notebooks. Aqu\u00ed tens com fer-ho:</p> <ol> <li> <p>Instal\u00b7la Visual Studio Code: Si encara no tens VS Code instal\u00b7lat, descarrega'l i instal\u00b7la'l des del lloc web oficial: Visual Studio Code.</p> </li> <li> <p>Instal\u00b7la l'extensi\u00f3 de Jupyter: Un cop hagis obert VS Code, ves a l'Explorador d'Extensions (Extensions Marketplace) fent clic a l'\u00edcona d'extensions a la barra lateral esquerra o amb <code>Ctrl+Shift+X</code>. Cerca \"Jupyter\" i instal\u00b7la l'extensi\u00f3 \"Python\" que ofereix Microsoft. Aquesta extensi\u00f3 proporciona suport complet per als Jupyter Notebooks.</p> </li> <li> <p>Crea o obre un Jupyter Notebook: Des de VS Code, pots crear un nou Jupyter Notebook fent clic a l'opci\u00f3 \"Create new Jupyter Notebook\" a la vista d'Explorer. Tamb\u00e9 pots obrir notebooks existents fent clic amb el bot\u00f3 dret sobre ells i seleccionant \"Open with Jupyter Notebook.\"</p> </li> <li> <p>Selecciona l'entorn de Python: VS Code permet gestionar entorns virtuals amb l'extensi\u00f3 \"Python\" i pots seleccionar l'entorn que vulguis utilitzar per al teu notebook.</p> </li> <li> <p>Desenvolupa amb Jupyter Notebooks: Un cop hagis creat o obert un notebook, podr\u00e0s escriure codi, text i afegir cel\u00b7les de manera similar a com ho faries amb l'entorn de Jupyter Notebook independent. Pots executar les cel\u00b7les mitjan\u00e7ant les opcions a la barra d'eines o amb atajos de teclat.</p> </li> <li> <p>Gestiona les extensions: VS Code ofereix moltes extensions \u00fatils per a la ci\u00e8ncia de dades i l'an\u00e0lisi de dades. Pots explorar i instal\u00b7lar extensions addicionals des de l'Explorador d'Extensions.</p> </li> </ol> <p>Aquesta integraci\u00f3 de Jupyter a Visual Studio Code ofereix una experi\u00e8ncia de desenvolupament completa i molt potent per als usuaris de Python que vulguin treballar amb notebooks i codi en un mateix entorn.</p>"},{"location":"U02%20Python/01_Entorns_i_projectes/#5-google-colab","title":"5. Google Colab","text":"<p>Google Colab (abreviaci\u00f3 de Colaboratory) \u00e9s una plataforma en l\u00ednia que permet executar Jupyter Notebooks directament al n\u00favol, sense necessitat de configurar res al teu propi sistema. \u00c9s una excel\u00b7lent opci\u00f3 si vols treballar amb Jupyter Notebooks sense preocupar-te de la instal\u00b7laci\u00f3 d'entorns i llibreries al teu propi dispositiu. Aqu\u00ed tens com fer servir Google Colab:</p> <ol> <li> <p>Accedeix a Google Colab: Obre el teu navegador web i accedeix a Google Colab. Haur\u00e0s d'iniciar sessi\u00f3 amb el teu compte de Google si encara no ho has fet.</p> </li> <li> <p>Crea un nou notebook o importa-ne un: Pots crear un nou notebook fent clic a \"File\" &gt; \"New notebook\" o importar un notebook existent des del teu Google Drive o des d'un enlla\u00e7 a GitHub fent servir les opcions disponibles a la vista \"File\".</p> </li> <li> <p>Treballa amb el teu notebook: Un cop hagis creat o importat un notebook, pots escriure codi, text, i executar cel\u00b7les com ho faries amb un Jupyter Notebook convencional. Utilitza les cel\u00b7les de codi i text per a la teva an\u00e0lisi o projecte.</p> </li> <li> <p>Entorns i llibreries: Google Colab ofereix un entorn de Python pr\u00e8viament configurat que inclou moltes llibreries comunes per a la ci\u00e8ncia de dades (com NumPy, pandas, Matplotlib, etc.). Si necessites instal\u00b7lar altres llibreries, pots fer-ho executant comandes pip directament en una cel\u00b7la (per exemple, <code>!pip install numpy</code>).</p> </li> <li> <p>Guarda el teu treball: Pots desar el teu notebook a Google Drive o descarregar-lo localment mitjan\u00e7ant l'opci\u00f3 \"File\" &gt; \"Save\" o \"File\" &gt; \"Download .ipynb.\"</p> </li> <li> <p>Comparteix i col\u00b7labora: Google Colab et permet compartir els teus notebooks amb altres persones perqu\u00e8 puguin veure i editar el teu treball en temps real. Pots compartir mitjan\u00e7ant enlla\u00e7os o afegir col\u00b7laboradors directament a trav\u00e9s de les opcions de compartici\u00f3.</p> </li> </ol> <p>Google Colab \u00e9s una eina excel\u00b7lent per als projectes de ci\u00e8ncia de dades i l'aprenentatge autom\u00e0tic que es volen executar en un entorn de computaci\u00f3 m\u00e9s potent que el teu dispositiu local o per a la col\u00b7laboraci\u00f3 en l\u00ednia amb altres persones. \u00c9s una opci\u00f3 molt popular a la comunitat de la ci\u00e8ncia de dades i \u00e9s gratu\u00eft per a \u00fas personal.</p>"},{"location":"U02%20Python/01_Entorns_i_projectes/#6-estructura-dun-programa-en-python","title":"6. Estructura d\u2019un programa en <code>Python</code>","text":"<p>Un programa en <code>Python</code> te una estructura molt simple, si ho comparm en altres llenguatges de programaci\u00f3; simplement hem d'escriure les nostres linies de codi i ja est\u00e0, per\u00f2 pot tenir m\u00e9s coses</p> <p>Qualsevol programa escrit en <code>Python</code> t\u00e9 la seg\u00fcent estructura: Text Only<pre><code>[Descripci\u00f3 del programa]\n[Directives]\n[Importaci\u00f3 de Libreria]\n[Definici\u00f3 de classes]\n[Funcions]\nEntrada de dades\nProcessament de dades\nSortidad de dades\n</code></pre></p> <p>Els claud\u00e0tors indiquen que eixos apartats s\u00f3n opcionals. Per tant, veiem que l\u2019\u00fanica part necess\u00e0ria en un programa \u00e9s l'entrada, el processament i la sortida de dades, com en qualssevol algorisme. Notar que en <code>Python</code> tots aquests poden canviar la posici\u00f3. Vejam uns exemples i els analitzem.</p> <p>El m\u00e9s simple, mostra un missatge per pantalla:</p> <p>Python<pre><code>print(\"Hola m\u00f3n\")\n</code></pre> Altre una mica m\u00e9s complet:</p> Python<pre><code># Programa que calcula el area de un rectangle\n# Autor: Joan Gerard Camarena\n# Data : 2019/07/11\nimport time\n\ndef areaRectangle(base,altura):\n    return base*altura\n\nbase=int(input(\"Dis-me la base del rectangle: \"))\naltura=int(input(\"Dis-me l'altura del rectangle: \"))\ntime.sleep(2)   # Espera dos segons\n\narea=areaRectangle(base,altura)\n\nprint(\"L'area del rectangle \u00e9s \" + str(area))\n</code></pre> <p>Comentaris:</p> <ul> <li>Les 3 primeres l\u00ednies sob una descripci\u00f3 del que fa el programa. Son comentaris, que no s'executen</li> <li>Al <code>import</code> indiquem que necessitem una llibreria. Aix\u00f2 es veur\u00e0 m\u00e9s endavant, per\u00f2 les llibreries s\u00f3n un conjunt de funcions que ja venen implementades i les podem fer servir als nostres programes. La funci\u00f3 que farem servir \u00e9s <code>time.sleep()</code> que fa que el programa es pause durant una quantitat de segons.</li> <li>Despr\u00e8s tenin la definici\u00f3 d'una funci\u00f3, que comen\u00e7a amb la paraula reservada <code>def</code>. Notar que tot el que pertany a la funci\u00f3 est\u00e0 indentat una tabulaci\u00f3 (al nostre cas sols la instrucci\u00f3 del <code>return</code>).</li> <li>Despr\u00e8s ja tenim el nostre programa pr\u00f2piament dit:</li> <li>Les l\u00ednies no tenen cap indentaci\u00f3 (pegades a l'esquerre)</li> <li>La primera part \u00e9s la que l'algorisme ha d'aconseguir la informaci\u00f3. En aquest cas a preguntem a l'usuari mitjan\u00e7ant <code>input</code>. </li> <li>La segona part  \u00e9s el fer el c\u00e0lcul. Pot veure's que es crida a la funci\u00f3 que hem definit anteriorment</li> <li>Finalment mostrem a l'usuari el resultat (<code>print</code>).</li> </ul>"},{"location":"U02%20Python/01_Entorns_i_projectes/#7-noms-i-paraules-reservades-en-python","title":"7. Noms i paraules reservades en <code>Python</code>","text":"<p>Nosaltres per a programar, com hem vist abans, li hem posat nom a les variables i funcions. Per a posar nom a les variables hem de complir unes regles, que tenen tots els llenguatges de programaci\u00f3:</p> <ol> <li>S\u00f3n una combinaci\u00f3 de lletres min\u00fascules [a..z], maj\u00fascules [A..Z], d\u00edgits [0..9] i el car\u00e0cter subratllat[_]. </li> <li>No poden comen\u00e7ar amb d\u00edgit.</li> <li>Poden contenir accents i altes car\u00e0cters (\u00f1,\u00e7,...)</li> <li>No poden ser paraules reservades o <code>keywords</code> del sistema (veure taula a continuaci\u00f3)</li> <li>No poden haver s\u00edmbols especials ni operadors [!, @, #, $, %, ...] etc. </li> <li>Poden tenir qualssevol longitud</li> </ol> <p>Paraules reservades:</p> False class finally is return None continue for lambda try True def from nonlocal while and del global not with as elif if or yield assert else import pass break except in raise <p>Existeixen algunes m\u00e9s, com els tipus de dades (<code>int</code>, <code>float</code>, <code>str</code>, <code>complex</code>, etc). La facilitat \u00e9s que els editors ens colorejen les paraules reservades, llavors sabrem que no les podem utilitzar per als nostres identificadors.</p> <p>Les variables s\u00f3n els llocs on es guarda la informaci\u00f3. Poden ser de distints tipus, segons el lloc on es fan servir i des d'on es poden accedir. Una primera distinci\u00f3 \u00e9s entre globals i locals:</p> <ul> <li>Les globals s\u00f3n aquelles que es creen fora de qualssevol funci\u00f3 i, per tant, s\u00f3n accessibles des de qualsevol punt del fitxer o programa.</li> <li>Les locals s\u00f3n les que es creen dins d\u2019alguna funci\u00f3 i, per tant, nom\u00e9s s\u00f3n accessibles des de les instruccions de dins d\u2019eixa funci\u00f3. Dins de una funci\u00f3 es pot accedir a les variables locals seues, aix\u00ed com a les variables globals</li> <li>Les variables de classe s\u00f3n com les variables locals a les funcions. S'estudiar\u00e0n dins de la POO</li> </ul>"},{"location":"U02%20Python/01_Entorns_i_projectes/#8-comentaris","title":"8. Comentaris","text":"<p>Els comentaris, com ja s'ha dit abans, s\u00f3n sent\u00e8ncies les quals no s'executen, per\u00f2 serveixen per a poder entrendre i recordar qu\u00e8 voliem fer dins del nostre codi. Si escrivim un codi, i el tornem a revisar al cap d'unes setmanes, segur que no recordem certes coses. L'\u00fas de comentaris ens ajudar\u00e0 a recordar.</p> <p>Tamb\u00e9 servieix quan altre programador ens revisa el nostre codi poder entrendre el que voliem fer.</p>"},{"location":"U02%20Python/01_Entorns_i_projectes/#81-tipus-de-comentaris","title":"8.1. Tipus de comentaris","text":"<ul> <li>D'una l\u00ednia, venen precedits pel car\u00e0cter coixinet <code>#</code></li> <li>De m\u00e9s d'una l\u00ednia, quan tanquem diverses l\u00ednies entre dos parelles de tres cometes simples <code>'''</code></li> <li> <p>De documentaci\u00f3 docstring, s\u00f3n una l\u00ednia o l\u00ednies de text intercalades  al principi d'un m\u00f2dul, m\u00e8tode, classe o funci\u00f3. Pot ser:</p> <ul> <li>L\u00ednia simple: com per exemple <code>'Documentaci\u00f3.'</code></li> <li>L\u00ednia m\u00faltiple: tancada entre tres parelles de cometes dobles <code>\"\"\"</code></li> </ul> </li> </ul> Python<pre><code>'''\nPrograma que calcula el area de un rectangle\nAutor: Joan Gerard Camarena\nData : 2019/07/11\n'''\nimport time\n# declarem una funci\u00f3\ndef areaRectangle(base,altura):\n    \"\"\"\n    Aquest funci\u00f3 calcula el \u00e0rea d'un rectangle\n    Par\u00e0metres:\n        base -&gt; La base del rectangle\n        altura -&gt; La altura del rectangel\n    Errors: \n        No implentat\n    \"\"\"\n    return base*altura\n\ndef areaQuadrat(base):\n    'Calcula el area  de un quadrat de costat pasat.'\n    return base**2\n\n#demanem les dades a l'usuari\nbase=int(input(\"Dis-me la base del rectangle: \"))\naltura=int(input(\"Dis-me l'altura del rectangle: \"))\ntime.sleep(2)   # Espera dos segons\n\narea=areaRectangle(base,altura)\n#mostrem el resultat\nprint(\"L'area del rectangle \u00e9s \" + str(area))\n\narea=areaQuadrat(base)\n#mostrem el resultat\nprint(\"L'area del quadrat \u00e9s \" + str(area))\n</code></pre>"},{"location":"U02%20Python/01_Entorns_i_projectes/#9-delimitadors","title":"9. Delimitadors","text":"<p>S\u00f3n s\u00edmbols especials que permeten al compilador separar i recon\u00e9ixer les diferents unitats sint\u00e0ctiques del llenguatge. En molts llenguatges de programaci\u00f3 es fa servir un <code>;</code> (<code>C</code> i  en <code>Java</code> ) com  a finalitzador, per\u00f2 <code>Python</code> fa servir el bot de l\u00ednia. De tota manera indiquem els m\u00e9s habituals per a tots els llenguatges.</p> DELIMITADOR NOM UTILITAT , Separador Separar els elements d\u2019una llista ( ) Par\u00e8ntesis Agrupar operacions i per als par\u00e0metres de les funcions [ ] Claud\u00e0tors Per als vectors. llistes i dem\u00e9s"},{"location":"U02%20Python/02_Tipus_Variables_Operadors/","title":"2. Tipus de Dades. Operadors","text":""},{"location":"U02%20Python/02_Tipus_Variables_Operadors/#21-tipus-de-dades","title":"2.1 Tipus de dades","text":"<p>Els tipus de dades s\u00f3n els distints tipus d'informaci\u00f3 que podem guardar a les nostres variables. Han anat evolucionant al llarg del temps, i cada vegada accepten valors m\u00e9s grans degut a les pot\u00e8ncies i capacitats cada cop m\u00e9s grans dels ordenadors.</p>"},{"location":"U02%20Python/02_Tipus_Variables_Operadors/#211-tipus-elementals","title":"2.1.1 Tipus elementals","text":"<p>Partirem de la taula de tipus que s'aplica en <code>C</code> i en <code>Java</code>, que estan molt m\u00e9s detallats.</p> TIPUS SIGNIFICAT BYTES RANG DE VALORS str Cadena de car\u00e0cters 4 per car\u00e0cter en UTF-8 Segons codificaci\u00f3 int Enter 2 o 4 [-2<sup>15</sup>  . .  2<sup>15</sup>] boolean L\u00f2gic 1 bit True o False float Real simple precisi\u00f3 4 [-3,4<sup>38</sup>  . .  3,4<sup>38</sup>] double Real doble precisi\u00f3 8 [1,7<sup>308</sup>  . .  1,7<sup>308</sup>] void o null (cap valor) 0 - <p>El tipus void/null serveix per a representar l\u2019abs\u00e8ncia de valor, com per exemple en funcions que no retornen cap valor o quan no sabem alguna informaci\u00f3. Imaginem que tenim una variable entera <code>temperatura</code>, de la qual no sabem el valor. No podem dir que la temperatura \u00e9s zero, ja que podriem pensar que si l'hem medit ( i evidentment fa fret).</p>"},{"location":"U02%20Python/02_Tipus_Variables_Operadors/#211-integer-o-int","title":"2.1.1 <code>integer</code> o <code>int</code>","text":"<p>Serveix per a representar nombres enters (sense decimals) amb signe. El tamany est\u00e0 limitat a la mem\u00f2ria del dispositiu. Per defecte el n\u00famero enter es representa en el sistema decimal, per\u00f2 podem representar-lo en binari, octal i hexadecimal, afegint al principi del numero el prefix de la base en la qual ho representem:</p> Representacions de nombres enters Python<pre><code>print(11)     # mostra 11\nprint(0o11)   # mostra 9\nprint(0x11)   # mostra 17\nprint(0b11)   # mostra 3\n</code></pre> Prefixe Significat Base <code>0b</code> o <code>0B</code> Binari 2 <code>0o</code> o <code>0O</code> Octal 8 <code>0x</code> o <code>0X</code> Hexadecimal 16 <p>Adonar-se que l'ordre de sortida <code>print</code> ho mostra sempre en decimal.</p>"},{"location":"U02%20Python/02_Tipus_Variables_Operadors/#212-float","title":"2.1.2 <code>float</code>","text":"<p>Serveix per a representar els numeros reals en notaci\u00f3 de coma deximal. Podem representar tamb\u00e9 en notaci\u00f3 cient\u00edfica afegint una <code>E</code> seguit d'un enter positiu o negatiu</p> \u00das de tipus reals Python<pre><code>&gt;&gt;&gt; 4.27\n4.27\n&gt;&gt;&gt; type(4.27)\n&lt;class 'float'&gt;\n&gt;&gt;&gt; 4.\n4.0\n&gt;&gt;&gt; .27\n0.27\n&gt;&gt;&gt; .4e7\n4000000.0\n&gt;&gt;&gt; 4.2e-4\n0.00042\n</code></pre> <p>Els n\u00fameros reals est\u00e0n acotats:</p> <ul> <li>Els numeros m\u00e9s grans, positiu i negatiu: <code>1.79e308</code> i <code>-1.79e308</code></li> <li>Els n\u00fameros m\u00e9s xicotets, positiu i negatiu: <code>5e-324</code> i <code>-5e-324</code></li> </ul> <p>NOTA: <code>Python</code> tamb\u00e9 supporta els n\u00fameros complexes, que els veurem al llarg del curs</p>"},{"location":"U02%20Python/02_Tipus_Variables_Operadors/#modificadors-dels-tipus-elementals","title":"Modificadors dels tipus elementals","text":"<p>Servixen per a alterar els rangs dels tipus elementals vistos anteriorment.  Existixen 2 tipus de modificadors:</p> <ul> <li>Modificadors de longitud:<ul> <li><code>short</code>   \u2192   per a enters (opci\u00f3 per defecte en alguns compiladors)</li> <li><code>long</code>  \u2192     per a enters i reals. Dobla el rang</li> </ul> </li> <li>Modificadors de signe (per a enters):<ul> <li><code>signed</code>  \u2192   amb signe (opci\u00f3 per defecte)</li> <li><code>unsigned</code>    \u2192   sense signe</li> </ul> </li> </ul> <p>Els valors m\u00e0xims i m\u00ednims de cada tipus estan definits en les llibreries de cada llenguatge, i canvia segons els compiladors.</p> <p>En <code>Python</code> hi han menys tipus, per\u00f2 tot i aix\u00f2 no perdrem res de pot\u00e8ncia, donat que, per exemple els l\u00edmits a partir de <code>Python3</code> no tenen topes</p>"},{"location":"U02%20Python/02_Tipus_Variables_Operadors/#213-bool","title":"2.1.3 <code>bool</code>","text":"<p>Els valors l\u00f2gis vertader i fals, especificats per <code>True</code> i <code>False</code>.</p> Example Python<pre><code>&gt;&gt;&gt; type(True)\n&lt;class 'bool'&gt;\n&gt;&gt;&gt; type(False)\n&lt;class 'bool'&gt;\n</code></pre>"},{"location":"U02%20Python/02_Tipus_Variables_Operadors/#214-string-o-str","title":"2.1.4 <code>string</code> o <code>str</code>","text":"<p>El tipus <code>string</code> no existeix al llenguatge <code>C</code>, i es veu com una successi\u00f3 de car\u00e0cters. En <code>Java</code> ja va apareixer com a objecte i en <code>Python</code> ja \u00e9s un tipus b\u00e0sic. Un <code>string</code> \u00e9s una successi\u00f3 de 0 o m\u00e9s car\u00e0cters dins de cometes simples o dobles. Aquestes cometes no poden apareixer dins de la cadena, ja que la primera obri i l'\u00faltima tanca:</p> Python<pre><code>&gt;&gt;&gt;print(\"Soc una cadena.\")\nSoc una cadena.\n&gt;&gt;&gt;print(\"Soc una \"cadena.\")\nSyntaxError: invalid syntax\n</code></pre> <p>Posibles solucions:</p> <ul> <li>Intercanviar cometes dobles per simples, segons necessitats</li> <li>Fer servir el caracter contrabarra <code>\\</code> que anula el significat dels simbols especials. Aquest car\u00e0cter es llig caracter de <code>escape</code> o <code>d'escapament</code></li> <li>Fer servir com a inici de la cadena la cometa simple <code>'</code> i dins ja podem fer servir la cometa doble o vicerversa. </li> </ul> Combinacions de s\u00edmbols de cadena Python<pre><code>&gt;&gt;&gt;print('Soc una \"cadena.')\nSoc una \"cadena.\n&gt;&gt;&gt;print(\"Soc una \\\"cadena.\")\nSoc una \"cadena.\n&gt;&gt;&gt;print(\"Soc una 'cadena.\")\nSoc una 'cadena.\n</code></pre> <p>Aquest car\u00e0cter t\u00e9 molts usos tamb\u00e9, ja que de vegades combinat amb altres car\u00e0cters podem aconseguir car\u00e0cter no imprimibles o de control:</p> Seq\u00fc\u00e8ncia de Escape Significat <code>\\a</code> Alert. S'emet un pitit de l'altaveu <code>\\b</code> Backspace. S'esborra un car\u00e0cter <code>\\n</code> Line Feed. S'avan\u00e7a una l\u00ednia <code>\\r</code> Carriage Return. Es torna el cursor al principi <code>\\t</code> Tabulador. S'avan\u00e7a M\u00e9s exemples: Python<pre><code>print(\"Exemple 1\")\nprint(\"Hola\",end='')\nprint(\"\\t\",end='')\nprint(\"Adeu\")\n\nprint(\"Exemple 2\")\nprint(\"Hola\",end='')\nprint(\"\\b\",end='')\nprint(\"Adeu\")\n\nprint(\"Exemple 3\")\nprint(\"Hola\",end='')\nprint(\"\\r\",end='')\nprint(\"Adeu\")\n\nprint(\"Exemple 4\")\nprint(\"Hola\",end='')\nprint(\"\\n\",end='')\nprint(\"Adeu\")\n\nprint(\"Exemple 5\")\nprint(\"Hola\",end='')\nprint(\"\\f\",end='')\nprint(\"Adeu\")\n</code></pre> Text Only<pre><code>Exemple 1   \nHola    Adeu    \nExemple 2 \nHolAdeu\nExemple 3\nAdeu                                                                  \nExemple 4\nHola\nAdeu  \nExemple 5                                                            \nHola         \n    Adeu\n</code></pre>"},{"location":"U02%20Python/02_Tipus_Variables_Operadors/#22-tipus-compostos","title":"2.2 Tipus compostos","text":"<p>Els tipus simples serveixen quan tenim que guardar una informaci\u00f3 simple, \u00e9s a dir formada per una s\u00f3la dada. Exemple s\u00f3n una temperatura, un nom, una edat, etc. La cosa ja canvia quan tenim que guardar una informaci\u00f3 formada per varies dades, com per exemple una data de naixement. Com \u00e9s evident, aquesta informaci\u00f3 est\u00e0 formada per 3 informacions simples (dia, mes i any). Altre exemple seria una adre\u00e7a, formada per tipus de carrer, nom del mateix, n\u00famero, escala, codi postal, etc.</p> <p>Aquest tipus de dades s'estudiaran m\u00e9s endavant, i s\u00f3n tipus que els definirem els programadors, prenent com a base els b\u00e0sics que hem vist anteriorment.</p>"},{"location":"U02%20Python/02_Tipus_Variables_Operadors/#23-declaracio-de-variables","title":"2.3 Declaraci\u00f3 de variables","text":"<p>Una variable \u00e9s una porci\u00f3 de mem\u00f2ria (RAM), representada per un nom (identificador) on es guardar\u00e0 un valor que pot variar al llarg de l\u2019execuci\u00f3 d\u2019un programa. Els llenguatges de programaci\u00f3, depenent de com es declaren les variables poden ser de tipat fort o din\u00e0mic. Anem a veure-ho i veurem exemples.</p> <p>Els llenguatges fortament tipat obliguen de indicar la variable de quin tipus ser\u00e0 abans de fer-la servir. Exemples d'aquest llenguatges s\u00f3n <code>C</code> i <code>Java</code>. Despr\u00e8s al moment de fer servir les variables els llenguatges vigilen i controlen que el valor que s'emmagatzema correspon al tipus de la variable. Cas de no correspondre donar\u00e0 error.</p> Llenguatge fortment tipat Java<pre><code>int n;      // diguem que n \u00e9s enter\nfloat x;    // diguem que x \u00e9s real\n\nn=10;         // OK\nn=\"hola\";     // ERROR\nx=5.47;       // OK\nx=7;          // conversi\u00f3:  x valdr\u00e0 7.0\n\nn=4.56        // semierror:  n valdr\u00e0 4, es perd la part real\n</code></pre> <p>Els llenguatges de tipat din\u00e0mic, com poden ser <code>Python</code> o <code>PHP</code> no cal declarar la variable pr\u00e8viament, simplement si ens cal una variable, li assignem el valor que vullguem i ja est\u00e0. Mai ens ocorreran les situacios d'error d'abans. EL que ens pot oc\u00f2rrer \u00e9s que una variable que contenia un numero, li assignem altre tipus i ens porte a situacions inconsistents. Tindrem que tenir molta cura en aquests casos.</p> Llenguatge de tipat feble Python<pre><code>n=10        # \u00e9s int\nn=5.67      # ara \u00e9s float\nn=6         # ara torna a ser int\nn=n+2       # int i val 8\n\nn=\"salut\"   # ara n \u00e9s str (String) , no dona error, pero...\nn=n+2       # ERROR, no li podem sumar 2 al text \"salut\"\nn=n*2       # ESPAI, multiplicar una cadena per un n\u00famero el duplica \"salutsalut\"\n</code></pre> <p>El tipat de <code>Python</code> es coneix tamb\u00e9 com a Duck typing</p>"},{"location":"U02%20Python/02_Tipus_Variables_Operadors/#24-ambit-i-visibilitat","title":"2.4 \u00c0mbit i visibilitat","text":"<p>Les variables (i constants) poden definir-se/declarar-se en qualsevol part del programa, per\u00f2 segons el lloc on siguen declarades, les podrem fer servir en tot el programa (globals) o nom\u00e9s en alguna part (locals).</p> <ul> <li>La visibilitat    \u00e9s la propietat que indica si es pot accedir o no a una variable en un punt determinat del programa.</li> <li>L\u2019\u00e0mbit \u00e9s la zona del programa on \u00e9s visible una variable.</li> </ul> <p>A partir d\u2019estos conceptes podem diferenciar entre objectes locals i globals:</p> <ul> <li>Objectes locals: Variables (o constants) declarades dins d\u2019un bloc o funci\u00f3 i, per tant, visibles nom\u00e9s en l\u2019\u00e0mbit d\u2019eixe bloc i dins dels seus sub-blocs.</li> <li>Objectes globals: Variables (o constants) declarades al programa principal (fora del main) i, per tant, visibles des de qualsevol lloc del programa. </li> </ul> <p>Tenir en compte que:</p> <ul> <li>En <code>C</code> i <code>Java</code> anomenem bloc a tot all\u00f2 que est\u00e0 entre claus { }. Per tant, qualsevol funci\u00f3, com veurem m\u00e9s endavant, \u00e9s un bloc.</li> <li>En <code>Python</code> un bloc s\u00f3n totes aquelles instruccions que estan al mateix nivell d'indentaci\u00f3, mitjan\u00e7ant tabulacions.</li> </ul> <p>Cal tindre clar que si es declaren variables en un bloc (locals) oculten les variables amb el mateix nom globals.  </p> <p>Aquests conceptes s'estudiaran m\u00e9s endavant, quan treballem en la programaci\u00f3 modular</p>"},{"location":"U02%20Python/02_Tipus_Variables_Operadors/#25-operadors-i-expressions","title":"2.5 Operadors i Expressions","text":"<p>Per tancar aquest tema anem a estudiar els operadors que disposem als nostres llenguatges, aix\u00ed com la manera d'interactuar amb l'usuari per a demanar-li dades i mostrar-li els resultats. Mitjan\u00e7ant els operadors podrem construir expressions complexes per a formar els nostres algorismes.</p>"},{"location":"U02%20Python/02_Tipus_Variables_Operadors/#251-operadors-aritmetics","title":"2.5.1 Operadors aritm\u00e8tics","text":"<p>Anem a veure els operadors dels llenguatges de programaci\u00f3. La majoria s\u00f3n similars que <code>Java</code> o altres llenguatges, per\u00f2 hi han xicotetes difer\u00e8ncies:</p> Significat <code>Python</code> <code>Java</code> Exemple Pot\u00e8ncia <code>**</code> no hi ha 3**2 retorna 9 Producte <code>*</code> <code>*</code> 3*6 retorna 18 Divisi\u00f3 <code>/</code> <code>/</code> 10/2  retorna 5 11/2  retorna 5.5 en Python 11/2  retorna 5 en Java (divisi\u00f3 entera) Divisi\u00f3 entera <code>//</code> (<code>Python</code>) 11/2 retorna 5 Residu <code>%</code> <code>%</code> 12/5 retorna 2 (residu de la divisi\u00f3 entera) Suma <code>+</code> <code>+</code> 12 + 7 retorna 19 Resta <code>-</code> <code>-</code> 12 - 7 retorna 5 <p>No cal gaire explicaci\u00f3, donat que son els operadors matem\u00e0tics de sempre. Tindre especial cura en la divisi\u00f3 entera.</p>"},{"location":"U02%20Python/02_Tipus_Variables_Operadors/#252-operadors-relacionals","title":"2.5.2 Operadors relacionals","text":"<p>Servixen per a comparar 2 expressions, retornant un valor l\u00f2gic: vertader o fals. Son els mateixos en <code>Python</code> i en <code>Java</code>:</p> Operador Significat &lt; Menor &gt; Major == Igual != o &lt;&gt;(sols Python) Distint &lt;= Menor o igual &gt;= Major o igual"},{"location":"U02%20Python/02_Tipus_Variables_Operadors/#253-operadors-logics","title":"2.5.3 Operadors l\u00f2gics","text":"<p>Els operadors l\u00f2gics s\u00f3n els de la taula seg\u00fcent. Serveixen per a composar distintes expressions l\u00f2giques:</p> <code>Python</code> <code>Java</code> Significat <code>or</code> <code>|                 |</code> El OR l\u00f2gic <code>and</code> <code>&amp;&amp;</code> La AND l\u00f2gica <code>not</code> <code>!</code> El NOT l\u00f2gic Example Python<pre><code>&gt;&gt;&gt; a = True\n&gt;&gt;&gt; b = False\n&gt;&gt;&gt; a and b\nFalse\n&gt;&gt;&gt; a or b\nTrue\n&gt;&gt;&gt; not a\nFalse\n</code></pre>"},{"location":"U02%20Python/02_Tipus_Variables_Operadors/#curtcircuit-dexpressions","title":"Curtcircuit d\u2019expressions","text":"<p>Si recordem les taules de veritat de les expressions l\u00f2giques, podem afirmar que:</p> <ul> <li><code>false AND ...    \u2192   false</code>: false and els que siga sempre \u00e9s false</li> <li><code>true OR ...      \u2192   true</code>: true or el que siga sempre \u00e9s true</li> </ul> <p>Per tant, com les expressions s\u2019avaluen d\u2019esquerra a dreta, en el moment en qu\u00e8  puga assegurar el valor final de l\u2019expressi\u00f3 l\u00f2gica (true o false), parar\u00e0 d\u2019avaluar-la. Esta manera de treballar s\u2019anomena curtcircuit d\u2019expressions. Aix\u00f2 ens d\u00f3na un benefici pel que fa a control d\u2019errors i a velocitat d\u2019execuci\u00f3.</p> <p>Exemples:</p> Java<pre><code>if ( (dto_1&gt;0) || (dto_2&gt;0) || (dto_3&gt;0) )\n    printf(\"S\u2019ha aplicat algun descompte\");\n</code></pre> <p>Si el <code>dto_1</code> \u00e9s major que 0, ja no es comproven les altres 2 expressions i passa a executar-se directament el <code>print</code>.</p> Python<pre><code>(x&lt;0) and print(\"El valor de la variable x \u00e9s negatiu\")\n</code></pre> <p>Nom\u00e9s es far\u00e0 el printf si el valor de x \u00e9s negatiu.</p> Exercici resolt Pensa qu\u00e8 passaria en cada cas sense i amb curtcircuit d\u2019expressions. Python<pre><code># Versi\u00f3 1\nx=10\ny=0\nif ((x/y)&gt;2 and (y!=0)):\n  pass\n\n# Versi\u00f3 2\nx=10;\ny=0;\nif ((y!=0) and (x/y)&gt;2):\n  pass\n</code></pre> Soluci\u00f3 <p>A la versi\u00f3 1:  Python<pre><code>if ((x/y)&gt;2 and (y!=0)):                                                 \nZeroDivisionError: division by zero \n</code></pre></p> <p>A la versi\u00f3 2 cap error</p> <p>NOTA: l'ordre <code>pass</code> es fa servir quan volem deixar en blanc algun bloc de codi, com \u00e9s el cas que sols volem provar les condicions</p>"},{"location":"U02%20Python/02_Tipus_Variables_Operadors/#26-operadors-dassignacio","title":"2.6 Operadors d\u2019assignaci\u00f3","text":"<p>En tots els llenguatges de programaci\u00f3 l\u2019operador d\u2019assignaci\u00f3 \u00e9s el s\u00edmbol igual <code>=</code>. Aques operador necessita una variable a l'esquerre i una expressi\u00f3 a la dreta. El funcionament consistix en assignar a la variable el valor de l'expressi\u00f3 pr\u00e8viament calculada. Funciona avaluant primer la part de la dreta, obtenint el seu resultat i assignant-lo a la variable de l\u2019esquerra.</p> <p></p> <p>Per exemple:        </p> Text Only<pre><code>x = 10;\ny = 20;\nx = x + 1;    # x valdr\u00e0 11\ny = x + y;    # y valdr\u00e0 31\n</code></pre> <p>Per descomptat, l\u2019assignaci\u00f3 \u00e9s destructiva, ja que elimina el valor antic de la variable. \u00c9s a dir, nom\u00e9s pot guardar una dada en un moment determinat.</p> <p>Els llenguatges tamb\u00e9 permet assignar un valor a diverses variables en una assignaci\u00f3 encadenada. Van assignat-se els valors de dreta a esquerre. <code>a=b=c=d=2</code>. L\u2019expressi\u00f3 anterior \u00e9s equivalent a fer les seg\u00fcents assignacions (i en eixe ordre):</p> Text Only<pre><code>d = 2;\nc = d;\nb = d;\na = d;\n</code></pre>"},{"location":"U02%20Python/02_Tipus_Variables_Operadors/#operadors-aritmetics-reduits-operacio-assignacio","title":"Operadors aritm\u00e8tics redu\u00efts (Operaci\u00f3-assignaci\u00f3)","text":"<p>Existixen formes compactes d\u2019escriure algunes operacions aritm\u00e8tiques molt freq\u00fcents. S\u00f3n els operadors redu\u00efts: \u2022   Operadors d\u2019actualitzaci\u00f3: <code>+=</code>, <code>-=</code>, <code>*=</code>, <code>/=</code> i <code>%=</code> \u2022   Operadors autoincrement i autodecrement: <code>++</code>, <code>--</code> (sols <code>C</code>i <code>Java</code>) Estos operadors fan 2 coses: una operaci\u00f3 i una assignaci\u00f3.</p>"},{"location":"U02%20Python/02_Tipus_Variables_Operadors/#operadors-dactualitzacio","title":"Operadors d\u2019actualitzaci\u00f3","text":"<p>A banda del cl\u00e0ssic <code>=</code>, existixen 5 operadors m\u00e9s d\u2019assignaci\u00f3, que estan formats amb els operadors aritm\u00e8tics i l\u2019operador <code>=</code>.</p> Assignaci\u00f3 redu\u00efda Assignaci\u00f3 equivalent <code>x += y</code> <code>x = x + y</code> <code>x -= y</code> <code>x = x - y</code> <code>x *= y</code> <code>x = x * y</code> <code>x /= y</code> <code>x = x / y</code> <code>x //= y</code> <code>x = x // y</code> <code>x %= y</code> <code>x = x % y</code> <p>On <code>x</code> \u00e9s una variable i <code>y</code> una expressi\u00f3, constant o variable.</p> Example d'assignacions Java<pre><code>int x, y;\ny = 1;\nx = 4;\nx += y;     // x = x + y        \u2192 x = 5\nx *= 2;     // x = x * 2        \u2192 x = 10\nx -= 3 - y;     // x = x \u2013 (3 - y)  \u2192 x = 10 \u2013 (2)  \u2192 x = 8\n</code></pre>"},{"location":"U02%20Python/02_Tipus_Variables_Operadors/#operadors-autoincrement-i-autodecrement-javai-c","title":"Operadors autoincrement i autodecrement (<code>Java</code>i <code>C</code>)","text":"<p>Els operadors incrementals <code>++</code> i <code>--</code> s\u00f3n operadors unaris que incrementen o decrementen en 1 unitat la variable a qui acompanyen. </p> <ul> <li>Si l\u2019operador va davant (<code>++x</code>), primer s\u2019incrementa la variable i despr\u00e9s s\u2019utilitza el valor de la variable en l\u2019expressi\u00f3 on apareix. </li> <li>Si l\u2019operador va despr\u00e9s (<code>x++</code>), primer s\u2019utilitza el valor de la variable en l\u2019expressi\u00f3 i despr\u00e9s s\u2019incrementa la variable.</li> </ul> <p></p> <p></p> <p>Fixa't que pots trobar concursos de programaci\u00f3 ofuscada</p>"},{"location":"U02%20Python/02_Tipus_Variables_Operadors/#27-altres-operadors","title":"2.7 Altres operadors","text":""},{"location":"U02%20Python/02_Tipus_Variables_Operadors/#271-operador-condicional-java","title":"2.7.1 Operador condicional  <code>? :</code> (<code>Java</code>)","text":"<p>Sintaxi: <code>condici\u00f3  ?  expressi\u00f3_s\u00ed  :  expressi\u00f3_no ;</code> Exemples d\u2019\u00fas:</p> <ol> <li>Assignar un valor diferent a una variable segons una condici\u00f3:</li> </ol> Java<pre><code>major = a &gt; b ? a  : b ;\ndistancia = a &gt; b ?   a \u2013 b  ; b \u2013 a;\nnum_positiu = num &gt; 0 ? num  : -num  ;\n</code></pre> <ol> <li> <p>Mostrar un valor diferent segons una condici\u00f3: Text Only<pre><code>printf(  edat&gt;18 ?  \u201cAdult\u201d : \u201cInfantil\u201d );\n</code></pre></p> </li> <li> <p>Executar una instrucci\u00f3 diferent segons una condici\u00f3: Text Only<pre><code>edat&gt;18?  printf(\u201cAdult\u201d)  : printf(\u201cInfantil\u201d);\n</code></pre></p> </li> </ol> <p>Nota: tamb\u00e9 es poden posar operadors condicionals dins d\u2019altres.</p> <p>Exercici proposat 1 Fes un programa que, donats 2 variables enteres, mostre quin \u00e9s el n\u00famero m\u00e9s gran i quin el m\u00e9s menut.</p>"},{"location":"U02%20Python/02_Tipus_Variables_Operadors/#272-operador-sizeof","title":"2.7.2 Operador sizeof","text":"<p>La quantitat de bytes que s\u2019utilitza per a guardar un determinat tipus de dades dep\u00e9n de la versi\u00f3 del compilador i del tipus de processador que s\u2019utilitze. Per tant, perqu\u00e8 el nostre programa puga ser portable, de vegades \u00e9s necessari saber quants bytes ocupen les variables amb les quals treballarem. Per a aix\u00f2, <code>C</code> i <code>Java</code> disposa de l\u2019operador <code>sizeof()</code>, qui calcula la quantitat de bytes que ocupa la variable o tipus que li posem dins dels par\u00e8ntesis <code>x = sizeof( variable o tipus )</code>.</p> En <code>Python</code> per a calcular-ho podem fer: Python<pre><code>import sys\n\nx=10\ntext='10'\n\nprint(sys.getsizeof(x),\"bytes\")\nprint(sys.getsizeof(text), \"bytes\")\n</code></pre>"},{"location":"U02%20Python/02_Tipus_Variables_Operadors/#28-expressions","title":"2.8 Expressions","text":"<p>Ara que ja hem vist els tipus d\u2019operands i els operadors, ja podem formar expressions. Qu\u00e8 pot ser una expressi\u00f3?</p> <ul> <li>Un valor (constant literal)</li> <li>Una constant amb nom o una variable</li> <li>Una funci\u00f3</li> <li>Una combinaci\u00f3 dels elements anteriors amb operadors, els quals han de complir certes regles de construcci\u00f3.</li> <li>Res m\u00e9s \u00e9s una expressi\u00f3</li> </ul>"},{"location":"U02%20Python/02_Tipus_Variables_Operadors/#29-conversions-de-tipus","title":"2.9 Conversions de tipus","text":"<p>Dins d\u2019una expressi\u00f3 poden apar\u00e9ixer dades de distints tipus. Aleshores, el compilador ha de prendre una decisi\u00f3 de com fer el c\u00e0lcul i no donar error.</p>"},{"location":"U02%20Python/02_Tipus_Variables_Operadors/#291-promocio-interna","title":"2.9.1 Promoci\u00f3 interna","text":"<p>Si en una expressi\u00f3 hi ha dades de diferent tipus, el compilador transforma els tipus d\u2019una grand\u00e0ria inferior al tipus de la dada de grand\u00e0ria superior.</p> <p><code>char \u2192 int \u2192 unsigned \u2192 long \u2192 unsigned long \u2192 float \u2192 double \u2192 long \u2192 double</code></p> <p>Nota Com <code>Python</code> no te tipat, aix\u00f2 no passar\u00e0 i sempre es canviar\u00e0 el tipus de dades</p>"},{"location":"U02%20Python/02_Tipus_Variables_Operadors/#292-promocio-per-assignacio","title":"2.9.2 Promoci\u00f3 per assignaci\u00f3","text":"<p>Esta conversi\u00f3 la fa el compilador quan s\u2019intenta assignar a una variable una expressi\u00f3 de diferent tipus.</p> <ul> <li>(int) = (char)      \u2192 no hi ha problema.</li> <li>(char) = (int)      \u2192   s\u2019elimina els bytes menys significatiu.</li> <li>(int) = (float)         \u2192   es trunca la part fraccion\u00e0ria.</li> <li>(float) = (double)  \u2192   s\u2019arredonix el n\u00famero</li> </ul> <p>En els casos on es perd certa informaci\u00f3 ens pot portar a resultats inesperats. Per tant, en eixos casos \u00e9s recomana fer conversions for\u00e7ades.</p> <p>Nota Com <code>Python</code> no te tipat, aix\u00f2 no passar\u00e0 i sempre es canviar\u00e0 el tipus de dades.</p>"},{"location":"U02%20Python/02_Tipus_Variables_Operadors/#293-promocio-forcada-o-casting","title":"2.9.3 Promoci\u00f3 for\u00e7ada o C\u00e0sting","text":"<p>En este cas no esperem que siga el compilador qui fa\u00e7a la promoci\u00f3 (conversi\u00f3 de tipus), sin\u00f3 que ser\u00e0 el propi programador qui indique quina dada ha de canviar de tipus i a quin. S\u2019especifica posant el tipus entre par\u00e8ntesi just abans de l\u2019expressi\u00f3 en <code>Java</code> o fent una crida a la funci\u00f3 que converteix el tipus en <code>Python</code>:</p> <ul> <li><code>Java</code> \u2192 <code>(tipus) expressi\u00f3</code></li> <li><code>Python</code>\u2192 <code>tipus(expressi\u00f3)</code></li> </ul> Exemples: Java<pre><code>int n = 10; m = 3;\nfloat x, y;\nx = (float)(n/m) ;  // (float) 3      \u2192 3.0\nx = (float)n/m;     // (float)(n) / m   \u2192 10.0 / 3  \u2192  3.3333..\n</code></pre>"},{"location":"U02%20Python/02_Tipus_Variables_Operadors/#210-precedencia-i-associativitat-doperadors","title":"2.10 Preced\u00e8ncia i associativitat d\u2019operadors","text":"<p>Ac\u00ed tenim una relaci\u00f3 dels operadors ordenats per preced\u00e8ncia de major a menor. En cas d\u2019igualtat de preced\u00e8ncia de diversos operadors en una expressi\u00f3, l\u2019associativitat ens diu per on es comen\u00e7a a avaluar.</p> <p>Preced\u00e8ncia i associativitat en Python</p> <p></p> <p>Preced\u00e8ncia i associativitat en C i Java</p> <p></p>"},{"location":"U02%20Python/02_Tipus_Variables_Operadors/#211-entrada-i-eixida-en-python","title":"2.11 Entrada i eixida en Python","text":"<p>Les instruccions d\u2019entrada i eixida (a partir d\u2019ara E/S) permeten la construcci\u00f3 de programes interactius. \u00c9s a dir, introduir dades des de teclat (<code>input</code>) i visualitzar en pantalla els resultats (<code>print</code>). </p> <p>Les funcions d\u2019E/S es dividixen en 2 grups:</p> <ul> <li>Sense format \u2192 es mostren els text i numeros com apareixen</li> <li>Amb format \u2192 es formaten els numeros d'alguna manera especial</li> </ul>"},{"location":"U02%20Python/02_Tipus_Variables_Operadors/#2111-sortida-de-dades-la-funcio-print","title":"2.11.1 Sortida de dades: la funci\u00f3 <code>print</code>","text":"<p>Aquesta funci\u00f3 simplement mostra per pantalla all\u00f2 que li se passa, que \u00e9s un text. Anem a anar vegent-la de manera incremental, amb un codi comentat:</p> Example Python<pre><code>&gt;&gt;&gt; print(\"Hola\")\nHola\n&gt;&gt;&gt; print(\"Hola\",'que tal?',\"comen\u00e7ant el curs\")\nHola que tal? comen\u00e7ant el curs\n&gt;&gt;&gt; print(\"Hola \"+ \"com va\")\nHola com va\n</code></pre> <p>com podem veure <code>print</code> rep un o m\u00e9s texts, que poden estar entre cometes simples o dobles. Aques texts els separa per blancs i afig un bot de l\u00ednia al final de tota la uni\u00f3 de texts. Les cadenes de text poden concatenar-se tamb\u00e9 amb l'operador <code>+</code>, per\u00f2 llavors haurem de separar-les nosaltres l'espai en blanc.</p> <p>La sintaxi completa \u00e9s:</p> <p><code>print(object(s), separator=separator, end=end, file=file, flush=flush)</code> - <code>object(s)</code> \u2192 son les cadenes de text o objectes que volem imprimir. - <code>separator=separator</code> \u2192 El s\u00edmbol que volem fer servir per a separar els objectes anterior. Sin\u00f3 posem res \u00e9s l'espai en blanc - <code>end=end</code> \u2192 El simbol que farem servir al final de tota la impressi\u00f3. Sin\u00f3 posem res \u00e9s el <code>enter</code> o bot de l\u00ednia. - <code>file=file</code> \u2192 Sin\u00f3 diguem res el text que s'escriu va a pantalla. Cas de voler enviar-ho a un fitxer, ac\u00ed indicarem a quim (ho veurem al final del curs). El fitxer que simbolitza la pantalla \u00e9s <code>sys.stdout</code> (el standard output del sistema) - <code>flush=flush</code> \u2192 aquest ser\u00e0 un valor boolea que indica si volem que la sortida es guarde (<code>True</code>) per a volcar-la tota de colp o si volem que tal i com s'execute es mostre (<code>False</code> i opci\u00f3 per defecte). Quan volem fer <code>flush</code> tot el que escrivim no es mostra i es guarda en un <code>buffer</code> o mem\u00f2ria temporal, fins que vullguem mostrar-ho tot de colp.</p> Example Python<pre><code>&gt;&gt;&gt; print(\"Hola\",\"com va tot?\")\nHola com va tot?\n&gt;&gt;&gt; print(\"Hola\",\"com va tot?\",sep='#')\nHola#com va tot?\n&gt;&gt;&gt; print(\"Hola\",\"com va tot?\",sep='---')\nHola---com va tot?\n&gt;&gt;&gt; print(\"Hola\",\"com va tot?\",sep='---',end=\"@\")\nHola---com va tot?@&gt;&gt;&gt;  # observa, sense bot de l\u00ednia\n</code></pre>"},{"location":"U02%20Python/02_Tipus_Variables_Operadors/#especificant-el-format","title":"Especificant el format","text":"Combinant texts i nombres Python<pre><code>&gt;&gt;&gt; print(\"Un enter es\",4,\"i un real \u00e9s\",3.256)\nUn enter es 4 i un real \u00e9s 3.256\n&gt;&gt;&gt; print(\"Un enter es\" +4 +\"i un real \u00e9s\" + 3.256)\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nTypeError: can only concatenate str (not \"int\") to str\n&gt;&gt;&gt; print(\"Un enter es \" + str(4) +\" i un real \u00e9s \" + str(3.256))\nUn enter es 4 i un real \u00e9s 3.256\n</code></pre> <p>vegem que:</p> <ul> <li>Si posem valors numerics amb els separadors no hi han problemes</li> <li>Si concatenem amb l'operador <code>+</code> si hi han problemes. Aquest problemes els podem solucionar convertint els n\u00fameros a cadenes amb la funci\u00f3 <code>str()</code></li> </ul> <p>Imaginem que volem imprimir certes hores del dia. EL que fariem \u00e9s:</p> Python<pre><code>print(\"Son les\",4,\"hores del dia\",7,\"de setembre i fa\",7.27,\"\u00baC\")\nprint(\"Son les\",16,\"hores del dia\",7,\"de setembre i fa\",15.27,\"\u00baC\")\nprint(\"Son les\",23,\"hores del dia\",17,\"de setembre i fa\",9.2,\"\u00baC\")\nprint(\"Son les\",3,\"hores del dia\",18,\"de setembre i fa\",10.3,\"\u00baC\")\n</code></pre> <p>la sortida que produeix \u00e9s:</p> Text Only<pre><code>Son les 4 hores del dia 7 de setembre i fa 7.27 \u00baC\nSon les 16 hores del dia 7 de setembre i fa 15.27 \u00baC\nSon les 23 hores del dia 17 de setembre i fa 9.2 \u00baC\nSon les 3 hores del dia 18 de setembre i fa 10.3 \u00baC\n</code></pre> <p>observem que cada cadena t\u00e9 una longitud distinta. El problema \u00e9s que els numeros enters ocupen 1  o 2 car\u00e0cters, depenenet del n\u00famero de xifres que tenen, i que els numeros decimal tamb\u00e9 varien la seua longitud. Aix\u00f2 ho podem arreglar amb els especificadors de format:</p> <ul> <li>Per a n\u00fameros enters <code>%nd</code>, on <code>n</code> indica quants car\u00e0ceters ha de omplir com a m\u00ednim</li> <li>Per a n\u00fameros reals <code>%n.mf</code>on <code>n</code> indica quants car\u00e0ceters ha de omplir com a m\u00ednim i <code>m</code> indica els decimals que ha de mostrar</li> </ul> <p>Python<pre><code>print(\"Son les %2d hores del dia %2d de setembre i fa %6.3f\"%(4,7,7.27))\nprint(\"Son les %2d hores del dia %2d de setembre i fa %6.3f\"%(16,7,15.27))\nprint(\"Son les %2d hores del dia %2d de setembre i fa %6.3f\"%(23,17,9.2))\nprint(\"Son les %2d hores del dia %2d de setembre i fa %6.3f\"%(3,18,10.3))\n</code></pre> la sortida que produeix \u00e9s: Text Only<pre><code>Son les  4 hores del dia  7 de setembre i fa  7.270\nSon les 16 hores del dia  7 de setembre i fa 15.270\nSon les 23 hores del dia 17 de setembre i fa  9.200\nSon les  3 hores del dia 18 de setembre i fa 10.300\n</code></pre></p> M\u00e9s formats de cadenes <p>Les cadenes un cop construides les podem formatar i aliniar a esquerre, centre i dreta, tal i com es veu:</p> Python<pre><code>cadena=\"Aix\u00f2 \u00e9s un text\"\n\n&gt;&gt;&gt; print(cadena.ljust(60,'_'))\nAix\u00f2 \u00e9s un text_____________________________________________\n\n&gt;&gt;&gt; print(cadena.center(60,'_'))\n______________________Aix\u00f2 \u00e9s un text_______________________\n\n&gt;&gt;&gt; print(cadena.rjust(60,'_'))\n_____________________________________________Aix\u00f2 \u00e9s un text\n</code></pre> <p>Com es pot veure les funci\u00f3n <code>.rjust</code>, <code>.center</code> i <code>.ljsut</code> justifiquen el text al que s'apliquen, ocupant els car\u00e0cter que s'indiquen en el primer argument, i omplint els buits amb el car\u00e0cter que s'indica en el segon argument (per defecte blanc).</p> <p>Dins de les cadenes poden fer-se servir tamb\u00e9 els car\u00e0cters especials: <code>\\a</code>, <code>\\b</code>, <code>\\n</code>,<code>\\r</code>,<code>\\t</code> i <code>\\\\</code> per a una contrabarra.</p>"},{"location":"U02%20Python/02_Tipus_Variables_Operadors/#2112-entrada-de-dades-la-funcio-input","title":"2.11.2 Entrada de dades: la funci\u00f3 <code>input</code>","text":"<p>La funci\u00f3 <code>input</code> llig all\u00f2 que l'usuari ha escrit fins que polse un <code>enter</code>. \u00c9s molt interessant posar com a argument all\u00f2 que li volem preguntar, sin\u00f3 hem de fer servir abnas la funci\u00f3 <code>print</code>. Exemple:</p> Python<pre><code>print(\"Dis-me la teua edat\")\nedat=input()\n\n# \u00e9s molt m\u00e9s c\u00f2mode fer\nedat=input(\"Dis-me la teua edat\")\n</code></pre> <p>El gran problema \u00e9s que aquesta fuci\u00f3 retorna un <code>str</code> i llavors, encara que el podem fer servir no podrem fer c\u00e0lculs amb ells. La soluci\u00f3 \u00e9s fer un c\u00e0sting o conversi\u00f3 de tipus segons la dada que volem llegir:</p> Llegir i transformar Python<pre><code>edat=int(input(\"Dis-me la teua edat: \"))\n\npes=float(input(\"Dis-me la teua pes: \"))\n\nnom=input(\"Dis-me el teu nom: \")  # no cal fer conversi\u00f3\n\nprint(\"Hola\",nom,\", tens\",edat,\"anys i peses\",pes,\"kilos)\n</code></pre> <p>Si volem llegir diversos arguments alhora, separats per algun caracter especial, podem fer servir la funci\u00f3 <code>split</code> de la classe <code>str</code>:</p> Llegir i dividir Python<pre><code>pes, altura=input(\"Dis-me el pes i altura (separats per blanc): \").split()\n\nhores, minuts, segons=input(\"Dis-me l'hora exacta en format hh:mm:ss: \").split(\":\")\n\n# ATENCIO -&gt; aix\u00f2 ho retorna tot en format str. Hi hauria que fer despr\u00e8s les conversi\u00f3n als formats adequats\n</code></pre>"},{"location":"U02%20Python/03_Estructures_de_control/","title":"3. Estructures de control","text":""},{"location":"U02%20Python/03_Estructures_de_control/#31-sentencies","title":"3.1. Sent\u00e8ncies","text":"<p>Les sent\u00e8ncies s\u00f3n cadascuna de les ordres que es donen a un programa. Si recordem un algorisme \u00e9s una seq\u00fcencia de passos, doncs be, una sent\u00e8ncia especificar\u00e0 un (o diversos) d'aquests passos per transcriure un algorisme a un programa.</p> <p>Les sent\u00e8ncies poden ser de distint tipus, ateses a la seua naturalesa:</p> <ul> <li>Importaci\u00f3. S\u00f3n les sent\u00e8ncies (habitualment a l'inici del programa) que indiquen quines llibreries del programa van a fer-se servir. Com ja hem vist, les llibreries s\u00f3n un conjunt de funcions que ja estan a punt per a fer-se servir.</li> </ul> Text Only<pre><code>import java.io      // importaci\u00f3 de llibreria en Java\nimport time         // importaci\u00f3 de llibreria en Python\n#include&lt;stdio.h&gt;   // importaci\u00f3 de llibreria en C\n</code></pre> <ul> <li>Declaratives. S\u00f3n les sent\u00e8ncies que es fan servir per a indicar alguna cosa. No representen cap acci\u00f3 dins d'un programa. Per exemple destaquen la declaraci\u00f3 de variables o les de funcions:</li> </ul> Text Only<pre><code>int n;                      // en Java es declaren les variables\ndef area(base, altura):     // declaraci\u00f3 de funci\u00f3 en Python\npublic float area(float base, float altura)  //declaraci\u00f3 de funci\u00f3 en Java\n</code></pre> <ul> <li>Assignacions o Instruccions sequencials. S\u00f3n les instruccions propiament dites. Serveixen per a fer un c\u00e0lcul i assignar-lo a una variable. El c\u00e0lcul es pot fer amb qualsevol dels operadors estudiats, i habitualment guardar el valor calculat en una variable. Tamb\u00e9 poden simplement fer una acci\u00f3 sense guardar-la en cap lloc, com puga ser mostrar alguna cosa per pantalla (<code>print</code>), emetre un so o esborrar un fitxer.</li> <li>Sent\u00e8ncies de control. \u00c9s el que estudiarem en aquest tema. S\u00f3n aquelles instruccions que ens permeten moure el fluxe continuo o de dalt cap avall d'un programa, permetent-nos prendre desicions i repetir una s\u00e8rie d'intruccions les vegades que calga. Es tracta de les bifurcacions i dels bucles</li> </ul>"},{"location":"U02%20Python/03_Estructures_de_control/#32-sentencies-alternatives","title":"3.2. Sent\u00e8ncies alternatives","text":""},{"location":"U02%20Python/03_Estructures_de_control/#321-condicions-simples","title":"3.2.1. Condicions simples","text":"<p>Com ja em comentat, l'ordre en el fluxe del programa \u00e9s de dalt cap avall i d'una en una. </p> Text Only<pre><code>...\nsent\u00e8ncia 1\nsent\u00e8ncia 2\nsent\u00e8ncia 3\n...\nsent\u00e8ncia n\n</code></pre> <p>Si volem alternar entre un o altre cam\u00ed deurem de fer alguna men\u00e1 de pregunta o condici\u00f3, de manera que si passa una condici\u00f3 farem una cosa i cas que no pase farem altra. La sintaxi en <code>Python</code> \u00e9s:</p> Bifurcacions simples en <code>Python</code> Python<pre><code>if condicio1:\n    sentencia 1\n    sentencia 2\n    #...\nelif condicio2:\n    sentencia a\n    sentencia b\n    #...\nelse:\n    sentencia n\n    sentencia m\n    #...\n</code></pre> <p>On:</p> <ul> <li><code>condicio1</code> i <code>condicio2</code> son expressions relacionals, que ens donen com a resultat <code>True</code> o <code>False</code>. Si s'acompleix la <code>condicio1</code> s'executa les sentencies indentades despr\u00e8s dels <code>:</code> (sentencies 1,2,...). Molt important el tabular be aquelles sent\u00e8ncies dins de cada <code>if</code></li> <li>Si la <code>condicio1</code> ha donat com ha resultat <code>False</code> llavors s'avalua la <code>condicio2</code>, dins del <code>elif</code>. <code>elif</code> ve a ser la contracci\u00f3 de <code>else - if</code>. Si la <code>condici\u00f32</code> \u00e9s <code>True</code> llavors s'executa el bloc indentat (sentencies a, b ,...). Poden apareixer molts o cap bloc <code>elif</code>, per la qual cosa \u00e9s opcional.</li> <li>Sin\u00f3 s'ha acomplit cap condicio (ni <code>if</code> ni <code>elif</code>) finalment s'executar\u00e0 el bloc <code>else</code>, com alternativa a niguna de les anteriors. Aquest bloc tamb\u00e9 \u00e9s opcional.</li> </ul> <p>L'equivalent en <code>Java</code> \u00e9s el seg\u00fcent:</p> Bifurcacions simples en <code>Java</code> Java<pre><code>if (condicio1){         // condici\u00f3 entre par\u00e8ntesi\n    sentencia 1;        // els blocs venen marcat per les claus\n    sentencia 2;        // no per la indentaci\u00f3\n    //...\n}\nelse if (condicio2){       // no es contrau else-if per elif\n    sentencia a;\n    sentencia b;\n    //...\n    }\nelse{\n    sentencia n;\n    sentencia m;\n    //...\n}\n</code></pre> Exercici resolt Demanar un numero a l'usuari i indicar si el n\u00famero \u00e9s positiu. Python<pre><code>n=int(input(\"Dona'm un numero: \"))\nif n&gt;=0:\n    print(\"El numero\",n,\"es positiu\")\n\nprint(\"Fi del programa\")\n</code></pre> Exercici resolt Demanar un numero a l'usuari i indicar si el n\u00famero \u00e9s positiu o negatiu. Python<pre><code>n=int(input(\"Dona'm un numero: \"))\nif n&gt;=0:\n    print(\"El numero\",n,\"es positiu\")\nelse:\n    print(\"El numero\",n,\"es negatiu\")\n\nprint(\"Fi del programa\")\n</code></pre> Exercici resolt Indicar la situaci\u00f3 administrativa d'una persona (estudiant, treballador o jubilat) depenent de la seua edat. Python<pre><code>edat=int(input(\"Dona'm l'edat de la persona: \"))\nif edat&lt;16:\n    print(\"Eres estudiant\")\nelif edat&lt;65:\n    print(\"Eres treballador\")\nelse:\n    print(\"Eres jubilat\")\n\nprint(\"Fi del programa\")\n</code></pre>"},{"location":"U02%20Python/03_Estructures_de_control/#322-condicions-compostes","title":"3.2.2. Condicions compostes","text":"<p>Com s'ha anomentat, despr\u00e8s del <code>if</code> o del <code>elif</code> ha d'apar\u00e8ixer una condici\u00f3, la qual ha d'avaluar-se a <code>True</code> o <code>False</code>. La condici\u00f3 pot ser simple, per\u00f2 tamb\u00e9 la podem fer composta i m\u00e9s complexa mitjan\u00e7ant els operadors <code>and</code>, <code>or</code> i <code>not</code>, seguint les taules de la veritat que vegerem als temes anteriors.</p> Exercici resolt Demanar un numero a l'usuari i indicar si parell i est\u00e0 entre 10 i 20 (incloses) Python<pre><code>n=int(input(\"Dona'm un numero: \"))\nif n%2==0 and (n&gt;=10 and n&lt;=20):\n    print(\"Si que es parell entre 10 i 20\")\nelse:\n    print(\"No compleix la condici\u00f3\")\n\nprint(\"Fi del programa\")\n</code></pre>"},{"location":"U02%20Python/03_Estructures_de_control/#323-condicions-niuades","title":"3.2.3. Condicions niuades","text":"<p>Si tenim diverses condicions que complir, com hem vist abans les podem composar amb els operadors l\u00f2gics. El tema \u00e9s que, sin\u00f3 es compleix la condici\u00f3 no sabrem si \u00e9s per la primera condici\u00f3 o per la segona (mirar l'exemple anterior). Llavors en aquests cassos el que podem fer \u00e9s posar condicions simples niuades (una dins de l'altra).</p> Programa alternatiu a la soluci\u00f3 anterior: Python<pre><code>n=int(input(\"Dona'm un numero: \"))\nif n%2==0:\n    if n&gt;=10 and n&lt;=20:\n        print(\"Si que es parell entre 10 i 20\")\n    elif:\n        print(\"El n\u00famero \u00e8s parell per\u00f2 no est\u00e0 entre 10 i 20\")\nelse:\n    print(\"El n\u00famero \u00e9s imparell\")\n\nprint(\"Fi del programa\")\n</code></pre>"},{"location":"U02%20Python/03_Estructures_de_control/#33-bucles","title":"3.3. Bucles","text":"<p>De vegades a un programa ens interessar\u00e0 pel motiu que siga repetir un conjunt d'instruccions. El nombre de repeticions pot saber-se a priori o no. Cas de saber-ho, direm que estem en bucles incondicional, i cas de no saber-ho en bucles condicionals, ja que la repetici\u00f3 es far\u00e0 fins que s'acomplisca una condici\u00f3.</p>"},{"location":"U02%20Python/03_Estructures_de_control/#331-bucles-condicionals-while","title":"3.3.1. Bucles condicionals. <code>while</code>","text":"<p>Imaginem la seg\u00fcent situaci\u00f3. A un programa volem calcular l'\u00e0rea i el cercle d'una circumfer\u00e8ncia, per la qual cosa hem de demanar el radi de la mateixa. </p> Primera soluci\u00f3 Python<pre><code>import math\n\nradi=int(input(\"Dona'm el radi de la circumferencia: \"))\n\narea=math.pi*radi**2\nprint(\"L'area de la cirumfer\u00e8ncia \u00e9s %6.3f\"%area)\n\nprint(\"Fi del programa\")\n</code></pre> <p>Aquest programa semble correcte a priori, per\u00e0 que passa si a l'executar li donem al radi un valor de <code>-4</code>, per exemple:</p> Text Only<pre><code>L'area de la cirumfer\u00e8ncia \u00e9s 50.265\nEl cercle de cirumfer\u00e8ncia \u00e9s -25.133\n</code></pre> <p>Quin rang de valors \u00e9s acceptable per al radi? La resposta \u00e9s nombres majors que zero. Anem a intentar solucionar-ho amb el que sabem. </p> Segona soluci\u00f3: Python<pre><code>import math\n\nradi=int(input(\"Dona'm el radi de la circumferencia: \"))\n\nif radi&gt;0:\n    area=math.pi*radi**2\n    cercle=2*math.pi*radi\n    print(\"L'area de la cirumfer\u00e8ncia \u00e9s %6.3f\"%area)\n    print(\"El cercle de cirumfer\u00e8ncia \u00e9s %6.3f\"%cercle)\nelse:\n    print(\"No podem fer c\u00e0lculs amb radis negatius o zero\")\n\nprint(\"Fi del programa\")\n</code></pre> <p>Com vegem ara sols fem el c\u00e0lcul quan el radi \u00e9s positiu. El problema \u00e9s que quan \u00e9s negatiu el programa acaba. Llavors el que podem fer quan l'usuari pose un radi negatiu \u00e9s tornar-lo a demanar. Qu\u00e8 pot passar? que el tornen a posar negatiu \ud83d\ude1e... </p> <p>La gran pregunta \u00e9s quants cops caldr\u00e0 demanar el radi fins assegurar-nos que el radi siga positiu?. Resposta: No ho sabem. Llavors haurem de demanar el radi fins tenir un valor positiu, </p> Tercera soluci\u00f3 Python<pre><code>import math\n\nradi=0              # Li assignem al radi un valor dels considerats com a incorrectes\nwhile radi&lt;=0:      # mentre la variable radi tingui un valor incorrecte \u2192 repetim     \n    radi=int(input(\"Dona'm el radi de la circumferencia: \"))\n    if (radi&lt;=0):   # Informem a l'usuari que ha posata valor incorrecte\n        print(\"No podem fer c\u00e0lculs amb radis negatius o zero\")\n\n#   si hem aconseguit eixir del bucle, \u00e9s per que la condici\u00f3 \u00e9s falsa\n#   per tant el radi&gt;0. Ja podem fer els c\u00e0lculs\n\narea=math.pi*radi**2\ncercle=2*math.pi*radi\nprint(\"L'area de la cirumfer\u00e8ncia \u00e9s %6.3f\"%area)\nprint(\"El cercle de cirumfer\u00e8ncia \u00e9s %6.3f\"%cercle)\n\nprint(\"Fi del programa\")\n</code></pre> <p>Vist aquest exemple, les conclussions s\u00f3n:</p> <ul> <li>Farem servir un bucle condicional o <code>while</code> quan el n\u00famero de repeticions no depenguen del programador ni del problema, sin\u00f3 de l'usuari o de les condicions d'execuci\u00f3, que cada cop son distintes.</li> <li>Abans d'escriure la condici\u00f3 haurem d'inicialitzar la varible(s) que apareixen a la condici\u00f3. En aquesta inicialitzaci\u00f3 la condici\u00f3 ha de ser <code>True</code>, de manera que puguem entrar al bucle. </li> <li>Dins del bucle haurem de modificar d'alguna manera eixa variable, de manera que en algun moment la condici\u00f3 sigui <code>False</code>, per poder eixir del bucle.</li> <li>Mai sabrem a priori quantes vegades s'executar\u00e0</li> </ul> Sintaxi de bucle <code>while</code>en <code>Python</code>: Python<pre><code>while condici\u00f3:\naccio1\naccio2\n...\naccion\n\nacci\u00f3_fora_del_bucle  \n</code></pre> <p>S'avalua la condici\u00f3, oc\u00f2rre que:</p> <ul> <li>La condici\u00f3 \u00e9s <code>True</code> \u2192 entrem al bucle, s'executen totes les accions, des de la <code>1</code> fins la <code>n</code>. En acabar es torna a avaluar la condici\u00f3.</li> <li>La condici\u00f3 \u00e9s <code>False</code> \u2192 s'acaba el bucle, i llavors s'executa <code>acci\u00f3_fora_del_bucle</code>.</li> </ul>"},{"location":"U02%20Python/03_Estructures_de_control/#convergencia","title":"Convergencia","text":"<p>Com s'ha comentat abans, l'execuci\u00f3 del bucle acaba quan la condici\u00f3 \u00e9s <code>False</code>. Observa els seg\u00fcents exemples i intenta pensar que passa quan s'executen:</p> <p>Python<pre><code>n=0\nwhile n&lt;100:\n    print(n)\n</code></pre> La sortida del programa anterior mostra <code>0</code> per sempre:</p> Text Only<pre><code>0\n0\n...\n0\n</code></pre> <p>Aix\u00f2 ocorre perqu\u00e8 no hem escrit cap ordre que modifica la <code>n</code> (no hem modificat la condici\u00f3). Aix\u00f2 ens provoca un bucle infinit. Modifiquem-ho:</p> Python<pre><code>n=0\nwhile n&lt;100:\n    print(n)\n    n=n-1\n</code></pre> <p>Ja hem modificat la <code>n</code>, i per tant la condici\u00f3, per\u00f2 la sortida ara \u00e9s:</p> Text Only<pre><code>0\n-1\n-2\n...\n-9999999999\n</code></pre> <p>En aquest cas la condici\u00f3 \u00e9s que <code>n&lt;100</code>, sent <code>n=0</code>. Nosaltres (per error \ud83d\ude43) modifiquem la <code>n</code> restant-li un en cada iteraci\u00f3. Llavors \u00e9s impossible que mai arribe a ser igual o superior a <code>100</code>. Tornem a estar en bucle infinit. Solucionem-ho</p> Python<pre><code>n=0\nwhile n&lt;100:\n    print(n)\n    n=n+1\n</code></pre> <p>Finalment s'imprimeix:</p> Text Only<pre><code>0\n1\n2\n...\n99\n</code></pre> <p>El que tenim que observar \u00e9s que la variable que controla la condici\u00f3 (<code>n</code>) ha de convergir al valor final (<code>100</code>). Observar tamb\u00e9 que el numero 100 no s'imprimeix, ja que quan <code>n==100</code> la condici\u00f3 \u00e9s <code>False</code>, i ja s'ix del bucle.</p>"},{"location":"U02%20Python/03_Estructures_de_control/#332-bucle-incondicional-bucle-for","title":"3.3.2. Bucle incondicional. Bucle <code>for</code>","text":"<p>Aquest tipus de bucles es fa servir quan sabem a priori el numero de vegades que volem repetir les instruccions que formen part del bucle. En aquest tipus de bucles hi ha una variable \u00edndex que ens permet portar un compte del nombre de repeticions que portem. En <code>Python</code> aquest bucle ha canviat bastant respecte a altre llenguatges com <code>Java</code>, llavor anem a explicar-ho en els dos llenguatges.</p>"},{"location":"U02%20Python/03_Estructures_de_control/#333-for-en-java","title":"3.3.3. <code>for</code> en <code>Java</code>","text":"<p>En <code>Java</code> el <code>for</code> te 3 apartats. Es fa servir una variable que s'inicia a un valor inicial. Despr\u00e8s es posa una condici\u00f3, com si fos un <code>while</code> i finalment es posa un increment que es far\u00e0 cada cop que s'executen les accions. El bucle anir\u00e0 repetint-se fins que la condici\u00f3 siqui <code>false</code></p> Java<pre><code>for (int i=0;i&lt;10;i++){\n    printf(i);\n}\n</code></pre> <p>aquest bucle imprimeix del 0 al 9 (recorda que el 10 ja no forma part, ja que no acompleix la condici\u00f3)</p> Java<pre><code>for (int i=0;i&lt;10;i=i+2){\n    printf(i);\n}\n</code></pre> <p>aquest bucle imprimeix del 0,2,4,6 i 8. L'increment en aquest cas es fa de 2 en 2</p> <p>Java<pre><code>for (int i=30;i&gt;=0;i=i-5){\n    printf(i);\n}\n</code></pre> aquest bucle mostrar\u00e0 30,25,20,15,10,5,0. Comen\u00e7a de 30 i va baixant de 5 en 5 fins a 0 (incl\u00f2s)</p> <p>En <code>Python</code> existeix tamb\u00e9 una variable que controla el bucle. La difer\u00e8ncia \u00e9s que hem d'indicar la seq\u00fcencia de valors que volem que prenga dita variable en forma de llistat o tupla. Parlarem de les tuples o llistats m\u00e9s endavant. Tot aix\u00f2 s'aconsegueix amb la funci\u00f3 <code>range()</code>, que \u00e9s molt completa i admet molts argument, per la qual cosa anem a fer un miniapartat per a explicar-la.</p>"},{"location":"U02%20Python/03_Estructures_de_control/#range","title":"<code>range()</code>","text":"<p>La seua sintaxi \u00e9s <code>range([start,] stop[, step])</code>:</p> <ul> <li><code>start</code> \u2192 indica des de quin n\u00famero comen\u00e7a la seq\u00fcencia. Si no s'indica s'escomen\u00e7a desde <code>0</code>.</li> <li><code>stop</code> \u2192 indica fins a quin l\u00edmit arribarem. La seq\u00fcencia acaba en l'anterior a <code>stop</code>.</li> <li><code>step</code> \u2192 indica de quant en quan es modifica la seq\u00fcencia. Si no es posa res va de 1 en 1 de manera ascendent. Aquest atribut no pot ser zero</li> </ul> <p>Example</p> Python<pre><code>&gt;&gt;&gt; range(10)                       # 10 n\u00fameros\n[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]      # Del 0 al 9\n&gt;&gt;&gt; range(0,5)                      # 5 numeros\n[0, 1, 2, 3, 4]                     # Del 0 al 4\n&gt;&gt;&gt; range(0,10,2)           \n[0, 2, 4, 6, 8]\n&gt;&gt;&gt; range(10,0,2)         # Est\u00e0 mal, no puc anar del 10 al 0\n[]                        # anant de 2 en 2      \n&gt;&gt;&gt; range(10,0,-2)              # Ara s\u00ed\n[10, 8, 6, 4, 2]\n&gt;&gt;&gt; range(0,51,10)\n[0, 10, 20, 30, 40, 50]\n\n# Si volem del 1 al 100\n&gt;&gt;&gt;range(1,101)\n\n&gt;&gt;&gt; range(1,10,0)\nTraceback (most recent call last):\nFile \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nValueError: range() step argument must not be zero\n</code></pre>"},{"location":"U02%20Python/03_Estructures_de_control/#334-for-en-python","title":"3.3.4. <code>for</code> en <code>Python</code>","text":"<p>Vista la funci\u00f3 <code>range()</code> podem veure el bucle for en <code>Python</code>:</p> Python<pre><code>for variable in llista:\n  accio1\n  accio2\n  ...\n</code></pre> <p>Es repeteix el bucle executant-se les accions on la varaible pren com a valor cada element de la llista. Si volem que la llista sigui una serie de n\u00fameros, ho substituirem per la funci\u00f3 <code>range()</code> vista anteriorment. Vegem els seg\u00fcents exemples, comparant-ho amb <code>Java</code>.</p> Exercici resolt Imprimir un llistat del 1 al 10: Python<pre><code>for i un range(1,11):\n    print(i)\n</code></pre> Exercici resolt Imprimir la taula de multiplicar de 3 Python<pre><code>for i un range(1,11):\n    print(\"3*\",i,\"=\",3*i)\n</code></pre> Exercici resolt Imprimir els numeros parells des del 40 fins al 0 (no incl\u00f2s) Python<pre><code>for i un range(40,0,-2):\n    print(i)\n</code></pre> <p>Veurem m\u00e9s avantages del <code>for</code> quan estudiem els vectors o tuples.</p>"},{"location":"U02%20Python/03_Estructures_de_control/#335-bucles-infinits","title":"3.3.5. Bucles infinits","text":"<p>Com hem vist abans, moltes vegades per error podem escriure bucles infinits, cosa que pot portar el sistema inform\u00e0tic a inestabilitats. Per\u00f2, moltes vegades ens interessar\u00e0 programa un bucle infinit i, de fet, \u00e9s fan servir molt\u00edssim. Pensem per exemple en un caixer autom\u00e0tic. El programa est\u00e0 en una espera infinita a que algun usuari vaja a executar algun procediment. Quan un usuari va i posa la targeta el programa propiment dit l'aten. Quan l'usuari acaba d'operar, el caixer es torna a posar en dita espera infinita. Vejam l'algorsime:</p> Text Only<pre><code>// ALGORISME CAIXER\n\n// Alg\u00fa encen el caixer autom\u00e0tic\nper sempre:\n    esperar_introduccio_targeta()\n    intent_pin=1\n    seguir=false\n    mentre (intents_pin&lt;=3)\n        PIN==llegir(\"Posa el PIN de la targeta\")\n        si  (PIN_OK(PIN))   // comprovar el PIN\n            seguir=true\n        sino\n            intents_pin=intents_pin+1\n        fi_si\n    fi_mentre\n    si (not seguir)  // pin incorrecte\n        tragar targeta\n        mostrar missatge\n    sino\n        operacio=llegir(\"Que vols fer\")\n        si (operacio==1)\n            // consultar saldo\n        sino si (operacio==2)\n            // treure diners\n        ...\n        ...\n    fi_si\nfi_per_sempre \n\n// alg\u00fa apaga el caixer autom\u00e0tic\n</code></pre> <p>Com aconseguim programar un <code>per_sempre</code> que hem indicat. La resposta es senzilla per\u00f2 no evident. Posar una condici\u00f3 que sempre siga certa i que sigui inmutable (que no es modifique)</p> Python<pre><code>while True:\n    accio1\n    accio2\n    ...\n</code></pre> <p>D'aquesta manera entrem al bucle i passe el que passe dins de les accions, el <code>True</code> com \u00e9s una constant no ser\u00e0 mai modificat, i llavors no eixirem del bucle.</p> <p>NOTA: No te sentit fer en algun lloc <code>while False:</code>, ja que en eixe bucle no s'entra mai (millor no escriure res).</p>"},{"location":"U02%20Python/03_Estructures_de_control/#ruptura-de-bucles-break-continue-i-else-als-bucles","title":"Ruptura de bucles. <code>break</code>, <code>continue</code> i <code>else</code> als bucles","text":"<p>Tot aix\u00f2 dels bucles infinits est\u00e0 molt be, per\u00f2 com podem eixir d'un bucle infinit? La resposta ens la dona la sent\u00e8ncia <code>break</code>, que ens permet eixir d'un bucle (independentment de la condici\u00f3, siga infinit o no):</p> <ul> <li><code>break</code> interromp l\u2019execucio\u0301 del bucle i seguim per la instruccio\u0301 seguent fora del bucle.</li> <li><code>continue</code> fa que el programa comence altra iteracio\u0301, encara que no s\u2019haja acabat l\u2019actual. Per tant les li\u0301nies que hi han dins d\u2019un bucle per davall del continue no s\u2019executen. Cas d\u2019estar dins d\u2019un <code>for</code>, anirem a l\u2019increment de la variable comptadora o al seg\u00fcent element de la llista.</li> <li><code>else</code> s'afig un bloc adicional a un bucle <code>while</code> que s'executar\u00e0 quan hem eixit del bucle debut a la falsetat de la condici\u00f3 del mateix, i no quan hem eixit per un <code>break</code>. No \u00e9s gaire intuitiu. </li> </ul> <p>!!! Example Exemple Python<pre><code>for i in range(20):         # Aix\u00f2 recorre del 0 al 19\n    print(i)\n    if i&lt;10:\n        continue\n    if i%2==0:\n        print(\"Es parell\")\n    if i&gt;=15:\n        break\n\nprint(\"Final del bucle\")\n</code></pre></p> <p>Aquest programa sols te sentit acad\u00e8mic, per entendre que far\u00e0 cada cosa:</p> <ul> <li>Imprimim el numero.</li> <li>Si els numeros son inferiors a 10 passem al seg\u00fcent nu\u00fameo (<code>continue</code>). Fixa't que ens botem tot el que queda dins del bucle</li> <li>Si es parell ho mostrem</li> <li>En arribar al 15 acabem el bucle (<code>break</code>), de manera que del 16 al 19 ja no es fa res m\u00e9s.</li> </ul> Text Only<pre><code>0\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\nEs parell\n11\n12\nEs parell\n13\n14\nEs parell\n15\nFinal del bucle\n</code></pre> <p>!!! notes NOTES: </p> <ul> <li>Les sent\u00e8ncies <code>break</code> i <code>continue</code> sempre es posaran dins d'un <code>if</code>, ja que sin\u00f3 s'executaran sempre dins del cos del bucle.</li> <li>El <code>break</code> permet eixir del bucle m\u00e9s niuat que hi ha. Si per exemple estem dins de un bucle niuat i volem acabar en tots els bucles, necessitarem dos <code>break</code> (un per cada bucle)</li> </ul>"},{"location":"U02%20Python/03_Estructures_de_control/#336-bucle-de-demanar-dades","title":"3.3.6. Bucle de demanar dades","text":"<p>Una de les parts m\u00e9s importants a l'hora de programar \u00e9s demanar dades a l'usuari, i penseu que l'usuari ser\u00e0 una gran font d'errors del nostre programa. Penseu que dins del sistema inform\u00e0tic, qui m\u00e9s errors provoca \u00e9s l'usuari, ja que fa clic on no toca, posa lletres quan correspon n\u00fameros i mai llig la documentaci\u00f3 ni els misstges d'error dels programes. \u00c9s per aix\u00f2 que deguem de ser molt cautelosos a l'hora de validar la informaci\u00f3 que ens dona. Par a practicar-ho anem a fer un exemple complet i ens servir\u00e0 tamb\u00e9 per a introduir el concepte d'excepcions.</p> <p>Exercici resolt Volem fer un programa que demana un n\u00famero i calcula el doble del mateix. Volem for\u00e7ar que el n\u00famero sigui positiu. En acabar preguntar\u00e0 a l'usuari si vol eixir o no, tinguent com a possibles respostes <code>s</code>o <code>n</code>. Cas de no voler sortir repetirem el mateix proc\u00e9s.</p> Soluci\u00f3 1 Fem el programa que demana un n\u00famero i calcula el doble del mateix Python<pre><code>n=int(input(\"Dona'm un numero: \"))\nprint(\"El numero es\",n,\"i el seu doble\",2*n)\n</code></pre> <p>Mirem que passa a l'executar:</p> Text Only<pre><code>Dona'm un numero: 4\nEl numero es 4 i el seu doble 8\nDona'm un numero: -5\nEl numero es -5 i el seu doble -10\nDona'm un numero: Hola\nTraceback (most recent call last):\n  File \"proves.py\", line 1, in &lt;module&gt;\n    n=int(input(\"Dona'm un numero: \"))\nValueError: invalid literal for int() with base 10: 'Hola'\n</code></pre> <p>Oc\u00f3rre que:</p> <ul> <li>si podem tenir n\u00fameros negatius, </li> <li>el programa demana un n\u00famero, fa l'operaci\u00f3 i acaba.</li> </ul> Millora 1 Preguntem a l'usuari si vol acabar <p>Per a fer aquesta millora anem a fer un bucle infinit, on posarem al cos del bucle el que hem programat anteriorment, afegint la pregunta a l'usuari si vol acabar o no, i en cas de voler acabar, trencarem el bucle.</p> Python<pre><code>while True:\n    # Demanem el numero i calculem el doble\n    n=int(input(\"Dona'm un numero: \"))\n    print(\"El numero es\",n,\"i el seu doble\",2*n)\n\n    # Preguntem a l'usuari si vol continuar\n    resposta=input(\"Vols eixir del programa (s/n): \")\n    if resposta=='s' or resposta=='S':\n        break\n\nprint(\"Acabant el programa. Adeu\")\n</code></pre> <p>A l'executar apareix:</p> Text Only<pre><code>Dona'm un numero: 3\nEl numero es 3 i el seu doble 6\nVols eixir del programa (s/n): n\nDona'm un numero: 12\nEl numero es 12 i el seu doble 24\nVols eixir del programa (s/n): k        &lt;ATENCI\u00d3&gt;\nDona'm un numero: -3                    &lt;ATENCI\u00d3&gt;\nEl numero es -3 i el seu doble -6\nVols eixir del programa (s/n): s\n</code></pre> <p>Oc\u00f3rre que:</p> <ul> <li>Encara permet n\u00fameros negatius</li> <li>Permet tot tipus de lletres com a resposta. Amb la 's' eixim, per\u00f2 seguim amb la <code>n</code>, la <code>k</code> i altres.</li> </ul> Millora 2. Validaci\u00f3 dels inputs Per a fer aquesta millora anem a fer un bucle per a cada entrada de dades, fins permetre valors v\u00e0lids: n\u00fameros positius en la primera entrada i unas <code>s</code> o <code>n</code> en la segona. Python<pre><code>while True:\n    # Demanem el numero i calculem el doble\n    # iniciem el n\u00famero a un valor incorrecte\n    n=-1\n    while n&lt;0:      # mentre el numero siga incorrecte\n        n=int(input(\"Dona'm un numero: \"))      # Demanem el numero\n        if (n&lt;0):                               # Si est\u00e0 fora de rang li recordem a l'usuari\n            print(\"El n\u00famero ha de ser positiu. \",end='')   # end='' per a no botar de linia\n\n    # Ja fora del bucle. Vol dir que el n\u00famero \u00e9s ja positiu\n    # Fem els calcul\n    print(\"El numero es\",n,\"i el seu doble\",2*n)\n\n    # Preguntem a l'usuari si vol continuar\n    resposta='z'    # iniciem a un valor incorrecte\n    while resposta!='s' and resposta != 'n':\n        resposta=input(\"Vols eixir del programa (s/n): \")\n        if resposta!='s' and resposta != 'n':\n            print(\"Selecciona una de les lletres correctes. \",end='')\n\n    if resposta=='s' or resposta=='S':\n        break\n\nprint(\"Acabant el programa. Adeu\")\n</code></pre> <p>A l'executar comprovem que tot est\u00e0 funcionant de manera correcta:</p> Text Only<pre><code>Dona'm un numero: 6\nEl numero es 6 i el seu doble 12\nVols eixir del programa (s/n): n\nDona'm un numero: 2\nEl numero es 2 i el seu doble 4\nVols eixir del programa (s/n): k\nSelecciona una de les lletres correctes. Vols eixir del programa (s/n): n\nDona'm un numero: -4\nEl n\u00famero ha de ser positiu. Dona'm un numero: -17\nEl n\u00famero ha de ser positiu. Dona'm un numero: 90\nEl numero es 90 i el seu doble 180\nVols eixir del programa (s/n): s\nAcabant el programa. Adeu\n</code></pre>"},{"location":"U02%20Python/03_Estructures_de_control/#337-else-en-bucles","title":"3.3.7. <code>else</code> en bucles","text":"<p>La sent\u00e8ncia <code>else</code> normalment va precedida d'un <code>if</code> com hem vist al seu moment, per\u00f2 en <code>Python</code> pot anat precedida d'un bucle. Quan es fa servir amb bucles les ordres que posem al <code>else</code> s'executaran sempre que no s'haja executat un <code>break</code>. \u00c9s una manera de controlar si el bucle ha acabat per ell mateix o per un <code>break</code></p> Text Only<pre><code>bucle:\n    sentencies\n    if condicio:\n        break\nelse:\n    # coses a posar quan el bucle acaba per ell mateix. Sense break \n</code></pre> <p>La part del <code>else</code> s'executar\u00e0 sols quan el bucle ha acabat de manera normal:</p> <ul> <li>En un <code>while</code> per que la condici\u00f3 \u00e9s <code>False</code></li> <li>En un <code>for</code> per que s'han recorregut els elements de la llista</li> <li>Sols te sentit posar <code>else</code> en bucles que tinguen <code>break</code>. Sin\u00f3 tenen <code>break</code> eixe codi s'executa sempre</li> </ul>"},{"location":"U02%20Python/03_Estructures_de_control/#338-la-sentencia-pass","title":"3.3.8. La sent\u00e8ncia <code>pass</code>","text":"<p>La sent\u00e8ncia <code>pass</code> \u00e9s fa servir quan volem deixar alguna zona del programa sense codi, be perqu\u00e8 estem a les fases inicials del programa i ho deixem per a despr\u00e8s, be per millorar la llegibilitat. Simplement \u00e9s una sent\u00e8ncia que no fa res. Exemples:</p> <p>Python<pre><code>if x&gt;1000:\n    print(\"numero massa gran\")\nelse:\n    pass\n</code></pre> Encara no sabem que farem al <code>else</code>, per\u00f2 de moment l'escric i m\u00e9s endavant veurem. </p> <p><code>pass</code> es fa servir all\u00ed on cal posar una sent\u00e8ncia de manera obligat\u00f2ria per\u00f2 no volem posar res. Apareix molt en la POO (Programaci\u00f3 Orientada a Objectes),  per a crear classes i/o m\u00e8todes buits:</p> Python<pre><code>class prova:\n    pass\n\ndef metodeQueSeQueFarePeroEncaraNoVullFer:\n    pass        # Pendent d'implementar\n</code></pre>"},{"location":"U02%20Python/04_Funcions/","title":"4. Funcions","text":""},{"location":"U02%20Python/04_Funcions/#41-que-son-i-per-a-que-sutilitzen","title":"4.1 Qu\u00e8 son i per a qu\u00e8 s'utilitzen","text":"<p>Si un programa \u00e9s molt llarg, \u00e9s a dir, ocupa moltes l\u00ednies de codi, tendix a complicar-se molt i a ser cost\u00f3s d\u2019entendre. </p> <p>Per tant, basant-nos en la idea de dividix i vencer\u00e0s, farem \u00fas de la t\u00e8cnica coneguda com descomposici\u00f3 modular, amb la qual cosa es descompon el programa (m\u00f2dul) en m\u00f2duls m\u00e9s xicotets i, per tant, m\u00e9s f\u00e0cils d\u2019entendre. Eixe proc\u00e9s tamb\u00e9 \u00e9s conegut com disseny descendent o top-down.</p> <p></p> <p>Aix\u00f2 s\u2019aconseguix amb les subrutines. Tamb\u00e9 anomenades subprogrames, funcions, procediments, m\u00f2duls o b\u00e9 m\u00e8todes, en el cas de llenguatges orientats a objectes, com Java.</p> <p>Cal anar fent eixa descomposici\u00f3 successivament. Per\u00f2 fins quan? Hem de parar de descompondre quan un m\u00f2dul (o funci\u00f3, m\u00e8tode...) fa\u00e7a una feina molt concreta.</p> <p>Definici\u00f3 de funci\u00f3</p> <p>Una funci\u00f3 \u00e9s un bloc d\u2019instruccions que executa una tasca concreta i a la qual se li d\u00f3na un nom. Esta funci\u00f3 \u00e9s invocada des d\u2019altra o altres funcions.</p> <p>Els avantatges de la descomposici\u00f3 modular s\u00f3n:</p> <ul> <li>Facilita la resoluci\u00f3 d\u2019un problema.</li> <li>Facilita modificacions posteriors ja que els programes s\u00f3n m\u00e9s f\u00e0cils de llegir.</li> <li>Reduix el temps de desenvolupament, usant m\u00f2duls ja implementats.</li> <li>Diversos programadors poden col\u00b7laborar en la resoluci\u00f3 d\u2019un problema.</li> <li>Millora la depuraci\u00f3, ja que podem anar corregint m\u00f2duls individualment.</li> </ul>"},{"location":"U02%20Python/04_Funcions/#42-declaracio-de-funcions-en-python","title":"4.2. Declaraci\u00f3 de funcions en <code>Python</code>","text":"Python<pre><code>def nom_funcio(param1, param2, ..., paramN):\n    sentencia1        # cos de la funci\u00f3 indentat\n    ...\n    sentenciaN\n    [return expressio]\n</code></pre> <p>On tenim que:</p> <ul> <li><code>def nomFuncio</code> serveix per a indicar que estem creant una funci\u00f3, amb el nom indicat. El nom ha de complir les regles de creaci\u00f3 dels noms.</li> <li><code>param1, param2, ..., paramN</code> \u2192 \u00e9s la llista de par\u00e0metres, separades per comes que ser\u00e0n l'entrada de la funci\u00f3.</li> <li>Despr\u00e8s es posar\u00e0 el car\u00e0cter <code>:</code> i a continuaci\u00f3 un bloc indentat el cos de la funci\u00f3.</li> <li><code>return expressi\u00f3</code> \u2192 Si la funci\u00f3 ha de retornar un valor, al final de la funci\u00f3 cal posar la paraula return junt a la dada o expressi\u00f3 que ha de retornar.</li> </ul> Funci\u00f3 que calcula la mitjana Python<pre><code>def calcMitja (suma, num):{\n      mitjana=suma / num;\n      return mitjana\n</code></pre>"},{"location":"U02%20Python/04_Funcions/#43-ambit-i-visibilitat-de-varibles","title":"4.3. \u00c0mbit i visibilitat de varibles","text":"<p>Hi ha distints tipus de variables, sense tenir en compte el seu tipus. Es poden classificar atenent a diferents criteris, i el m\u00e9s important \u00e9s l\u2019\u00e0mbit o visibilitat, que \u00e9s la zona del programa on la variable \u00e9s accessible. Dep\u00e9n d\u2019on s\u2019ha declarat la variable:</p> <ul> <li>Variables globals </li> <li>Variables locals</li> <li>Par\u00e0metres formals</li> </ul> <p>Altra classificaci\u00f3 \u00e9s segons el temps de vida: duraci\u00f3 en mem\u00f2ria de la variable. Dep\u00e9n d\u2019un especificador opcional de la variable. Ja es veur\u00e0 m\u00e9s endavant.</p>"},{"location":"U02%20Python/04_Funcions/#431-variables-globals","title":"4.3.1 Variables globals","text":"<p>Es definixen fora de les funcions (dins la classe en <code>Java</code>, o el programa principal en <code>Python</code>). El seu \u00e0mbit \u00e9s qualsevol funci\u00f3 de la classe.</p> <p>En <code>Python</code> son globals totes aquelles funcions que estan definides fora de qualssevol funci\u00f3.</p>"},{"location":"U02%20Python/04_Funcions/#432-variables-locals","title":"4.3.2 Variables locals","text":"<p>Es definixen al principi d\u2019un bloc de sent\u00e8ncies (b\u00e9 d\u2019una funci\u00f3 o d\u2019un bloc an\u00f2nim que h\u00e0gem creat, com un bucle).</p> <p>El seu \u00e0mbit \u00e9s el bloc on estan definides, i el temps d\u2019execuci\u00f3 \u00e9s des que comen\u00e7a el bloc fins que acaba. \u00c9s a dir: es crea quan s\u2019entra al bloc i es destruix quan s\u2019ix. </p> Example Python<pre><code>def func():\n    local1=4;       # Variable local a la funci\u00f3 func  \n    ...\n    if condicio:\n        local2=32;      #Variable local a este nou bloc.\n        # La variable local1 tamb\u00e9 \u00e9s accessible des d'ac\u00ed,\n        #  actuant com a global. \n        local2=2*local1\n        ...\n</code></pre>"},{"location":"U02%20Python/04_Funcions/#433-parametres-formals","title":"4.3.3 Par\u00e0metres formals","text":"<p>S\u00f3n variables d\u2019enlla\u00e7 entre la crida a una funci\u00f3 i la definici\u00f3 de la funci\u00f3. </p> <p>Estan definides entre els par\u00e8ntesis de la cap\u00e7alera de la definici\u00f3 de la funci\u00f3.</p> <p>L\u2019\u00e0mbit i comportament \u00e9s el mateix que les variables locals en la funci\u00f3 on estan definides: es creen en entrar a la funci\u00f3 i es destruixen en eixir. </p> Par\u00e0metres formals Python<pre><code>def func (x, y, z):\n  // x, y i z s\u00f3n par\u00e0metres formals, que actuen com a locals a la funci\u00f3 func\n  pass\n  ...\n</code></pre> <p>Tenir en compte que canvis als par\u00e0metres formal no afecten als actuals (als de la crida):</p> Example Python<pre><code>def sumar2(x,y):\n  x=x+1\n  return x+y\n\na=3\nb=4\nprint(\"a={} y b={} y la suma es {}\".format(a,b,sumar2(a,b)))\n</code></pre> <p>Encara que es sume el valor a la x (local a la funci\u00f3) el valor de a no \u00e9s modifica (variable local).</p>"},{"location":"U02%20Python/04_Funcions/#44-mes-sobre-parametres","title":"4.4 M\u00e9s sobre par\u00e1metres","text":""},{"location":"U02%20Python/04_Funcions/#441-valor-per-defecte-dels-paramters","title":"4.4.1 Valor per defecte dels par\u00e0mters","text":"<p>En python podem asignar valors per defecte als par\u00e0metres, inicialitzant-los en la pr\u00f2pia funci\u00f3. Aix\u00f2 tamb\u00e9 ens permetr\u00e0 el cridar-los sense importar la posici\u00f3:</p> Proves de diversos arguments Python<pre><code>def volum(alt=10,ample=20,fons=30):\n    print(\"El volumn de {}x{}x{}={}\".format(alt,ample,fons,alt*ample*fons))\n\nvolum()         \n# Valors per defecte 'El volumn de 10x20x30=6000'\nvolum(50,60,70)\n# Valors dels par\u00e0metres actuals 'El volumn de 50x60x70=210000'\nvolum(ample=50)\n# Combinaci\u00f3 'El volumn de 10x50x30=15000'\nvolum(40,fons=10,alt=20)\n# ERROR, a alt li assignem dos valors !!!\n</code></pre>"},{"location":"U02%20Python/04_Funcions/#442-parametres-multiples","title":"4.4.2 Par\u00e0metres m\u00faltiples","text":"<p>De vegades no sabem quans par\u00e0metres passare, com per exemple la funci\u00f3 <code>print()</code> que adment molts par\u00e0metres, aix\u00f2 ho aconseguim indicant que rebrem una colecci\u00f3 de par\u00e0metres, com segueix:</p> M\u00faltiples par\u00e0mtres Python<pre><code>def sumaMolts(*args):\n    sum=0\n    for num in args:\n        sum+=num\n    return sum\n\nprint(sumaMolts(5))\nprint(sumaMolts(5,5,2,7))\nprint(sumaMolts())\n</code></pre> <p>args \u00e9s una col\u00b7lecci\u00f3 de tipus <code>tupla</code>, de la que parlarem m\u00e9s endavant</p> <p>Si volem passar una col\u00b7lecci\u00f3 de atributs, valors, com si fos un diccionari podriem fer-ho amb la seg\u00fcent sintaxi:</p> Example Python<pre><code>def coleccion(**elements):\n    print(type(elements))\n    for elem in elements:\n        print(elem,\"-\",elements[elem])\n\ncoleccion(v1=\"hola\",v2=35.56,v3=True,v4=None,v5='text')\n\n\"\"\" Eixida del programa\n&lt;class 'dict'&gt;\nv1 - hola\nv2 - 35.56\nv3 - True\nv4 - None\nv5 - text\n\"\"\"\n</code></pre>"},{"location":"U02%20Python/04_Funcions/#443-tipat-dels-parametres","title":"4.4.3 Tipat dels par\u00e0metres","text":"<p>A python, despr\u00e8s de la seua creaci\u00f3 es va afegir la possibilitat d'indicar el tipat, tant dels par\u00e0metres com el tipus de retorn, de la mateixa manera que Java:</p> Java<pre><code>public int suma(int a, int b){\n  return a+b;\n}\n</code></pre> Python<pre><code>def suma(a:int,b:int) -&gt; int:\n    return a+b\n</code></pre> <p>Simplement \u00e9s una eina per a la comprovaci\u00f3 de tipat mitjan\u00e7ant eines externes, ja que l'interpret de Python no verifica res d'aix\u00f2. M\u00e9s informaci\u00f3 al seg\u00fcent enlla\u00e7.</p> <p>Eines per a comprovar els tipus podem trobar <code>mypy</code> o <code>pydantic</code> </p>"},{"location":"U02%20Python/05_Estructures_de_dades/","title":"5. Estructures de dades","text":"<p>En aquesta unitat anem a treballar les estructures b\u00e0siques d'emmagatzematgee de dades que ens ofereix Python. Ser\u00e0 inevitable fer una comparaci\u00f3 amb els vectors i ArrayList d'altres llenguatges com Java.</p>"},{"location":"U02%20Python/05_Estructures_de_dades/#51-llistes-list","title":"5.1 Llistes (<code>list</code>)","text":"<p>Les llistes s\u00f3n una estructura que cont\u00e9 una s\u00e8rie d'elements ordenats, delimitades per claud\u00e0tors (<code>[]</code>) i separades per comes (<code>,</code>).</p> Atenci\u00f3 <p>El fet que estigui ordenat implica que hi ha un primer element, un segon, etc. i que podem accedir als elements per la seua posici\u00f3. No vol dir que el tingui un contingut ordenat</p> <p>Aquest elements poden ser del mateix tipus o tindre tipus heterogenis, com \u00f2dem veure a continuaci\u00f3:</p> Possibles llistes Python<pre><code># llista de cadenes\nnoms=[\"Pere\",\"Joan\",\"Anna\"]\n\n# llista de valors\nnotes=[7.4,3.7,8.0]\n\n# llista de `coses``\ndades=[\"Pere\",True,4.7,None]\n</code></pre> <p>Encara que hi ha diverses maneres de afegir i eliminar, comentem les m\u00e9s legibles i habituals:</p> <ul> <li><code>llista.append(element)</code> --&gt; afig l'element al final de la llista.</li> <li><code>llista.insert(index,element)</code> --&gt; afig l'element en la posici\u00f3 determinada per \u00edndex. Si l'\u00edndex est\u00e0 fora de rang, ho posa al final.</li> <li><code>llista.remove(element)</code> --&gt; elimina l'element de la llista. Si n\u00f3 existeix botar\u00e0 l'error <code>ValueError</code></li> </ul> <p>Per a consultar i/o modificar elements concrets farem servir la notaci\u00f3 dels claud\u00e0tors com si foren vectors de C o Java:</p> <ul> <li><code>print(llista[3])</code></li> <li><code>llista[3]=\"Pep\"</code></li> </ul> <p>Per a rec\u00f2rrer les llistes de manera seq\u00fcencial, podem recorrer a distints tipus de bucles for:</p> Recorregut sense \u00edndex <p>En aquest exemple, una variable prendr\u00e0 el valor de cada element de la llista: Python<pre><code>for element in llista:\n    print(element)\n</code></pre></p> Recorregut amb \u00edndex <p>En aquest exemple, una variable prendr\u00e0 els valor dels distints \u00edndex de la llista. Farem servir la funcio <code>range(n)</code> que torna un valor entre <code>0</code> i l'anterior a <code>n</code> i la funci\u00f3 <code>len(llista)</code> que ens retorna el tamany de la llista: Python<pre><code>for i in range(len(llista)):\n    print(noms[i])\n</code></pre></p> <p>Per \u00faltim, podem utilitzar l'operador <code>in</code> per a saber si un element est\u00e0 o no a una llista, per exemple per a poder esborrarlo sense problemes</p> Python<pre><code>if element in llista:\n    pass\n</code></pre>"},{"location":"U02%20Python/05_Estructures_de_dades/#511-slicing-rebanar","title":"5.1.1 Slicing (rebanar)","text":"<p>El slicing \u00e9s una manera de treballar, una mica complexa, que ens serveix per a rebanar o extreure una porci\u00f3 de la llista. Fa servir la notaci\u00f3 dels dos punts <code>inici:fi[:bot]</code>.  Aquesta notaci\u00f3 representa comen\u00e7ar a l'inici fins a l'anterior al fi, visitnt els elements segons el bot indicat (si bot no apareix, val 1).</p> <p>Quan els valors d'inici o fi son negatius, comencen a contar-se desde la dreta cap l'esquerre, per\u00f2 \u00e9s poc natural, i es recomana sols en circumst\u00e0nices concretes</p> <p>Anem a veure-ho mitjan\u00e7ant exemples. A la plataforma tens un arxiu <code>nba.txt</code> amb el llistat d'equips de la nba. Amb el seg\u00fcent codi:</p> Python<pre><code>nba=[]    # llista buida\ndata=open('nba.txt','r').read() # llegim les dades\nnba=data.split('\\n')    #trocejem pel bot de linia i ja tenim la llista\nprint(nba)\nprint(len(nba))\n\nprint(nba[2:5]) # mostra de la casella 2 a la 4 (\u00faltima-1)\nprint(nba[2:])  # mostra de la casella 2 al final\nprint(nba[:5])  # mostra fins la casella 4 (\u00faltima -1)\nprint(nba[-1:]) # mostra l'\u00faltim\nprint(nba[-3:]) # mostra els 3 \u00faltims\nprint(nba[-5:-3]) # Mostra des de el 5t per la dreta al tercer per la dreta\n</code></pre>"},{"location":"U02%20Python/05_Estructures_de_dades/#512-altres-metodes","title":"5.1.2 Altres m\u00e8todes","text":"<ul> <li><code>del llista[index]</code> \u2192 Per eliminar una element de la llista, sense saber el seu valor </li> <li><code>llista.pop()</code> \u2192 Per eliminar i retornar l'\u00faltim element de la llista</li> <li><code>llista.count(element)</code>  \u2192 retorna el numero d'ocurr\u00e8ncies de l'element a la llista</li> <li><code>llista.sort()</code> \u2192 ordena ascendentment els elements de la llista. Si volem descendent posarem <code>[reverse=True]</code>.</li> </ul>"},{"location":"U02%20Python/05_Estructures_de_dades/#52-tuples-tuple","title":"5.2 Tuples (<code>tuple</code>)","text":"<p>Les tuples son estructures semblants a les llistes, per\u00f2 amb la gran salvetat que son inmutables, \u00e9s a dir, no poden modificar-se.</p> <p>Aix\u00f2 les fa molt m\u00e9s eficients en quant a consum de recursos, per\u00f2 clar, hem d'estar segurs que les dades no necessitarem que canvien. Altres difer\u00e8ncies:</p> <ul> <li>S'inicien amb <code>()</code> en compte de <code>[]</code></li> <li>No podem modificar amb tupla[index]=elemet</li> <li>No disposen dels operadors <code>append</code>, <code>remove</code> i qualssevol altre que les modifiquen</li> </ul>"},{"location":"U02%20Python/05_Estructures_de_dades/#53-diccionaris-dict","title":"5.3 Diccionaris (<code>dict</code>)","text":"<p>Un diccionari \u00e9s una colecci\u00f3 d'elements etiquetats, amb la manera <code>etiqueta:valor</code>. Ve a ser el que coneixem amb un objecte <code>JSON</code>. Aix\u00f2 ens permetr\u00e0, entre altres coses l'accedir a un element, no sols pel seu \u00edndex, sin\u00f3 per la seua etiqueta:</p> Python<pre><code>edats = {\"Anna\": 35, \"Jaume\": 18, \"Pere\": 17}\n\nprint(edats[\"Pere\"]) # Retorna 18\n</code></pre> <p>Els diccionaris poden contenir qualssevol tipus de dades al seu valor. Vegem algunes funcions \u00fatils autoexplicades:</p> Python<pre><code>telefons={'Pere':123456,'Ana':7483943,'Joan':None}\n\nprint(telefons['Ana'])      \n\n#print(telefons['Pau'])  #Excepci\u00f3 `KeyError``\n\nprint(telefons.get('Pau'))  # Com no esta torna None, per\u00f2 no dona error\n\ndel(telefons['Ana'])      #Elimina la entrada del diccionari\nprint(telefons)\n\nnoms = ['Xavi', 'Elisa', 'Maria']\ntelefons = dict.fromkeys(noms, None)  # Aquestes son les claus, sense valors\nprint(telefons)\n#{'Xavi': None, 'Elisa': None, 'Maria': None}\n\nprint('Xavi' in telefons)\n\n# Crear a partir de un json\nimport json\njsonstring = '{ \"nom\": \"erik\", \"edat\": 38, \"casat\": true}'\npersona=json.loads(jsonstring)\nprint(persona)\n\n# recuperar les claus i els valors per separat\nprint(persona.keys())\nprint(persona.values())\n\n# recuperar els elements\nfor clau,valor in persona.items():\n    print(clau,\"-\",valor)\n\n# nom - erik\n# edat - 38\n# casat - True\n</code></pre>"},{"location":"U02%20Python/06_POO/","title":"6. Programaci\u00f3 orientada a objectes","text":""},{"location":"U02%20Python/06_POO/#61-definicio-de-classes","title":"6.1 Definici\u00f3 de classes","text":""},{"location":"U02%20Python/06_POO/#611-primera-classe","title":"6.1.1 Primera Classe","text":"<p>Python, a l'igual que altres llenguatges de programaci\u00f3 permet la creaci\u00f3 de classes. Podem fer-ho tal i com segueix:</p> Creaci\u00f3 d'una classe <code>Alumne</code> Python<pre><code>class Alumne:\n    pass        # inicialment sense res\n\na=Alumne()      # creem el objecte. \n\nprint(a)        \nprint(type(a))\n</code></pre> <p>Ens mostrar\u00e0 algo com:</p> Text Only<pre><code>&lt;__main__.Alumne object at 0x1029d6250&gt;\n&lt;class '__main__.Alumne'&gt;\n</code></pre> <p>Podem ara afegir atributs a la nostre classe:</p> Python<pre><code>class Alumne:\n    dni=\"\"\n    nom=\"\"\n    cognoms=\"\"\n    edat=0\n\na=Alumne()\n\nprint(\"El nom \u00e9s\",a.nom)\nprint(\"La edat \u00e9s\",a.edat)\n</code></pre> <p>Ens donar\u00e0 que les variables ja tenen valor, i llavors ja tenim els valors iniciats i podem fer servir els atributs. El problema \u00e9s que si ho deixem aix\u00ed tots els objectes tindr\u00e0n el mateix valor als seus atributs. Podriem deixar-ho aix\u00ed en compte de fer un constructor per defecte, encara que ja vorem que \u00e9s convenient el crear-lo com segueix:</p> Creaci\u00f3 d'una classe <code>Alumne</code> amb constructor per defecte Python<pre><code>    class Alumne:\n      def __init__(self):\n        self.nom=\"Pere\"\n        self.edat=22\n\n      def saludar(self):\n        print(\"Hola, soc\",self.nom)\n\n    a=Alumne()      # creem el objecte. \n    a.saludar();\n</code></pre> <p>Fixar-se que ens trobem:</p> <ul> <li><code>__init__</code> \u2192 aquest m\u00e8tode \u00e9s el que es coneix com a constructor i \u00e9s el m\u00e8tode que s'executa quan es crea un objecte</li> <li><code>self</code> \u2192 \u00e9s una variable especial que dins d'un objecte fa refer\u00e8ncia a ell mateix. \u00c9s molt \u00fatil per a distingir quan una variable \u00e9s la del objecte o altra (del programa principal o par\u00e0metre). Aquest <code>self</code> \u00e9s autom\u00e0tic, i no cal passar-lo com a par\u00e0metre, ja que \u00e9s el propi objecte. A <code>Java</code> s'anomena <code>this</code>.</li> </ul> Creaci\u00f3 d'una classe <code>Alumne</code> amb constructor amb par\u00e0metres Python<pre><code>class Alumne:\n  def __init__(self,nom=\"an\u00f2nim\"):\n    self.nom=nom\n    self.edat=22\n\n  def saludar(self):\n    print(\"Hola, soc\",self.nom)\n\na=Alumne()      # creem el objecte per defete. \na.saludar()\n\nb=Alumne(\"Pere\")      # creem el objecte amb valors. \nb.saludar() \n</code></pre> <p>ens donar\u00e0 com a eixida:</p> Text Only<pre><code>Hola, soc an\u00f2nim\nHola, soc Pere\n</code></pre>"},{"location":"U02%20Python/06_POO/#62-visibilitat-dels-atributs","title":"6.2 Visibilitat dels atributs","text":"<p>En la majoria dels llenguatges de programaci\u00f3, quan definim els atributs, hem d'especificar la modalitat d'acc\u00e8s del mateix. Existeixen 3 modificadors, que s\u00f3n <code>private</code> i <code>public</code>, i despr\u00e8s un a meitat dels dos que \u00e9s <code>protected</code>. Dits modificadors indiquen si podem accedir o no als atributs de la classe des de fora d'ella. Repassem-los:</p> <p>Nota: Des de dins de la classe sempre podem accedir als atributs de la mateixa, siguin publics o privats.</p> <ul> <li><code>public</code> \u2192 Podem accedir als atributs des de fora de la classe</li> <li><code>private</code> \u2192 No podem accedir als atributs des de fora de la classe</li> <li><code>protected</code> \u2192 S\u00f3n atributs p\u00fablics, que es convertiran en <code>private</code> en les classes hereves d'on s'han definit. </li> </ul> <p>En Python no existeixen aquestes paraules reservades, per\u00f2 fa servir una manera curiosa de determinar-ho, que \u00e9s la manera en la que posem el nom a les variables. Vejam-ho el seg\u00fcent classe <code>Empleat</code> i fixar-se detingudament en el nom que ens apareix despr\u00e8s de <code>self</code>:</p> Python<pre><code>class Empleat():\n\n    def __init__(self,nom,edat,salari):\n        self.nom=nom\n        self._edat=edat\n        self.__salari=salari\n\nemple=Empleat(\"Pere\",42,1230)\n\nprint(\"El nom es\",emple.nom)\nprint(\"Edat es\",emple._edat)\nprint(\"El salari \u00e9s\",emple.__salari)\n</code></pre> <p>ens produeix la seg\u00fcent sortida</p> Text Only<pre><code>El nom es Pere\nEdat es 42\nTraceback (most recent call last):\n    File \"provaClasses.py\", line 66, in &lt;module&gt;\n    print(\"El salari es\",emple.__salari)\nAttributeError: 'Empleat' object has no attribute '__salari'\n</code></pre> <p>Com podem comprovar:</p> <ul> <li>Per fer un atribut <code>public</code> el farem de manera normal sense fer ninguna cosa especial. El definirem amb <code>self.atribut</code>. Tenim l'exemple amb el <code>self.nom=nom</code>, i posteriorment accedim a ell amb <code>print(\"El nom \u00e9s\",emple.nom)</code> sense cap tipus de problema.</li> <li>Per fer un atribut <code>protected</code> el que farem ser\u00e0 definir l'atribut amb un gui\u00f3 baix al principi, <code>self._atribut</code>. Tenim l'exemple amb <code>self._edat=edat</code>. Com que l'acc\u00e9s per a la classe <code>Empleat</code> \u00e9s p\u00fablic podem seguir treballant amb dita variable desde fora de la classe sense que ens done cap error, amb la qual cosa <code>print(\"L'edat \u00e9s\",emple._edat)</code> funciona sense cap problema. Les particularitats del <code>protected</code> les estudiarem amb l'her\u00e8ncia.</li> <li>Per fer una atribtu <code>private</code> el que farem ser\u00e0 definir l'atribut amb dos guions baixos al principi, <code>self.__atribut</code>. Tenim l'exemple amb <code>self.__salari=salari</code>. Com que ara l'acc\u00e8s \u00e9s privat, llavors des de fora de la classe \u00e9s com si aquest atribut no existira. Llavors si intentem fer <code>print(\"El salari \u00e9s\",emple.__salari)</code> ens bota l'excepci\u00f3 <code>AttributeError</code> amb el missatge  <code>'Empleat' object has no attribute '__salari'</code></li> </ul> Getters i Setters <p>Ni cal dir que la manera m\u00e9s est\u00e0ndar i c\u00f2moda d'accedir als atributs \u00e9s mitjan\u00e7ant els getters i setters, de manera que farem els atributs privats i els m\u00e8todes p\u00fablics</p> Exemple complet Python<pre><code>class Empleat():\n\n    def __init__(self,nom,edat,salari):\n        self.__nom=nom\n        self.__edat=edat\n        self.__salari=salari\n\n    def getNom(self):\n        return self.__nom\n\n    def getEdat(self):\n        return self.__edat\n\n    def getSalari(self):\n        return self.__salari\n\nemple=Empleat(\"Pere\",42,1230)\n\nprint(\"El nom es\",emple.getNom())\nprint(\"Edat es\",emple.getEdat())\nprint(\"El salari \u00e9s\",emple.getSalari())\n</code></pre>"},{"location":"U02%20Python/06_POO/#63-altres-metodes-i-sobrecarrega","title":"6.3 Altres m\u00e8todes i sobrec\u00e0rrega","text":"<p>Existeixen diversos m\u00e8todes interessants que de vegades caldr\u00e0 escriure. Anem a veure'ls i els provem al nostre empleat:</p> toString i equals Python<pre><code>class Empleat():\n\n  def __init__(self,nom,edat,salari):\n      self.__nom=nom\n      self.__edat=edat\n      self.__salari=salari\n\n  def getNom(self):\n      return self.__nom\n\n  def getEdat(self):\n      return self.__edat\n\n  def getSalari(self):\n      return self.__salari\n\n  def __eq__(self, other: object) -&gt; bool:\n      return self.__edat==other.__edat and self.__nom==other.__nom and self.__salari==other.__salari\n\n  def __str__(self) -&gt; str:\n      # return self.__nom + \" te \" + str(self.__edat) + \" i guanya \" + str(self.__salari) + \" euros\"\n      return f'{self.__nom} te {self.__edat} i guanya {self.__salari} euros'\n\nemple=Empleat(\"Pere\",42,1230)\nemple2=Empleat(\"Pere\",42,1230)\n\nprint(emple==emple2)\nprint(emple is emple2)\n\nprint(str(emple))\nprint(emple)\n</code></pre> <p>ense retorna:</p> Text Only<pre><code>True      # tenen els mateixos valors\nFalse     # NO SON el mateix objecte\nPere te 42 i guanya 1230 euros  # representaci\u00f3 del toString\n</code></pre>"},{"location":"U02%20Python/06_POO/#64-herencia","title":"6.4 Her\u00e8ncia","text":"<p>Per a declarar una clase com a hereva d'altra, haurem de posar el seu nom entre par\u00e8tesi. Anem a veure-ho amb altre exemple.</p> Exemple de Her\u00e8ncia Python<pre><code>class Comercial(Empleat):\n  def __init__(self,nom,edat,salari,comisio):\n    # Empleat.__init__(self,nom,edat,salari)  Hi ha que indicar self com a par\u00e0metre\n    super().__init__(nom,edat,salari)    # amb super() i sense self\n    self.__comisio=comisio\n\n  def __str__(self):\n    sou= self.getSalari() + self.__comisio\n    return f'{self.getNom()} te {self.getEdat()} i guanya {sou} euros'\n\ncomercial=Comercial(\"Joange\",46,1200,300)\nprint(comercial)    #Joange te 46 i guanya 1200 euros\n# ams __str__ l'eixida \u00e9s Joange te 46 i guanya 1500 euros\n</code></pre> <p>Com podem veure:</p> <ul> <li><code>Comercial</code> hereta d'<code>Empleat</code></li> <li>El primer que hem de fer al constructor de Comercial \u00e9s cridar al constructor de  Empleat, i com que no existeix <code>super()</code> es fa indicant-ho directament. Aix\u00f2 ens ve de perles tamb\u00e9, ja que Python supporta her\u00e8ncia m\u00faltiple</li> <li>Acabem d'assignar els atributs propis (<code>__comisio</code>)</li> <li>Si no definim el <code>__str__</code>, En la crida dins del print com que no l'hem definit, l'her\u00e8ncia funciona adequadament, i es crida al <code>str</code> de Emplet. Cas de definir-lo, mostraria el missatge <code>Joange te 46 i guanya 1500 euros</code>.</li> </ul>"},{"location":"U02%20Python/07_Projecte/","title":"7. Projecte","text":""},{"location":"U02%20Python/07_Projecte/#les-figures","title":"Les figures","text":""},{"location":"U02%20Python/07_Projecte/#preparem-les-estructures-necessaries","title":"Preparem les estructures necess\u00e0ries","text":"<p>Com a projecte final anem a implementar el cl\u00e0ssic exercici de les figures, on:</p> <ul> <li>Crea una classe <code>Punt</code> amb dos coordenades <code>(x,y)</code>, constructor i getters, setters, str. Implementar:</li> <li>Un m\u00e8tode dist a altre punt passat com argument, que retorna la dist\u00e0ncia euclidea entre dos punts.</li> <li>Un m\u00e8tode dist_x i dist_y que retornen la distancia en horizontal i en vertical entre dos punts.</li> <li>Comprova que el punt el tens ben implementat, executant: Python<pre><code>p1=Punt(2,3)\np2=Punt(3,4)\nprint(\"La distancia entre\",p1,\"i\",p2,\" es \",p1.dist(p2))\n</code></pre></li> <li>Crea una classe <code>Figura</code>, que conte un <code>Punt</code> (la posici\u00f3 on est\u00e0 ubicat) i un color (que ser\u00e0 un String de 7 caracters en hexadecimal). A banda dels m\u00e8todes habituals, tamb\u00e9 contindr\u00e0 dos m\u00e8todes area() i perimetre(), sense implementar. Comprova aquest codi:</li> </ul> <p>Python<pre><code>  p1=Punt(2,3)\n  p2=Punt(3,4)\n  color=\"#34FFDF\"\n  print (f'El color {color} valid={comprovaHEX(color)}')\n  f=Figura(p1,color)\n  print(f)\n</code></pre> - Crea tres classes que hereten de <code>Figura</code>:</p> <ul> <li><code>Rectangle</code>, afegint altre <code>Punt</code>. El <code>Punt</code> propi de <code>Figura</code> ser\u00e0 el superior esquerre, i el que afegeix <code>Rectangle</code> ser\u00e0 l'inferior dret (per convenci\u00f3 el cridarem <code>altre</code>). Reimplementar els m\u00e8todes conforme calen.</li> <li><code>Cercle</code>, afegint un radi. El <code>Punt</code> de <code>Figura</code> suposarem ser\u00e0 el centre del cercle. Reimplementar els m\u00e8todes conforme calen.</li> <li><code>Linia</code>, afegint altre <code>Punt</code>. Reimplementar els m\u00e8todes conforme calen, tenint en compte que l'area \u00e9s 0, i considerarem com a per\u00edmetre la longitud de la l\u00ednia.</li> </ul> <p>Comprova que el codi: Python<pre><code>  p1=Punt(2,3)\n  p2=Punt(3,7)\n  color=\"#34FFDF\"\n  f=Figura(p1,color)\n  print(f)\n\n  l=Linia(p1,p2,color)\n  print(l)\n  print(\"La longitud es\",l.perimetre())\n\n  r=Rectangle(p1,p2,color)\n  print(r)\n  print(\"El per\u00edmetre es\",r.perimetre())\n  print(\"El area es\",r.area())\n\n  c=Cercle(p1,4,color)\n  print(c)\n  print(\"El per\u00edmetre es\",c.perimetre())\n  print(\"El area es\",c.area())\n</code></pre></p> <p>retorna: Text Only<pre><code>Figura situada en (2,3) de color #34FFDF\nLinia situada de (2,3) a (3,7) de color #34FFDF\nLa longitud es 4.123105625617661\nRectangle situada de (2,3) a (3,7) de color #34FFDF\nEl per\u00edmetre es 10\nEl area es 4.0\nCercle situada en centre (2,3) i radi 4 de color #34FFDF\nEl per\u00edmetre es 25.132741228718345\nEl area es 50.26548245743669\n</code></pre></p>"},{"location":"U02%20Python/07_Projecte/#el-dibuix","title":"El dibuix","text":"<p>A banda de les estructures creades, hem de emmagatzemar totes les figures que creem en algun lloc. Eixe lloc ser\u00e0 el nostre dibuix, i per a no complicar les coses ho farem amb una variable global amb la seg\u00fcent estructura: Python<pre><code>Dibuix={\n  \"ample\":800,\n  \"alt\":600,\n  \"Figures\":[]\n}\n</code></pre></p> <p>Com pot veure's, 800x600 s\u00f3n les dimensions per defecte i inicialment no tenim cap figura. \u00c9s en aquest array on anirem guardant-les, tal i com es descriu a continuaci\u00f3.</p>"},{"location":"U02%20Python/07_Projecte/#menu-principal","title":"Menu principal","text":"<p>Un cop dissenyades i preparades les nostres estructures, anem a crear el programa per a poder dibuixar. El programa presentar\u00e0 un men\u00fa com segueix: Text Only<pre><code>Indica el que vols fer:\n  1 - Afegir figura al dibuix\n  2 - Carregar dibuix des de fitxer\n  3 - Exportar  dibuix a SVG\n  4 - Dibuixar i exir\n</code></pre></p> <p>L'usuari escollir\u00e0 l'opci\u00f3 que desitje, com es veu a continuaci\u00f3. Despr\u00e8s  d'executar totes les opcions es retornar\u00e0 de nou a aquest men\u00fa, exepcte en la opci\u00f3 4, com es veur\u00e0 a continuaci\u00f3</p>"},{"location":"U02%20Python/07_Projecte/#1-afegint-figures-al-nostre-dibuix","title":"1. Afegint figures al nostre dibuix","text":"<p>El programa mostrar\u00e0 un nou submen\u00fa, i segons el que triem: Text Only<pre><code>Indica la figura que vols afegir:\n1 - Linia\n  Introdueix les dades de la linia (x1 y1 x2 y2 #color):\n2 - Rectangle\n  Introdueix les dades de la Rectangle (x1 y1 x2 y2 #color): \n3 - Cercle\n  Introdueix les dades de la Cercle (x1 y1 r #color): \n</code></pre></p> <p>L'usari indicar\u00e0 els par\u00e0metres de la figura en q\u00fcesti\u00f3, en el format indicat. Un cop llegida la linea que descriu la figura es crear\u00e0 la figura corresponent (<code>Linia</code>, <code>Rectangle</code> o <code>Cercle</code>) i s'afegira al llistat de figures de <code>Dibuix</code>. Aquesta opci\u00f3 d'afegir figures la podrem executar tantes vegades com vullguem, com s'ha comentat en la descripci\u00f3 del men\u00fa.</p> Atencio <p>Fer el control d'errors que cadasc\u00fa considere. Per a verificar el color en hexadecimal, es disposa implementada de la seg\u00fcent funci\u00f3 Python<pre><code>import re   #regular expression\n\ndef comprovaHEX(hex_string):\n  match =re.search(r'^#(?:[0-9a-fA-F]{3}){1,2}$', hex_string)\n  if match:\n    return True\n  else:\n    return False\n</code></pre></p>"},{"location":"U02%20Python/07_Projecte/#2-carregant-la-informacio-desde-fitxers","title":"2. Carregant la informaci\u00f3 desde fitxers","text":"<p>Tenim un format de fitxer de text com es veu a continuaci\u00f3. Text Only<pre><code>dimensions 320 300\ncercle 166 105 26 #94c147\nrectangle 137 108 58 58 #ffffff\ncercle 173 96 3 #ffffff\nrectangle 126 115 11 31 #94c147\nlinia 186 75 164 93 #94c147\n</code></pre></p> <p>Deurem de:</p> <ul> <li>Demanar a l'usuari el nom del fitxer de text</li> <li>Llegir linia a linia d'aquest fitxer de text i avaluar la primera paraula del mateix:</li> <li><code>dimensions</code> --&gt; modificar\u00e0 les dimensions de la variable <code>Dibuix</code></li> <li>per a la resta de figures, crear\u00e0 la figura corresponent i l'afegir\u00e0 a la llista de figures de <code>Dibuix</code></li> </ul>"},{"location":"U02%20Python/07_Projecte/#3-exportant-la-informacio-a-inkscape","title":"3. Exportant la informaci\u00f3 a Inkscape","text":"<p>En aquest apartat, anem a exportar les figures que tenim a la variable <code>Dibuix</code> a un format est\u00e0ndar de dibuix vectorial, el format <code>SVG</code>. Aquest format \u00e9s text formatat com a XML, com podeu consultar an aquest enlla\u00e7 format svg:</p> XML<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?&gt;\n&lt;svg height=\"300\" width=\"320\"&gt;\n  &lt;circle cx=\"166\" cy=\"166\" fill=\"#94c147\" r=\"26\"/&gt;\n  &lt;rect fill=\"#ffffff\" height=\"58\" width=\"58\" x=\"137\" y=\"108\"/&gt;\n  &lt;rect fill=\"#94c147\" height=\"31\" width=\"11\" x=\"146\" y=\"150\"/&gt;\n  &lt;circle cx=\"151\" cy=\"151\" fill=\"#94c147\" r=\"5\"/&gt;\n  &lt;line stroke=\"#94c147\" stroke-width=\"3\" x1=\"142 \" x2=\"164\" y1=\"75\" y2=\"93\"/&gt;\n&lt;/svg&gt;\n</code></pre> <p>Haurem de:</p> <ul> <li>Crear a la clase <code>Figura</code> un m\u00e8tode <code>toXML</code> abstracte.</li> <li>Implementar-lo en les classes hereves, definint-lo i transformat el contingut de cada <code>Figura</code> com es veu a l'exemple</li> <li>Recorrer tot el contigut de la variable <code>Dibuix</code> i guardar-lo a un fitxer de text, amb l'extensi\u00f3 SVG. </li> <li>El nom del fitxer es preguntar\u00e0 a l'usuari.</li> </ul>"},{"location":"U02%20Python/07_Projecte/#4-pintant-i-eixint","title":"4. Pintant i eixint","text":"<p>Per a acabar, es subministra un m\u00e8tode ja totalment implementat per a representar gr\u00e0ficament el nostre <code>Dibuix</code> i acabar el programa. Aquest programa fa servir la llibreria <code>Flet</code>, que estudiarem m\u00e9s endavant per a crear interf\u00edcies d'usuari, i concretament la llibreria <code>canvas</code> (llen\u00e7ol o lienzo en castell\u00e0) per a dibuixar figures. Presetem la estructura del codi, sense entrar massa en detalls. Al programa de partida que se us passa la podeu consultar tota.</p> Python<pre><code>import flet as ft\nimport flet.canvas as cv\n\n# creem el dibuix per defecte\nDibuix={\n  \"ample\":800,\n  \"alt\":600,\n  \"Figures\":[]\n}\n\n# funci\u00f3 que dibuixa totes les figures. \ndef dibuixar(page: ft.Page):\n  pass\n\n# Al programa principal, dins de la opci\u00f3 de men\u00fa 4\n elif opcio==4:\n      print(\"Dibuixem i eixim\")\n      ft.app(target=dibuixar)   # Es crea una finestra flet amb la funci\u00f3 Dibuixar\n      eixir=True\n</code></pre> Important per a que tot funcione adequadament <ul> <li>Les classes han de dir-se exactament <code>Linia</code>, <code>Rectangle</code> i <code>Cercle</code></li> <li>La classe auxiliar <code>Punt</code>, ha de tindre els m\u00e8todes <code>getX()</code>, <code>getY()</code>, <code>__str__</code>, <code>dist()</code>, <code>dist_x()</code> i <code>dist_y()</code></li> <li><code>Figura</code> ha de tindre els m\u00e8todes <code>getPos()</code>, <code>getColor()</code>, <code>__str__</code>, <code>toXML()</code>, <code>area()</code> i <code>perimetre()</code></li> <li><code>Rectangle</code>, adem\u00e9s, ha de tindre els m\u00e8tode <code>getAltre()</code>, per a retornar el punt inferior dret.</li> <li><code>Linia</code>, adem\u00e9s, ha de tindre els m\u00e8tode <code>getAltre()</code>, per a retornar l'altre punt de la linia.</li> <li><code>Cercle</code>, adem\u00e9s, ha de tindre els m\u00e8todes <code>getRadi()</code>, per a retornar el radi.</li> </ul> <p>Als recursos i exercicis tens l'arxius U02_Projecte_0.py  com a punt de partida per a programar, aix\u00ed com els esquelets i funcions ja implementades.</p>"},{"location":"U02%20Python/08_ExerciciPreProjecte/","title":"8. Exercici pre projecte guiat","text":""},{"location":"U02%20Python/08_ExerciciPreProjecte/#exercici-gestio-duna-biblioteca","title":"Exercici: Gesti\u00f3 d'una Biblioteca","text":"<p>Crea una aplicaci\u00f3 de l\u00ednia de comandes de gesti\u00f3 de biblioteca en Python que utilitze els conceptes de POO vistos en classe. La biblioteca ha de ser capa\u00e7 de gestionar material (llibres, revistes i pel\u00b7l\u00edculs), socis i administradors de pr\u00e9stecs. </p> <p>Cada llibre ha de tindre: - un t\u00edtol - un autor - un n\u00famero d'exemplars disponibles</p> <p>Cada revista ha de tindre: - un t\u00edtol - un data de publicaci\u00f3 - un n\u00famero d'exemplars disponibles</p> <p>Cada pel\u00b7l\u00edcula ha de tindre: - un t\u00edtol - un director - un g\u00e8nere - un n\u00famero d'exemplars disponibles</p> <p>Cada soci ha de tindre: - un nom - un DNI - una llista de llibres prestats.</p> <p>Cada administrador de pr\u00e9stecs ha de tindre: - un nom - un DNI - un c\u00e0rrec (administrador o ajudant)</p> <p>L'aplicaci\u00f3 ha de permetre les seg\u00fcents funcions:</p> <ul> <li>Afegir un llibre a la biblioteca amb la informaci\u00f3 del t\u00edtol, autor i nombre d'exemplars disponibles.</li> <li>Afegir una pel\u00b7l\u00edcula a la biblioteca amb la informaci\u00f3 del t\u00edtol, director, g\u00e8nere i nombre d'exemplars disponibles.</li> <li>AAfegir una revista a la biblioteca amb la informaci\u00f3 del t\u00edtol, la data de publicaci\u00f3 i nombre d'exemplars disponibles.</li> <li>Afegir un soci amb el seu nom i DNI.</li> <li>Afegir un administrador amb el seu nom, DNI i c\u00e0rrec.</li> <li>Prestar un recurs a un soci. Cal verificar que el recurs estiga disponible i que el soci no haja superat el l\u00edmit de llibres prestats (per exemple, un m\u00e0xim de 3 llibres per soci).</li> <li>Retornar un llibre.</li> <li>Mostrar una llista de tots els recursos, amb la possibilitat de filtrar per tipus. En el cas de pel\u00b7l\u00edcules s'haur\u00e0 de filtrar tamb\u00e9 per g\u00e8nere. En el cas de revista per any de publicaci\u00f3.</li> <li>Mostrar una llista de tots els socis.</li> <li>Mostrar una llista de tots els administradors de pr\u00e9stecs.</li> <li>Mostrar una llista amb la informaci\u00f3 sobre quins recursos estan prestats a cada soci.</li> </ul> <p>Definix una classe per a cada objecte i utilitzar correctament els conceptes de programaci\u00f3 orientada a objectes com l'her\u00e8ncia, encapsulaci\u00f3 i m\u00e8todes per gestionar les operacions anteriorment mencionades. A m\u00e9s, en cada classe, afegeix unes proves, que sols s'executaran en cas que es cride al m\u00f2dul, per\u00f2 no si s'importa.</p> <p>Crea tamb\u00e9 una classe principal o un programa de prova per interactuar amb la biblioteca.</p> <p>Aquest exercici t'ajudar\u00e0 a practicar els conceptes de programaci\u00f3 orientada a objectes, com la creaci\u00f3 de classes, la gesti\u00f3 d'objectes i la interacci\u00f3 entre ells.</p>"},{"location":"U02%20Python/09_Tractament_de_fitxer/","title":"9. Annex I - Tractament de fitxers i carpetes amb python","text":""},{"location":"U02%20Python/09_Tractament_de_fitxer/#1-fitxers","title":"1. Fitxers","text":""},{"location":"U02%20Python/09_Tractament_de_fitxer/#11-entrada-eixida-utilitzant-fitxers","title":"1.1. Entrada eixida utilitzant fitxers","text":"<p>Per a llegir o escriure en un fitxer, primer l\u2019hem d\u2019obrir. Quan acabem, s\u2019ha de tancar perqu\u00e8 s\u2019alliberen els recursos relacionats amb el fitxer.</p> <p>Per tant, a Python, utilitzem la seg\u00fcent seq\u00fc\u00e8ncia d'operacions per traballar amb fitxers:</p> <ol> <li>Obrir un fitxer</li> <li>Llegir o escriure </li> <li>Tancar el fitxer</li> </ol>"},{"location":"U02%20Python/09_Tractament_de_fitxer/#12-open","title":"1.2. Open","text":"<p>Per obrir un fitxer utilitzem la funci\u00f3 open().</p> Python<pre><code>&gt;&gt;&gt; f = open(\"test.txt\")    # arxiu en el mateix directori\n&gt;&gt;&gt; f = open(\"C:/Python38/README.txt\")  # path sencer\n</code></pre> <p>A m\u00e9s, podem especificar el mode d'apertura i la codificaci\u00f3.</p> Mode Descripci\u00f3 r lectura w escriptura x creaci\u00f3 exclusiva (falla si ja existeix) a afegir al final, el crea si no existeix t mode lectura de text (per defecte) b mode binari + actualitzaci\u00f3 (lectura i escriptura ) Python<pre><code>&gt;&gt;&gt; f = open(\"test.txt\",'w') # obert per a escriptura\n&gt;&gt;&gt; f = open(\"test.txt\", mode='r', encoding='utf-8')\n</code></pre> <p>Compte amb les rutes a recursos</p> <p>\u00c9s important que tingau en compte que quan l'int\u00e8rpret de python s'executa, ho fa des del directori del qu\u00e8 s'ha llan\u00e7at(el podeu obtindre mitjan\u00e7ant os.getcwd()), per aix\u00f2 la c\u00e0rrega de fitxers en rutes relatives en funcions tipus open, load, etc potser vos d\u00f3ne un error indicant que no el troba.</p> Python<pre><code>f = open(\"ruta relativa/arxiu.txt\")    \n</code></pre> <p>Soluci\u00f3!</p> <p>S'han d'utilitzar rutes relatives a l'arxiu en execuci\u00f3.</p> <p>El que podeu fer per evitar estos errors \u00e9s obtindre la ruta des del fitxer font de la seg\u00fcent forma:</p> Python<pre><code>ruta_base = os.path.dirname(__file__) # directori de l'arxiu en execuci\u00f3\nruta_a_recurs = os.path.join(ruta_base, \"arxiu.txt\") # ruta relativa a l'arxiu en execuci\u00f3\nf = open(ruta_a_recurs)\n</code></pre>"},{"location":"U02%20Python/09_Tractament_de_fitxer/#13-close","title":"1.3. Close","text":"<p>Python utilitza un garbage collector per netejar objectes sense refer\u00e8ncies, per\u00f2 no hem de confiar per tancar el fitxer.</p> Python<pre><code>try:\n   f = open(\"test.txt\", encoding = 'utf-8')\n   # operacions sobre l'arxiu\nfinally:\n   f.close()\n</code></pre> <p>Altra possibilitat \u00e9s amb with. En este cas no hem de tancar-lo expl\u00edcitament.</p> Python<pre><code>with open(\"test.txt\", encoding = 'utf-8') as f:\n   # operacions sobre l'arxiu\n</code></pre>"},{"location":"U02%20Python/09_Tractament_de_fitxer/#14-escriptura","title":"1.4. Escriptura","text":"<p>Per a escriure, necessitem haver-lo obert amb les opcions w, a o x. Compte amb l'opci\u00f3 w, perqu\u00e8 sobreescriu els arxius.</p> Python<pre><code>with open(\"test.txt\",'w',encoding = 'utf-8') as f:\n   f.write(\"Primer arxiu\\n\")\n   f.write(\"Este arxiu\\n\")\n   f.write(\"cont\u00e9 tres l\u00ednies\\n\")\n</code></pre>"},{"location":"U02%20Python/09_Tractament_de_fitxer/#15-lectura","title":"1.5. Lectura","text":"<p>Utilitzarem el m\u00e8tode read() per a llegir. La funci\u00f3 tell() ens diu en quina posici\u00f3 tenim el cursor i amb seek() el podem modificar.</p> Python<pre><code>&gt;&gt;&gt; f = open(\"test.txt\",'r',encoding = 'utf-8')\n&gt;&gt;&gt; f.read(6)\n'Primer'\n\n&gt;&gt;&gt; f.read(6)\n' arxiu'\n\n&gt;&gt;&gt; f.read()     # llig fins al final\n'\\nEste arxiu\\ncont\u00e9 tres l\u00ednies\\n'\n\n&gt;&gt;&gt; f.read()  # posteriors lectures tornen la cadena buida\n''\n</code></pre> Python<pre><code>&gt;&gt;&gt; f.tell()\n45\n\n&gt;&gt;&gt; f.seek(0)\n0\n\n&gt;&gt;&gt; print(f.read())\nPrimer arxiu\nEste arxiu\ncont\u00e9 tres l\u00ednies\n</code></pre> <p>Tamb\u00e9 podem utilitzar la funci\u00f3 readline() per a llegir una l\u00ednia, o readlines() per a que ens torne una llista de l\u00ednies llegides.</p>"},{"location":"U02%20Python/09_Tractament_de_fitxer/#151-activitat-11","title":"1.5.1. Activitat 11","text":"<p>Crea una aplicaci\u00f3 que vaja llegint operacions d'un fitxer \"operacions.txt\" que contindr\u00e0 una operaci\u00f3 per l\u00ednia. Per exemple: 4 + 4</p> <p>Haur\u00e0 de guardar els resultats en un altre arxiu \"resultats.txt\". Per exemple: 4 + 4 = 8</p> <p>Utilitza funcions an\u00f2nimes per a implementar les operacions de suma, resta, multiplicaci\u00f3 i divisi\u00f3, que seran les \u00faniques operacions reconegudes per la nostra aplicaci\u00f3.</p>"},{"location":"U02%20Python/09_Tractament_de_fitxer/#2-directoris","title":"2. Directoris","text":"<p>Si hi ha una gran quantitat de fitxers i directoris amb els que tractar, disposem del m\u00f2dul os (operating system), que ens proporciona m\u00e8todes per al seu tractament.</p> <p>Per a veure el directori de treball, utilitzem getcwd().</p> Python<pre><code>&gt;&gt;&gt; import os\n\n&gt;&gt;&gt; os.getcwd()\n</code></pre> <p>Per a canviar de directori, chdir().</p> Python<pre><code>&gt;&gt;&gt; os.chdir('/home/ferran')\n</code></pre> <p>Per a llistar els directoris ens servim de listdir().</p> Python<pre><code>&gt;&gt;&gt; os.listdir('/home')\n</code></pre> <p>Per crear un directori usem mkdir().</p> Python<pre><code>&gt;&gt;&gt; os.mkdir('Nova_carpeta')\n</code></pre> <p>Si volem renombrar un directori.</p> Python<pre><code>&gt;&gt;&gt; os.rename('Nova_carpeta','Vella_carpeta')\n</code></pre> <p>Per a eliminar un arxiu utilitzarem remove(). Si el que volem eliminar \u00e9s una carpeta buida rmdir().</p> Python<pre><code>&gt;&gt;&gt; os.remove('arxiu.txt')\n&gt;&gt;&gt; os.rmdir('Vella_carpeta')\n</code></pre> <p>En el cas que la carpeta no estiga buida, hem d'importar el m\u00f2dul shutil i utilitzar la funci\u00f3 rmtree().</p> Python<pre><code>&gt;&gt;&gt; import shutil\n&gt;&gt;&gt; shutil.rmtree('Carpeta')\n</code></pre>"},{"location":"U02%20Python/Continguts/","title":"Continguts","text":"<p>S'estudiar\u00e0 en aquesta unitat:</p> <ol> <li>Entorns de desenvolupamnet. Conda/Anaconda</li> <li>Creaci\u00f3 de projectes. Entorns virtuals</li> <li>Tipus b\u00e0sics. Variables</li> <li>Operadors</li> <li>Estructures de control</li> <li>Funcions</li> <li>Del sistema</li> <li>llibrerires</li> <li>Definici\u00f3 i crida. Par\u00e0metres</li> <li>Estructures de dades: tupla, llista i diccionari</li> <li>POO</li> <li>Projecte inicial: dibuixant figures </li> </ol>"},{"location":"U02%20Python/Sorting/","title":"Sorting","text":"<p>Up to this point we have been concerned mainly with tools to access and operate on array data with NumPy. This section covers algorithms related to sorting values in NumPy arrays. These algorithms are a favorite topic in introductory computer science courses: if you've ever taken one, you probably have had dreams (or, depending on your temperament, nightmares) about insertion sorts, selection sorts, merge sorts, quick sorts, bubble sorts, and many, many more. All are means of accomplishing a similar task: sorting the values in a list or array.</p> <p>For example, a simple selection sort repeatedly finds the minimum value from a list, and makes swaps until the list is sorted. We can code this in just a few lines of Python:</p> In\u00a0[2]: Copied! <pre>import numpy as np\n\ndef selection_sort(x):\n    for i in range(len(x)):\n        swap = i + np.argmin(x[i:])\n        (x[i], x[swap]) = (x[swap], x[i])\n    return x\n</pre> import numpy as np  def selection_sort(x):     for i in range(len(x)):         swap = i + np.argmin(x[i:])         (x[i], x[swap]) = (x[swap], x[i])     return x <pre>\n---------------------------------------------------------------------------\nModuleNotFoundError                       Traceback (most recent call last)\nCell In[2], line 1\n----&gt; 1 import numpy as np\n      3 def selection_sort(x):\n      4     for i in range(len(x)):\n\nModuleNotFoundError: No module named 'numpy'</pre> In\u00a0[\u00a0]: Copied! <pre>x = np.array([2, 1, 4, 3, 5])\nselection_sort(x)\n</pre> x = np.array([2, 1, 4, 3, 5]) selection_sort(x) Out[\u00a0]: <pre>array([1, 2, 3, 4, 5])</pre> <p>As any first-year computer science major will tell you, the selection sort is useful for its simplicity, but is much too slow to be useful for larger arrays. For a list of $N$ values, it requires $N$ loops, each of which does on order $\\sim N$ comparisons to find the swap value. In terms of the \"big-O\" notation often used to characterize these algorithms (see Big-O Notation), selection sort averages $\\mathcal{O}[N^2]$: if you double the number of items in the list, the execution time will go up by about a factor of four.</p> <p>Even selection sort, though, is much better than my all-time favorite sorting algorithms, the bogosort:</p> In\u00a0[\u00a0]: Copied! <pre>def bogosort(x):\n    while np.any(x[:-1] &gt; x[1:]):\n        np.random.shuffle(x)\n    return x\n</pre> def bogosort(x):     while np.any(x[:-1] &gt; x[1:]):         np.random.shuffle(x)     return x In\u00a0[\u00a0]: Copied! <pre>x = np.array([2, 1, 4, 3, 5])\nbogosort(x)\n</pre> x = np.array([2, 1, 4, 3, 5]) bogosort(x) Out[\u00a0]: <pre>array([1, 2, 3, 4, 5])</pre> <p>This silly sorting method relies on pure chance: it repeatedly applies a random shuffling of the array until the result happens to be sorted. With an average scaling of $\\mathcal{O}[N \\times N!]$, (that's N times N factorial) this should\u2013quite obviously\u2013never be used for any real computation.</p> <p>Fortunately, Python contains built-in sorting algorithms that are much more efficient than either of the simplistic algorithms just shown. We'll start by looking at the Python built-ins, and then take a look at the routines included in NumPy and optimized for NumPy arrays.</p> In\u00a0[\u00a0]: Copied! <pre>x = np.array([2, 1, 4, 3, 5])\nnp.sort(x)\n</pre> x = np.array([2, 1, 4, 3, 5]) np.sort(x) Out[\u00a0]: <pre>array([1, 2, 3, 4, 5])</pre> <p>If you prefer to sort the array in-place, you can instead use the <code>sort</code> method of arrays:</p> In\u00a0[\u00a0]: Copied! <pre>x.sort()\nprint(x)\n</pre> x.sort() print(x) <pre>[1 2 3 4 5]\n</pre> <p>A related function is <code>argsort</code>, which instead returns the indices of the sorted elements:</p> In\u00a0[\u00a0]: Copied! <pre>x = np.array([2, 1, 4, 3, 5])\ni = np.argsort(x)\nprint(i)\n</pre> x = np.array([2, 1, 4, 3, 5]) i = np.argsort(x) print(i) <pre>[1 0 3 2 4]\n</pre> <p>The first element of this result gives the index of the smallest element, the second value gives the index of the second smallest, and so on. These indices can then be used (via fancy indexing) to construct the sorted array if desired:</p> In\u00a0[\u00a0]: Copied! <pre>x[i]\n</pre> x[i] Out[\u00a0]: <pre>array([1, 2, 3, 4, 5])</pre> <p>A useful feature of NumPy's sorting algorithms is the ability to sort along specific rows or columns of a multidimensional array using the <code>axis</code> argument. For example:</p> In\u00a0[\u00a0]: Copied! <pre>rand = np.random.RandomState(42)\nX = rand.randint(0, 10, (4, 6))\nprint(X)\n</pre> rand = np.random.RandomState(42) X = rand.randint(0, 10, (4, 6)) print(X) <pre>[[6 3 7 4 6 9]\n [2 6 7 4 3 7]\n [7 2 5 4 1 7]\n [5 1 4 0 9 5]]\n</pre> In\u00a0[\u00a0]: Copied! <pre># sort each column of X\nnp.sort(X, axis=0)\n</pre> # sort each column of X np.sort(X, axis=0) Out[\u00a0]: <pre>array([[2, 1, 4, 0, 1, 5],\n       [5, 2, 5, 4, 3, 7],\n       [6, 3, 7, 4, 6, 7],\n       [7, 6, 7, 4, 9, 9]])</pre> In\u00a0[\u00a0]: Copied! <pre># sort each row of X\nnp.sort(X, axis=1)\n</pre> # sort each row of X np.sort(X, axis=1) Out[\u00a0]: <pre>array([[3, 4, 6, 6, 7, 9],\n       [2, 3, 4, 6, 7, 7],\n       [1, 2, 4, 5, 7, 7],\n       [0, 1, 4, 5, 5, 9]])</pre> <p>Keep in mind that this treats each row or column as an independent array, and any relationships between the row or column values will be lost!</p> In\u00a0[\u00a0]: Copied! <pre>x = np.array([7, 2, 3, 1, 6, 5, 4])\nnp.partition(x, 3)\n</pre> x = np.array([7, 2, 3, 1, 6, 5, 4]) np.partition(x, 3) Out[\u00a0]: <pre>array([2, 1, 3, 4, 6, 5, 7])</pre> <p>Note that the first three values in the resulting array are the three smallest in the array, and the remaining array positions contain the remaining values. Within the two partitions, the elements have arbitrary order.</p> <p>Similarly to sorting, we can partition along an arbitrary axis of a multidimensional array:</p> In\u00a0[\u00a0]: Copied! <pre>np.partition(X, 2, axis=1)\n</pre> np.partition(X, 2, axis=1) Out[\u00a0]: <pre>array([[3, 4, 6, 7, 6, 9],\n       [2, 3, 4, 7, 6, 7],\n       [1, 2, 4, 5, 7, 7],\n       [0, 1, 4, 5, 9, 5]])</pre> <p>The result is an array where the first two slots in each row contain the smallest values from that row, with the remaining values filling the remaining slots.</p> <p>Finally, just as there is a <code>np.argsort</code> that computes indices of the sort, there is a <code>np.argpartition</code> that computes indices of the partition. We'll see this in action in the following section.</p> In\u00a0[\u00a0]: Copied! <pre>X = rand.rand(10, 2)\n</pre> X = rand.rand(10, 2) <p>To get an idea of how these points look, let's quickly scatter plot them:</p> In\u00a0[\u00a0]: Copied! <pre>%matplotlib inline\nimport matplotlib.pyplot as plt\nimport seaborn; seaborn.set() # Plot styling\nplt.scatter(X[:, 0], X[:, 1], s=100);\n</pre> %matplotlib inline import matplotlib.pyplot as plt import seaborn; seaborn.set() # Plot styling plt.scatter(X[:, 0], X[:, 1], s=100); <p>Now we'll compute the distance between each pair of points. Recall that the squared-distance between two points is the sum of the squared differences in each dimension; using the efficient broadcasting (Computation on Arrays: Broadcasting) and aggregation (Aggregations: Min, Max, and Everything In Between)  routines provided by NumPy we can compute the matrix of square distances in a single line of code:</p> In\u00a0[\u00a0]: Copied! <pre>dist_sq = np.sum((X[:, np.newaxis, :] - X[np.newaxis, :, :]) ** 2, axis=-1)\n</pre> dist_sq = np.sum((X[:, np.newaxis, :] - X[np.newaxis, :, :]) ** 2, axis=-1) <p>This operation has a lot packed into it, and it might be a bit confusing if you're unfamiliar with NumPy's broadcasting rules. When you come across code like this, it can be useful to break it down into its component steps:</p> In\u00a0[\u00a0]: Copied! <pre># for each pair of points, compute differences in their coordinates\ndifferences = X[:, np.newaxis, :] - X[np.newaxis, :, :]\ndifferences.shape\n</pre> # for each pair of points, compute differences in their coordinates differences = X[:, np.newaxis, :] - X[np.newaxis, :, :] differences.shape Out[\u00a0]: <pre>(10, 10, 2)</pre> In\u00a0[\u00a0]: Copied! <pre># square the coordinate differences\nsq_differences = differences ** 2\nsq_differences.shape\n</pre> # square the coordinate differences sq_differences = differences ** 2 sq_differences.shape Out[\u00a0]: <pre>(10, 10, 2)</pre> In\u00a0[\u00a0]: Copied! <pre># sum the coordinate differences to get the squared distance\ndist_sq = sq_differences.sum(-1)\ndist_sq.shape\n</pre> # sum the coordinate differences to get the squared distance dist_sq = sq_differences.sum(-1) dist_sq.shape Out[\u00a0]: <pre>(10, 10)</pre> <p>Just to double-check what we are doing, we should see that the diagonal of this matrix (i.e., the set of distances between each point and itself) is all zero:</p> In\u00a0[\u00a0]: Copied! <pre>dist_sq.diagonal()\n</pre> dist_sq.diagonal() Out[\u00a0]: <pre>array([ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.])</pre> <p>It checks out! With the pairwise square-distances converted, we can now use <code>np.argsort</code> to sort along each row. The leftmost columns will then give the indices of the nearest neighbors:</p> In\u00a0[\u00a0]: Copied! <pre>nearest = np.argsort(dist_sq, axis=1)\nprint(nearest)\n</pre> nearest = np.argsort(dist_sq, axis=1) print(nearest) <pre>[[0 3 9 7 1 4 2 5 6 8]\n [1 4 7 9 3 6 8 5 0 2]\n [2 1 4 6 3 0 8 9 7 5]\n [3 9 7 0 1 4 5 8 6 2]\n [4 1 8 5 6 7 9 3 0 2]\n [5 8 6 4 1 7 9 3 2 0]\n [6 8 5 4 1 7 9 3 2 0]\n [7 9 3 1 4 0 5 8 6 2]\n [8 5 6 4 1 7 9 3 2 0]\n [9 7 3 0 1 4 5 8 6 2]]\n</pre> <p>Notice that the first column gives the numbers 0 through 9 in order: this is due to the fact that each point's closest neighbor is itself, as we would expect.</p> <p>By using a full sort here, we've actually done more work than we need to in this case. If we're simply interested in the nearest $k$ neighbors, all we need is to partition each row so that the smallest $k + 1$ squared distances come first, with larger distances filling the remaining positions of the array. We can do this with the <code>np.argpartition</code> function:</p> In\u00a0[\u00a0]: Copied! <pre>K = 2\nnearest_partition = np.argpartition(dist_sq, K + 1, axis=1)\n</pre> K = 2 nearest_partition = np.argpartition(dist_sq, K + 1, axis=1) <p>In order to visualize this network of neighbors, let's quickly plot the points along with lines representing the connections from each point to its two nearest neighbors:</p> In\u00a0[\u00a0]: Copied! <pre>plt.scatter(X[:, 0], X[:, 1], s=100)\n\n# draw lines from each point to its two nearest neighbors\nK = 2\n\nfor i in range(X.shape[0]):\n    for j in nearest_partition[i, :K+1]:\n        # plot a line from X[i] to X[j]\n        # use some zip magic to make it happen:\n        plt.plot(*zip(X[j], X[i]), color='black')\n</pre> plt.scatter(X[:, 0], X[:, 1], s=100)  # draw lines from each point to its two nearest neighbors K = 2  for i in range(X.shape[0]):     for j in nearest_partition[i, :K+1]:         # plot a line from X[i] to X[j]         # use some zip magic to make it happen:         plt.plot(*zip(X[j], X[i]), color='black') <p>Each point in the plot has lines drawn to its two nearest neighbors. At first glance, it might seem strange that some of the points have more than two lines coming out of them: this is due to the fact that if point A is one of the two nearest neighbors of point B, this does not necessarily imply that point B is one of the two nearest neighbors of point A.</p> <p>Although the broadcasting and row-wise sorting of this approach might seem less straightforward than writing a loop, it turns out to be a very efficient way of operating on this data in Python. You might be tempted to do the same type of operation by manually looping through the data and sorting each set of neighbors individually, but this would almost certainly lead to a slower algorithm than the vectorized version we used. The beauty of this approach is that it's written in a way that's agnostic to the size of the input data: we could just as easily compute the neighbors among 100 or 1,000,000 points in any number of dimensions, and the code would look the same.</p> <p>Finally, I'll note that when doing very large nearest neighbor searches, there are tree-based and/or approximate algorithms that can scale as $\\mathcal{O}[N\\log N]$ or better rather than the $\\mathcal{O}[N^2]$ of the brute-force algorithm. One example of this is the KD-Tree, implemented in Scikit-learn.</p>"},{"location":"U02%20Python/Sorting/#sorting-arrays","title":"Sorting Arrays\u00b6","text":""},{"location":"U02%20Python/Sorting/#fast-sorting-in-numpy-npsort-and-npargsort","title":"Fast Sorting in NumPy: <code>np.sort</code> and <code>np.argsort</code>\u00b6","text":"<p>Although Python has built-in <code>sort</code> and <code>sorted</code> functions to work with lists, we won't discuss them here because NumPy's <code>np.sort</code> function turns out to be much more efficient and useful for our purposes. By default <code>np.sort</code> uses an $\\mathcal{O}[N\\log N]$, quicksort algorithm, though mergesort and heapsort are also available. For most applications, the default quicksort is more than sufficient.</p> <p>To return a sorted version of the array without modifying the input, you can use <code>np.sort</code>:</p>"},{"location":"U02%20Python/Sorting/#sorting-along-rows-or-columns","title":"Sorting along rows or columns\u00b6","text":""},{"location":"U02%20Python/Sorting/#partial-sorts-partitioning","title":"Partial Sorts: Partitioning\u00b6","text":"<p>Sometimes we're not interested in sorting the entire array, but simply want to find the k smallest values in the array. NumPy provides this in the <code>np.partition</code> function. <code>np.partition</code> takes an array and a number K; the result is a new array with the smallest K values to the left of the partition, and the remaining values to the right, in arbitrary order:</p>"},{"location":"U02%20Python/Sorting/#example-k-nearest-neighbors","title":"Example: k-Nearest Neighbors\u00b6","text":"<p>Let's quickly see how we might use this <code>argsort</code> function along multiple axes to find the nearest neighbors of each point in a set. We'll start by creating a random set of 10 points on a two-dimensional plane. Using the standard convention, we'll arrange these in a $10\\times 2$ array:</p>"},{"location":"U02%20Python/Sorting/#aside-big-o-notation","title":"Aside: Big-O Notation\u00b6","text":"<p>Big-O notation is a means of describing how the number of operations required for an algorithm scales as the input grows in size. To use it correctly is to dive deeply into the realm of computer science theory, and to carefully distinguish it from the related small-o notation, big-$\\theta$ notation, big-$\\Omega$ notation, and probably many mutant hybrids thereof. While these distinctions add precision to statements about algorithmic scaling, outside computer science theory exams and the remarks of pedantic blog commenters, you'll rarely see such distinctions made in practice. Far more common in the data science world is a less rigid use of big-O notation: as a general (if imprecise) description of the scaling of an algorithm. With apologies to theorists and pedants, this is the interpretation we'll use throughout this book.</p> <p>Big-O notation, in this loose sense, tells you how much time your algorithm will take as you increase the amount of data. If you have an $\\mathcal{O}[N]$ (read \"order $N$\") algorithm that takes 1 second to operate on a list of length N=1,000, then you should expect it to take roughly 5 seconds for a list of length N=5,000. If you have an $\\mathcal{O}[N^2]$ (read \"order N squared\") algorithm that takes 1 second for N=1000, then you should expect it to take about 25 seconds for N=5000.</p> <p>For our purposes, the N will usually indicate some aspect of the size of the dataset (the number of points, the number of dimensions, etc.). When trying to analyze billions or trillions of samples, the difference between $\\mathcal{O}[N]$ and $\\mathcal{O}[N^2]$ can be far from trivial!</p> <p>Notice that the big-O notation by itself tells you nothing about the actual wall-clock time of a computation, but only about its scaling as you change N. Generally, for example, an $\\mathcal{O}[N]$ algorithm is considered to have better scaling than an $\\mathcal{O}[N^2]$ algorithm, and for good reason. But for small datasets in particular, the algorithm with better scaling might not be faster. For example, in a given problem an $\\mathcal{O}[N^2]$ algorithm might take 0.01 seconds, while a \"better\" $\\mathcal{O}[N]$ algorithm might take 1 second. Scale up N by a factor of 1,000, though, and the $\\mathcal{O}[N]$ algorithm will win out.</p> <p>Even this loose version of Big-O notation can be very useful when comparing the performance of algorithms, and we'll use this notation throughout the book when talking about how algorithms scale.</p>"},{"location":"U02%20Python/exercicis/01_Introduccio/","title":"01 Introduccio","text":"In\u00a0[\u00a0]: Copied!"},{"location":"U02%20Python/exercicis/02_Exercicis_Basics/","title":"02 Exercicis Basics","text":"In\u00a0[\u00a0]: Copied! <pre># Soluci\u00f3 a l'exercici de variables\n</pre> # Soluci\u00f3 a l'exercici de variables  In\u00a0[\u00a0]: Copied! <pre># Soluci\u00f3 a l'exercici d'operadors\n</pre> # Soluci\u00f3 a l'exercici d'operadors   In\u00a0[\u00a0]: Copied! <pre># Completa ac\u00ed el teu codi\n</pre> # Completa ac\u00ed el teu codi  In\u00a0[\u00a0]: Copied! <pre># Completa ac\u00ed el teu codi\n</pre> # Completa ac\u00ed el teu codi  In\u00a0[\u00a0]: Copied! <pre># Completa ac\u00ed el teu codi\n</pre> # Completa ac\u00ed el teu codi In\u00a0[\u00a0]: Copied! <pre># Completa ac\u00ed el teu codi\n</pre> # Completa ac\u00ed el teu codi"},{"location":"U02%20Python/exercicis/02_Exercicis_Basics/#exercici-de-variables","title":"Exercici de variables\u00b6","text":"<ul> <li>Crea 2 variables booleanes una amb el valor verdader i una altra amb el valor fals.</li> <li>Crea una variable de tipus String amb un nombre i la transformes en un int.</li> <li>Crea una variable de tipus String amb un nombre i la transformes en un float.</li> <li>Crea una variable de tipus int i la transformes en un float.</li> <li>Crea una variable de tipus int i la transformes en un String.</li> <li>Crea una variable de tipus float i la transformes en un String.</li> <li>Crea una variable de tipus float i la transformes en un int. La funci\u00f3 arrodoneix o trunca?</li> </ul>"},{"location":"U02%20Python/exercicis/02_Exercicis_Basics/#operadors","title":"Operadors\u00b6","text":"<ul> <li>Fes divisi\u00f3 amb decimals de 7/4</li> <li>Fes la divisi\u00f3 entera de 7/4</li> <li>Calcula el residu de 7/4</li> <li>Calcula $2^{16}$</li> </ul>"},{"location":"U02%20Python/exercicis/02_Exercicis_Basics/#exercici-1","title":"Exercici 1\u00b6","text":"<p>Fes un programa que pregunte quants anys t\u00e9 alg\u00fa i que mostre per pantalla la quantitat d\u2019anys que falten per a la majoria d\u2019edat i per a jubilar-se.</p>"},{"location":"U02%20Python/exercicis/02_Exercicis_Basics/#exercici-2","title":"Exercici 2\u00b6","text":"<p>Fer un programa que pregunte per la base i l\u2019altura d\u2019un triangle i mostre per pantalla l\u2019\u00e0rea d\u2019eixe triangle.</p>"},{"location":"U02%20Python/exercicis/02_Exercicis_Basics/#exercici-3","title":"Exercici 3\u00b6","text":"<p>A partir d'aques programa en el qual hem escrit els blancs per a formatar el text, escriu-lo per a aconseguir el mateix per pantalla per\u00f2 fent servir les funcions estudiades al tema</p> <pre>print(\"Llibre                                                       Autor\")\nprint(\"El Quijote                                                   Cervantes\")\nprint(\"Harry Potter y las Reliquias de la muerte                    HK Rowling\")\nprint(\"Carlos en tu cocina                                          Carlos Argui\u00f1ano\")\n</pre>"},{"location":"U02%20Python/exercicis/02_Exercicis_Basics/#exercici-4","title":"Exercici 4\u00b6","text":"<p>A partir del llistat de numeros que tens a continuaci\u00f3, imprimir-los ordenats pel punt decimal i amb dos decimals, tal i com es veu a continuaci\u00f3</p> <pre><code>ORIGINAL        FORMATAT\n23.453             23.45\n2.324               2.32\n154               154.00\n23142.253       23142.25  \n53.0000343         53.00\n</code></pre>"},{"location":"U02%20Python/exercicis/02_Exercicis_BasicsResolts/","title":"02 Exercicis BasicsResolts","text":"In\u00a0[8]: Copied! <pre># Soluci\u00f3 a l'exercici de variables\n\nsi=True\nno=False\n\nv1=\"456\"\nnum1=int(v1)\nprint(num1)\nnum2=float(v1)\nprint(num2)\n\nv2=345\nnum3=float(v2)\nprint(num3)\ntext=str(v2)\nprint(text)\n\nf=3456.67\n\ntext2=str(f)\nprint(text2)\n\nnum4=int(f)\nprint(num4,\"arredoneix\")\n</pre> # Soluci\u00f3 a l'exercici de variables  si=True no=False  v1=\"456\" num1=int(v1) print(num1) num2=float(v1) print(num2)  v2=345 num3=float(v2) print(num3) text=str(v2) print(text)  f=3456.67  text2=str(f) print(text2)  num4=int(f) print(num4,\"arredoneix\")   <pre>456\n456.0\n345.0\n345\n3456.67\n3456 arredoneix\n</pre> In\u00a0[9]: Copied! <pre># Soluci\u00f3 a l'exercici d'operadors\n\ndivisio=7/4\nprint(divisio)\n\nentera=7//4\nprint(entera)\n\nresidu=7%4\nprint(residu)\n\npotencia=2**16\nprint(potencia)\n</pre> # Soluci\u00f3 a l'exercici d'operadors  divisio=7/4 print(divisio)  entera=7//4 print(entera)  residu=7%4 print(residu)  potencia=2**16 print(potencia) <pre>1.75\n1\n3\n65536\n</pre> In\u00a0[13]: Copied! <pre># Completa ac\u00ed el teu codi\nedad=int(input(\"Dis-me la teua esdat\"))\n\nif (edad&lt;18):\n  print(f\"Et falten {18-edad} anys per ser major d'edad\")\nif (edad&lt;65):\n  print(f\"Et falten {65-edad} anys per a jubilar-te\")\n</pre> # Completa ac\u00ed el teu codi edad=int(input(\"Dis-me la teua esdat\"))  if (edad&lt;18):   print(f\"Et falten {18-edad} anys per ser major d'edad\") if (edad&lt;65):   print(f\"Et falten {65-edad} anys per a jubilar-te\") <pre>Et falten 16 anys per a jubilar-te\n</pre> In\u00a0[4]: Copied! <pre># Completa ac\u00ed el teu codi\nbase=float(input())\n</pre> # Completa ac\u00ed el teu codi base=float(input()) <pre>136\n</pre> In\u00a0[\u00a0]: Copied! <pre># Completa ac\u00ed el teu codi\n</pre> # Completa ac\u00ed el teu codi In\u00a0[\u00a0]: Copied! <pre># Completa ac\u00ed el teu codi\n</pre> # Completa ac\u00ed el teu codi"},{"location":"U02%20Python/exercicis/02_Exercicis_BasicsResolts/#exercici-de-variables","title":"Exercici de variables\u00b6","text":"<ul> <li>Crea 2 variables booleanes una amb el valor verdader i una altra amb el valor fals.</li> <li>Crea una variable de tipus String amb un nombre i la transformes en un int.</li> <li>Crea una variable de tipus String amb un nombre i la transformes en un float.</li> <li>Crea una variable de tipus int i la transformes en un float.</li> <li>Crea una variable de tipus int i la transformes en un String.</li> <li>Crea una variable de tipus float i la transformes en un String.</li> <li>Crea una variable de tipus float i la transformes en un int. La funci\u00f3 arrodoneix o trunca?</li> </ul>"},{"location":"U02%20Python/exercicis/02_Exercicis_BasicsResolts/#operadors","title":"Operadors\u00b6","text":"<ul> <li>Fes divisi\u00f3 amb decimals de 7/4</li> <li>Fes la divisi\u00f3 entera de 7/4</li> <li>Calcula el residu de 7/4</li> <li>Calcula $2^{16}$</li> </ul>"},{"location":"U02%20Python/exercicis/02_Exercicis_BasicsResolts/#exercici-1","title":"Exercici 1\u00b6","text":"<p>Fes un programa que pregunte quants anys t\u00e9 alg\u00fa i que mostre per pantalla la quantitat d\u2019anys que falten per a la majoria d\u2019edat i per a jubilar-se.</p>"},{"location":"U02%20Python/exercicis/02_Exercicis_BasicsResolts/#exercici-2","title":"Exercici 2\u00b6","text":"<p>Fer un programa que pregunte per la base i l\u2019altura d\u2019un triangle i mostre per pantalla l\u2019\u00e0rea d\u2019eixe triangle.</p>"},{"location":"U02%20Python/exercicis/02_Exercicis_BasicsResolts/#exercici-3","title":"Exercici 3\u00b6","text":"<p>A partir d'aques programa en el qual hem escrit els blancs per a formatar el text, escriu-lo per a aconseguir el mateix per pantalla per\u00f2 fent servir les funcions estudiades al tema</p> <pre>print(\"Llibre                                                       Autor\")\nprint(\"El Quijote                                                   Cervantes\")\nprint(\"Harry Potter y las Reliquias de la muerte                    HK Rowling\")\nprint(\"Carlos en tu cocina                                          Carlos Argui\u00f1ano\")\n</pre>"},{"location":"U02%20Python/exercicis/02_Exercicis_BasicsResolts/#exercici-4","title":"Exercici 4\u00b6","text":"<p>A partir del llistat de numeros que tens a continuaci\u00f3, imprimir-los ordenats pel punt decimal i amb dos decimals, tal i com es veu a continuaci\u00f3</p> <pre><code>ORIGINAL        FORMATAT\n23.453             23.45\n2.324               2.32\n154               154.00\n23142.253       23142.25  \n53.0000343         53.00\n</code></pre>"},{"location":"U02%20Python/exercicis/04_Funcions/","title":"04 Funcions","text":"In\u00a0[3]: Copied! <pre>def sumar(x,y):\n    return x+y\n\na=3\nb=4\nprint(sumar(a,b))\n</pre> def sumar(x,y):     return x+y  a=3 b=4 print(sumar(a,b)) <pre>7\n</pre> In\u00a0[4]: Copied! <pre>def sumar2(x,y):\n    x=x+1\n    return x+y\n\na=3\nb=4\nprint(\"a={} y b={} y la suma es {}\".format(a,b,sumar2(a,b)))\n</pre> def sumar2(x,y):     x=x+1     return x+y  a=3 b=4 print(\"a={} y b={} y la suma es {}\".format(a,b,sumar2(a,b))) <pre>a=3 y b=4 y la suma es 8\n</pre> In\u00a0[5]: Copied! <pre>def volum(alt=10,ample=20,fons=30):\n    print(\"El volumn de {}x{}x{}={}\".format(alt,ample,fons,alt*ample*fons))\n          \nvolum()\nvolum(50,60,70)\nvolum(ample=50)\nvolum(40,fons=10,alt=20)\n</pre> def volum(alt=10,ample=20,fons=30):     print(\"El volumn de {}x{}x{}={}\".format(alt,ample,fons,alt*ample*fons))            volum() volum(50,60,70) volum(ample=50) volum(40,fons=10,alt=20) <pre>El volumn de 10x20x30=6000\nEl volumn de 50x60x70=210000\nEl volumn de 10x50x30=15000\n</pre> <pre>\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n/Users/joange/Documents/PIA_Jaume_23_24/md/U02 Python/exercicis/04_Funcions.ipynb Celda 3 line 7\n      &lt;a href='vscode-notebook-cell:/Users/joange/Documents/PIA_Jaume_23_24/md/U02%20Python/exercicis/04_Funcions.ipynb#W2sZmlsZQ%3D%3D?line=4'&gt;5&lt;/a&gt; volum(50,60,70)\n      &lt;a href='vscode-notebook-cell:/Users/joange/Documents/PIA_Jaume_23_24/md/U02%20Python/exercicis/04_Funcions.ipynb#W2sZmlsZQ%3D%3D?line=5'&gt;6&lt;/a&gt; volum(ample=50)\n----&gt; &lt;a href='vscode-notebook-cell:/Users/joange/Documents/PIA_Jaume_23_24/md/U02%20Python/exercicis/04_Funcions.ipynb#W2sZmlsZQ%3D%3D?line=6'&gt;7&lt;/a&gt; volum(40,fons=10,alt=20)\n\nTypeError: volum() got multiple values for argument 'alt'</pre> In\u00a0[6]: Copied! <pre>def sumaMolts(*args):\n    sum=0\n    for num in args:\n        sum+=num\n    return sum\n\nprint(sumaMolts(5))\nprint(sumaMolts(5,5,2,7))\nprint(sumaMolts())\n</pre> def sumaMolts(*args):     sum=0     for num in args:         sum+=num     return sum  print(sumaMolts(5)) print(sumaMolts(5,5,2,7)) print(sumaMolts()) <pre>5\n19\n0\n</pre> In\u00a0[11]: Copied! <pre>import pprint as pp\ndef coleccion(**elements):\n    print(type(elements))\n    for elem in elements:\n        print(elem,\"-\",elements[elem])\n    pp.pprint(elements)\n\ncoleccion(v1=\"hola\",v2=35.56,v3=True,v4=None,v5='text')\n</pre> import pprint as pp def coleccion(**elements):     print(type(elements))     for elem in elements:         print(elem,\"-\",elements[elem])     pp.pprint(elements)  coleccion(v1=\"hola\",v2=35.56,v3=True,v4=None,v5='text') <pre>&lt;class 'dict'&gt;\nv1 - hola\nv2 - 35.56\nv3 - True\nv4 - None\nv5 - text\n{'v1': 'hola', 'v2': 35.56, 'v3': True, 'v4': None, 'v5': 'text'}\n</pre> In\u00a0[12]: Copied! <pre>def mult(a:int,b:int):\n    print(a*b)\n\ndef suma(a,b):\n    print(a+b)\n\nmult(4,5)\nsuma(4,5)\n\nsuma(\"Hola\",\"Pepe\")\nmult(\"Hola\",\"Pepe\")\n</pre> def mult(a:int,b:int):     print(a*b)  def suma(a,b):     print(a+b)  mult(4,5) suma(4,5)  suma(\"Hola\",\"Pepe\") mult(\"Hola\",\"Pepe\") <pre>20\n9\nHolaPepe\n</pre> <pre>\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n/Users/joange/Documents/PIA_Jaume_23_24/md/U02 Python/exercicis/04_Funcions.ipynb Celda 6 line 1\n      &lt;a href='vscode-notebook-cell:/Users/joange/Documents/PIA_Jaume_23_24/md/U02%20Python/exercicis/04_Funcions.ipynb#W5sZmlsZQ%3D%3D?line=7'&gt;8&lt;/a&gt; suma(4,5)\n     &lt;a href='vscode-notebook-cell:/Users/joange/Documents/PIA_Jaume_23_24/md/U02%20Python/exercicis/04_Funcions.ipynb#W5sZmlsZQ%3D%3D?line=9'&gt;10&lt;/a&gt; suma(\"Hola\",\"Pepe\")\n---&gt; &lt;a href='vscode-notebook-cell:/Users/joange/Documents/PIA_Jaume_23_24/md/U02%20Python/exercicis/04_Funcions.ipynb#W5sZmlsZQ%3D%3D?line=10'&gt;11&lt;/a&gt; mult(\"Hola\",\"Pepe\")\n\n/Users/joange/Documents/PIA_Jaume_23_24/md/U02 Python/exercicis/04_Funcions.ipynb Celda 6 line 2\n      &lt;a href='vscode-notebook-cell:/Users/joange/Documents/PIA_Jaume_23_24/md/U02%20Python/exercicis/04_Funcions.ipynb#W5sZmlsZQ%3D%3D?line=0'&gt;1&lt;/a&gt; def mult(a:int,b:int):\n----&gt; &lt;a href='vscode-notebook-cell:/Users/joange/Documents/PIA_Jaume_23_24/md/U02%20Python/exercicis/04_Funcions.ipynb#W5sZmlsZQ%3D%3D?line=1'&gt;2&lt;/a&gt;     print(a*b)\n\nTypeError: can't multiply sequence by non-int of type 'str'</pre>"},{"location":"U02%20Python/exercicis/05_Estructures/","title":"05 Estructures","text":"In\u00a0[\u00a0]: Copied! <pre># Soluci\u00f3 a l'exercici\n</pre> # Soluci\u00f3 a l'exercici  In\u00a0[\u00a0]: Copied! <pre># Soluci\u00f3 Exercici 2\n</pre> # Soluci\u00f3 Exercici 2 In\u00a0[\u00a0]: Copied! <pre># Soluci\u00f3 Exercici 3\n</pre> # Soluci\u00f3 Exercici 3  In\u00a0[\u00a0]: Copied! <pre># Exemple dels apunts\n\nnba=[]\ndata=open('nba.txt','r').read()\nnba=data.split('\\n')\nprint(nba)\nprint(len(nba))\n\nprint(nba[2:5]) # mostra de la casella 2 a la 4 (\u00faltima-1)\nprint(nba[2:])  # mostra de la casella 2 al final\nprint(nba[:5])  # mostra fins la casella 4 (\u00faltima -1)\nprint(nba[-1:]) # mostra l'\u00faltim\nprint(nba[-3:]) # mostra els 3 \u00faltims\nprint(nba[-5:-3]) # Mostra des de el 5t per la dreta al tercer per la dreta\n</pre> # Exemple dels apunts  nba=[] data=open('nba.txt','r').read() nba=data.split('\\n') print(nba) print(len(nba))  print(nba[2:5]) # mostra de la casella 2 a la 4 (\u00faltima-1) print(nba[2:])  # mostra de la casella 2 al final print(nba[:5])  # mostra fins la casella 4 (\u00faltima -1) print(nba[-1:]) # mostra l'\u00faltim print(nba[-3:]) # mostra els 3 \u00faltims print(nba[-5:-3]) # Mostra des de el 5t per la dreta al tercer per la dreta  In\u00a0[\u00a0]: Copied! <pre># Exemple dels apunts\n\ntelefons={'Pere':123456,'Ana':7483943,'Joan':None}\n\nprint(telefons['Ana'])      \n\n#print(telefons['Pau'])  #Excepci\u00f3 `KeyError``\n\nprint(telefons.get('Pau'))  # Com no esta torna None, per\u00f2 no dona error\n\ndel(telefons['Ana'])      #Elimina la entrada del diccionari\nprint(telefons)\n\nnoms = ['Xavi', 'Elisa', 'MAria']\ntelefons = dict.fromkeys(noms, None)  # Aquestes son les claus, sense valors\nprint(telefons)\n#{'Xavi': None, 'Elisa': None, 'MAria': None}\n\nprint('Xavi' in telefons)\n\n# Crear a partir de un json\nimport json\njsonstring = '{ \"nom\": \"erik\", \"edat\": 38, \"casat\": true}'\npersona=json.loads(jsonstring)\nprint(persona)\n\n# recuperar les claus i els valors per separat\nprint(persona.keys())\nprint(persona.values())\n\n# recuperar els elements\nfor clau,valor in persona.items():\n    print(clau,\"-\",valor)\n</pre> # Exemple dels apunts  telefons={'Pere':123456,'Ana':7483943,'Joan':None}  print(telefons['Ana'])        #print(telefons['Pau'])  #Excepci\u00f3 `KeyError``  print(telefons.get('Pau'))  # Com no esta torna None, per\u00f2 no dona error  del(telefons['Ana'])      #Elimina la entrada del diccionari print(telefons)  noms = ['Xavi', 'Elisa', 'MAria'] telefons = dict.fromkeys(noms, None)  # Aquestes son les claus, sense valors print(telefons) #{'Xavi': None, 'Elisa': None, 'MAria': None}  print('Xavi' in telefons)  # Crear a partir de un json import json jsonstring = '{ \"nom\": \"erik\", \"edat\": 38, \"casat\": true}' persona=json.loads(jsonstring) print(persona)  # recuperar les claus i els valors per separat print(persona.keys()) print(persona.values())  # recuperar els elements for clau,valor in persona.items():     print(clau,\"-\",valor) In\u00a0[\u00a0]: Copied! <pre># Soluci\u00f3 diccionari\n</pre> # Soluci\u00f3 diccionari In\u00a0[\u00a0]: Copied! <pre># Soluci\u00f3 Ampliacions\n</pre> # Soluci\u00f3 Ampliacions"},{"location":"U02%20Python/exercicis/05_Estructures/#exercici-1","title":"Exercici 1\u00b6","text":"<ul> <li>Crea una array amb els seg\u00fcents nombres primers i imprimeix el quart n\u00famero: 2, 3, 5, 7, 11, 13, 17, 19, 23, 29</li> <li>Calcula la longitud de l'anterior array</li> <li>Calcula la suma dels elements de l'anterior array</li> <li>Afegeix a l'array l'element 97</li> <li>Crea una tupla amb els n\u00fameros primers i imprimeix el quart n\u00famero: 2, 3, 5, 7, 11, 13, 17, 19, 23, 29</li> <li>Afegeix a la tupla l'element 97. Per qu\u00e8 no et deixa?</li> <li>Crea un array que sigui la uni\u00f3 dels elements dels dos arrays seg\u00fcents 1,2,3,4 i 10,20,30,40. Haur\u00e0s de fer servir un bucle for.</li> <li>Afegeix a l'array 1,2,3,4 el seg\u00fcent array 10,20,30,40, per\u00f2 com si fos un \u00fanic element usant una sola vegada append.<ul> <li>Veieu la difer\u00e8ncia amb l'exercici anterior?</li> </ul> </li> </ul>"},{"location":"U02%20Python/exercicis/05_Estructures/#exercici-2","title":"Exercici 2\u00b6","text":"<p>Es demana fer:</p> <ul> <li>Crea una llista amb un conjunt de noms.</li> <li>Afig un nou nom al final</li> <li>Afig un nou nom al principi</li> <li>Modifica el tercer nom (posici\u00f3 2) a \"Ariel\"</li> <li>Imprimeix tots els noms:<ul> <li>Amb un for compacte o <code>foreach</code></li> <li>Amb un for cl\u00e0ssic</li> </ul> </li> </ul>"},{"location":"U02%20Python/exercicis/05_Estructures/#exercici-3","title":"Exercici 3\u00b6","text":"<p>Fer una funci\u00f3 que rep una llista u un element, i elimina l'element de la llista sols si existeix en ella.</p>"},{"location":"U02%20Python/exercicis/05_Estructures/#exercici-de-diccionari","title":"Exercici de diccionari\u00b6","text":"<p>Crea una variable <code>cliente</code> amb:</p> <pre><code>nombre: Juan\napellidos: P\u00e9rez Garc\u00eda\ntel\u00e9fono \n   movil: 654789658\n   fijo: 963789654\ndirecci\u00f3n:\n    tipo via: calle\n    numero: 45\n    puerta: 7\nnumero facturas:\n    compras: 234/2020, 345/2021, 675/2021, 561/2022\n    ventas:  456/2020, 564/2021, 768/2021, 345/2022\n</code></pre> <p>De l'anterior diccionari mostra la informaci\u00f3 seg\u00fcent:</p> <ul> <li>Nom</li> <li>El tel\u00e8fon m\u00f2bil</li> <li>El tipus de via</li> <li>El n\u00famero de la 3a factura que va vendre</li> <li>La quantitat de compres que heu fet.</li> <li>Imprimeix el nom de les claus del primer nivell</li> </ul>"},{"location":"U02%20Python/exercicis/05_Estructures/#ampliacions","title":"Ampliacions\u00b6","text":"<p>Fent servir la variable <code>client</code> de l'exercici anterior, fes el seg\u00fcent:</p> <ul> <li>Mostra el text \"Client Important\" si el nombre de compres \u00e9s m\u00e9s gran que 5 o sin\u00f3 mostra \"Client Normal\"</li> <li>Mostra el text \"Client Important\" si el nombre de compres \u00e9s m\u00e9s gran que 5 , si el nombre de compres \u00e9s entre 2 i 5 mostra \"Client Normal\" , sin\u00f3 mostra \"Client poc important\"</li> <li>Fes que es mostri per pantalla els n\u00fameros del 0 al 999</li> <li>Fes que es mostri per pantalla els n\u00fameros de l'1 al 1000</li> <li>Crea un array amb els nombres primers fins al 100, que s\u00f3n 2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67 , 71, 73, 79, 83, 89, 97 Mostra cada n\u00famero per pantalla. Feu que es mostrin per pantalla el n\u00famero juntament amb l'ordre que ocupen. Per exemple 4t -&gt; 7 , 6\u00e8 -&gt; 13 Modifica l'exercici anterior de manera que si \u00e9s el primer nombre primer de l'array, es mostri Primer -&gt; 2 i si \u00e9s l'\u00faltim nombre primer de l'array, es mostri \u00daltim -&gt; 97</li> </ul>"},{"location":"U02%20Python/exercicis/05_Estructures_resolts/","title":"05 Estructures resolts","text":"In\u00a0[\u00a0]: Copied! <pre># Soluci\u00f3 a l'exercici\n\narray=[2, 3, 5, 7, 11, 13, 17, 19, 23, 29]\nprint(array)\nprint(type(array))\n\nprint(f'La longitud \u00e9s {len(array)}')\nprint(f'La suma dels element \u00e9s {sum(array)}')\n\narray.append(97)\nprint(array)\n\ntupla=(2, 3, 5, 7, 11, 13, 17, 19, 23, 29)\nprint(tupla)\nprint(type(tupla))\n\n# tupla.append(97) Error. la tupla \u00e9s immutable\n\na1=[1,2,3,4]\na2=[10,20,30,40]\n\nfusion=[]\n\nfor elem in a1:\n  fusion.append(elem)\nfor elem in a2:\n  fusion.append(elem)\n\nprint(fusion)\n\nfusion2=[]\nfusion2.append(a1)\nfusion2.append(a2)\n\nprint(fusion2)\n\nfusion3=a1+a2\nprint(fusion3)\n</pre> # Soluci\u00f3 a l'exercici  array=[2, 3, 5, 7, 11, 13, 17, 19, 23, 29] print(array) print(type(array))  print(f'La longitud \u00e9s {len(array)}') print(f'La suma dels element \u00e9s {sum(array)}')  array.append(97) print(array)  tupla=(2, 3, 5, 7, 11, 13, 17, 19, 23, 29) print(tupla) print(type(tupla))  # tupla.append(97) Error. la tupla \u00e9s immutable  a1=[1,2,3,4] a2=[10,20,30,40]  fusion=[]  for elem in a1:   fusion.append(elem) for elem in a2:   fusion.append(elem)  print(fusion)  fusion2=[] fusion2.append(a1) fusion2.append(a2)  print(fusion2)  fusion3=a1+a2 print(fusion3)   In\u00a0[\u00a0]: Copied! <pre># Soluci\u00f3 Exercici 2\nnoms=[\"Pepe\",\"Anna\",\"Joan\",\"Carme\"]\nnoms.append(\"Lluis\")\nnoms.insert(0,\"Jaume\")\nprint(noms)\nnoms[2]=\"Ariel\"\nprint(noms)\n\nfor nom in noms:\n    print(nom)\n\nfor i in range(len(noms)):\n    print(noms[i])\n</pre> # Soluci\u00f3 Exercici 2 noms=[\"Pepe\",\"Anna\",\"Joan\",\"Carme\"] noms.append(\"Lluis\") noms.insert(0,\"Jaume\") print(noms) noms[2]=\"Ariel\" print(noms)  for nom in noms:     print(nom)  for i in range(len(noms)):     print(noms[i])     In\u00a0[\u00a0]: Copied! <pre># Soluci\u00f3 Exercici 3\ndef borrar(llista, element):\n    if element in llista:\n        llista.remove(element)\n        print(element,\"esborrat\")\n\nborrar(noms,\"Gerard\")\nborrar(noms,\"Anna\")\n\nprint(noms)\n\nnoms.sort(reverse=True)\nprint(noms)\n</pre> # Soluci\u00f3 Exercici 3 def borrar(llista, element):     if element in llista:         llista.remove(element)         print(element,\"esborrat\")  borrar(noms,\"Gerard\") borrar(noms,\"Anna\")  print(noms)  noms.sort(reverse=True) print(noms) In\u00a0[\u00a0]: Copied! <pre># Exemple dels apunts\n\nnba=[]\ndata=open('nba.txt','r').read()\nnba=data.split('\\n')\nprint(nba)\nprint(len(nba))\n\nprint(nba[2:5]) # mostra de la casella 2 a la 4 (\u00faltima-1)\nprint(nba[2:])  # mostra de la casella 2 al final\nprint(nba[:5])  # mostra fins la casella 4 (\u00faltima -1)\nprint(nba[-1:]) # mostra l'\u00faltim\nprint(nba[-3:]) # mostra els 3 \u00faltims\nprint(nba[-5:-3]) # Mostra des de el 5t per la dreta al tercer per la dreta\n</pre> # Exemple dels apunts  nba=[] data=open('nba.txt','r').read() nba=data.split('\\n') print(nba) print(len(nba))  print(nba[2:5]) # mostra de la casella 2 a la 4 (\u00faltima-1) print(nba[2:])  # mostra de la casella 2 al final print(nba[:5])  # mostra fins la casella 4 (\u00faltima -1) print(nba[-1:]) # mostra l'\u00faltim print(nba[-3:]) # mostra els 3 \u00faltims print(nba[-5:-3]) # Mostra des de el 5t per la dreta al tercer per la dreta  In\u00a0[\u00a0]: Copied! <pre># Exemple dels apunts\n\ntelefons={'Pere':123456,'Ana':7483943,'Joan':None}\n\nprint(telefons['Ana'])      \n\n#print(telefons['Pau'])  #Excepci\u00f3 `KeyError``\n\nprint(telefons.get('Pau'))  # Com no esta torna None, per\u00f2 no dona error\n\ndel(telefons['Ana'])      #Elimina la entrada del diccionari\nprint(telefons)\n\nnoms = ['Xavi', 'Elisa', 'MAria']\ntelefons = dict.fromkeys(noms, None)  # Aquestes son les claus, sense valors\nprint(telefons)\n#{'Xavi': None, 'Elisa': None, 'MAria': None}\n\nprint('Xavi' in telefons)\n\n# Crear a partir de un json\nimport json\njsonstring = '{ \"nom\": \"erik\", \"edat\": 38, \"casat\": true}'\npersona=json.loads(jsonstring)\nprint(persona)\n\n# recuperar les claus i els valors per separat\nprint(persona.keys())\nprint(persona.values())\n\n# recuperar els elements\nfor clau,valor in persona.items():\n    print(clau,\"-\",valor)\n</pre> # Exemple dels apunts  telefons={'Pere':123456,'Ana':7483943,'Joan':None}  print(telefons['Ana'])        #print(telefons['Pau'])  #Excepci\u00f3 `KeyError``  print(telefons.get('Pau'))  # Com no esta torna None, per\u00f2 no dona error  del(telefons['Ana'])      #Elimina la entrada del diccionari print(telefons)  noms = ['Xavi', 'Elisa', 'MAria'] telefons = dict.fromkeys(noms, None)  # Aquestes son les claus, sense valors print(telefons) #{'Xavi': None, 'Elisa': None, 'MAria': None}  print('Xavi' in telefons)  # Crear a partir de un json import json jsonstring = '{ \"nom\": \"erik\", \"edat\": 38, \"casat\": true}' persona=json.loads(jsonstring) print(persona)  # recuperar les claus i els valors per separat print(persona.keys()) print(persona.values())  # recuperar els elements for clau,valor in persona.items():     print(clau,\"-\",valor)"},{"location":"U02%20Python/exercicis/05_Estructures_resolts/#exercici-1","title":"Exercici 1\u00b6","text":"<ul> <li>Crea una array amb els seg\u00fcents nombres primers i imprimeix el quart n\u00famero: 2, 3, 5, 7, 11, 13, 17, 19, 23, 29</li> <li>Calcula la longitud de l'anterior array</li> <li>Calcula la suma dels elements de l'anterior array</li> <li>Afegeix a l'array l'element 97</li> <li>Crea una tupla amb els n\u00fameros primers i imprimeix el quart n\u00famero: 2, 3, 5, 7, 11, 13, 17, 19, 23, 29</li> <li>Afegeix a la tupla l'element 97. Per qu\u00e8 no et deixa?</li> <li>Crea un array que sigui la uni\u00f3 dels elements dels dos arrays seg\u00fcents 1,2,3,4 i 10,20,30,40. Haur\u00e0s de fer servir un bucle for.</li> <li>Afegeix a l'array 1,2,3,4 el seg\u00fcent array 10,20,30,40, per\u00f2 com si fos un \u00fanic element usant una sola vegada append.<ul> <li>Veieu la difer\u00e8ncia amb l'exercici anterior?</li> </ul> </li> </ul>"},{"location":"U02%20Python/exercicis/05_Estructures_resolts/#exercici-2","title":"Exercici 2\u00b6","text":"<p>Es demana fer:</p> <ul> <li>Crea una llista amb un conjunt de noms.</li> <li>Afig un nou nom al final</li> <li>Afig un nou nom al principi</li> <li>Modifica el tercer nom (posici\u00f3 2) a \"Ariel\"</li> <li>Imprimeix tots els noms:<ul> <li>Amb un for compacte o <code>foreach</code></li> <li>Amb un for cl\u00e0ssic</li> </ul> </li> </ul>"},{"location":"U02%20Python/exercicis/05_Estructures_resolts/#exercici-3","title":"Exercici 3\u00b6","text":"<p>Fer una funci\u00f3 que rep una llista u un element, i elimina l'element de la llista sols si existeix en ella.</p>"},{"location":"U02%20Python/exercicis/06_POO/","title":"06 POO","text":"In\u00a0[\u00a0]: Copied! <pre>class Alumne:\n  def __init__(self):\n    self.nom=\"Pere\"\n    self.edat=22\n\n  def saludar(self):\n    print(\"Hola, soc\",self.nom)\n\na=Alumne()      # creem el objecte. \na.saludar();\n</pre> class Alumne:   def __init__(self):     self.nom=\"Pere\"     self.edat=22    def saludar(self):     print(\"Hola, soc\",self.nom)  a=Alumne()      # creem el objecte.  a.saludar(); In\u00a0[\u00a0]: Copied! <pre>class Alumne:\n  def __init__(self,nom=\"an\u00f2nim\"):\n    self.nom=nom\n    self.edat=22\n\n  def saludar(self):\n    print(\"Hola, soc\",self.nom)\n\na=Alumne()      # creem el objecte per defete. \na.saludar()\n\nb=Alumne(\"Pere\")      # creem el objecte per defete. \nb.saludar()\n</pre> class Alumne:   def __init__(self,nom=\"an\u00f2nim\"):     self.nom=nom     self.edat=22    def saludar(self):     print(\"Hola, soc\",self.nom)  a=Alumne()      # creem el objecte per defete.  a.saludar()  b=Alumne(\"Pere\")      # creem el objecte per defete.  b.saludar() In\u00a0[\u00a0]: Copied! <pre>class Empleat():\n\n    def __init__(self,nom,edat,salari):\n        self.nom=nom\n        self._edat=edat\n        self.__salari=salari\n\nemple=Empleat(\"Pere\",42,1230)\n\nprint(\"El nom es\",emple.nom)\nprint(\"Edat es\",emple._edat)\nprint(\"El salari \u00e9s\",emple.__salari)\n</pre> class Empleat():      def __init__(self,nom,edat,salari):         self.nom=nom         self._edat=edat         self.__salari=salari  emple=Empleat(\"Pere\",42,1230)  print(\"El nom es\",emple.nom) print(\"Edat es\",emple._edat) print(\"El salari \u00e9s\",emple.__salari) In\u00a0[\u00a0]: Copied! <pre>class Empleat():\n\n    def __init__(self,nom,edat,salari):\n        self.__nom=nom\n        self.__edat=edat\n        self.__salari=salari\n    \n    def getNom(self):\n        return self.__nom\n    \n    def getEdat(self):\n        return self.__edat\n    \n    def getSalari(self):\n        return self.__salari\n\nemple=Empleat(\"Pere\",42,1230)\n\nprint(\"El nom es\",emple.getNom())\nprint(\"Edat es\",emple.getEdat())\nprint(\"El salari \u00e9s\",emple.getSalari())\n</pre> class Empleat():      def __init__(self,nom,edat,salari):         self.__nom=nom         self.__edat=edat         self.__salari=salari          def getNom(self):         return self.__nom          def getEdat(self):         return self.__edat          def getSalari(self):         return self.__salari  emple=Empleat(\"Pere\",42,1230)  print(\"El nom es\",emple.getNom()) print(\"Edat es\",emple.getEdat()) print(\"El salari \u00e9s\",emple.getSalari()) In\u00a0[\u00a0]: Copied! <pre>class Empleat():\n\n    def __init__(self,nom,edat,salari):\n        self.__nom=nom\n        self.__edat=edat\n        self.__salari=salari\n    \n    def getNom(self):\n        return self.__nom\n    \n    def getEdat(self):\n        return self.__edat\n    \n    def getSalari(self):\n        return self.__salari\n    \n    def __eq__(self, other: object) -&gt; bool:\n        return self.__edat==other.__edat and self.__nom==other.__nom and self.__salari==other.__salari\n    \n    def __str__(self) -&gt; str:\n#        return self.__nom + \" te \" + str(self.__edat) + \" i guanya \" + str(self.__salari) + \" euros\"\n        return f'{self.__nom} te {self.__edat} i guanya {self.__salari} euros'\n\nemple=Empleat(\"Pere\",42,1230)\nemple2=Empleat(\"Pere\",42,1230)\n\nprint(emple==emple2)\nprint(emple is emple2)\n\nprint(str(emple))\nprint(emple)\nprint(repr(emple))\n</pre> class Empleat():      def __init__(self,nom,edat,salari):         self.__nom=nom         self.__edat=edat         self.__salari=salari          def getNom(self):         return self.__nom          def getEdat(self):         return self.__edat          def getSalari(self):         return self.__salari          def __eq__(self, other: object) -&gt; bool:         return self.__edat==other.__edat and self.__nom==other.__nom and self.__salari==other.__salari          def __str__(self) -&gt; str: #        return self.__nom + \" te \" + str(self.__edat) + \" i guanya \" + str(self.__salari) + \" euros\"         return f'{self.__nom} te {self.__edat} i guanya {self.__salari} euros'  emple=Empleat(\"Pere\",42,1230) emple2=Empleat(\"Pere\",42,1230)  print(emple==emple2) print(emple is emple2)  print(str(emple)) print(emple) print(repr(emple)) In\u00a0[\u00a0]: Copied! <pre>class Comercial(Empleat):\n    def __init__(self,nom,edat,salari,comisio):\n        # Empleat.__init__(self,nom,edat,salari)  # Primera opci\u00f3, amb self\n        super().__init__(nom,edat,salari)         # segona amb super() i sense self\n        self.__comisio=comisio\n    \n    def __str__(self):\n       sou= self.getSalari() + self.__comisio\n       return f'{self.getNom()} te {self.getEdat()} i guanya {sou} euros'\n\n\ncomercial=Comercial(\"Joange\",46,1200,300)\n\nprint(comercial)\n</pre> class Comercial(Empleat):     def __init__(self,nom,edat,salari,comisio):         # Empleat.__init__(self,nom,edat,salari)  # Primera opci\u00f3, amb self         super().__init__(nom,edat,salari)         # segona amb super() i sense self         self.__comisio=comisio          def __str__(self):        sou= self.getSalari() + self.__comisio        return f'{self.getNom()} te {self.getEdat()} i guanya {sou} euros'   comercial=Comercial(\"Joange\",46,1200,300)  print(comercial)  In\u00a0[\u00a0]: Copied! <pre>class Serie:\n    pass\n\n    def __init__(self):\n        pass\n    \n    def afegirTemporada(self,n):\n        pass\n    \n    def modificarPuntuacio(self,x):\n        pass\n\n    def mitjanaCapitols(self):\n        pass\n</pre> class Serie:     pass      def __init__(self):         pass          def afegirTemporada(self,n):         pass          def modificarPuntuacio(self,x):         pass      def mitjanaCapitols(self):         pass"},{"location":"U02%20Python/exercicis/06_POO/#exemple-de-la-classe-alumne","title":"Exemple de la classe <code>Alumne</code>\u00b6","text":""},{"location":"U02%20Python/exercicis/06_POO/#exemple-dalumne-amb-constructor-general","title":"Exemple d'<code>Alumne</code> amb constructor general\u00b6","text":""},{"location":"U02%20Python/exercicis/06_POO/#visibilitat-dels-atributs","title":"Visibilitat dels atributs\u00b6","text":""},{"location":"U02%20Python/exercicis/06_POO/#getters","title":"Getters\u00b6","text":"<p>Els <code>setters</code> queden proposats</p>"},{"location":"U02%20Python/exercicis/06_POO/#sobrecarrega-de-metodes-importants","title":"Sobrec\u00e0rrega de m\u00e8todes importants\u00b6","text":""},{"location":"U02%20Python/exercicis/06_POO/#herencia","title":"Her\u00e8ncia\u00b6","text":""},{"location":"U02%20Python/exercicis/06_POO/#les-series","title":"Les series\u00b6","text":"<p>Crear una classe per a guardar informaci\u00f3 al voltant d'una <code>Serie</code> de televisi\u00f3. La s\u00e8rie contindr\u00e0: nom, nacionalitat, puntuaci\u00f3 i numero de temporades. Adem\u00e9s volem saber quants cap\u00edtols te cadascuna de les temporades (per\u00f2 aquestes dades no es passaran al constructor) Els numeros de capitols per temporada deur\u00e0 ser un vector. Es demana:</p> <ul> <li>Disseny b\u00e0sic de la serie</li> <li>Creaci\u00f3 dels constructor</li> <li>Creaci\u00f3 d'un m\u00e8tode <code>afegirTemporada(n)</code> que afig una nova temporada a la serie</li> <li>Creaci\u00f3 d'un m\u00e8tode <code>modificarPuntuaci\u00f3(x)</code> que actualitza la puntuaci\u00f3 de la serie</li> <li>Creaci\u00f3 d\u2019un m\u00e8tode que retorne el numero mitja de cap\u00edtols per temporada</li> <li>Creaci\u00f3 de m\u00e8todes per a comparar quan dos series son iguals</li> </ul>"},{"location":"U02%20Python/exercicis/U02_Projecte_0/","title":"U02 Projecte 0","text":"In\u00a0[\u00a0]: Copied! <pre>import re   #regular expression\nimport math\nimport flet as ft\nimport flet.canvas as cv\n</pre> import re   #regular expression import math import flet as ft import flet.canvas as cv In\u00a0[\u00a0]: Copied! <pre># Funci\u00f3 que comprova un color en hexadecimal\ndef comprovaHEX(hex_string):\n  match =re.search(r'^#(?:[0-9a-fA-F]{3}){1,2}$', hex_string)\n  if match:\n    return True\n  else:\n    return False\n</pre> # Funci\u00f3 que comprova un color en hexadecimal def comprovaHEX(hex_string):   match =re.search(r'^#(?:[0-9a-fA-F]{3}){1,2}$', hex_string)   if match:     return True   else:     return False In\u00a0[\u00a0]: Copied! <pre>class Punt():\n  pass\n</pre> class Punt():   pass In\u00a0[\u00a0]: Copied! <pre>class Figura():\n  pass\n</pre> class Figura():   pass In\u00a0[\u00a0]: Copied! <pre>class Linia(Figura):\n  pass\n</pre> class Linia(Figura):   pass In\u00a0[\u00a0]: Copied! <pre>class Rectangle(Figura):\n  pass\n</pre> class Rectangle(Figura):   pass In\u00a0[\u00a0]: Copied! <pre>class Cercle(Figura):\n  pass\n</pre> class Cercle(Figura):   pass In\u00a0[\u00a0]: Copied! <pre># creem el dibuix per defecte\nDibuix={\n  \"ample\":800,\n  \"alt\":600,\n  \"Figures\":[]\n}\n</pre> # creem el dibuix per defecte Dibuix={   \"ample\":800,   \"alt\":600,   \"Figures\":[] } In\u00a0[\u00a0]: Copied! <pre># m\u00e8tode que a partir del nom del fitxer de text\n# carrega el dibuix en mem\u00f2ria\ndef loadDibuix(fileName):\n  pass\n</pre> # m\u00e8tode que a partir del nom del fitxer de text # carrega el dibuix en mem\u00f2ria def loadDibuix(fileName):   pass In\u00a0[\u00a0]: Copied! <pre># m\u00e8tode que guarda el dibuix que est\u00e0 en mem\u00f2ria\n# en un arxiu SVG\ndef saveDibuix(fileName):\n  pass\n</pre> # m\u00e8tode que guarda el dibuix que est\u00e0 en mem\u00f2ria # en un arxiu SVG def saveDibuix(fileName):   pass In\u00a0[\u00a0]: Copied! <pre># Funci\u00f3 que pinta el men\u00fa principal i retorna la opci\u00f3 escollida\ndef menu():\n  pass\n</pre> # Funci\u00f3 que pinta el men\u00fa principal i retorna la opci\u00f3 escollida def menu():   pass In\u00a0[\u00a0]: Copied! <pre># Funci\u00f3 que pinta el men\u00fa de Figura i retorna la opci\u00f3 escollida\ndef triarFigura():\n  pass\n</pre> # Funci\u00f3 que pinta el men\u00fa de Figura i retorna la opci\u00f3 escollida def triarFigura():   pass In\u00a0[\u00a0]: Copied! <pre># M\u00e8tode que pinta el dibuix. Complet. \n# NO MODIFICAR\ndef dibuixar(page: ft.Page):\n  page.window_width = Dibuix[\"ample\"]        \n  page.window_height = Dibuix[\"alt\"]       \n  page.window_resizable = False  \n  page.title = \"Les meues figures\"\n  page.update()\n\n \n  figs=[]\n  for f in Dibuix[\"Figures\"]:\n    if type(f) is Linia:\n      figs.append(cv.Line(f.getPos().getX(),f.getPos().getY(),f.getAltre().getX(),f.getAltre().getY(),\n              paint=ft.Paint(stroke_width=1, style=ft.PaintingStyle.STROKE,color=f.getColor())))\n    if type(f) is Rectangle:\n      figs.append(cv.Rect(f.getPos().getX(),f.getPos().getY(),\n                          f.getPos().dist_x(f.getAltre()),\n                          f.getPos().dist_y(f.getAltre()),\n              paint=ft.Paint(stroke_width=1, style=ft.PaintingStyle.FILL,color=f.getColor())))\n    if type(f) is Cercle:\n      figs.append(cv.Circle(f.getPos().getX(),f.getPos().getY(),\n                          f.getRadi(),\n              paint=ft.Paint(stroke_width=1, style=ft.PaintingStyle.FILL,color=f.getColor())))\n  cp = cv.Canvas(\n        figs,\n        width=float(\"inf\"),\n        expand=True,\n  )\n  page.add(cp)\n</pre> # M\u00e8tode que pinta el dibuix. Complet.  # NO MODIFICAR def dibuixar(page: ft.Page):   page.window_width = Dibuix[\"ample\"]           page.window_height = Dibuix[\"alt\"]          page.window_resizable = False     page.title = \"Les meues figures\"   page.update()      figs=[]   for f in Dibuix[\"Figures\"]:     if type(f) is Linia:       figs.append(cv.Line(f.getPos().getX(),f.getPos().getY(),f.getAltre().getX(),f.getAltre().getY(),               paint=ft.Paint(stroke_width=1, style=ft.PaintingStyle.STROKE,color=f.getColor())))     if type(f) is Rectangle:       figs.append(cv.Rect(f.getPos().getX(),f.getPos().getY(),                           f.getPos().dist_x(f.getAltre()),                           f.getPos().dist_y(f.getAltre()),               paint=ft.Paint(stroke_width=1, style=ft.PaintingStyle.FILL,color=f.getColor())))     if type(f) is Cercle:       figs.append(cv.Circle(f.getPos().getX(),f.getPos().getY(),                           f.getRadi(),               paint=ft.Paint(stroke_width=1, style=ft.PaintingStyle.FILL,color=f.getColor())))   cp = cv.Canvas(         figs,         width=float(\"inf\"),         expand=True,   )   page.add(cp) In\u00a0[\u00a0]: Copied! <pre># programa principal\ndef main():\n  pass\n</pre> # programa principal def main():   pass In\u00a0[\u00a0]: Copied! <pre># crida al programa principal\nif __name__==\"__main__\":\n  main()\n</pre> # crida al programa principal if __name__==\"__main__\":   main()"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/0.%20Index/","title":"1. Introducci\u00f3","text":""},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/0.%20Index/#1-index-de-la-unitat","title":"1. \u00cdndex de la unitat","text":"<ol> <li>Manipulaci\u00f3 de Dades amb Numpy</li> <li>Manipulaci\u00f3 de Dades amb Pandas</li> <li>Visualitzaci\u00f3 de dades amb Matplotlib i Seaborn</li> <li>Introducci\u00f3 al Machine Learning amb Scikit-Learn</li> <li>Introducci\u00f3 al DeepLearning amb Keras</li> </ol>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/0.%20Index/#2-introduccio","title":"2. Introducci\u00f3","text":"<p>En la primera unitat aprenerem d'una forma general qu\u00e8 \u00e9s la programaci\u00f3, quins tipus de llenguatges existeixen i quins llenguatges utilitzar segons el cas. En la segona unitat, ens endinsarem en la programaci\u00f3 general utilitzant Python, aprenent com definir de funcions, assignar variables, crida a m\u00e8todes d'objectes, el control del flux d'un programa i altres tasques b\u00e0siques i fonamentals.</p> <p>En esta tercera unitat, aprendrem Python per\u00f2 enfocat al m\u00f3n del Big Data i la Intel\u00b7lig\u00e8ncia Artificial. Esta unitat est\u00e0 dissenyada per ajudar els alumnes a aprendre a utilitzar la pila de ci\u00e8ncia de dades de Python (llibreries com NumPy, Pandas, Matplotlib, Scikit-Learn, keras i algunes eines relacionades) per emmagatzemar, manipular i obtenir informaci\u00f3 efica\u00e7 de les dades.</p> <p>Cada apartat se centrar\u00e0 en una llibreria diferent:</p> <ol> <li>Numpy: llibreria per al treball amb arrays num\u00e8rics.</li> <li>Pandas: llibreria per a an\u00e0lisis de dades de diferent naturalesa.</li> <li>Matplotlib: llibreria per a visualitzaci\u00f3 de dades.</li> <li>Seaborn: llibreria de visualitzaci\u00f3 de dades construida sobre matplotlib.</li> <li>Scikit-learn/sklearn: llibreria per a l'aprenentatge autom\u00e0tic.</li> <li>Keras: llibreria per a l'aprenentatge profund.</li> </ol> <p>El m\u00f3n de la Ci\u00e8ncia de Dades amb Python abarca moltes m\u00e9s llibreries, per\u00f2 estes s\u00f3n les fonamentals que s'haurien de con\u00e9ixer per a introduir-se en aquest camp.</p> <p>Nota</p> <p>Com en la unitat anterior, continuariem utilitzant vscode, quaderns de jupyter i pip.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/02_Pandas/","title":"3. Manipulaci\u00f3 de Dades amb Pandas","text":"In\u00a0[1]: Copied! <pre>import pandas as pd\n</pre> import pandas as pd In\u00a0[2]: Copied! <pre>pd.set_option('display.max_rows', 5) # Per a que ens mostre 5 files com a m\u00e0xim\n</pre> pd.set_option('display.max_rows', 5) # Per a que ens mostre 5 files com a m\u00e0xim In\u00a0[3]: Copied! <pre>pd.DataFrame({'Yes': [50, 21], 'No': [131, 2]})\n</pre> pd.DataFrame({'Yes': [50, 21], 'No': [131, 2]}) Out[3]: Yes No 0 50 131 1 21 2 <p>A difer\u00e8ncia de numpy, pot contindre valors no num\u00e8rics:</p> In\u00a0[4]: Copied! <pre>pd.DataFrame({'Bob': ['I liked it.', 'It was awful.'], 'Sue': ['Pretty good.', 'Bland.']})\n</pre> pd.DataFrame({'Bob': ['I liked it.', 'It was awful.'], 'Sue': ['Pretty good.', 'Bland.']}) Out[4]: Bob Sue 0 I liked it. Pretty good. 1 It was awful. Bland. <p>Estem utilitzant pd.DataFrame() per generar els objectes DataFrame. La sintaxi per declarar-los \u00e9s un diccionari de Python on les claus seran el nom de les columnes i els valors s\u00f3n les llistes d'entrada de cada clau.</p> <p>El constructor de tious diccionari assigna a les files els valors 0, 1, 2,... per a les etiquetes de fila. En la majoria de casos pot ser \u00fatil, per\u00f2 podem assignar etiquetes a cada fila.</p> <p>La llista d'etiquetes de fila s'anomena Index, i \u00e9s el par\u00e0metre que podem utilitzar per assignar els seus valors:</p> In\u00a0[5]: Copied! <pre>pd.DataFrame({'Bob': ['I liked it.', 'It was awful.'], \n              'Sue': ['Pretty good.', 'Bland.']},\n             index=['Product A', 'Product B'])\n</pre> pd.DataFrame({'Bob': ['I liked it.', 'It was awful.'],                'Sue': ['Pretty good.', 'Bland.']},              index=['Product A', 'Product B']) Out[5]: Bob Sue Product A I liked it. Pretty good. Product B It was awful. Bland. In\u00a0[6]: Copied! <pre>pd.Series([1, 2, 3, 4, 5])\n</pre> pd.Series([1, 2, 3, 4, 5]) Out[6]: <pre>0    1\n1    2\n2    3\n3    4\n4    5\ndtype: int64</pre> <p>Una Serie \u00e9s, b\u00e0sicament, una columna d'un DataFrame. Igual que al DataFrame, pots assignar etiquetes a les files de cada Serie passant el par\u00e0metre index. No obstant, una Serie no t\u00e9 un nom de columna, sin\u00f3 simplement un nom general:</p> In\u00a0[7]: Copied! <pre>pd.Series([30, 35, 40], index=['2015 Sales', '2016 Sales', '2017 Sales'], name='Product A')\n</pre> pd.Series([30, 35, 40], index=['2015 Sales', '2016 Sales', '2017 Sales'], name='Product A') Out[7]: <pre>2015 Sales    30\n2016 Sales    35\n2017 Sales    40\nName: Product A, dtype: int64</pre> <p>Com haur\u00e0s pogut deduir, les Series i els DataFrame estan molt relacionats, podent pensar que un DataFrame \u00e9s un conjunt de Series unides. Ho veurem m\u00e9s endavant.</p> In\u00a0[8]: Copied! <pre>import os\ndirectory = os.path.abspath('')\nresource_path = os.path.join(directory,\"data\",\"winemag-data-130k-v2.csv\")\nreviews = pd.read_csv(resource_path, index_col=0)\n</pre> import os directory = os.path.abspath('') resource_path = os.path.join(directory,\"data\",\"winemag-data-130k-v2.csv\") reviews = pd.read_csv(resource_path, index_col=0) In\u00a0[9]: Copied! <pre>reviews.country\n</pre> reviews.country Out[9]: <pre>0            Italy\n1         Portugal\n            ...   \n129969      France\n129970      France\nName: country, Length: 129971, dtype: object</pre> <p>Tamb\u00e9 podem accedir fent \u00fas de la notaci\u00f3 pr\u00f2pia dels diccionaris de Python, \u00e9s a dir, a trav\u00e9s de les claus:</p> In\u00a0[10]: Copied! <pre>reviews['country']\n</pre> reviews['country'] Out[10]: <pre>0            Italy\n1         Portugal\n            ...   \n129969      France\n129970      France\nName: country, Length: 129971, dtype: object</pre> <p>Les dues formes d'accedir s\u00f3n igualment v\u00e0lides. Per\u00f2 accedir a trav\u00e9s de la clau sempre funcionar\u00e0, mentre que en l'altre cas no. Si algun nom de columna t\u00e9 un nom no v\u00e0lid com a nom de variable, no funcionar\u00e0.</p> <p>Per exemple, si tenim un objecte DataFrame <code>persones</code> amb una columna <code>principal ocupaci\u00f3</code>, <code>persona.principal ocupaci\u00f3</code> no funcionar\u00e0, mentre que, persones['principal ocupaci\u00f3'] si que funcionaria.</p> <p>Com podeu observar, una Serie de pandas \u00e9s com un diccionari, aix\u00ed que no \u00e9s d'estranyar que, per llegir un \u00fanic valor espec\u00edfic, nom\u00e9s necessitem utilitzar l'operador d'indexaci\u00f3 [] una vegada m\u00e9s.</p> In\u00a0[11]: Copied! <pre>reviews['country'][0]\n</pre> reviews['country'][0] Out[11]: <pre>'Italy'</pre> <p>L'operador d'indexaci\u00f3 i la selecci\u00f3 d'atributs s\u00f3n molt \u00fatils i f\u00e0cils d'utilitzar perqu\u00e8 funcionen igual que a la resta de l'ecosistema Python. No obstant, pandas t\u00e9 els seus propis operadors d'acc\u00e9s, loc i iloc, que les utilitzarem per a operacions m\u00e9s avan\u00e7ades.</p> In\u00a0[12]: Copied! <pre>reviews.iloc[0]\n</pre> reviews.iloc[0] Out[12]: <pre>country                                                    Italy\ndescription    Aromas include tropical fruit, broom, brimston...\n                                     ...                        \nvariety                                              White Blend\nwinery                                                   Nicosia\nName: 0, Length: 13, dtype: object</pre> <p>Tant si utilitzem <code>loc</code> com si utilitzem <code>iloc</code> hem d'indicar primer la fila i despr\u00e9s la columna, igual que a <code>numpy</code>. Aix\u00f2 implica que \u00e9s m\u00e9s f\u00e0cil recuperar files i m\u00e9s dif\u00edcil recuperar columnes. Per obtenir una columna amb iloc, podem fer el seg\u00fcent:</p> In\u00a0[13]: Copied! <pre>reviews.iloc[:, 0]\n</pre> reviews.iloc[:, 0] Out[13]: <pre>0            Italy\n1         Portugal\n            ...   \n129969      France\n129970      France\nName: country, Length: 129971, dtype: object</pre> <p>Pregunta</p> <p>     Qu\u00e8 estem seleccionant en el seg\u00fcent codi `reviews.iloc[:3, 0]`?   </p> <p>El mateix resultat el podem obtindre utilitzant el Fancy Indexing.</p> In\u00a0[14]: Copied! <pre>reviews.iloc[[0, 1, 2], 0]\n</pre> reviews.iloc[[0, 1, 2], 0] Out[14]: <pre>0       Italy\n1    Portugal\n2          US\nName: country, dtype: object</pre> <p>Finalment, tamb\u00e9 podem utilitzar n\u00fameros negatius per a seleccionar utilitzant \u00edndex. Comen\u00e7aran a indexar des del final en sentit ascendent.</p> In\u00a0[15]: Copied! <pre>reviews.iloc[-5:]\n</pre> reviews.iloc[-5:] Out[15]: country description designation points price province region_1 region_2 taster_name taster_twitter_handle title variety winery 129966 Germany Notes of honeysuckle and cantaloupe sweeten th... Brauneberger Juffer-Sonnenuhr Sp\u00e4tlese 90 28.0 Mosel NaN NaN Anna Lee C. Iijima NaN Dr. H. Thanisch (Erben M\u00fcller-Burggraef) 2013 ... Riesling Dr. H. Thanisch (Erben M\u00fcller-Burggraef) 129967 US Citation is given as much as a decade of bottl... NaN 90 75.0 Oregon Oregon Oregon Other Paul Gregutt @paulgwine Citation 2004 Pinot Noir (Oregon) Pinot Noir Citation 129968 France Well-drained gravel soil gives this wine its c... Kritt 90 30.0 Alsace Alsace NaN Roger Voss @vossroger Domaine Gresser 2013 Kritt Gewurztraminer (Als... Gew\u00fcrztraminer Domaine Gresser 129969 France A dry style of Pinot Gris, this is crisp with ... NaN 90 32.0 Alsace Alsace NaN Roger Voss @vossroger Domaine Marcel Deiss 2012 Pinot Gris (Alsace) Pinot Gris Domaine Marcel Deiss 129970 France Big, rich and off-dry, this is powered by inte... Lieu-dit Harth Cuv\u00e9e Caroline 90 21.0 Alsace Alsace NaN Roger Voss @vossroger Domaine Schoffit 2012 Lieu-dit Harth Cuv\u00e9e Car... Gew\u00fcrztraminer Domaine Schoffit In\u00a0[16]: Copied! <pre>reviews.loc[0, 'country']\n</pre> reviews.loc[0, 'country'] Out[16]: <pre>'Italy'</pre> <p><code>iloc</code> \u00e9s conceptualment m\u00e9s senzill que <code>loc</code> perqu\u00e8 ignora els \u00edndexs del conjunt de dades. Quan utilitzem iloc, tractem el conjunt de dades com una gran matriu (una llista de llistes) que hem indexat per posici\u00f3. <code>loc</code>, en canvi, utilitza la informaci\u00f3 dels \u00edndexs, \u00e9s a dir el valor de les etiquetes o claus, per fer la indexaci\u00f3. Com que el vostre conjunt de dades sol tenir \u00edndexs significatius, normalment \u00e9s m\u00e9s f\u00e0cil fer les coses amb loc.</p> <p>Per exemple, hi ha una operacions que \u00e9s molt m\u00e9s f\u00e0cil amb loc:</p> In\u00a0[17]: Copied! <pre>reviews.loc[:, ['taster_name', 'taster_twitter_handle', 'points']]\n</pre> reviews.loc[:, ['taster_name', 'taster_twitter_handle', 'points']] Out[17]: taster_name taster_twitter_handle points 0 Kerin O\u2019Keefe @kerinokeefe 87 1 Roger Voss @vossroger 87 ... ... ... ... 129969 Roger Voss @vossroger 90 129970 Roger Voss @vossroger 90 <p>129971 rows \u00d7 3 columns</p> Comprovar resposta <p> reviews.iloc[:, [8, 9, 3]] </p> <p> Per a accedir mitjan\u00e7ant \u00edndex necessitem con\u00e8ixer millor l'estructura de com est\u00e0 organitzada la informaci\u00f3. </p> In\u00a0[18]: Copied! <pre>reviews.set_index(\"title\")\n</pre> reviews.set_index(\"title\") Out[18]: country description designation points price province region_1 region_2 taster_name taster_twitter_handle variety winery title Nicosia 2013 Vulk\u00e0 Bianco  (Etna) Italy Aromas include tropical fruit, broom, brimston... Vulk\u00e0 Bianco 87 NaN Sicily &amp; Sardinia Etna NaN Kerin O\u2019Keefe @kerinokeefe White Blend Nicosia Quinta dos Avidagos 2011 Avidagos Red (Douro) Portugal This is ripe and fruity, a wine that is smooth... Avidagos 87 15.0 Douro NaN NaN Roger Voss @vossroger Portuguese Red Quinta dos Avidagos ... ... ... ... ... ... ... ... ... ... ... ... ... Domaine Marcel Deiss 2012 Pinot Gris (Alsace) France A dry style of Pinot Gris, this is crisp with ... NaN 90 32.0 Alsace Alsace NaN Roger Voss @vossroger Pinot Gris Domaine Marcel Deiss Domaine Schoffit 2012 Lieu-dit Harth Cuv\u00e9e Caroline Gewurztraminer (Alsace) France Big, rich and off-dry, this is powered by inte... Lieu-dit Harth Cuv\u00e9e Caroline 90 21.0 Alsace Alsace NaN Roger Voss @vossroger Gew\u00fcrztraminer Domaine Schoffit <p>129971 rows \u00d7 12 columns</p> <p>Aix\u00f2 \u00e9s molt \u00fatil per a crear un \u00edndex per al conjunt de dades que siga millor que l'actual.</p> In\u00a0[19]: Copied! <pre>reviews.country == 'Italy'\n</pre> reviews.country == 'Italy' Out[19]: <pre>0          True\n1         False\n          ...  \n129969    False\n129970    False\nName: country, Length: 129971, dtype: bool</pre> <p>L'execuci\u00f3 ens torna una s\u00e8rie de booleans <code>True/False</code> basat en el pa\u00eds de cada registre. Aquest resultat es pot utilitzar dins de loc per seleccionar les dades rellevants:</p> In\u00a0[20]: Copied! <pre>reviews.loc[reviews.country == 'Italy']\n</pre> reviews.loc[reviews.country == 'Italy'] Out[20]: country description designation points price province region_1 region_2 taster_name taster_twitter_handle title variety winery 0 Italy Aromas include tropical fruit, broom, brimston... Vulk\u00e0 Bianco 87 NaN Sicily &amp; Sardinia Etna NaN Kerin O\u2019Keefe @kerinokeefe Nicosia 2013 Vulk\u00e0 Bianco  (Etna) White Blend Nicosia 6 Italy Here's a bright, informal red that opens with ... Belsito 87 16.0 Sicily &amp; Sardinia Vittoria NaN Kerin O\u2019Keefe @kerinokeefe Terre di Giurfo 2013 Belsito Frappato (Vittoria) Frappato Terre di Giurfo ... ... ... ... ... ... ... ... ... ... ... ... ... ... 129961 Italy Intense aromas of wild cherry, baking spice, t... NaN 90 30.0 Sicily &amp; Sardinia Sicilia NaN Kerin O\u2019Keefe @kerinokeefe COS 2013 Frappato (Sicilia) Frappato COS 129962 Italy Blackberry, cassis, grilled herb and toasted a... S\u00e0gana Tenuta San Giacomo 90 40.0 Sicily &amp; Sardinia Sicilia NaN Kerin O\u2019Keefe @kerinokeefe Cusumano 2012 S\u00e0gana Tenuta San Giacomo Nero d... Nero d'Avola Cusumano <p>19540 rows \u00d7 13 columns</p> <p>Aquest DataFrame t\u00e9 uns 20.000 registres, mentre que l'original tenia uns 130.000. Aix\u00f2 vol dir que al voltant del 15% dels vins s\u00f3n originaris d'It\u00e0lia.</p> <p>Tamb\u00e9 vol\u00edem saber quins s\u00f3n millors que la mitjana. Els vins es classifiquen en una escala de 80 a 100 punts, de manera que aix\u00f2 podria significar vins que hagin acumulat almenys 90 punts. Podem utilitzar el signe <code>&amp;</code> (and) per unir les dues condicions:</p> In\u00a0[21]: Copied! <pre>reviews.loc[(reviews.country == 'Italy') &amp; (reviews.points &gt;= 90)]\n</pre> reviews.loc[(reviews.country == 'Italy') &amp; (reviews.points &gt;= 90)] Out[21]: country description designation points price province region_1 region_2 taster_name taster_twitter_handle title variety winery 120 Italy Slightly backward, particularly given the vint... Bricco Rocche Prap\u00f3 92 70.0 Piedmont Barolo NaN NaN NaN Ceretto 2003 Bricco Rocche Prap\u00f3  (Barolo) Nebbiolo Ceretto 130 Italy At the first it was quite muted and subdued, b... Bricco Rocche Brunate 91 70.0 Piedmont Barolo NaN NaN NaN Ceretto 2003 Bricco Rocche Brunate  (Barolo) Nebbiolo Ceretto ... ... ... ... ... ... ... ... ... ... ... ... ... ... 129961 Italy Intense aromas of wild cherry, baking spice, t... NaN 90 30.0 Sicily &amp; Sardinia Sicilia NaN Kerin O\u2019Keefe @kerinokeefe COS 2013 Frappato (Sicilia) Frappato COS 129962 Italy Blackberry, cassis, grilled herb and toasted a... S\u00e0gana Tenuta San Giacomo 90 40.0 Sicily &amp; Sardinia Sicilia NaN Kerin O\u2019Keefe @kerinokeefe Cusumano 2012 S\u00e0gana Tenuta San Giacomo Nero d... Nero d'Avola Cusumano <p>6648 rows \u00d7 13 columns</p> <p>Igual que hem utilitzat l'operador condicional <code>&amp;</code> (and) podriem utilitzar altres, com <code>|</code> (or) o <code>!</code> (not).</p> <p>Pandas inclou uns quants selectors condicionals integrats, dos dels quals destacarem.</p> <p>El primer \u00e9s <code>isin</code>. isin us permet seleccionar dades el valor de les quals \"es troba a\" una llista de valors.</p> <p>Per exemple, a continuaci\u00f3 es mostra com el podem utilitzar per seleccionar vins nom\u00e9s d'It\u00e0lia o Fran\u00e7a:</p> In\u00a0[22]: Copied! <pre>reviews.loc[reviews.country.isin(['Italy', 'France'])]\n</pre> reviews.loc[reviews.country.isin(['Italy', 'France'])]  Out[22]: country description designation points price province region_1 region_2 taster_name taster_twitter_handle title variety winery 0 Italy Aromas include tropical fruit, broom, brimston... Vulk\u00e0 Bianco 87 NaN Sicily &amp; Sardinia Etna NaN Kerin O\u2019Keefe @kerinokeefe Nicosia 2013 Vulk\u00e0 Bianco  (Etna) White Blend Nicosia 6 Italy Here's a bright, informal red that opens with ... Belsito 87 16.0 Sicily &amp; Sardinia Vittoria NaN Kerin O\u2019Keefe @kerinokeefe Terre di Giurfo 2013 Belsito Frappato (Vittoria) Frappato Terre di Giurfo ... ... ... ... ... ... ... ... ... ... ... ... ... ... 129969 France A dry style of Pinot Gris, this is crisp with ... NaN 90 32.0 Alsace Alsace NaN Roger Voss @vossroger Domaine Marcel Deiss 2012 Pinot Gris (Alsace) Pinot Gris Domaine Marcel Deiss 129970 France Big, rich and off-dry, this is powered by inte... Lieu-dit Harth Cuv\u00e9e Caroline 90 21.0 Alsace Alsace NaN Roger Voss @vossroger Domaine Schoffit 2012 Lieu-dit Harth Cuv\u00e9e Car... Gew\u00fcrztraminer Domaine Schoffit <p>41633 rows \u00d7 13 columns</p> <p>Pregunta</p> <p> Com obtindries el mateix resultat per\u00f2 utilitzant l'operador `|` (or)? </p> Comprovar resposta <p> reviews.loc[(reviews.country == 'Italy') |  (reviews.country == 'France')] </p> <p>El segon \u00e9s <code>isnull</code> (i el seu company <code>notnull</code>). Aquests m\u00e8todes ens permeten recuperar valors que s\u00f3n (o no) buits (NaN).</p> <p>Per exemple, per saber els vins que no tenen una etiqueta de preu, \u00e9s a dir, dels quals no tenim la informaci\u00f3 del seu preu, far\u00edem:</p> In\u00a0[23]: Copied! <pre>reviews.loc[reviews.price.isnull()]\n</pre> reviews.loc[reviews.price.isnull()] Out[23]: country description designation points price province region_1 region_2 taster_name taster_twitter_handle title variety winery 0 Italy Aromas include tropical fruit, broom, brimston... Vulk\u00e0 Bianco 87 NaN Sicily &amp; Sardinia Etna NaN Kerin O\u2019Keefe @kerinokeefe Nicosia 2013 Vulk\u00e0 Bianco  (Etna) White Blend Nicosia 13 Italy This is dominated by oak and oak-driven aromas... Rosso 87 NaN Sicily &amp; Sardinia Etna NaN Kerin O\u2019Keefe @kerinokeefe Masseria Setteporte 2012 Rosso  (Etna) Nerello Mascalese Masseria Setteporte ... ... ... ... ... ... ... ... ... ... ... ... ... ... 129893 Italy Aromas of passion fruit, hay and a vegetal not... Corte Menini 91 NaN Veneto Soave Classico NaN Kerin O\u2019Keefe @kerinokeefe Le Mandolare 2015 Corte Menini  (Soave Classico) Garganega Le Mandolare 129964 France Initially quite muted, this wine slowly develo... Domaine Saint-R\u00e9my Herrenweg 90 NaN Alsace Alsace NaN Roger Voss @vossroger Domaine Ehrhart 2013 Domaine Saint-R\u00e9my Herren... Gew\u00fcrztraminer Domaine Ehrhart <p>8996 rows \u00d7 13 columns</p> In\u00a0[24]: Copied! <pre>reviews['critic'] = 'everyone'\nreviews\n</pre> reviews['critic'] = 'everyone' reviews Out[24]: country description designation points price province region_1 region_2 taster_name taster_twitter_handle title variety winery critic 0 Italy Aromas include tropical fruit, broom, brimston... Vulk\u00e0 Bianco 87 NaN Sicily &amp; Sardinia Etna NaN Kerin O\u2019Keefe @kerinokeefe Nicosia 2013 Vulk\u00e0 Bianco  (Etna) White Blend Nicosia everyone 1 Portugal This is ripe and fruity, a wine that is smooth... Avidagos 87 15.0 Douro NaN NaN Roger Voss @vossroger Quinta dos Avidagos 2011 Avidagos Red (Douro) Portuguese Red Quinta dos Avidagos everyone ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... 129969 France A dry style of Pinot Gris, this is crisp with ... NaN 90 32.0 Alsace Alsace NaN Roger Voss @vossroger Domaine Marcel Deiss 2012 Pinot Gris (Alsace) Pinot Gris Domaine Marcel Deiss everyone 129970 France Big, rich and off-dry, this is powered by inte... Lieu-dit Harth Cuv\u00e9e Caroline 90 21.0 Alsace Alsace NaN Roger Voss @vossroger Domaine Schoffit 2012 Lieu-dit Harth Cuv\u00e9e Car... Gew\u00fcrztraminer Domaine Schoffit everyone <p>129971 rows \u00d7 14 columns</p> In\u00a0[25]: Copied! <pre>reviews['index_backwards'] = range(len(reviews), 0, -1)\nreviews['index_backwards']\n</pre> reviews['index_backwards'] = range(len(reviews), 0, -1) reviews['index_backwards'] Out[25]: <pre>0         129971\n1         129970\n           ...  \n129969         2\n129970         1\nName: index_backwards, Length: 129971, dtype: int64</pre> <p>Si volem assignar un valor concret a una cel\u00b7la concreta, seleccionem la cel\u00b7la (amb loc o iloc) i assignem el valor desitjat.</p> In\u00a0[26]: Copied! <pre>reviews.loc[0,'critic'] = \"Ferran\"\nreviews\n</pre> reviews.loc[0,'critic'] = \"Ferran\" reviews Out[26]: country description designation points price province region_1 region_2 taster_name taster_twitter_handle title variety winery critic index_backwards 0 Italy Aromas include tropical fruit, broom, brimston... Vulk\u00e0 Bianco 87 NaN Sicily &amp; Sardinia Etna NaN Kerin O\u2019Keefe @kerinokeefe Nicosia 2013 Vulk\u00e0 Bianco  (Etna) White Blend Nicosia Ferran 129971 1 Portugal This is ripe and fruity, a wine that is smooth... Avidagos 87 15.0 Douro NaN NaN Roger Voss @vossroger Quinta dos Avidagos 2011 Avidagos Red (Douro) Portuguese Red Quinta dos Avidagos everyone 129970 ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... 129969 France A dry style of Pinot Gris, this is crisp with ... NaN 90 32.0 Alsace Alsace NaN Roger Voss @vossroger Domaine Marcel Deiss 2012 Pinot Gris (Alsace) Pinot Gris Domaine Marcel Deiss everyone 2 129970 France Big, rich and off-dry, this is powered by inte... Lieu-dit Harth Cuv\u00e9e Caroline 90 21.0 Alsace Alsace NaN Roger Voss @vossroger Domaine Schoffit 2012 Lieu-dit Harth Cuv\u00e9e Car... Gew\u00fcrztraminer Domaine Schoffit everyone 1 <p>129971 rows \u00d7 15 columns</p> In\u00a0[27]: Copied! <pre>reviews.points.describe()\n</pre> reviews.points.describe() Out[27]: <pre>count    129971.000000\nmean         88.447138\n             ...      \n75%          91.000000\nmax         100.000000\nName: points, Length: 8, dtype: float64</pre> <p>Aquest m\u00e8tode genera un resum dels atributs de la columna donada.</p> <p>\u00c9s conscient del tipus, \u00e9s a dir, la seua ixida canvia en funci\u00f3 del tipus de dades que cont\u00e9 la columna.</p> <p>L'eixida anterior nom\u00e9s t\u00e9 sentit per a dades num\u00e8riques; per a les dades de text, obtindriem:</p> In\u00a0[28]: Copied! <pre>reviews.country.describe()\n</pre> reviews.country.describe() Out[28]: <pre>count     129908\nunique        43\ntop           US\nfreq       54504\nName: country, dtype: object</pre> <p>Si voleu obtenir alguna estad\u00edstica senzilla sobre una columna en un DataFrame o una s\u00e8rie, normalment hi ha una funci\u00f3 pandas \u00fatil que ho fa possible.</p> <p>Per exemple, per veure la mitjana dels punts assignats (per exemple, comparar un vi amb una puntuaci\u00f3 mitjana), podem utilitzar la funci\u00f3 <code>mean()</code>.</p> <p>Una vegada obtinguda la mitjana, podem veure si un vi est\u00e0 per dalt o per baix de la mitjana.</p> In\u00a0[29]: Copied! <pre>reviews.points.mean()\n</pre> reviews.points.mean() Out[29]: <pre>88.44713820775404</pre> <p>Per a veure una llista de valors \u00fanics (tots els valors diferents), podem utilitzar la funci\u00f3 <code>unique()</code>:</p> In\u00a0[30]: Copied! <pre>reviews.country.unique()\n</pre> reviews.country.unique() Out[30]: <pre>array(['Italy', 'Portugal', 'US', 'Spain', 'France', 'Germany',\n       'Argentina', 'Chile', 'Australia', 'Austria', 'South Africa',\n       'New Zealand', 'Israel', 'Hungary', 'Greece', 'Romania', 'Mexico',\n       'Canada', nan, 'Turkey', 'Czech Republic', 'Slovenia',\n       'Luxembourg', 'Croatia', 'Georgia', 'Uruguay', 'England',\n       'Lebanon', 'Serbia', 'Brazil', 'Moldova', 'Morocco', 'Peru',\n       'India', 'Bulgaria', 'Cyprus', 'Armenia', 'Switzerland',\n       'Bosnia and Herzegovina', 'Ukraine', 'Slovakia', 'Macedonia',\n       'China', 'Egypt'], dtype=object)</pre> <p>Per veure una llista de valors \u00fanics i amb quina freq\u00fc\u00e8ncia es produeixen al conjunt de dades, podem utilitzar el m\u00e8tode <code>value_counts()</code>:</p> In\u00a0[31]: Copied! <pre>reviews.country.value_counts()\n</pre> reviews.country.value_counts() Out[31]: <pre>country\nUS        54504\nFrance    22093\n          ...  \nChina         1\nEgypt         1\nName: count, Length: 43, dtype: int64</pre> In\u00a0[32]: Copied! <pre>review_points_mean = reviews.points.mean()\nreviews.points.map(lambda p: 0)\n</pre> review_points_mean = reviews.points.mean() reviews.points.map(lambda p: 0) Out[32]: <pre>0         0\n1         0\n         ..\n129969    0\n129970    0\nName: points, Length: 129971, dtype: int64</pre> <p>La funci\u00f3 que passeu a <code>map()</code> hauria d'esperar un valor \u00fanic de la s\u00e8rie (la puntuaci\u00f3 a l'exemple anterior) i retornar una versi\u00f3 transformada d'aquest valor.</p> <p><code>map()</code> aplica la funci\u00f3 que reb com a argunment a cadascun dels elements i li assigna el seu valor de retorn, transformant la serie original en una nova s\u00e8rie on tots els valors han canviat de valor segons la funci\u00f3.</p> <p><code>apply()</code> \u00e9s el m\u00e8tode equivalent a map aplicat a tot un DataFrame. Utilitza un m\u00e8tode per cada fila.</p> In\u00a0[33]: Copied! <pre>def remean_points(row):\n    row.points = row.points - review_points_mean\n    return row\n\nreviews.apply(remean_points, axis='columns')\n</pre> def remean_points(row):     row.points = row.points - review_points_mean     return row  reviews.apply(remean_points, axis='columns') Out[33]: country description designation points price province region_1 region_2 taster_name taster_twitter_handle title variety winery critic index_backwards 0 Italy Aromas include tropical fruit, broom, brimston... Vulk\u00e0 Bianco -1.447138 NaN Sicily &amp; Sardinia Etna NaN Kerin O\u2019Keefe @kerinokeefe Nicosia 2013 Vulk\u00e0 Bianco  (Etna) White Blend Nicosia Ferran 129971 1 Portugal This is ripe and fruity, a wine that is smooth... Avidagos -1.447138 15.0 Douro NaN NaN Roger Voss @vossroger Quinta dos Avidagos 2011 Avidagos Red (Douro) Portuguese Red Quinta dos Avidagos everyone 129970 ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... 129969 France A dry style of Pinot Gris, this is crisp with ... NaN 1.552862 32.0 Alsace Alsace NaN Roger Voss @vossroger Domaine Marcel Deiss 2012 Pinot Gris (Alsace) Pinot Gris Domaine Marcel Deiss everyone 2 129970 France Big, rich and off-dry, this is powered by inte... Lieu-dit Harth Cuv\u00e9e Caroline 1.552862 21.0 Alsace Alsace NaN Roger Voss @vossroger Domaine Schoffit 2012 Lieu-dit Harth Cuv\u00e9e Car... Gew\u00fcrztraminer Domaine Schoffit everyone 1 <p>129971 rows \u00d7 15 columns</p> <p>Truc</p> <p>     Si haverem cridat reviews.apply() amb axis='index' en compte de axis='column', aleshores en lloc de passar una funci\u00f3 per transformar cada fila, hauriem de donar una funci\u00f3 per transformar cada columna.   </p> <p>Tingueu en compte que map() i apply() retornen s\u00e8ries i DataFrames nous i transformats, respectivament. No modifiquen les dades originals que reben. Si mirem la primera fila de ressenyes, podem veure que encara t\u00e9 el seu valor de punts original.</p> In\u00a0[34]: Copied! <pre>reviews.head()\n</pre> reviews.head() Out[34]: country description designation points price province region_1 region_2 taster_name taster_twitter_handle title variety winery critic index_backwards 0 Italy Aromas include tropical fruit, broom, brimston... Vulk\u00e0 Bianco 87 NaN Sicily &amp; Sardinia Etna NaN Kerin O\u2019Keefe @kerinokeefe Nicosia 2013 Vulk\u00e0 Bianco  (Etna) White Blend Nicosia Ferran 129971 1 Portugal This is ripe and fruity, a wine that is smooth... Avidagos 87 15.0 Douro NaN NaN Roger Voss @vossroger Quinta dos Avidagos 2011 Avidagos Red (Douro) Portuguese Red Quinta dos Avidagos everyone 129970 2 US Tart and snappy, the flavors of lime flesh and... NaN 87 14.0 Oregon Willamette Valley Willamette Valley Paul Gregutt @paulgwine Rainstorm 2013 Pinot Gris (Willamette Valley) Pinot Gris Rainstorm everyone 129969 3 US Pineapple rind, lemon pith and orange blossom ... Reserve Late Harvest 87 13.0 Michigan Lake Michigan Shore NaN Alexander Peartree NaN St. Julian 2013 Reserve Late Harvest Riesling ... Riesling St. Julian everyone 129968 4 US Much like the regular bottling from 2012, this... Vintner's Reserve Wild Child Block 87 65.0 Oregon Willamette Valley Willamette Valley Paul Gregutt @paulgwine Sweet Cheeks 2012 Vintner's Reserve Wild Child... Pinot Noir Sweet Cheeks everyone 129967 <p>Pandas ofereix moltes operacions de mapes comunes ja integrades.</p> <p>Per exemple, ac\u00ed teniu una manera m\u00e9s pr\u00e0ctica de reassignar la nostra columna de punts i assignar-li la difer\u00e8ncia amb el valor mitj\u00e0:</p> In\u00a0[35]: Copied! <pre>review_points_mean = reviews.points.mean()\nreviews.points - review_points_mean\n</pre> review_points_mean = reviews.points.mean() reviews.points - review_points_mean Out[35]: <pre>0        -1.447138\n1        -1.447138\n            ...   \n129969    1.552862\n129970    1.552862\nName: points, Length: 129971, dtype: float64</pre> <p>En aquest codi estem realitzant una operaci\u00f3 entre molts valors a la part esquerra (tota la S\u00e8rie) i un sol valor a la dreta (el valor mitj\u00e0).</p> <p>Pandas mira aquesta expressi\u00f3 i descobreix que hem de voler restar aquest valor mitj\u00e0 de tots els valors del conjunt de dades (\u00e9s com la difusi\u00f3 als arrays de numpy).</p> <p>Panda tamb\u00e9 enten qu\u00e8 fer si realitzem aquestes operacions entre S\u00e8ries d'igual longitud.</p> <p>Per exemple, una manera senzilla de combinar la informaci\u00f3 del pa\u00eds i la regi\u00f3 al conjunt de dades seria fer el seg\u00fcent:</p> In\u00a0[36]: Copied! <pre>reviews.country + \" - \" + reviews.region_1\n</pre> reviews.country + \" - \" + reviews.region_1 Out[36]: <pre>0            Italy - Etna\n1                     NaN\n               ...       \n129969    France - Alsace\n129970    France - Alsace\nLength: 129971, dtype: object</pre> <p>Aquests operadors s\u00f3n m\u00e9s r\u00e0pids que <code>map()</code> o <code>apply()</code> perqu\u00e8 utilitzen les funcions universals de nunmpy als datasets de panda.</p> <p>Qualsevol funci\u00f3 universal de numpy (<code>&gt;</code>, <code>&lt;</code>, <code>==</code> i aix\u00ed successivament) funciona d'aquesta manera.</p> <p>Tanmateix, no s\u00f3n tan flexibles com <code>map()</code> o <code>apply()</code>.</p> In\u00a0[37]: Copied! <pre>reviews.groupby('points').points.count()\n</pre> reviews.groupby('points').points.count() Out[37]: <pre>points\n80     397\n81     692\n      ... \n99      33\n100     19\nName: points, Length: 21, dtype: int64</pre> <p><code>groupby()</code> ens agrupa els vins per puntuaci\u00f3.Per a cadascun d'aquests grups, agafem <code>points()</code> els comptem amb <code>count()</code>.</p> <p><code>value_counts()</code> \u00e9s nom\u00e9s una drecera a aquesta operaci\u00f3 <code>groupby()</code>.</p> <p>Podem utilitzar qualsevol de les funcions de resum que hem utilitzat abans amb aquestes dades. Per exemple, per obtenir el vi m\u00e9s barat de cada categoria de valor de punts, podem fer el seg\u00fcent:</p> In\u00a0[38]: Copied! <pre>reviews.groupby('points').price.min()\n</pre> reviews.groupby('points').price.min() Out[38]: <pre>points\n80      5.0\n81      5.0\n       ... \n99     44.0\n100    80.0\nName: price, Length: 21, dtype: float64</pre> <p>Podeu pensar que cada grup que generem \u00e9s una part del nostre DataFrame que nom\u00e9s cont\u00e9 dades amb valors que coincideixen. Aquest DataFrame \u00e9s accessible per nosaltres directament mitjan\u00e7ant el m\u00e8tode <code>apply()</code>, i llavors podem manipular les dades de la manera que creguem adequada.</p> <p>Per exemple, ac\u00ed teniu una manera de seleccionar el nom del primer vi revisat de cada celler del conjunt de dades:</p> In\u00a0[39]: Copied! <pre>reviews.groupby('winery').apply(lambda df: df.title.iloc[0])\n</pre> reviews.groupby('winery').apply(lambda df: df.title.iloc[0]) Out[39]: <pre>winery\n1+1=3                          1+1=3 NV Ros\u00e9 Sparkling (Cava)\n10 Knots                 10 Knots 2010 Viognier (Paso Robles)\n                                  ...                        \n\u00e0Maurice    \u00e0Maurice 2013 Fred Estate Syrah (Walla Walla V...\n\u0160toka                         \u0160toka 2009 Izbrani Teran (Kras)\nLength: 16757, dtype: object</pre> <p>Per a un control encara m\u00e9s detallat, tamb\u00e9 podeu agrupar-los per m\u00e9s d'una columna. Per exemple, aix\u00ed \u00e9s com escollir\u00edem el millor vi per pa\u00eds i prov\u00edncia:</p> In\u00a0[40]: Copied! <pre>reviews.groupby(['country', 'province']).apply(lambda df: df.loc[df.points.idxmax()])\n</pre> reviews.groupby(['country', 'province']).apply(lambda df: df.loc[df.points.idxmax()]) Out[40]: country description designation points price province region_1 region_2 taster_name taster_twitter_handle title variety winery critic index_backwards country province Argentina Mendoza Province Argentina If the color doesn't tell the full story, the ... Nicasia Vineyard 97 120.0 Mendoza Province Mendoza NaN Michael Schachner @wineschach Bodega Catena Zapata 2006 Nicasia Vineyard Mal... Malbec Bodega Catena Zapata everyone 47217 Other Argentina Take note, this could be the best wine Colom\u00e9 ... Reserva 95 90.0 Other Salta NaN Michael Schachner @wineschach Colom\u00e9 2010 Reserva Malbec (Salta) Malbec Colom\u00e9 everyone 51668 ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... Uruguay San Jose Uruguay Baked, sweet, heavy aromas turn earthy with ti... El Preciado Gran Reserva 87 50.0 San Jose NaN NaN Michael Schachner @wineschach Castillo Viejo 2005 El Preciado Gran Reserva R... Red Blend Castillo Viejo everyone 90073 Uruguay Uruguay Cherry and berry aromas are ripe, healthy and ... Blend 002 Limited Edition 91 22.0 Uruguay NaN NaN Michael Schachner @wineschach Narbona NV Blend 002 Limited Edition Tannat-Ca... Tannat-Cabernet Franc Narbona everyone 90610 <p>425 rows \u00d7 15 columns</p> <p>Un altre m\u00e8tode <code>groupby()</code> que val la pena estudiar \u00e9s <code>agg()</code>, que us permet executar moltes funcions diferents al vostre DataFrame simult\u00e0niament.</p> <p>Per exemple, podem generar un resum estad\u00edstic senzill del conjunt de dades de la seg\u00fcent manera:</p> In\u00a0[41]: Copied! <pre>reviews.groupby(['country']).price.agg([len, min, max])\n</pre> reviews.groupby(['country']).price.agg([len, min, max]) <pre>/tmp/ipykernel_3496/4122224884.py:1: FutureWarning: The provided callable &lt;built-in function min&gt; is currently using SeriesGroupBy.min. In a future version of pandas, the provided callable will be used directly. To keep current behavior pass the string \"min\" instead.\n  reviews.groupby(['country']).price.agg([len, min, max])\n/tmp/ipykernel_3496/4122224884.py:1: FutureWarning: The provided callable &lt;built-in function max&gt; is currently using SeriesGroupBy.max. In a future version of pandas, the provided callable will be used directly. To keep current behavior pass the string \"max\" instead.\n  reviews.groupby(['country']).price.agg([len, min, max])\n</pre> Out[41]: len min max country Argentina 3800 4.0 230.0 Armenia 2 14.0 15.0 ... ... ... ... Ukraine 14 6.0 13.0 Uruguay 109 10.0 130.0 <p>43 rows \u00d7 3 columns</p> <p>L'\u00fas efectiu de <code>groupby()</code> us permetr\u00e0 fer moltes coses realment potents amb el vostre conjunt de dades.</p> In\u00a0[42]: Copied! <pre>countries_reviewed = reviews.groupby(['country', 'province']).description.agg([len])\ncountries_reviewed\n</pre> countries_reviewed = reviews.groupby(['country', 'province']).description.agg([len]) countries_reviewed Out[42]: len country province Argentina Mendoza Province 3264 Other 536 ... ... ... Uruguay San Jose 3 Uruguay 24 <p>425 rows \u00d7 1 columns</p> <p>Els \u00edndexs m\u00faltiples tenen diversos m\u00e8todes per tractar la seva estructura escalonada que no es troben en els \u00edndexs d'un sol nivell. Tamb\u00e9 requereixen dos nivells d'etiquetes per recuperar un valor. Tractar l'eixida multi-\u00edndex \u00e9s un problema com\u00fa per als usuaris nous a Panda.</p> <p>Els casos d'\u00fas d'un \u00edndex m\u00faltiple es detallen juntament amb les instruccions per utilitzar-los a la secci\u00f3 MultiIndex/Selecci\u00f3 avan\u00e7ada de la documentaci\u00f3 de pandas.</p> <p>Tanmateix, en general, el m\u00e8tode multi\u00edndex que utilitzareu amb m\u00e9s freq\u00fc\u00e8ncia \u00e9s el de tornar a convertir a un \u00edndex normal, el m\u00e8tode <code>reset_index()</code>:</p> In\u00a0[43]: Copied! <pre>countries_reviewed.reset_index()\n</pre> countries_reviewed.reset_index() Out[43]: country province len 0 Argentina Mendoza Province 3264 1 Argentina Other 536 ... ... ... ... 423 Uruguay San Jose 3 424 Uruguay Uruguay 24 <p>425 rows \u00d7 3 columns</p> In\u00a0[44]: Copied! <pre>countries_reviewed = countries_reviewed.reset_index()\ncountries_reviewed.sort_values(by='len')\n</pre> countries_reviewed = countries_reviewed.reset_index() countries_reviewed.sort_values(by='len') Out[44]: country province len 179 Greece Muscat of Kefallonian 1 192 Greece Sterea Ellada 1 ... ... ... ... 415 US Washington 8639 392 US California 36247 <p>425 rows \u00d7 3 columns</p> <p><code>sort_values()</code> per defecte \u00e9s una ordenaci\u00f3 ascendent, on els valors m\u00e9s baixos van primer. Tanmateix, la majoria de les vegades volem una ordenaci\u00f3 descendent, on els nombres m\u00e9s alts van primer:</p> In\u00a0[45]: Copied! <pre>countries_reviewed.sort_values(by='len', ascending=False)\n</pre> countries_reviewed.sort_values(by='len', ascending=False) Out[45]: country province len 392 US California 36247 415 US Washington 8639 ... ... ... ... 63 Chile Coelemu 1 149 Greece Beotia 1 <p>425 rows \u00d7 3 columns</p> <p>Per ordenar per valors d'\u00edndex, utilitzeu el m\u00e8tode complementari <code>sort_index()</code>. Aquest m\u00e8tode t\u00e9 els mateixos arguments i ordre per defecte:</p> In\u00a0[46]: Copied! <pre>countries_reviewed.sort_index()\n</pre> countries_reviewed.sort_index() Out[46]: country province len 0 Argentina Mendoza Province 3264 1 Argentina Other 536 ... ... ... ... 423 Uruguay San Jose 3 424 Uruguay Uruguay 24 <p>425 rows \u00d7 3 columns</p> <p>Finalment, sabeu que podeu ordenar per m\u00e9s d'una columna alhora:</p> In\u00a0[47]: Copied! <pre>countries_reviewed.sort_values(by=['country', 'len'])\n</pre> countries_reviewed.sort_values(by=['country', 'len']) Out[47]: country province len 1 Argentina Other 536 0 Argentina Mendoza Province 3264 ... ... ... ... 424 Uruguay Uruguay 24 419 Uruguay Canelones 43 <p>425 rows \u00d7 3 columns</p> In\u00a0[48]: Copied! <pre>reviews.price.dtype\n</pre> reviews.price.dtype Out[48]: <pre>dtype('float64')</pre> <p>Si el que volem \u00e9s averiguar els tipus de dades de totes les columnes d'un DataFrame, podem utilitzarla propietat <code>dtypes</code>, que retorna el <code>dtype</code> de totes les columnes al DataFrame:</p> In\u00a0[49]: Copied! <pre>reviews.dtypes\n</pre> reviews.dtypes Out[49]: <pre>country            object\ndescription        object\n                    ...  \ncritic             object\nindex_backwards     int64\nLength: 15, dtype: object</pre> <p>Els tipus de dades ens diuen alguna cosa sobre com els pandas emmagatzemen les dades internament. <code>float64</code> significa que est\u00e0 utilitzant un nombre de coma flotant de 64 bits; \"int64\" significa un nombre enter de mida similar, i aix\u00ed successivament.</p> <p>Una peculiaritat a tenir en compte (i aqu\u00ed s'exposa molt clarament) \u00e9s que les columnes que consisteixen completament en cadenes no tenen el seu propi tipus; en canvi, se'ls d\u00f3na el tipus d'objecte.</p> <p>\u00c9s possible convertir una columna d'un tipus en un altre sempre que aquesta conversi\u00f3 tingui sentit utilitzant la funci\u00f3 <code>astype()</code>. Per exemple, podem transformar la columna \"punts\" del seu tipus de dades \"int64\" existent en un tipus de dades \"float64\":</p> In\u00a0[50]: Copied! <pre>reviews.points\n</pre> reviews.points Out[50]: <pre>0         87\n1         87\n          ..\n129969    90\n129970    90\nName: points, Length: 129971, dtype: int64</pre> In\u00a0[51]: Copied! <pre>reviews.points.astype('float64')\n</pre> reviews.points.astype('float64') Out[51]: <pre>0         87.0\n1         87.0\n          ... \n129969    90.0\n129970    90.0\nName: points, Length: 129971, dtype: float64</pre> <p>L'\u00edndex d'un DataFrame o una Series tamb\u00e9 t\u00e9 el seu propi \"dtype\":</p> In\u00a0[52]: Copied! <pre>reviews.index.dtype\n</pre> reviews.index.dtype Out[52]: <pre>dtype('int64')</pre> In\u00a0[53]: Copied! <pre>reviews[pd.isnull(reviews.country)]\n</pre> reviews[pd.isnull(reviews.country)] Out[53]: country description designation points price province region_1 region_2 taster_name taster_twitter_handle title variety winery critic index_backwards 913 NaN Amber in color, this wine has aromas of peach ... Asureti Valley 87 30.0 NaN NaN NaN Mike DeSimone @worldwineguys Gotsa Family Wines 2014 Asureti Valley Chinuri Chinuri Gotsa Family Wines everyone 129058 3131 NaN Soft, fruity and juicy, this is a pleasant, si... Partager 83 NaN NaN NaN NaN Roger Voss @vossroger Barton &amp; Guestier NV Partager Red Red Blend Barton &amp; Guestier everyone 126840 ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... 129590 NaN A blend of 60% Syrah, 30% Cabernet Sauvignon a... Shah 90 30.0 NaN NaN NaN Mike DeSimone @worldwineguys B\u00fcy\u00fcl\u00fcba\u011f 2012 Shah Red Red Blend B\u00fcy\u00fcl\u00fcba\u011f everyone 381 129900 NaN This wine offers a delightful bouquet of black... NaN 91 32.0 NaN NaN NaN Mike DeSimone @worldwineguys Psagot 2014 Merlot Merlot Psagot everyone 71 <p>63 rows \u00d7 15 columns</p> <p>La substituci\u00f3 dels valors que falten \u00e9s una operaci\u00f3 habitual abans d'entrenar models d'IA. Pandas ofereix un m\u00e8tode molt \u00fatil per a aquest problema: <code>fillna()</code>.</p> <p><code>fillna()</code> ofereix algunes estrat\u00e8gies diferents per mitigar aquestes dades. Per exemple, simplement podem substituir cada <code>NaN</code> per un <code>\"Desconegut\"</code>:</p> In\u00a0[54]: Copied! <pre>reviews.region_2.fillna(\"Unknown\")\n</pre> reviews.region_2.fillna(\"Unknown\") Out[54]: <pre>0         Unknown\n1         Unknown\n           ...   \n129969    Unknown\n129970    Unknown\nName: region_2, Length: 129971, dtype: object</pre> <p>O podr\u00edem omplir cada valor que falta amb el primer valor no nul que apareix en algun moment despr\u00e9s del registre donat a la base de dades. Aix\u00f2 es coneix com a <code>backfill strategy</code>. Altres possibilitats s\u00f3n, omplir el valor amb el valor mitja de la resta de dades de la columna per intentar influir el menys possible amb el model.</p> <p>Tamb\u00e9, podem tindre un valor no nul que voldr\u00edem substituir. Per exemple, suposem que des que es va publicar aquest conjunt de dades, la revisora Kerin O'Keefe ha canviat el seu identificador de Twitter de <code>@kerinokeefe</code> a <code>@kerin</code>. Una manera de reflectir-ho al conjunt de dades \u00e9s utilitzar el m\u00e8tode <code>replace()</code>:</p> In\u00a0[55]: Copied! <pre>reviews.taster_twitter_handle.replace(\"@kerinokeefe\", \"@kerino\")\n</pre> reviews.taster_twitter_handle.replace(\"@kerinokeefe\", \"@kerino\") Out[55]: <pre>0            @kerino\n1         @vossroger\n             ...    \n129969    @vossroger\n129970    @vossroger\nName: taster_twitter_handle, Length: 129971, dtype: object</pre> <p>El m\u00e8tode <code>replace()</code> \u00e9s \u00fatil per reempla\u00e7ar les dades que falten a les quals se'ls ha donat algun valor tipus:  <code>Desconegut</code>, <code>No v\u00e0lid</code>...</p> In\u00a0[56]: Copied! <pre>reviews.rename(columns={'points': 'score'})\n</pre> reviews.rename(columns={'points': 'score'}) Out[56]: country description designation score price province region_1 region_2 taster_name taster_twitter_handle title variety winery critic index_backwards 0 Italy Aromas include tropical fruit, broom, brimston... Vulk\u00e0 Bianco 87 NaN Sicily &amp; Sardinia Etna NaN Kerin O\u2019Keefe @kerinokeefe Nicosia 2013 Vulk\u00e0 Bianco  (Etna) White Blend Nicosia Ferran 129971 1 Portugal This is ripe and fruity, a wine that is smooth... Avidagos 87 15.0 Douro NaN NaN Roger Voss @vossroger Quinta dos Avidagos 2011 Avidagos Red (Douro) Portuguese Red Quinta dos Avidagos everyone 129970 ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... 129969 France A dry style of Pinot Gris, this is crisp with ... NaN 90 32.0 Alsace Alsace NaN Roger Voss @vossroger Domaine Marcel Deiss 2012 Pinot Gris (Alsace) Pinot Gris Domaine Marcel Deiss everyone 2 129970 France Big, rich and off-dry, this is powered by inte... Lieu-dit Harth Cuv\u00e9e Caroline 90 21.0 Alsace Alsace NaN Roger Voss @vossroger Domaine Schoffit 2012 Lieu-dit Harth Cuv\u00e9e Car... Gew\u00fcrztraminer Domaine Schoffit everyone 1 <p>129971 rows \u00d7 15 columns</p> <p><code>rename()</code> ens permet canviar el nom dels valors de l'\u00edndex o de la columna especificant un par\u00e0metre <code>index</code> o <code>column</code>, respectivament. Admet una varietat de formats d'entrada, per\u00f2 normalment un diccionari Python \u00e9s el m\u00e9s convenient.</p> <p>Ac\u00ed teniu un exemple que es pot utilitzar per canviar el nom d'alguns elements de l'\u00edndex.</p> In\u00a0[57]: Copied! <pre>reviews.rename(index={0: 'firstEntry', 1: 'secondEntry'})\n</pre> reviews.rename(index={0: 'firstEntry', 1: 'secondEntry'}) Out[57]: country description designation points price province region_1 region_2 taster_name taster_twitter_handle title variety winery critic index_backwards firstEntry Italy Aromas include tropical fruit, broom, brimston... Vulk\u00e0 Bianco 87 NaN Sicily &amp; Sardinia Etna NaN Kerin O\u2019Keefe @kerinokeefe Nicosia 2013 Vulk\u00e0 Bianco  (Etna) White Blend Nicosia Ferran 129971 secondEntry Portugal This is ripe and fruity, a wine that is smooth... Avidagos 87 15.0 Douro NaN NaN Roger Voss @vossroger Quinta dos Avidagos 2011 Avidagos Red (Douro) Portuguese Red Quinta dos Avidagos everyone 129970 ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... 129969 France A dry style of Pinot Gris, this is crisp with ... NaN 90 32.0 Alsace Alsace NaN Roger Voss @vossroger Domaine Marcel Deiss 2012 Pinot Gris (Alsace) Pinot Gris Domaine Marcel Deiss everyone 2 129970 France Big, rich and off-dry, this is powered by inte... Lieu-dit Harth Cuv\u00e9e Caroline 90 21.0 Alsace Alsace NaN Roger Voss @vossroger Domaine Schoffit 2012 Lieu-dit Harth Cuv\u00e9e Car... Gew\u00fcrztraminer Domaine Schoffit everyone 1 <p>129971 rows \u00d7 15 columns</p> <p>Canviar el nom de comlumnes sol ser m\u00e9s freq\u00fcent que l'\u00edndex, per aix\u00f2, <code>set_index()</code> sol utilitzar-se m\u00e9s.</p> <p>Tant l'\u00edndex de fila com l'\u00edndex de columna poden tindre el seu propi nom. El m\u00e8tode <code>rename_axis()</code> es pot utilitzar per canviar aquests noms.</p> <p>Per exemple:</p> In\u00a0[58]: Copied! <pre>reviews\n</pre> reviews Out[58]: country description designation points price province region_1 region_2 taster_name taster_twitter_handle title variety winery critic index_backwards 0 Italy Aromas include tropical fruit, broom, brimston... Vulk\u00e0 Bianco 87 NaN Sicily &amp; Sardinia Etna NaN Kerin O\u2019Keefe @kerinokeefe Nicosia 2013 Vulk\u00e0 Bianco  (Etna) White Blend Nicosia Ferran 129971 1 Portugal This is ripe and fruity, a wine that is smooth... Avidagos 87 15.0 Douro NaN NaN Roger Voss @vossroger Quinta dos Avidagos 2011 Avidagos Red (Douro) Portuguese Red Quinta dos Avidagos everyone 129970 ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... 129969 France A dry style of Pinot Gris, this is crisp with ... NaN 90 32.0 Alsace Alsace NaN Roger Voss @vossroger Domaine Marcel Deiss 2012 Pinot Gris (Alsace) Pinot Gris Domaine Marcel Deiss everyone 2 129970 France Big, rich and off-dry, this is powered by inte... Lieu-dit Harth Cuv\u00e9e Caroline 90 21.0 Alsace Alsace NaN Roger Voss @vossroger Domaine Schoffit 2012 Lieu-dit Harth Cuv\u00e9e Car... Gew\u00fcrztraminer Domaine Schoffit everyone 1 <p>129971 rows \u00d7 15 columns</p> In\u00a0[59]: Copied! <pre>reviews.rename_axis(\"wines\", axis='rows').rename_axis(\"fields\", axis='columns')\n</pre> reviews.rename_axis(\"wines\", axis='rows').rename_axis(\"fields\", axis='columns') Out[59]: fields country description designation points price province region_1 region_2 taster_name taster_twitter_handle title variety winery critic index_backwards wines 0 Italy Aromas include tropical fruit, broom, brimston... Vulk\u00e0 Bianco 87 NaN Sicily &amp; Sardinia Etna NaN Kerin O\u2019Keefe @kerinokeefe Nicosia 2013 Vulk\u00e0 Bianco  (Etna) White Blend Nicosia Ferran 129971 1 Portugal This is ripe and fruity, a wine that is smooth... Avidagos 87 15.0 Douro NaN NaN Roger Voss @vossroger Quinta dos Avidagos 2011 Avidagos Red (Douro) Portuguese Red Quinta dos Avidagos everyone 129970 ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... 129969 France A dry style of Pinot Gris, this is crisp with ... NaN 90 32.0 Alsace Alsace NaN Roger Voss @vossroger Domaine Marcel Deiss 2012 Pinot Gris (Alsace) Pinot Gris Domaine Marcel Deiss everyone 2 129970 France Big, rich and off-dry, this is powered by inte... Lieu-dit Harth Cuv\u00e9e Caroline 90 21.0 Alsace Alsace NaN Roger Voss @vossroger Domaine Schoffit 2012 Lieu-dit Harth Cuv\u00e9e Car... Gew\u00fcrztraminer Domaine Schoffit everyone 1 <p>129971 rows \u00d7 15 columns</p> In\u00a0[60]: Copied! <pre>directory = os.path.abspath('')\ncanadian_videos_path = os.path.join(directory,\"data\",\"CAvideos.csv\")\nbritish_videos_path = os.path.join(directory,\"data\",\"GBvideos.csv\")\n\ncanadian_youtube = pd.read_csv(canadian_videos_path)\nbritish_youtube = pd.read_csv(british_videos_path)\n\ncanadian_youtube\n</pre> directory = os.path.abspath('') canadian_videos_path = os.path.join(directory,\"data\",\"CAvideos.csv\") british_videos_path = os.path.join(directory,\"data\",\"GBvideos.csv\")  canadian_youtube = pd.read_csv(canadian_videos_path) british_youtube = pd.read_csv(british_videos_path)  canadian_youtube Out[60]: video_id trending_date title channel_title category_id publish_time tags views likes dislikes comment_count thumbnail_link comments_disabled ratings_disabled video_error_or_removed description 0 n1WpP7iowLc 17.14.11 Eminem - Walk On Water (Audio) ft. Beyonc\u00e9 EminemVEVO 10 2017-11-10T17:00:03.000Z Eminem|\"Walk\"|\"On\"|\"Water\"|\"Aftermath/Shady/In... 17158579 787425 43420 125882 https://i.ytimg.com/vi/n1WpP7iowLc/default.jpg False False False Eminem's new track Walk on Water ft. Beyonc\u00e9 i... 1 0dBIkQ4Mz1M 17.14.11 PLUSH - Bad Unboxing Fan Mail iDubbbzTV 23 2017-11-13T17:00:00.000Z plush|\"bad unboxing\"|\"unboxing\"|\"fan mail\"|\"id... 1014651 127794 1688 13030 https://i.ytimg.com/vi/0dBIkQ4Mz1M/default.jpg False False False STill got a lot of packages. Probably will las... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... 40879 lbMKLzQ4cNQ 18.14.06 Trump Advisor Grovels To Trudeau The Young Turks 25 2018-06-13T04:00:05.000Z 180612__TB02SorryExcuse|\"News\"|\"Politics\"|\"The... 115225 2115 182 1672 https://i.ytimg.com/vi/lbMKLzQ4cNQ/default.jpg False False False Peter Navarro isn\u2019t talking so tough now. Ana ... 40880 POTgw38-m58 18.14.06 \u3010\u5b8c\u6574\u7248\u3011\u9047\u5230\u6050\u6016\u60c5\u4eba\u8a72\u600e\u9ebc\u8fa6\uff1f2018.06.13\u5c0f\u660e\u661f\u5927\u8ddf\u73ed \u6211\u611b\u5c0f\u660e\u661f\u5927\u8ddf\u73ed 24 2018-06-13T16:00:03.000Z \u5433\u5b97\u61b2|\"\u5433\u59cd\u5112\"|\"\u5c0f\u660e\u661f\u5927\u8ddf\u73ed\"|\"Sandy\"|\"Jacky wu\"|\"\u61b2\u54e5\"|\"\u4e2d\u5929... 107392 300 62 251 https://i.ytimg.com/vi/POTgw38-m58/default.jpg False False False \u85dd\u4eba\uff1a\u674e\u598d\u747e\u3001\u7389\u5154\u3001\u73ed\u5091\u3001LaLa\u3001\u5c0f\u512a\u3001\u5c11\u5c11\u5c08\u5bb6\uff1a\u9673\u7b71\u5c4f(\u5f8b\u5e2b)\u3001Wendy(\u5fc3\u7406\u5e2b)\u3001\u7f85... <p>40881 rows \u00d7 16 columns</p> In\u00a0[61]: Copied! <pre>british_youtube\n</pre> british_youtube Out[61]: video_id trending_date title channel_title category_id publish_time tags views likes dislikes comment_count thumbnail_link comments_disabled ratings_disabled video_error_or_removed description 0 Jw1Y-zhQURU 17.14.11 John Lewis Christmas Ad 2017 - #MozTheMonster John Lewis 26 2017-11-10T07:38:29.000Z christmas|\"john lewis christmas\"|\"john lewis\"|... 7224515 55681 10247 9479 https://i.ytimg.com/vi/Jw1Y-zhQURU/default.jpg False False False Click here to continue the story and make your... 1 3s1rvMFUweQ 17.14.11 Taylor Swift: \u2026Ready for It? (Live) - SNL Saturday Night Live 24 2017-11-12T06:24:44.000Z SNL|\"Saturday Night Live\"|\"SNL Season 43\"|\"Epi... 1053632 25561 2294 2757 https://i.ytimg.com/vi/3s1rvMFUweQ/default.jpg False False False Musical guest Taylor Swift performs \u2026Ready for... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... 38914 -DRsfNObKIQ 18.14.06 Eleni Foureira - Fuego - Cyprus - LIVE - First... Eurovision Song Contest 24 2018-05-08T20:32:32.000Z Eurovision Song Contest|\"2018\"|\"Lisbon\"|\"Cypru... 14317515 151870 45875 26766 https://i.ytimg.com/vi/-DRsfNObKIQ/default.jpg False False False Eleni Foureira represented Cyprus at the first... 38915 4YFo4bdMO8Q 18.14.06 KYLE - Ikuyo feat.  2 Chainz &amp; Sophia Black [A... SuperDuperKyle 10 2018-05-11T04:06:35.000Z Kyle|\"SuperDuperKyle\"|\"Ikuyo\"|\"2 Chainz\"|\"Soph... 607552 18271 274 1423 https://i.ytimg.com/vi/4YFo4bdMO8Q/default.jpg False False False Debut album 'Light of Mine' out now: http://ky... <p>38916 rows \u00d7 16 columns</p> In\u00a0[62]: Copied! <pre>pd.concat([canadian_youtube, british_youtube])\n</pre> pd.concat([canadian_youtube, british_youtube]) Out[62]: video_id trending_date title channel_title category_id publish_time tags views likes dislikes comment_count thumbnail_link comments_disabled ratings_disabled video_error_or_removed description 0 n1WpP7iowLc 17.14.11 Eminem - Walk On Water (Audio) ft. Beyonc\u00e9 EminemVEVO 10 2017-11-10T17:00:03.000Z Eminem|\"Walk\"|\"On\"|\"Water\"|\"Aftermath/Shady/In... 17158579 787425 43420 125882 https://i.ytimg.com/vi/n1WpP7iowLc/default.jpg False False False Eminem's new track Walk on Water ft. Beyonc\u00e9 i... 1 0dBIkQ4Mz1M 17.14.11 PLUSH - Bad Unboxing Fan Mail iDubbbzTV 23 2017-11-13T17:00:00.000Z plush|\"bad unboxing\"|\"unboxing\"|\"fan mail\"|\"id... 1014651 127794 1688 13030 https://i.ytimg.com/vi/0dBIkQ4Mz1M/default.jpg False False False STill got a lot of packages. Probably will las... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... 38914 -DRsfNObKIQ 18.14.06 Eleni Foureira - Fuego - Cyprus - LIVE - First... Eurovision Song Contest 24 2018-05-08T20:32:32.000Z Eurovision Song Contest|\"2018\"|\"Lisbon\"|\"Cypru... 14317515 151870 45875 26766 https://i.ytimg.com/vi/-DRsfNObKIQ/default.jpg False False False Eleni Foureira represented Cyprus at the first... 38915 4YFo4bdMO8Q 18.14.06 KYLE - Ikuyo feat.  2 Chainz &amp; Sophia Black [A... SuperDuperKyle 10 2018-05-11T04:06:35.000Z Kyle|\"SuperDuperKyle\"|\"Ikuyo\"|\"2 Chainz\"|\"Soph... 607552 18271 274 1423 https://i.ytimg.com/vi/4YFo4bdMO8Q/default.jpg False False False Debut album 'Light of Mine' out now: http://ky... <p>79797 rows \u00d7 16 columns</p> In\u00a0[64]: Copied! <pre>left = canadian_youtube.set_index(['title', 'trending_date'])\nright = british_youtube.set_index(['title', 'trending_date'])\n\nleft.join(right, lsuffix='_CAN', rsuffix='_UK')\n</pre> left = canadian_youtube.set_index(['title', 'trending_date']) right = british_youtube.set_index(['title', 'trending_date'])  left.join(right, lsuffix='_CAN', rsuffix='_UK') Out[64]: video_id_CAN channel_title_CAN category_id_CAN publish_time_CAN tags_CAN views_CAN likes_CAN dislikes_CAN comment_count_CAN thumbnail_link_CAN ... tags_UK views_UK likes_UK dislikes_UK comment_count_UK thumbnail_link_UK comments_disabled_UK ratings_disabled_UK video_error_or_removed_UK description_UK title trending_date !! THIS VIDEO IS NOTHING BUT PAIN !! | Getting Over It - Part 7 18.04.01 PNn8sECd7io Markiplier 20 2018-01-03T19:33:53.000Z getting over it|\"markiplier\"|\"funny moments\"|\"... 835930 47058 1023 8250 https://i.ytimg.com/vi/PNn8sECd7io/default.jpg ... NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN #1 Fortnite World Rank - 2,323 Solo Wins! 18.09.03 DvPW66IFhMI AlexRamiGaming 20 2018-03-09T07:15:52.000Z PS4 Battle Royale|\"PS4 Pro Battle Royale\"|\"Bat... 212838 5199 542 11 https://i.ytimg.com/vi/DvPW66IFhMI/default.jpg ... NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... \ud83d\udea8 BREAKING NEWS \ud83d\udd34 Raja Live all Slot Channels Welcome \ud83c\udfb0 18.07.05 Wt9Gkpmbt44 TheBigJackpot 24 2018-05-07T06:58:59.000Z Slot Machine|\"win\"|\"Gambling\"|\"Big Win\"|\"raja\"... 28973 2167 175 10 https://i.ytimg.com/vi/Wt9Gkpmbt44/default.jpg ... NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN \ud83d\udea8Active Shooter at YouTube Headquarters - LIVE BREAKING NEWS COVERAGE 18.04.04 Az72jrKbANA Right Side Broadcasting Network 25 2018-04-03T23:12:37.000Z YouTube shooter|\"YouTube active shooter\"|\"acti... 103513 1722 181 76 https://i.ytimg.com/vi/Az72jrKbANA/default.jpg ... NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN <p>40900 rows \u00d7 28 columns</p> <p>Els par\u00e0metres <code>lsuffix</code> i <code>rsuffix</code> s\u00f3n necessaris en este exemple perqu\u00e8 les dades tenen els mateixos noms de columnes tant en conjunts de dades brit\u00e0nics com canadencs.</p> <p>Si no fos aix\u00ed (perqu\u00e8, per exemple, els hem reanomenat abans) no els necessitariem.</p> In\u00a0[66]: Copied! <pre>merged_data = pd.merge(canadian_youtube, british_youtube, on='video_id', how='inner')\nmerged_data\n</pre> merged_data = pd.merge(canadian_youtube, british_youtube, on='video_id', how='inner') merged_data Out[66]: video_id trending_date_x title_x channel_title_x category_id_x publish_time_x tags_x views_x likes_x dislikes_x ... tags_y views_y likes_y dislikes_y comment_count_y thumbnail_link_y comments_disabled_y ratings_disabled_y video_error_or_removed_y description_y 0 n1WpP7iowLc 17.14.11 Eminem - Walk On Water (Audio) ft. Beyonc\u00e9 EminemVEVO 10 2017-11-10T17:00:03.000Z Eminem|\"Walk\"|\"On\"|\"Water\"|\"Aftermath/Shady/In... 17158579 787425 43420 ... Eminem|\"Walk\"|\"On\"|\"Water\"|\"Aftermath/Shady/In... 17158579 787420 43420 125882 https://i.ytimg.com/vi/n1WpP7iowLc/default.jpg False False False Eminem's new track Walk on Water ft. Beyonc\u00e9 i... 1 n1WpP7iowLc 17.14.11 Eminem - Walk On Water (Audio) ft. Beyonc\u00e9 EminemVEVO 10 2017-11-10T17:00:03.000Z Eminem|\"Walk\"|\"On\"|\"Water\"|\"Aftermath/Shady/In... 17158579 787425 43420 ... Eminem|\"Walk\"|\"On\"|\"Water\"|\"Aftermath/Shady/In... 20539417 840642 47715 124236 https://i.ytimg.com/vi/n1WpP7iowLc/default.jpg False False False Eminem's new track Walk on Water ft. Beyonc\u00e9 i... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... 47340 -QPdRfqTnt4 18.14.06 Dumbo Official Teaser Trailer Disney Movie Trailers 1 2018-06-13T07:00:00.000Z Disney|\"Walt Disney Studios\"|\"Dumbo\"|\"Flying E... 4427381 96391 5508 ... Disney|\"Walt Disney Studios\"|\"Dumbo\"|\"Flying E... 4427381 96391 5508 12726 https://i.ytimg.com/vi/-QPdRfqTnt4/default.jpg False False False Watch the teaser trailer for Tim Burton\u2019s all-... 47341 r63VBOagGAo 18.14.06 Shawn Mendes x Portugal (FPF Official World Cu... FPFutebolOficial 17 2018-06-13T13:11:56.000Z Canal|\"Oficial\"|\"da\"|\"Federa\u00e7\u00e3o\"|\"Portuguesa\"|... 653114 65635 547 ... Canal|\"Oficial\"|\"da\"|\"Federa\u00e7\u00e3o\"|\"Portuguesa\"|... 653114 65624 547 3819 https://i.ytimg.com/vi/r63VBOagGAo/default.jpg False False False Portugal's Football Team Official SongLyrics: ... <p>47342 rows \u00d7 31 columns</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/02_Pandas/#introduccio","title":"Introducci\u00f3\u00b6","text":""},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/02_Pandas/#pandas","title":"Pandas\u00b6","text":"<p>Pandas \u00e9s la llibreria m\u00e9s popular de Python per a l'an\u00e0lisi de dades.</p> <p>No podeu treballar amb dades si no les podeu llegir. En esta secci\u00f3 aprendrem a crear dades de forma estructurada, aix\u00ed com treballar amb dades preexistents.</p> <p>Per comen\u00e7ar a treballar amb pandas, el primer pas ser\u00e0 importar la llibrer\u00eda. Al no formar part de les llibreries est\u00e0ndar de Python, l'haur\u00e0s d'instal\u00b7lar (sobre l'entorn desitjat) amb:</p> <pre>conda install pandas\n</pre> <p>Normalment, al igual que amb numpy, es comen\u00e7a amb:</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/02_Pandas/#creacio-de-dades","title":"Creaci\u00f3 de dades\u00b6","text":"<p>El dos objectes que formen el nucli de pandas s\u00f3n DataFrame i Series.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/02_Pandas/#dataframe","title":"DataFrame\u00b6","text":"<p>Un DataFrame \u00e9s una taula. Cont\u00e9 un array de valors. Cada valor est\u00e0 situat en una coordenada donada per la seua fila i la seua columna.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/02_Pandas/#series","title":"Series\u00b6","text":"<p>Una Serie, per contra, \u00e9s una seq\u00fc\u00e8ncia de valors. Si un DataFrame \u00e9s una taula, una Serie \u00e9s una llista. I en realitat, pots crear una serie passant una llista de valors:</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/02_Pandas/#llegint-dades-darxius","title":"Llegint dades d'arxius\u00b6","text":"<p>La majoria de vegades no volem crear les dades manualment, sin\u00f3 que volem treballar amb dades que ja existeixen.</p> <p>Les dades poden estar allotjades en diferents formats, per\u00f2 una de les formes m\u00e9s freq\u00fcents i b\u00e0siques \u00e9s en format d'arxiu separat per comes o CSV.</p> <pre><code>Product A,Product B,Product C,\n30,21,9,\n35,34,1,\n41,11,11\n</code></pre> <p>Per crear un DataFrame a partir d'un CSV utilitzarem la funci\u00f3 <code>pd.read_csv()</code>.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/02_Pandas/#indexacio-seleccio-i-assignacio","title":"Indexaci\u00f3, selecci\u00f3 i assignaci\u00f3\u00b6","text":""},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/02_Pandas/#getters-natius","title":"Getters natius\u00b6","text":"<p>Els objectes de Python proporcionen una forma molt c\u00f2moda d'accedir al valor de les seues propietats. A pandas pots utilitzar el mateix mecnisme.</p> <p>Per a accedir als valors de les columnes, pots utilitzar <code>objecte.columna</code>.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/02_Pandas/#seleccio-basada-en-indexs","title":"Selecci\u00f3 basada en \u00edndexs\u00b6","text":"<p>La indexaci\u00f3 de Pandas funciona en un dels dos paradigmes. El primer \u00e9s la selecci\u00f3 basada en \u00edndexs, que utilitza <code>iloc</code>: seleccionar dades en funci\u00f3 de la seva posici\u00f3 num\u00e8rica a les dades. iloc segueix aquest paradigma. Per seleccionar la primera fila de dades en un DataFrame, podem utilitzar el seg\u00fcent:</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/02_Pandas/#seleccio-basada-en-etiquetes","title":"Selecci\u00f3 basada en etiquetes\u00b6","text":"<p>El segon paradigma per a selecci\u00f3 d'atributs \u00e9s l'utilitzat per <code>loc</code>, que utilitza la selecci\u00f3 basada en etiquetes. En este paradigma s'utilitza el valor de les claus o etiquetes, no la seua posici\u00f3, per seleccionar valors.</p> <p>Per exemple:</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/02_Pandas/#escollim-entre-loc-i-iloc","title":"Escollim entre <code>loc</code> i <code>iloc</code>\u00b6","text":"<p>A l'hora de triar o fer el canvi entre loc i iloc, cal tindre en compte que els dos m\u00e8todes utilitzen esquemes d'indexaci\u00f3 lleugerament diferents.</p> <p><code>iloc</code> utilitza l'esquema d'indexaci\u00f3 stdlib de Python, on s'inclou el primer element de l'interval i s'exclou l'\u00faltim. Aix\u00ed, 0:10 seleccionar\u00e0 les entrades 0,...,9.</p> <p><code>loc</code>, per la seva banda, utilitza \u00edndexs inclusivament. Aix\u00ed, 0:10 seleccionar\u00e0 les entrades 0,...,10.</p> <p>Per qu\u00e8 el canvi? Recordeu que loc pot indexar qualsevol tipus stdlib: cadenes, per exemple. Si tenim un DataFrame amb valors d'\u00edndex Apples, ..., Potatoes, ..., i volem seleccionar \"totes les opcions de fruita alfab\u00e8tiques entre Apples i Potatoes\", \u00e9s molt m\u00e9s convenient indexar amb <code>df.loc['Apples':'Potatoes']</code> que indexar alguna cosa com <code>df.loc['Apples', 'Potatoet']</code> (t ve despr\u00e9s de s a l'alfabet).</p> <p>Aix\u00f2 \u00e9s molt conf\u00fas quan l'\u00edndex \u00e9s una llista num\u00e8rica simple, p. 0,...,1000. En aquest cas, df.iloc[0:1000] retornar\u00e0 1000 entrades, mentre que df.loc[0:1000] en retornar\u00e0 1001. Per obtindre 1000 elements amb loc, haureu d'anar un m\u00e9s avall i utilitzar df.loc[0:999]. En cas contrari, la sem\u00e0ntica d'utilitzar loc \u00e9s la mateixa que la d'iloc.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/02_Pandas/#manipulant-lindex","title":"Manipulant l'\u00edndex\u00b6","text":"<p>La selecci\u00f3 basada en etiquetes obt\u00e9 el seu poder de les etiquetes a l'\u00edndex. Este \u00edndex, per sort, el podem manipular. Per fer-ho utilitzarem el m\u00e8tode set_index().</p> <p>Mira qu\u00e8 passa quan executem el seg\u00fcent codi:</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/02_Pandas/#seleccio-condicional","title":"Selecci\u00f3 condicional\u00b6","text":"<p>Fins ara hem estat indexant utilitzant propietats estructurals del propi DataFrame. Per fer coses interessants amb les dades, no obstant, hem de fer seleccions en funci\u00f3 de determinades condicions.</p> <p>Per exemple, suposem que estem interessats espec\u00edficament en vins millors que la mitjana produ\u00efts a It\u00e0lia. Podem comen\u00e7ar per comprovar si cada vi \u00e9s itali\u00e0 o no:</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/02_Pandas/#assignacio-de-valors","title":"Assignaci\u00f3 de valors\u00b6","text":"<p>Per altra banda, podem assignar valors al DataFrame \u00e9s senzill.</p> <p>Per a incloure una nova columna, utilitzem una nova etiqueta i assignem valor.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/02_Pandas/#funcions-de-resum","title":"Funcions de resum\u00b6","text":"<p>Les dades no sempre les tenim en el format en qu\u00e8 les volem. De vegades hem de reformatar les dades per poder fer una tasca.</p> <p>Pandas ofereix funcions de resum que reestructuren les dades de forma que siguen m\u00e9s \u00fatils. Per exemple, fixem-nos en la funci\u00f3 <code>describe()</code>:</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/02_Pandas/#funcions-de-mapatge","title":"Funcions de mapatge\u00b6","text":"<p>Un mapa \u00e9s un terme, agafat de les matem\u00e0tiques, per a una funci\u00f3 que pren un conjunt de valors i els <code>mapetja</code> a un altre conjunt de valors.</p> <p>En ci\u00e8ncia de dades sovint tenim la necessitat de crear noves representacions a partir de dades existents o de transformar les dades del format en qu\u00e8 es troben ara al format en qu\u00e8 necessitem.</p> <p>Hi ha dos m\u00e8todes de mapeig que utilitzareu molt a sovint.</p> <p><code>map()</code> \u00e9s el primer, i \u00e9s m\u00e9s senzill d'utilitzar.</p> <p>Per exemple, suposeu que volem ressetejar les puntuacions que van rebre els vins a 0. Podem fer-ho de la seg\u00fcent manera:</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/02_Pandas/#agrupaments-i-ordenacio","title":"Agrupaments i ordenaci\u00f3\u00b6","text":"<p>Els mapes ens permeten transformar les dades en un DataFrame o Series a un valor per a una columna sencera. Tanmateix, sovint volem agrupar les nostres dades i despr\u00e9s fer alguna cosa espec\u00edfica al grup en qu\u00e8 es troben les dades. Per fer a\u00e7\u00f2, utilitzem la funci\u00f3 <code>groupby()</code>.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/02_Pandas/#analisi-grupal","title":"An\u00e0lisi grupal\u00b6","text":"<p>Una funci\u00f3 que hem estat utilitzant molt fins ara \u00e9s la funci\u00f3 <code>value_counts()</code>. Podem replicar el que fa <code>value_counts()</code> fent el seg\u00fcent:</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/02_Pandas/#multiples-indexs","title":"M\u00faltiples \u00edndexs\u00b6","text":"<p>En tots els exemples que hem vist fins ara, hem estat treballant amb objectes DataFrame o Series amb un \u00edndex d'etiqueta \u00fanica. <code>groupby()</code> \u00e9s lleugerament diferent pel fet que, depenent de l'operaci\u00f3 que executem, de vegades donar\u00e0 lloc al que s'anomena multi\u00edndex.</p> <p>Un \u00edndex m\u00faltiple difereix d'un \u00edndex normal perqu\u00e8 t\u00e9 diversos nivells. Per exemple:</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/02_Pandas/#ordenacio","title":"Ordenaci\u00f3\u00b6","text":"<p>Si tornem a mirar <code>countries_reviewed</code>, podem veure que l'agrupaci\u00f3 retorna dades per ordre d'\u00edndex, no per ordre de valor. \u00c9s a dir, quan s'emet el resultat d'un \"groupby\", l'ordre de les files dep\u00e8n dels valors de l'\u00edndex, no de les dades.</p> <p>Per obtenir les dades en l'ordre en qu\u00e8 les volem, les podem ordenar nosaltres mateixos. El m\u00e8tode <code>sort_values()</code> \u00e9s \u00fatil per a aix\u00f2.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/02_Pandas/#tipus-de-dades-en-pandas-dtype","title":"Tipus de dades en Pandas (dtype)\u00b6","text":"<p>El tipus de dades d'una columna en un DataFrame o una s\u00e8rie es coneix com a dtype.</p> <p>Podem utilitzar la propietat <code>dtype</code> per saber el tipus d'una columna espec\u00edfica. Per exemple, podem obtindre el tipus d de la columna \"preu\" al DataFrame \"revisions\":</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/02_Pandas/#ens-falten-dades","title":"Ens falten dades!!\u00b6","text":"<p>Les entrades a les qu\u00e8 falten valors reben el valor <code>NaN</code>, abreviatura de <code>Not a Number</code>. Per raons t\u00e8cniques, aquests valors <code>NaN</code> sempre s\u00f3n del tipus <code>float64</code>.</p> <p>Pandas ofereix alguns m\u00e8todes espec\u00edfics per a les dades que falten. Per seleccionar entrades <code>NaN</code> podeu utilitzar <code>pd.isnull()</code> (o el seu complementari <code>pd.notnull()</code>).</p> <p>Per exemple, per seleccionar els vins que no tenen la informaci\u00f3 del seu pa\u00eds de proced\u00e8ncia fariem:</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/02_Pandas/#canvi-de-nom","title":"Canvi de nom\u00b6","text":"<p>Sovint, les dades ens arribaran amb noms de columnes o noms d'\u00edndex que no ens convencen i volem canviar. En aquest cas, podrem utilitzar les funcions de pandas per canviar els noms de les entrades.</p> <p>La primera funci\u00f3 que estudiarem \u00e9s <code>rename()</code>, que ens permet canviar noms d'\u00edndex i/o noms de columnes.</p> <p>Per exemple, per canviar la columna <code>points</code> del nostre conjunt de dades a <code>score</code>, far\u00edem:</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/02_Pandas/#combinant-dades","title":"Combinant dades\u00b6","text":"<p>Quan realitzem operacions en un conjunt de dades, de vegades haurem de combinar diferents DataFrames i/o S\u00e8ries.</p> <p>Pandas t\u00e9 tres m\u00e8todes b\u00e0sics per fer-ho. Per ordre creixent de complexitat, s\u00f3n <code>concat()</code>, <code>join()</code> i <code>merge()</code>.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/02_Pandas/#concat","title":"Concat\u00b6","text":"<p>El m\u00e8tode de combinaci\u00f3 m\u00e9s senzill \u00e9s <code>concat()</code>.</p> <p>Donada una llista d'elements, aquesta funci\u00f3 agrupar\u00e0 aquests elements al llarg d'un eix.</p> <p>Aix\u00f2 \u00e9s \u00fatil quan tenim dades en diferents objectes DataFrame o Series per\u00f2 amb els mateixos camps (columnes).</p> <p>Un exemple: el conjunt de dades de v\u00eddeos de YouTube que divideix les dades segons el pa\u00eds d'origen (per exemple, el Canad\u00e0 i el Regne Unit, en aquest exemple). Si volem estudiar diversos pa\u00efsos simult\u00e0niament, podem utilitzar <code>concat()</code> per combinar-los:</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/02_Pandas/#join","title":"Join\u00b6","text":"<p>Tamb\u00e9 podem utilitzar el combinador <code>join()</code> que es situa al mig en termes de complexitat.</p> <p><code>join()</code> ens permet combinar diferents objectes DataFrame que tenen un \u00edndex en com\u00fa.</p> <p>Per exemple, per treure v\u00eddeos que van ser tend\u00e8ncies el mateix dia al Canad\u00e0 i al Regne Unit, podr\u00edem fer el seg\u00fcent:</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/02_Pandas/#merge","title":"Merge\u00b6","text":"<p>El tercer combinador que podem utilitzar ser\u00e0 <code>merge</code>.</p> <p>Aquest exemple utilitzar\u00e0 la columna<code>video_id</code> en ambd\u00f3s conjunts de dades per a fer la combinaci\u00f3. A m\u00e9s, amb l'argunment <code>how</code>, indicarem com fer la combinaci\u00f3.</p> <p>Els possibles valors de <code>how</code> seran <code>inner</code>, <code>left</code>, <code>right</code> o <code>outer</code>.</p> <p><code>inner</code> \u00e9s l'opci\u00f3 per defecte i indica que nom\u00e9s s'han de conservar les files que tenen coincid\u00e8ncies en ambd\u00f3s conjunts de dades.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/02_Pandas/#dades-categoriques-i-no-categoriques-numeriques","title":"Dades categ\u00f2riques i no categ\u00f2riques (num\u00e8riques)\u00b6","text":"<p>Les dades es poden classificar en dues categories principals: categ\u00f2riques i no categ\u00f2riques (o num\u00e8riques).</p> <ol> <li><p>Dades Categ\u00f2riques:</p> <ul> <li>Aquest tipus de dades es divideixen en categories o grups.</li> <li>Les categories no tenen un ordre entre elles.</li> <li>Exemples comuns inclouen el color dels cotxes (roig, blau, groc) o el tipus de combustible (gasolina, di\u00e8sel, el\u00e8ctric).</li> </ul> </li> <li><p>Dades No Categ\u00f2riques (Num\u00e8riques):</p> <ul> <li>Aquestes dades es representen amb valors num\u00e8rics i tenen un ordre inherent.</li> <li>Podem realitzar operacions matem\u00e0tiques com ara sumar, restar, multiplicar i dividir amb aquestes dades.</li> <li>Exemples inclouen edat, altura, pes, i altres mesures num\u00e8riques.</li> </ul> </li> </ol> <p>Exemple:</p> <p>Suposem que tenim dades sobre estudiants, i algunes de les variables s\u00f3n:</p> <p>Nom (Categ\u00f2rica): Ana, Jordi, Marc. Edat (Num\u00e8rica): 20, 22, 19. G\u00e8nere (Categ\u00f2ric): Femen\u00ed, Mascul\u00ed, Altres.</p> <p>En aquest exemple, \"Nom\" i \"G\u00e8nere\" s\u00f3n dades categ\u00f2riques, ja que s\u00f3n categories discretes i no tenen un ordre espec\u00edfic. \"Edat\" \u00e9s una dada num\u00e8rica, ja que \u00e9s una quantitat que es pot manipular matem\u00e0ticament i t\u00e9 un ordre inherent.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/02_Pandas/#transformacio-de-dades-categoriques","title":"Transformaci\u00f3 de dades categ\u00f2riques\u00b6","text":"<p>La transformaci\u00f3 de dades categ\u00f2riques en un format que puga ser utilitzat per algorismes d'intel\u00b7lig\u00e8ncia artificial \u00e9s un pas important en el processament de les dades. Alguns algorismes necessiten aquesta transformaci\u00f3 per diverses raons:</p> <ol> <li><p>Format Num\u00e8ric: Molts algorismes d'IA estan dissenyats per treballar amb dades num\u00e8riques. Convertir les dades categ\u00f2riques a valors num\u00e8rics permet als algorismes processar-les i trobar patrons.</p> </li> <li><p>Operacions Matem\u00e0tiques: Els algorismes realitzen moltes operacions matem\u00e0tiques, com ara c\u00e0lculs de dist\u00e0ncia o optimitzaci\u00f3. Aix\u00f2 \u00e9s m\u00e9s senzill de fer amb dades num\u00e8riques.</p> </li> <li><p>Millora de l'Aprenentatge Autom\u00e0tic: Alguns models d'aprenentatge autom\u00e0tic, com les xarxes neuronals, requereixen dades num\u00e8riques per ajustar els pesos i les connexions entre les neurones.</p> </li> <li><p>Millora del Rendiment: En molts casos, la transformaci\u00f3 de dades categ\u00f2riques pot millorar el rendiment dels models, ja que permet als algorismes trobar patrons de manera m\u00e9s eficient.</p> </li> </ol>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/02_Pandas/#one-hot-encoding","title":"One-hot encoding\u00b6","text":"<p>Un dels m\u00e8todes m\u00e9s utilitzats per a transformar les dades categ\u00f2riques en num\u00e8riques \u00e9s el <code>one-hot encoding</code>.</p> <p>Este m\u00e8tode crea columnes addicionals per a cada categoria i utilitza 0 o 1 per indicar la pres\u00e8ncia o abs\u00e8ncia de cada categoria.</p> <p>Suposem que tenim una variable categ\u00f2rica \"Color\" amb les categories: Roig, Blau i Verd. Utilitzarem l'encodificaci\u00f3 one-hot per transformar aquestes categories en vectors binaris:</p> Color Roig Blau Verd Roig 1 0 0 Blau 0 1 0 Verd 0 0 1 <p>S'ha convertit la caracter\u00edstica color en tres categories num\u00e8riques. Cada fila de color es converteix en un vector binari que indica la pres\u00e8ncia o abs\u00e8ncia de cada categoria.</p> <p>Si tenim un cotxe de color blau, la representaci\u00f3 amb one-hot encoding seria: [0, 1, 0].</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/03_Matplotlib-Seaborn/","title":"4. Visualitzaci\u00f3 de dades amb Matplotlib i Seaborn","text":"In\u00a0[1]: Copied! <pre>import matplotlib.pyplot as plt\n\n# Dades\nx = [1, 2, 3, 4, 5]\ny = [2, 4, 6, 8, 10]\n\n# Crear un gr\u00e0fic de l\u00ednia\nplt.plot(x, y)\n\n# Mostrar el gr\u00e0fic\nplt.show()\n</pre> import matplotlib.pyplot as plt  # Dades x = [1, 2, 3, 4, 5] y = [2, 4, 6, 8, 10]  # Crear un gr\u00e0fic de l\u00ednia plt.plot(x, y)  # Mostrar el gr\u00e0fic plt.show() <ol> <li>Seaborn:<ul> <li>Qu\u00e8 \u00e9s: Seaborn \u00e9s una llibreria de visualitzaci\u00f3 de dades constru\u00efda sobre Matplotlib que simplifica la creaci\u00f3 de gr\u00e0fics i els fa est\u00e8ticament m\u00e9s agradables. Est\u00e0 dissenyada espec\u00edficament per a l'an\u00e0lisi de dades estad\u00edstiques.</li> <li>Caracter\u00edstiques:<ul> <li>Proporciona funcions d'alt nivell per a tasques comunes de visualitzaci\u00f3 estad\u00edstica.</li> <li>Ofereix paletes de colors atractives i estils de gr\u00e0fic predefinits.</li> <li>Es pot utilitzar per a gr\u00e0fics complexos amb poques l\u00ednies de codi.</li> </ul> </li> </ul> </li> </ol> In\u00a0[2]: Copied! <pre>import seaborn as sns\nimport matplotlib.pyplot as plt\n\n# Dades\nx = [1, 2, 3, 4, 5]\ny = [2, 4, 6, 8, 10]\n\n# Configurar el tema de Seaborn\nsns.set_theme()\n\n# Crear un gr\u00e0fic de l\u00ednia amb Seaborn\nsns.lineplot(x=x, y=y)\n\n# Mostrar el gr\u00e0fic\nplt.show()\n</pre> import seaborn as sns import matplotlib.pyplot as plt  # Dades x = [1, 2, 3, 4, 5] y = [2, 4, 6, 8, 10]  # Configurar el tema de Seaborn sns.set_theme()  # Crear un gr\u00e0fic de l\u00ednia amb Seaborn sns.lineplot(x=x, y=y)  # Mostrar el gr\u00e0fic plt.show() <p>Ens centrarem m\u00e9s en la part de Seaborn.</p> <p>Vegem un altre exemple senzill amb dades reals:</p> In\u00a0[3]: Copied! <pre>import pandas as pd\nfifa_filepath = \"data/fifa.csv\"\n\n# Read the file into a variable fifa_data\nfifa_data = pd.read_csv(fifa_filepath, index_col=\"Date\", parse_dates=True)\n</pre> import pandas as pd fifa_filepath = \"data/fifa.csv\"  # Read the file into a variable fifa_data fifa_data = pd.read_csv(fifa_filepath, index_col=\"Date\", parse_dates=True)  In\u00a0[4]: Copied! <pre># Set the width and height of the figure\nplt.figure(figsize=(16,8))\n\n# Line chart showing how FIFA rankings evolved over time\nsns.lineplot(data=fifa_data)\n</pre> # Set the width and height of the figure plt.figure(figsize=(16,8))  # Line chart showing how FIFA rankings evolved over time sns.lineplot(data=fifa_data)  Out[4]: <pre>&lt;Axes: xlabel='Date'&gt;</pre> In\u00a0[5]: Copied! <pre># Path of the file to read\nspotify_filepath = \"data/spotify.csv\"\n\n# Read the file into a variable spotify_data\nspotify_data = pd.read_csv(spotify_filepath, index_col=\"Date\", parse_dates=True)\n</pre> # Path of the file to read spotify_filepath = \"data/spotify.csv\"  # Read the file into a variable spotify_data spotify_data = pd.read_csv(spotify_filepath, index_col=\"Date\", parse_dates=True) In\u00a0[6]: Copied! <pre>spotify_data.head()\n</pre> spotify_data.head() Out[6]: Shape of You Despacito Something Just Like This HUMBLE. Unforgettable Date 2017-01-06 12287078 NaN NaN NaN NaN 2017-01-07 13190270 NaN NaN NaN NaN 2017-01-08 13099919 NaN NaN NaN NaN 2017-01-09 14506351 NaN NaN NaN NaN 2017-01-10 14275628 NaN NaN NaN NaN <p>Com podem observar, la can\u00e7\u00f3 \"Shape of you\" \u00e9s la que primer es va llan\u00e7ar, per aix\u00f2 no tenim dades de la resta en eixes dates.</p> In\u00a0[7]: Copied! <pre>spotify_data.tail()\n</pre> spotify_data.tail() Out[7]: Shape of You Despacito Something Just Like This HUMBLE. Unforgettable Date 2018-01-05 4492978 3450315.0 2408365.0 2685857.0 2869783.0 2018-01-06 4416476 3394284.0 2188035.0 2559044.0 2743748.0 2018-01-07 4009104 3020789.0 1908129.0 2350985.0 2441045.0 2018-01-08 4135505 2755266.0 2023251.0 2523265.0 2622693.0 2018-01-09 4168506 2791601.0 2058016.0 2727678.0 2627334.0 <p>Com podem observar, una vegada llan\u00e7ades, les can\u00e7ons acumulen milions de reproduccions cada dia.</p> <p>Procedim a representar les dades en un gr\u00e0fic de l\u00ednies</p> In\u00a0[8]: Copied! <pre># Line chart showing daily global streams of each song \nsns.lineplot(data=spotify_data)\n</pre> # Line chart showing daily global streams of each song  sns.lineplot(data=spotify_data) Out[8]: <pre>&lt;Axes: xlabel='Date'&gt;</pre> <p>De vegades hi ha detalls addicionals que volem modificar, com les dimensions de la figura i el t\u00edtol del gr\u00e0fic. Cadascuna d'aquestes opcions es pot configurar.</p> In\u00a0[9]: Copied! <pre># Set the width and height of the figure\nplt.figure(figsize=(14,6))\n\n# Add title\nplt.title(\"Daily Global Streams of Popular Songs in 2017-2018\")\n\n# Line chart showing daily global streams of each song \nsns.lineplot(data=spotify_data)\n</pre> # Set the width and height of the figure plt.figure(figsize=(14,6))  # Add title plt.title(\"Daily Global Streams of Popular Songs in 2017-2018\")  # Line chart showing daily global streams of each song  sns.lineplot(data=spotify_data) Out[9]: <pre>&lt;Axes: title={'center': 'Daily Global Streams of Popular Songs in 2017-2018'}, xlabel='Date'&gt;</pre> <p>Si el que ens interessa representar no \u00e9s tot el conjunt de dades, sin\u00f3 simplement un subconjunt, ho podem fer de la seg\u00fcent forma:</p> In\u00a0[10]: Copied! <pre>print(list(spotify_data.columns))\n</pre> print(list(spotify_data.columns)) <pre>['Shape of You', 'Despacito', 'Something Just Like This', 'HUMBLE.', 'Unforgettable']\n</pre> In\u00a0[11]: Copied! <pre>plt.figure(figsize=(14,6))\n\n# Add title\nplt.title(\"Daily Global Streams of Popular Songs in 2017-2018\")\n\n# Line chart showing daily global streams of 'Shape of You'\nsns.lineplot(data=spotify_data['Shape of You'], label=\"Shape of You\")\n\n# Line chart showing daily global streams of 'Despacito'\nsns.lineplot(data=spotify_data['Despacito'], label=\"Despacito\")\n\n# Add label for horizontal axis\nplt.xlabel(\"Date\")\nplt.ylabel(\"Daily Global Streams\")\n</pre> plt.figure(figsize=(14,6))  # Add title plt.title(\"Daily Global Streams of Popular Songs in 2017-2018\")  # Line chart showing daily global streams of 'Shape of You' sns.lineplot(data=spotify_data['Shape of You'], label=\"Shape of You\")  # Line chart showing daily global streams of 'Despacito' sns.lineplot(data=spotify_data['Despacito'], label=\"Despacito\")  # Add label for horizontal axis plt.xlabel(\"Date\") plt.ylabel(\"Daily Global Streams\") Out[11]: <pre>Text(0, 0.5, 'Daily Global Streams')</pre> <p>Si ens interessa filtrar un rang temporal, ho podem fer utilitzant el apr\u00e8s anteriorment amb pandas.</p> In\u00a0[12]: Copied! <pre>df_december = spotify_data.loc['2017-12-01':'2017-12-31']\n\nplt.figure(figsize=(14,6))\n\n# Add title\nplt.title(\"Daily Global Streams of Popular Songs in 2017-2018\")\n\n# Line chart showing daily global streams of 'Shape of You'\nsns.lineplot(data=df_december['Shape of You'], label=\"Shape of You\")\n\n# Line chart showing daily global streams of 'Despacito'\nsns.lineplot(data=df_december['Despacito'], label=\"Despacito\")\n\n# Add label for horizontal axis\nplt.xlabel(\"Date\")\nplt.ylabel(\"Daily Global Streams\")\n</pre> df_december = spotify_data.loc['2017-12-01':'2017-12-31']  plt.figure(figsize=(14,6))  # Add title plt.title(\"Daily Global Streams of Popular Songs in 2017-2018\")  # Line chart showing daily global streams of 'Shape of You' sns.lineplot(data=df_december['Shape of You'], label=\"Shape of You\")  # Line chart showing daily global streams of 'Despacito' sns.lineplot(data=df_december['Despacito'], label=\"Despacito\")  # Add label for horizontal axis plt.xlabel(\"Date\") plt.ylabel(\"Daily Global Streams\") Out[12]: <pre>Text(0, 0.5, 'Daily Global Streams')</pre> In\u00a0[13]: Copied! <pre>import seaborn as sns\nimport matplotlib.pyplot as plt\n\n# Exemple de dades\ncategories = ['Categoria A', 'Categoria B', 'Categoria C', 'Categoria D']\nvalues = [25, 40, 30, 20]\n\n# Crear un gr\u00e0fic de barres amb Seaborn\nsns.barplot(x=categories, y=values, palette=\"viridis\")\n\n# Etiquetes i t\u00edtol\nplt.xlabel('Categories')\nplt.ylabel('Valors')\nplt.title('Gr\u00e0fic de Barres amb Seaborn')\n\n# Mostrar el gr\u00e0fic\nplt.show()\n</pre> import seaborn as sns import matplotlib.pyplot as plt  # Exemple de dades categories = ['Categoria A', 'Categoria B', 'Categoria C', 'Categoria D'] values = [25, 40, 30, 20]  # Crear un gr\u00e0fic de barres amb Seaborn sns.barplot(x=categories, y=values, palette=\"viridis\")  # Etiquetes i t\u00edtol plt.xlabel('Categories') plt.ylabel('Valors') plt.title('Gr\u00e0fic de Barres amb Seaborn')  # Mostrar el gr\u00e0fic plt.show() <pre>/tmp/ipykernel_12574/2717844670.py:9: FutureWarning: \n\nPassing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.\n\n  sns.barplot(x=categories, y=values, palette=\"viridis\")\n</pre> In\u00a0[14]: Copied! <pre>import seaborn as sns\nimport matplotlib.pyplot as plt\n\n\n# Exemple de dades en una matriu\ndata = [[1, 2, 3, 4],\n        [5, 6, 7, 8],\n        [9, 10, 11, 12],\n        [13, 14, 15, 16]]\n\n# Crear un heatmap amb Seaborn\nsns.heatmap(data, annot=True, cmap='magma')\n\n# Etiquetes i t\u00edtol\nplt.xlabel('Columnes')\nplt.ylabel('Files')\nplt.title('Heatmap amb Seaborn')\n\n# Mostrar el heatmap\nplt.show()\n</pre> import seaborn as sns import matplotlib.pyplot as plt   # Exemple de dades en una matriu data = [[1, 2, 3, 4],         [5, 6, 7, 8],         [9, 10, 11, 12],         [13, 14, 15, 16]]  # Crear un heatmap amb Seaborn sns.heatmap(data, annot=True, cmap='magma')  # Etiquetes i t\u00edtol plt.xlabel('Columnes') plt.ylabel('Files') plt.title('Heatmap amb Seaborn')  # Mostrar el heatmap plt.show()  In\u00a0[15]: Copied! <pre>import pandas as pd\n\n\n# Path of the file to read\ninsurance_filepath = \"data/insurance.csv\"\n\n# Read the file into a variable insurance_data\ninsurance_data = pd.read_csv(insurance_filepath)\n\ninsurance_data.head()\n</pre> import pandas as pd   # Path of the file to read insurance_filepath = \"data/insurance.csv\"  # Read the file into a variable insurance_data insurance_data = pd.read_csv(insurance_filepath)  insurance_data.head() Out[15]: age sex bmi children smoker region charges 0 19 female 27.900 0 yes southwest 16884.92400 1 18 male 33.770 1 no southeast 1725.55230 2 28 male 33.000 3 no southeast 4449.46200 3 33 male 22.705 0 no northwest 21984.47061 4 32 male 28.880 0 no northwest 3866.85520 <p>Anem a representar l'\u00edndex de massa corporal front al preu de l'asseguran\u00e7a:</p> In\u00a0[16]: Copied! <pre>sns.scatterplot(x=insurance_data['bmi'], y=insurance_data['charges'])\n</pre> sns.scatterplot(x=insurance_data['bmi'], y=insurance_data['charges']) Out[16]: <pre>&lt;Axes: xlabel='bmi', ylabel='charges'&gt;</pre> <p>Si observem la disperssi\u00f3, podem deduir que a major bmi, m\u00e9s es paga. \u00c9s a dir, estan positivament correlacionades les dues variables.</p> <p>Per veure la seua correlaci\u00f3, podem pintar la recta de regressi\u00f3, que \u00e9s dels algorismes m\u00e9s senzills per a fer prediccions. Es tracta de la recta mitja que m\u00e9s s'aproxima als punts.</p> In\u00a0[17]: Copied! <pre>sns.regplot(x=insurance_data['bmi'], y=insurance_data['charges'])\n</pre> sns.regplot(x=insurance_data['bmi'], y=insurance_data['charges']) Out[17]: <pre>&lt;Axes: xlabel='bmi', ylabel='charges'&gt;</pre> In\u00a0[18]: Copied! <pre>sns.scatterplot(x=insurance_data['bmi'], y=insurance_data['charges'], hue=insurance_data['smoker'])\n</pre> sns.scatterplot(x=insurance_data['bmi'], y=insurance_data['charges'], hue=insurance_data['smoker']) Out[18]: <pre>&lt;Axes: xlabel='bmi', ylabel='charges'&gt;</pre> <p>Aquest gr\u00e0fic de dispersi\u00f3 mostra que, mentre que els no fumadors tendeixen a pagar una mica m\u00e9s amb l'augment de l'IMC, els fumadors paguen MOLT m\u00e9s.</p> <p>Per emfatitzar encara m\u00e9s aquest fet, podem utilitzar l'ordre sns.lmplot per afegir dues l\u00ednies de regressi\u00f3, corresponents a fumadors i no fumadors. Notar\u00e0s que la l\u00ednia de regressi\u00f3 per als fumadors t\u00e9 un pendent molt m\u00e9s pronunciat, en relaci\u00f3 amb la l\u00ednia per als no fumadors.</p> In\u00a0[19]: Copied! <pre>sns.lmplot(x=\"bmi\", y=\"charges\", hue=\"smoker\", data=insurance_data)\n</pre> sns.lmplot(x=\"bmi\", y=\"charges\", hue=\"smoker\", data=insurance_data) Out[19]: <pre>&lt;seaborn.axisgrid.FacetGrid at 0x7fc333fab6d0&gt;</pre> <p>Finalment, hi ha un tipus de gr\u00e0fic m\u00e9s que pot ser interessant estudiar. \u00c9s lleugerament diferent de com esteu acostumats a veure els diagrames de dispersi\u00f3. Normalment, fem servir gr\u00e0fics de dispersi\u00f3 per destacar la relaci\u00f3 entre dues variables cont\u00ednues (com <code>bmi</code> i <code>charges</code>). Tanmateix, podem adaptar el disseny del diagrama de dispersi\u00f3 per incloure una variable categ\u00f2rica (com <code>smoker</code>) en un dels eixos principals. Ens referirem a aquest tipus de gr\u00e0fic com a gr\u00e0fic de dispersi\u00f3 categ\u00f2ric i el constru\u00efm amb l'ordre <code>sns.swarmplot</code>.</p> In\u00a0[20]: Copied! <pre>sns.swarmplot(x=insurance_data['smoker'], y=insurance_data['charges'])\n</pre> sns.swarmplot(x=insurance_data['smoker'], y=insurance_data['charges']) <pre>/home/ferran/.local/lib/python3.11/site-packages/seaborn/categorical.py:3370: UserWarning: 37.4% of the points cannot be placed; you may want to decrease the size of the markers or use stripplot.\n  warnings.warn(msg, UserWarning)\n</pre> Out[20]: <pre>&lt;Axes: xlabel='smoker', ylabel='charges'&gt;</pre> <pre>/home/ferran/.local/lib/python3.11/site-packages/seaborn/categorical.py:3370: UserWarning: 60.8% of the points cannot be placed; you may want to decrease the size of the markers or use stripplot.\n  warnings.warn(msg, UserWarning)\n</pre> In\u00a0[21]: Copied! <pre># Path of the file to read\niris_filepath = \"data/iris.csv\"\n\n# Read the file into a variable iris_data\niris_data = pd.read_csv(iris_filepath, index_col=\"Id\")\n\n# Print the first 5 rows of the data\niris_data.head()\n</pre> # Path of the file to read iris_filepath = \"data/iris.csv\"  # Read the file into a variable iris_data iris_data = pd.read_csv(iris_filepath, index_col=\"Id\")  # Print the first 5 rows of the data iris_data.head() Out[21]: Sepal Length (cm) Sepal Width (cm) Petal Length (cm) Petal Width (cm) Species Id 1 5.1 3.5 1.4 0.2 Iris-setosa 2 4.9 3.0 1.4 0.2 Iris-setosa 3 4.7 3.2 1.3 0.2 Iris-setosa 4 4.6 3.1 1.5 0.2 Iris-setosa 5 5.0 3.6 1.4 0.2 Iris-setosa In\u00a0[22]: Copied! <pre># Histogram \nsns.histplot(iris_data['Petal Length (cm)'])\n</pre> # Histogram  sns.histplot(iris_data['Petal Length (cm)']) Out[22]: <pre>&lt;Axes: xlabel='Petal Length (cm)', ylabel='Count'&gt;</pre> In\u00a0[23]: Copied! <pre>sns.kdeplot(data=iris_data['Petal Length (cm)'], fill=True)\n</pre> sns.kdeplot(data=iris_data['Petal Length (cm)'], fill=True) Out[23]: <pre>&lt;Axes: xlabel='Petal Length (cm)', ylabel='Density'&gt;</pre> In\u00a0[24]: Copied! <pre>sns.jointplot(x=iris_data['Petal Length (cm)'], y=iris_data['Sepal Width (cm)'], kind=\"kde\")\n</pre> sns.jointplot(x=iris_data['Petal Length (cm)'], y=iris_data['Sepal Width (cm)'], kind=\"kde\") Out[24]: <pre>&lt;seaborn.axisgrid.JointGrid at 0x7fc33143b9d0&gt;</pre> <p>Tingueu en compte que al centre:</p> <ul> <li>la corba de la part superior de la figura \u00e9s una gr\u00e0fica de KDE per a les dades de l'eix x (en aquest cas, iris_data['Longitud del p\u00e8tal (cm)']), i</li> <li>la corba de la dreta de la figura \u00e9s una gr\u00e0fica de KDE per a les dades de l'eix y (en aquest cas, iris_data['Sepal Width (cm)']).</li> </ul> In\u00a0[25]: Copied! <pre># Histograms for each species\nsns.histplot(data=iris_data, x='Petal Length (cm)', hue='Species')\n\n# Add title\nplt.title(\"Histogram of Petal Lengths, by Species\")\n</pre> # Histograms for each species sns.histplot(data=iris_data, x='Petal Length (cm)', hue='Species')  # Add title plt.title(\"Histogram of Petal Lengths, by Species\") Out[25]: <pre>Text(0.5, 1.0, 'Histogram of Petal Lengths, by Species')</pre> <p>Tamb\u00e9 podem crear un gr\u00e0fic de dispersi\u00f3 per a cada esp\u00e8cie utilitzant sns.kdeplot.</p> In\u00a0[26]: Copied! <pre># KDE plots for each species\nsns.kdeplot(data=iris_data, x='Petal Length (cm)', hue='Species', fill=True)\n\n# Add title\nplt.title(\"Distribution of Petal Lengths, by Species\")\n</pre> # KDE plots for each species sns.kdeplot(data=iris_data, x='Petal Length (cm)', hue='Species', fill=True)  # Add title plt.title(\"Distribution of Petal Lengths, by Species\") Out[26]: <pre>Text(0.5, 1.0, 'Distribution of Petal Lengths, by Species')</pre> <p>De l'anterior gr\u00e0fic podriem traure algunes conclusions:</p> <ul> <li>si la longitud dels p\u00e8tals d'una flor de l'iris \u00e9s inferior a 2 cm, el m\u00e9s probable \u00e9s que sigui Iris setosa.</li> <li>si est\u00e0 per dalt de 6 el m\u00e9s probable \u00e9s que siga iris-virginica</li> <li>si est\u00e0 entre 2,5 i 4 el m\u00e9s probable \u00e9s que siga iris-versicolor</li> <li>si la longitud est\u00e0 entre 4 i 5, no podriem determinar quina \u00e9s l'esp\u00e8cie m\u00e9s probable, necessitariem afegir variables i enytrenar un model.</li> </ul> In\u00a0[34]: Copied! <pre># Crear subplots amb 1 fila i 2 columnes\nfig, axes = plt.subplots(nrows=1, ncols=2, figsize=(12, 6))\n\n# Subplot 1: Scatter Plot\nsns.scatterplot(x=\"Sepal Length (cm)\", y=\"Sepal Width (cm)\", hue=\"Species\", data=iris_data, ax=axes[0])\naxes[0].set_title('Scatter Plot - Longitud del S\u00e9pal vs Amplada del S\u00e9pal')\n\n# Subplot 2: Box Plot\nsns.boxplot(x=\"Species\", y=\"Petal Length (cm)\", data=iris_data, ax=axes[1])\naxes[1].set_title('Box Plot - Longitud del P\u00e8tal per Esp\u00e8cie')\n\n# Ajustaments globals\nplt.tight_layout()\nplt.show()\n</pre> # Crear subplots amb 1 fila i 2 columnes fig, axes = plt.subplots(nrows=1, ncols=2, figsize=(12, 6))  # Subplot 1: Scatter Plot sns.scatterplot(x=\"Sepal Length (cm)\", y=\"Sepal Width (cm)\", hue=\"Species\", data=iris_data, ax=axes[0]) axes[0].set_title('Scatter Plot - Longitud del S\u00e9pal vs Amplada del S\u00e9pal')  # Subplot 2: Box Plot sns.boxplot(x=\"Species\", y=\"Petal Length (cm)\", data=iris_data, ax=axes[1]) axes[1].set_title('Box Plot - Longitud del P\u00e8tal per Esp\u00e8cie')  # Ajustaments globals plt.tight_layout() plt.show() In\u00a0[28]: Copied! <pre>fig, axes = plt.subplots(2, 2, figsize=(12, 12))\n\nfig.suptitle('Pokemon Stats by Generation')\n\n# Subplot 1: Scatter Plot\nsns.scatterplot(x=\"Sepal Length (cm)\", y=\"Sepal Width (cm)\", hue=\"Species\", data=iris_data, ax=axes[0, 0])\naxes[0, 0].set_title('Scatter Plot - Longitud del S\u00e9pal vs Amplada del S\u00e9pal')\n\n# Subplot 2: Box Plot\nsns.boxplot(x=\"Species\", y=\"Petal Length (cm)\", data=iris_data, ax=axes[1, 0])\naxes[1, 0].set_title('Box Plot - Longitud del P\u00e8tal per Esp\u00e8cie')\n\n# Subplot 3: KDE plot\nsns.kdeplot(data=iris_data, x='Petal Length (cm)', hue='Species', fill=True, ax=axes[0, 1])\naxes[0,1].set_title(\"Distribution of Petal Lengths, by Species\")\n\n# Subplot 4: Histogram\nsns.histplot(data=iris_data, x='Petal Length (cm)', hue='Species', ax=axes[1,1])\naxes[1,1].set_title(\"Histogram of Petal Lengths, by Species\")\n\n# Ajustaments globals\nplt.tight_layout()\nplt.show()\n</pre> fig, axes = plt.subplots(2, 2, figsize=(12, 12))  fig.suptitle('Pokemon Stats by Generation')  # Subplot 1: Scatter Plot sns.scatterplot(x=\"Sepal Length (cm)\", y=\"Sepal Width (cm)\", hue=\"Species\", data=iris_data, ax=axes[0, 0]) axes[0, 0].set_title('Scatter Plot - Longitud del S\u00e9pal vs Amplada del S\u00e9pal')  # Subplot 2: Box Plot sns.boxplot(x=\"Species\", y=\"Petal Length (cm)\", data=iris_data, ax=axes[1, 0]) axes[1, 0].set_title('Box Plot - Longitud del P\u00e8tal per Esp\u00e8cie')  # Subplot 3: KDE plot sns.kdeplot(data=iris_data, x='Petal Length (cm)', hue='Species', fill=True, ax=axes[0, 1]) axes[0,1].set_title(\"Distribution of Petal Lengths, by Species\")  # Subplot 4: Histogram sns.histplot(data=iris_data, x='Petal Length (cm)', hue='Species', ax=axes[1,1]) axes[1,1].set_title(\"Histogram of Petal Lengths, by Species\")  # Ajustaments globals plt.tight_layout() plt.show() <p>Si volem subplots que no ocupen el mateix espai ho podem fer amb el m\u00e8tode add_subplot de la seg\u00fcent forma:</p> In\u00a0[36]: Copied! <pre>figure=plt.figure()\naxes = figure.add_subplot(2,2,1)\naxes = figure.add_subplot(2,2,3)\naxes = figure.add_subplot(1,2,2)\n</pre> figure=plt.figure() axes = figure.add_subplot(2,2,1) axes = figure.add_subplot(2,2,3) axes = figure.add_subplot(1,2,2) <pre>\n---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\nCell In[36], line 3\n      1 figure=plt.figure()\n      2 axes = figure.add_subplot(2,2,1)\n----&gt; 3 axes = figure.add_subplot(1,2,3)\n      4 axes = figure.add_subplot(2,2,2)\n\nFile ~/.local/lib/python3.11/site-packages/matplotlib/figure.py:782, in FigureBase.add_subplot(self, *args, **kwargs)\n    780         args = tuple(map(int, str(args[0])))\n    781     projection_class, pkw = self._process_projection_requirements(**kwargs)\n--&gt; 782     ax = projection_class(self, *args, **pkw)\n    783     key = (projection_class, pkw)\n    784 return self._add_axes_internal(ax, key)\n\nFile ~/.local/lib/python3.11/site-packages/matplotlib/axes/_base.py:639, in _AxesBase.__init__(self, fig, facecolor, frameon, sharex, sharey, label, xscale, yscale, box_aspect, *args, **kwargs)\n    637 else:\n    638     self._position = self._originalPosition = mtransforms.Bbox.unit()\n--&gt; 639     subplotspec = SubplotSpec._from_subplot_args(fig, args)\n    640 if self._position.width &lt; 0 or self._position.height &lt; 0:\n    641     raise ValueError('Width and height specified must be non-negative')\n\nFile ~/.local/lib/python3.11/site-packages/matplotlib/gridspec.py:599, in SubplotSpec._from_subplot_args(figure, args)\n    597 else:\n    598     if not isinstance(num, Integral) or num &lt; 1 or num &gt; rows*cols:\n--&gt; 599         raise ValueError(\n    600             f\"num must be an integer with 1 &lt;= num &lt;= {rows*cols}, \"\n    601             f\"not {num!r}\"\n    602         )\n    603     i = j = num\n    604 return gs[i-1:j]\n\nValueError: num must be an integer with 1 &lt;= num &lt;= 2, not 3</pre> In\u00a0[30]: Copied! <pre>figure=plt.figure()\naxes1 = figure.add_subplot(2,2,1)\naxes2 = figure.add_subplot(2,2,2)\naxes3 = figure.add_subplot(2,1,2)\n</pre> figure=plt.figure() axes1 = figure.add_subplot(2,2,1) axes2 = figure.add_subplot(2,2,2) axes3 = figure.add_subplot(2,1,2) In\u00a0[31]: Copied! <pre>figure=plt.figure()\naxes1 = figure.add_subplot(3,2,1)\naxes2 = figure.add_subplot(3,2,3)\naxes3 = figure.add_subplot(3,2,5)\naxes4 = figure.add_subplot(2,2,2)\naxes5 = figure.add_subplot(2,2,4)\n</pre> figure=plt.figure() axes1 = figure.add_subplot(3,2,1) axes2 = figure.add_subplot(3,2,3) axes3 = figure.add_subplot(3,2,5) axes4 = figure.add_subplot(2,2,2) axes5 = figure.add_subplot(2,2,4)"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/03_Matplotlib-Seaborn/#matplotlib-i-seaborn","title":"Matplotlib i Seaborn\u00b6","text":"<p>Matplotlib i Seaborn s\u00f3n dues llibreries de visualitzaci\u00f3 de dades molt populars en el m\u00f3n de la programaci\u00f3 en Python, sobretot en el camp de visualitzaci\u00f3 de dades.</p> <ol> <li>Matplotlib:<ul> <li>Qu\u00e8 \u00e9s: Matplotlib \u00e9s una llibreria de visualitzaci\u00f3 de dades en 2D que permet crear gr\u00e0fics de l\u00ednia, barres, histogrames, gr\u00e0fics de dispersi\u00f3, entre d'altres.</li> <li>Caracter\u00edstiques:<ul> <li>\u00c9s una llibreria molt utilitzada i reconeguda per la seva flexibilitat.</li> <li>Permet un control detallat sobre cada element del gr\u00e0fic.</li> <li>Pot ser utilitzat per a gr\u00e0fics senzills o per a gr\u00e0fics completament personalitzats.</li> </ul> </li> </ul> </li> </ol>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/03_Matplotlib-Seaborn/#grafics-de-linies","title":"Gr\u00e0fics de l\u00ednies\u00b6","text":"<p>Un \"line chart\" o gr\u00e0fic de l\u00ednia \u00e9s un tipus com\u00fa de visualitzaci\u00f3 de dades que connecta punts de dades successius amb segments de l\u00ednia recta. Aquest tipus de gr\u00e0fic \u00e9s \u00fatil per mostrar la relaci\u00f3 i la continu\u00eftat entre les dades en una seq\u00fc\u00e8ncia ordenada, com podrien ser les dades en una s\u00e8rie temporal.</p> <p>Anem a utilitzar un datadet que cont\u00e9 les reproduccions di\u00e0ries de les cinc can\u00e7ons m\u00e9s escoltades de Spotify els anys 2017 i 2018.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/03_Matplotlib-Seaborn/#grafics-de-barres","title":"Gr\u00e0fics de barres\u00b6","text":"<p>Un \"bar chart\" o gr\u00e0fic de barres \u00e9s una representaci\u00f3 visual de dades que utilitza rectangles verticals o horitzontals per mostrar comparacions entre categories. Cada barra representa una categoria, i la longitud o altura de la barra indica la magnitud de la variable que est\u00e0 sent mesurada. S\u00f3n \u00fatils per comparar r\u00e0pidament valors entre diferents categories.</p> <p>Un exemple senzill d'un gr\u00e0fic de barres utilitzant Seaborn seria el seg\u00fcent:</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/03_Matplotlib-Seaborn/#heatmaps","title":"Heatmaps\u00b6","text":"<p>Un \"heatmap\" o mapa de calor \u00e9s una visualitzaci\u00f3 de dades en forma de matriu on els valors individuals estan representats com a colors. Aquest tipus de gr\u00e0fic \u00e9s particularment \u00fatil per mostrar relacions i patrons en dades bidimensionals, com ara matrius de correlaci\u00f3, dades de temperatura, o altres conjunts de dades on hi ha una depend\u00e8ncia entre dues variables.</p> <p>Les cel\u00b7les de la matriu s'omplin amb colors segons els valors que representen, creant una representaci\u00f3 visual r\u00e0pida i intu\u00eftiva de la distribuci\u00f3 de les dades. En un heatmap t\u00edpic, els colors poden anar des de tons freds fins a tons calents, indicant valors baixos a alts.</p> <p>Este tipus de gr\u00e0fic \u00e9s molt utilitzat per veure quines s\u00f3n les variables m\u00e9s correlacionades, \u00e9s a dir, les que m\u00e9s influixen per a determinar una predicci\u00f3.</p> <p>Ac\u00ed tens un exemple senzill d'un heatmap utilitzant la llibreria Seaborn en Python:</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/03_Matplotlib-Seaborn/#scatterplot","title":"Scatterplot\u00b6","text":"<p>Un \"scatter plot\" o gr\u00e0fic de dispersi\u00f3 \u00e9s un tipus de visualitzaci\u00f3 que mostra la relaci\u00f3 entre dues variables mitjan\u00e7ant punts en un pla de coordenades cartesianes. Cada punt en el gr\u00e0fic representa una observaci\u00f3 i t\u00e9 coordenades (x, y) corresponents als valors de dues variables. El scatter plot \u00e9s \u00fatil per identificar patrons de dispersi\u00f3, correlaci\u00f3 o agrupaci\u00f3 en les dades. Si recordeu, l'utilitzarem en la pr\u00e0ctica de KNN de l'apartat anterior per veure els ve\u00edns m\u00e9s pr\u00f2xims per fer agrupacions.</p> <p>Per a mostrar un exemple de gr\u00e0fic de dispersi\u00f3, aquesta vegada utilitzarem un DataSet real de preus d'assegurances.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/03_Matplotlib-Seaborn/#grafics-de-dispersio-codificats-amb-colors","title":"Gr\u00e0fics de dispersi\u00f3 codificats amb colors\u00b6","text":"<p>Podem utilitzar gr\u00e0fics de dispersi\u00f3 per mostrar la relaci\u00f3 entre tres variables. Una manera de fer-ho \u00e9s codificant els punts amb colors.</p> <p>Per exemple, per entendre com el tabaquisme afecta la relaci\u00f3 entre l'IMC i els costos de l'asseguran\u00e7a, podem codificar els punts per colors per \"smoker\" i tra\u00e7ar les altres dues columnes (bmi, charges) als eixos.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/03_Matplotlib-Seaborn/#distribucions","title":"Distribucions\u00b6","text":"<p>En aquest apartat treballarem amb distribucions, histogrames i gr\u00e0fics de densitat.</p> <p>Treballarem amb un conjunt de dades de 150 flors diferents, o 50 cadascuna de tres esp\u00e8cies diferents d'iris (Iris setosa, Iris versicolor i Iris virginica).</p> <p></p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/03_Matplotlib-Seaborn/#histogrames","title":"Histogrames\u00b6","text":"<p>Un histograma \u00e9s una representaci\u00f3 gr\u00e0fica de la distribuci\u00f3 de les dades en un conjunt. Aquest tipus de gr\u00e0fic divideix l'eix de les x en intervals o \"bins\" i compta quantes vegades les dades cauen dins de cada interval. Les altures de les barres en l'histograma indiquen la freq\u00fc\u00e8ncia o la densitat de les dades en cada interval.</p> <p>L'histograma \u00e9s especialment \u00fatil per visualitzar la forma de la distribuci\u00f3 i identificar tend\u00e8ncies, patrons o caracter\u00edstiques importants en les dades.</p> <p>Per poder veure com varia la longitud dels p\u00e8tals a les flors de l'iris. Ho podem amb un histograma, ordre <code>sns.histplot</code>.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/03_Matplotlib-Seaborn/#grafics-de-densitat","title":"Gr\u00e0fics de densitat\u00b6","text":"<p>Un gr\u00e0fic de densitat \u00e9s una representaci\u00f3 gr\u00e0fica de la distribuci\u00f3 de probabilitat d'un conjunt de dades cont\u00ednues. Aquest tipus de gr\u00e0fic proporciona una estimaci\u00f3 visual de la funci\u00f3 de densitat de probabilitat de les dades, mostrant com es distribueixen les observacions al llarg de l'eix de les x.</p> <p>Diferent d'un histograma, que divideix les dades en intervals (bins) i compta quantes observacions hi ha en cada interval, un gr\u00e0fic de densitat utilitza una funci\u00f3 matem\u00e0tica per estimar la distribuci\u00f3 cont\u00ednua de les dades. El gr\u00e0fic de densitat pot ser \u00fatil quan es vol tenir una representaci\u00f3 suavitzada de la distribuci\u00f3 sense la necessitat d'utilitzar bins discrets.</p> <p>En aquest tipus de gr\u00e0fic, la suma total de l'\u00e0rea sota la corba de densitat \u00e9s igual a 1, ja que reflecteix la probabilitat total. Aix\u00ed, es pot interpretar visualment quina proporci\u00f3 de les dades cau en determinades \u00e0rees de la distribuci\u00f3.</p> <p>Podeu pensar que \u00e9s com la versi\u00f3 cont\u00ednua d'un histograma.</p> <p>Utilitza el kernel density estimate (KDE) per mostrar la funci\u00f3 de probabilitat de la variable a representar.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/03_Matplotlib-Seaborn/#grafics-de-densitat-2d","title":"Gr\u00e0fics de densitat 2D\u00b6","text":"<p>No estem restringits a una sola columna quan creem un gr\u00e0fic de dispersi\u00f3. Podem crear un diagrama KDE bidimensional (2D) amb l'ordre sns.jointplot.</p> <p>Al seg\u00fcent gr\u00e0fic, la codificaci\u00f3 de colors ens mostra la probabilitat que tenim de veure diferents combinacions d'amplada de s\u00e8pal i longitud de p\u00e8tals. Les parts m\u00e9s fosques s\u00f3n m\u00e9s probables.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/03_Matplotlib-Seaborn/#grafics-codificades-per-colors","title":"Gr\u00e0fics codificades per colors\u00b6","text":"<p>Anem a veure si representant les diferents esp\u00e8cies en diferent color podem veure algun patr\u00f3 de comportament, tal qual faria un algorisme d'intel\u00b7lig\u00e8ncia artificial.</p> <p>Podem crear tres histogrames diferents (un per a cada esp\u00e8cie) de longitud de p\u00e8tals mitjan\u00e7ant l'ordre sns.histplot (com abans).</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/03_Matplotlib-Seaborn/#subplots","title":"Subplots\u00b6","text":"<p>Podem crear diversos gr\u00e0fics simult\u00e0niament amb subplots.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/04_Sklearn/","title":"5. Introducci\u00f3 al Machine Learning amb Scikit-Learn","text":"In\u00a0[12]: Copied! <pre>import pandas as pd\nmelbourne_file_path = 'data/sklearn/melb_data.csv'\nmelbourne_data = pd.read_csv(melbourne_file_path) \nmelbourne_data.describe()\n</pre> import pandas as pd melbourne_file_path = 'data/sklearn/melb_data.csv' melbourne_data = pd.read_csv(melbourne_file_path)  melbourne_data.describe() Out[12]: Rooms Price Distance Postcode Bedroom2 Bathroom Car Landsize BuildingArea YearBuilt Lattitude Longtitude Propertycount count 13580.000000 1.358000e+04 13580.000000 13580.000000 13580.000000 13580.000000 13518.000000 13580.000000 7130.000000 8205.000000 13580.000000 13580.000000 13580.000000 mean 2.937997 1.075684e+06 10.137776 3105.301915 2.914728 1.534242 1.610075 558.416127 151.967650 1964.684217 -37.809203 144.995216 7454.417378 std 0.955748 6.393107e+05 5.868725 90.676964 0.965921 0.691712 0.962634 3990.669241 541.014538 37.273762 0.079260 0.103916 4378.581772 min 1.000000 8.500000e+04 0.000000 3000.000000 0.000000 0.000000 0.000000 0.000000 0.000000 1196.000000 -38.182550 144.431810 249.000000 25% 2.000000 6.500000e+05 6.100000 3044.000000 2.000000 1.000000 1.000000 177.000000 93.000000 1940.000000 -37.856822 144.929600 4380.000000 50% 3.000000 9.030000e+05 9.200000 3084.000000 3.000000 1.000000 2.000000 440.000000 126.000000 1970.000000 -37.802355 145.000100 6555.000000 75% 3.000000 1.330000e+06 13.000000 3148.000000 3.000000 2.000000 2.000000 651.000000 174.000000 1999.000000 -37.756400 145.058305 10331.000000 max 10.000000 9.000000e+06 48.100000 3977.000000 20.000000 8.000000 10.000000 433014.000000 44515.000000 2018.000000 -37.408530 145.526350 21650.000000 <p>Els resultats mostren 8 n\u00fameros per a cada columna del vostre conjunt de dades original. El primer n\u00famero, el recompte, mostra quantes files tenen valors que no falten.</p> <p>Els valors que falten sorgeixen per moltes raons. Per exemple, la mida de la segona habitaci\u00f3 no es recopilaria quan s'estudia una casa d'una habitaci\u00f3. Tornarem al tema de les dades que falten.</p> <p>El segon valor \u00e9s la mitjana, que \u00e9s la mitjana. Sota aix\u00f2, std \u00e9s la desviaci\u00f3 est\u00e0ndard, que mesura la dispersi\u00f3 en la distribuci\u00f3 num\u00e8rica dels valors.</p> <p>Per interpretar els valors m\u00ednim, 25%, 50%, 75% i m\u00e0xim, imagineu ordenar cada columna del valor m\u00e9s baix al m\u00e9s alt. El primer valor (m\u00e9s petit) \u00e9s el min. Si passeu un quart de cam\u00ed a trav\u00e9s de la llista, trobareu un nombre que \u00e9s m\u00e9s gran que el 25% dels valors i inferior al 75% dels valors. Aquest \u00e9s el valor del 25% (pronunciat \"percentil 25\"). Els percentils 50 i 75 es defineixen de manera an\u00e0loga i el m\u00e0xim \u00e9s el nombre m\u00e9s gran.</p> In\u00a0[13]: Copied! <pre>melbourne_data.columns\n</pre> melbourne_data.columns Out[13]: <pre>Index(['Suburb', 'Address', 'Rooms', 'Type', 'Price', 'Method', 'SellerG',\n       'Date', 'Distance', 'Postcode', 'Bedroom2', 'Bathroom', 'Car',\n       'Landsize', 'BuildingArea', 'YearBuilt', 'CouncilArea', 'Lattitude',\n       'Longtitude', 'Regionname', 'Propertycount'],\n      dtype='object')</pre> <p>Observem tamb\u00e9 si tenim tots els valors disponibles:</p> In\u00a0[14]: Copied! <pre>melbourne_data.info()\n</pre> melbourne_data.info() <pre>&lt;class 'pandas.core.frame.DataFrame'&gt;\nRangeIndex: 13580 entries, 0 to 13579\nData columns (total 21 columns):\n #   Column         Non-Null Count  Dtype  \n---  ------         --------------  -----  \n 0   Suburb         13580 non-null  object \n 1   Address        13580 non-null  object \n 2   Rooms          13580 non-null  int64  \n 3   Type           13580 non-null  object \n 4   Price          13580 non-null  float64\n 5   Method         13580 non-null  object \n 6   SellerG        13580 non-null  object \n 7   Date           13580 non-null  object \n 8   Distance       13580 non-null  float64\n 9   Postcode       13580 non-null  float64\n 10  Bedroom2       13580 non-null  float64\n 11  Bathroom       13580 non-null  float64\n 12  Car            13518 non-null  float64\n 13  Landsize       13580 non-null  float64\n 14  BuildingArea   7130 non-null   float64\n 15  YearBuilt      8205 non-null   float64\n 16  CouncilArea    12211 non-null  object \n 17  Lattitude      13580 non-null  float64\n 18  Longtitude     13580 non-null  float64\n 19  Regionname     13580 non-null  object \n 20  Propertycount  13580 non-null  float64\ndtypes: float64(12), int64(1), object(8)\nmemory usage: 2.2+ MB\n</pre> <p>Per simplicitat, anem a eliminar les dades de les qu\u00e8 tenim els valors no disponibles:</p> In\u00a0[15]: Copied! <pre>melbourne_data = melbourne_data.dropna(axis=0)\nmelbourne_data.info()\n</pre> melbourne_data = melbourne_data.dropna(axis=0) melbourne_data.info() <pre>&lt;class 'pandas.core.frame.DataFrame'&gt;\nIndex: 6196 entries, 1 to 12212\nData columns (total 21 columns):\n #   Column         Non-Null Count  Dtype  \n---  ------         --------------  -----  \n 0   Suburb         6196 non-null   object \n 1   Address        6196 non-null   object \n 2   Rooms          6196 non-null   int64  \n 3   Type           6196 non-null   object \n 4   Price          6196 non-null   float64\n 5   Method         6196 non-null   object \n 6   SellerG        6196 non-null   object \n 7   Date           6196 non-null   object \n 8   Distance       6196 non-null   float64\n 9   Postcode       6196 non-null   float64\n 10  Bedroom2       6196 non-null   float64\n 11  Bathroom       6196 non-null   float64\n 12  Car            6196 non-null   float64\n 13  Landsize       6196 non-null   float64\n 14  BuildingArea   6196 non-null   float64\n 15  YearBuilt      6196 non-null   float64\n 16  CouncilArea    6196 non-null   object \n 17  Lattitude      6196 non-null   float64\n 18  Longtitude     6196 non-null   float64\n 19  Regionname     6196 non-null   object \n 20  Propertycount  6196 non-null   float64\ndtypes: float64(12), int64(1), object(8)\nmemory usage: 1.0+ MB\n</pre> <p>Hem passat de tindre informaci\u00f3 de 13580 a tindre solament 6196. Reiterem que en un cas real, utilitzariem altres t\u00e8cniques menys agressives per preparar les dades.</p> In\u00a0[16]: Copied! <pre>y = melbourne_data.Price\n</pre> y = melbourne_data.Price In\u00a0[17]: Copied! <pre>melbourne_features = ['Rooms', 'Bathroom', 'Landsize', 'Lattitude', 'Longtitude']\nX = melbourne_data[melbourne_features]\n</pre> melbourne_features = ['Rooms', 'Bathroom', 'Landsize', 'Lattitude', 'Longtitude'] X = melbourne_data[melbourne_features] <p>Revisem r\u00e0pidament les dades que farem servir per predir els preus de l'habitatge.</p> In\u00a0[18]: Copied! <pre>X.describe()\n</pre> X.describe() Out[18]: Rooms Bathroom Landsize Lattitude Longtitude count 6196.000000 6196.000000 6196.000000 6196.000000 6196.000000 mean 2.931407 1.576340 471.006940 -37.807904 144.990201 std 0.971079 0.711362 897.449881 0.075850 0.099165 min 1.000000 1.000000 0.000000 -38.164920 144.542370 25% 2.000000 1.000000 152.000000 -37.855438 144.926198 50% 3.000000 1.000000 373.000000 -37.802250 144.995800 75% 4.000000 2.000000 628.000000 -37.758200 145.052700 max 8.000000 8.000000 37000.000000 -37.457090 145.526350 In\u00a0[19]: Copied! <pre>X.head()\n</pre> X.head() Out[19]: Rooms Bathroom Landsize Lattitude Longtitude 1 2 1.0 156.0 -37.8079 144.9934 2 3 2.0 134.0 -37.8093 144.9944 4 4 1.0 120.0 -37.8072 144.9941 6 3 2.0 245.0 -37.8024 144.9993 7 2 1.0 256.0 -37.8060 144.9954 <p>Comprovar visualment les nostres dades amb aquestes ordres \u00e9s una part important de la feina d'un cient\u00edfic de dades. Moltes vegades trobareu sorpreses al conjunt de dades que mereixen una inspecci\u00f3 m\u00e9s detallada.</p> In\u00a0[20]: Copied! <pre>from sklearn.tree import DecisionTreeRegressor\n\nimport warnings\nwarnings.filterwarnings('ignore')\n\n# Define model. Specify a number for random_state to ensure same results each run\nmelbourne_model = DecisionTreeRegressor(random_state=1)\n\n# Fit model\nmelbourne_model.fit(X, y)\n</pre> from sklearn.tree import DecisionTreeRegressor  import warnings warnings.filterwarnings('ignore')  # Define model. Specify a number for random_state to ensure same results each run melbourne_model = DecisionTreeRegressor(random_state=1)  # Fit model melbourne_model.fit(X, y) Out[20]: <pre>DecisionTreeRegressor(random_state=1)</pre>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.DecisionTreeRegressor<pre>DecisionTreeRegressor(random_state=1)</pre> <p>Molts models d'aprenentatge autom\u00e0tic permeten una certa aleatorietat en l'entrenament del model. Especificar un n\u00famero per a <code>random_state</code> garanteix que obtingueu els mateixos resultats a cada execuci\u00f3.</p> <p>Ara tenim un model ajustat que podem utilitzar per fer prediccions.</p> <p>A la pr\u00e0ctica, voldrem fer prediccions de les cases noves que ixiran al mercat en lloc de les cases per les quals ja tenim preus. Per\u00f2 farem prediccions per a les primeres files de les dades d'entrenament per veure com funciona la funci\u00f3 de predicci\u00f3.</p> In\u00a0[21]: Copied! <pre>print(\"Predint el valor dels primers 5 habitatges:\")\nprint(melbourne_data.head().Price)\nprint(\"Les prediccions s\u00f3n: \")\nprint(melbourne_model.predict(X.head()))\n</pre> print(\"Predint el valor dels primers 5 habitatges:\") print(melbourne_data.head().Price) print(\"Les prediccions s\u00f3n: \") print(melbourne_model.predict(X.head())) <pre>Predint el valor dels primers 5 habitatges:\n1    1035000.0\n2    1465000.0\n4    1600000.0\n6    1876000.0\n7    1636000.0\nName: Price, dtype: float64\nLes prediccions s\u00f3n: \n[1035000. 1465000. 1600000. 1876000. 1636000.]\n</pre> In\u00a0[22]: Copied! <pre>from sklearn.metrics import mean_absolute_error\n\npredicted_home_prices = melbourne_model.predict(X)\nmean_absolute_error(y, predicted_home_prices)\n</pre> from sklearn.metrics import mean_absolute_error  predicted_home_prices = melbourne_model.predict(X) mean_absolute_error(y, predicted_home_prices) Out[22]: <pre>1115.7467183128902</pre> <p>A\u00e7\u00f2 indica que una predicci\u00f3 se'n va del seu valor real una mitjana de 1115 d\u00f2lars. No est\u00e0 gens malament!!</p> In\u00a0[23]: Copied! <pre>from sklearn.model_selection import train_test_split\n\ntrain_X, val_X, train_y, val_y = train_test_split(X, y, random_state = 0)\n\nmelbourne_model = DecisionTreeRegressor()\n\nmelbourne_model.fit(train_X, train_y)\n\nval_predictions = melbourne_model.predict(val_X)\nprint(mean_absolute_error(val_y, val_predictions))\n</pre> from sklearn.model_selection import train_test_split  train_X, val_X, train_y, val_y = train_test_split(X, y, random_state = 0)  melbourne_model = DecisionTreeRegressor()  melbourne_model.fit(train_X, train_y)  val_predictions = melbourne_model.predict(val_X) print(mean_absolute_error(val_y, val_predictions)) <pre>278215.26597805036\n</pre> <p>Com podeu observar l'error absolut mitj\u00e0 per a les dades \"In-Sample\" va ser d'uns 1000 d\u00f2lars mentre que per a dades fora de la mostra \u00e9s de m\u00e9s de 250.000 d\u00f2lars.</p> <p>Aquesta \u00e9s la difer\u00e8ncia entre un model que \u00e9s quasi exacte i un que no es pot utilitzar per a la majoria de prop\u00f2sits pr\u00e0ctics.</p> <p>Per\u00f2 aquest valor per si sol, tampoc ens d\u00f3na una visi\u00f3 real de si el model \u00e9s bo o ro\u00efn, ja que l'error \u00e9s gran o menut depenent del preu dels habitatges. El valor mitj\u00e0 de l'habitatge a les dades de validaci\u00f3 \u00e9s d'1,1 milions de d\u00f2lars, per tant, l'error de les dades noves \u00e9s aproximadament una quarta part del valor mitj\u00e0 de l'habitatge, \u00e9s a dir sobre un 25%.</p> <p>Hi ha moltes maneres de millorar aquest model, com ara experimentar per trobar millors caracter\u00edstiques o canviar l'algorisme del model.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/04_Sklearn/#introduccio-al-machine-learning-amb-sklearn","title":"Introducci\u00f3 al Machine Learning amb sklearn\u00b6","text":"<p>Comen\u00e7arem amb una visi\u00f3 general i molt b\u00e0sica de com funcionen els models d'aprenentatge autom\u00e0tic i com s'utilitzen.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/04_Sklearn/#exemple-darbre-de-decisio","title":"Exemple d'arbre de decisi\u00f3\u00b6","text":"<p>El teu cos\u00ed ha guanyat milions de d\u00f2lars especulant amb b\u00e9ns arrels. S'ha oferit per convertir-se en soci comercial amb tu pel teu inter\u00e8s per la ci\u00e8ncia de dades. Ell proporcionar\u00e0 els diners i tu oferir\u00e0s models que prediuen quant valen les diferents cases.</p> <p>Li preguntes al teu cos\u00ed com ha predit els valors immobiliaris en el passat, i diu que \u00e9s nom\u00e9s una intu\u00efci\u00f3. Per\u00f2 m\u00e9s preguntes revelen que ha identificat patrons de preus de cases que ha vist en el passat, i els utilitza per fer prediccions per a les cases noves que est\u00e0 considerant.</p> <p>L'aprenentatge autom\u00e0tic funciona de la mateixa manera. Comen\u00e7arem amb un model anomenat arbre de decisi\u00f3 (decision tree). Hi ha models m\u00e9s potents que donen prediccions m\u00e9s precises, per\u00f2 els arbres de decisi\u00f3 s\u00f3n f\u00e0cils d'entendre i s\u00f3n l'element b\u00e0sic d'alguns dels millors models en ci\u00e8ncia de dades.</p> <p>Per simplificar, comen\u00e7arem amb l'arbre de decisions el m\u00e9s senzill possible.</p> <p></p> <p>Divideix les cases nom\u00e9s en dues categories, segons tinguen dues o m\u00e9s habitacions. El preu previst per a qualsevol casa en consideraci\u00f3 \u00e9s el preu mitj\u00e0 hist\u00f2ric de les cases de la mateixa categoria.</p> <p>Utilitzem les dades per decidir com dividir les cases en dos grups, i despr\u00e9s de nou per determinar el preu previst a cada grup. Aquest pas de captura de patrons a partir de dades s'anomena ajustament o entrenament del model. Les dades utilitzades per ajustar el model s'anomenen dades d'entrenament.</p> <p>Els detalls de com s'ajusta el model (p. ex., com dividir les dades) s\u00f3n prou complexos i els guardarem per a m\u00e9s endavant. Un cop s'haja ajustat el model, podem aplicar-lo a dades noves per predir els preus d'habitatges addicionals.</p> <p></p> <p>L'arbre de decisions de l'esquerra (Arbre de decisions 1) probablement t\u00e9 m\u00e9s sentit, perqu\u00e8 recull la realitat que les cases amb m\u00e9s habitacions solen vendre's a preus m\u00e9s alts que les cases amb menys habitacions. El major inconvenient d'aquest model \u00e9s que no recull la majoria dels factors que afecten el preu de l'habitatge, com ara el nombre de banys, la mida de l'habitatge, la ubicaci\u00f3, etc.</p> <p>Podeu capturar m\u00e9s factors utilitzant un arbre que tingui m\u00e9s divisions. Aquests s'anomenen arbres m\u00e9s profunds. Un arbre de decisions que tamb\u00e9 considera la mida total del solar de cada casa podria semblar aix\u00ed:</p> <p></p> <p>Es prediu el preu de qualsevol casa rastrejant l'arbre de decisi\u00f3, sempre escollint el cam\u00ed corresponent a les caracter\u00edstiques d'aquesta casa. El preu previst per a la casa \u00e9s a la part inferior de l'arbre. El punt de la part inferior on fem una predicci\u00f3 s'anomena <code>fulla</code>.</p> <p>Les divisions i els valors de les fulles estaran determinats per les dades, aix\u00ed que \u00e9s hora que comprovem les dades amb les quals treballareu.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/04_Sklearn/#exploracio-basica-de-les-dades","title":"Exploraci\u00f3 b\u00e0sica de les dades\u00b6","text":"<p>El primer pas en qualsevol projecte d'aprenentatge autom\u00e0tic \u00e9s familiaritzar-se amb les dades. Per a aix\u00f2 farem servir la biblioteca Pandas, estudiada en apartats anteriors.</p> <p>Continuant amb l'exemple, veurem dades sobre els preus de les cases a Melbourne, Austr\u00e0lia. Carreguem i explorem les dades:</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/04_Sklearn/#seleccio-de-dades-per-al-model","title":"Selecci\u00f3 de dades per al model\u00b6","text":"<p>El vostre conjunt de dades t\u00e9 massa variables, i fins i tot per imprimir-les b\u00e9. Com pots reduir aquesta quantitat aclaparadora de dades a alguna cosa que puguis entendre?</p> <p>Comen\u00e7arem escollint algunes variables utilitzant la nostra intu\u00efci\u00f3, encara que existeixen t\u00e8cniques estad\u00edstiques per prioritzar autom\u00e0ticament les variables, com per exemple, eliminar les que s\u00f3n molt dependent entre elles.</p> <p>Per triar variables/columnes, haurem de veure una llista de totes les columnes del conjunt de dades:</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/04_Sklearn/#seleccio-de-lobjectiu-target","title":"Selecci\u00f3 de l'objectiu (target)\u00b6","text":"<p>Utilitzarem la notaci\u00f3 de punts per seleccionar la columna que volem predir, en este cas, el preu de l'habitatge, que s'anomena objectiu de predicci\u00f3 o <code>target</code>. Per convenci\u00f3, l'objectiu de predicci\u00f3 s'anomena <code>y</code>. Per tant, el codi que necessitem per seleccionar i guarder els preus de l'habitatge a les dades de Melbourne \u00e9s:</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/04_Sklearn/#escollint-caracteristiques-features","title":"Escollint caracter\u00edstiques (<code>Features</code>)\u00b6","text":"<p>Les columnes que s'introdueixen al nostre model (i posteriorment s'utilitzen per fer prediccions) s'anomenen caracter\u00edstiques. En el nostre cas, aquestes serien les columnes utilitzades per determinar el preu de l'habitatge. De vegades, utilitzareu totes les columnes excepte l'objectiu com a caracter\u00edstiques. Altres vegades convindr\u00e0 reduir el n\u00famero de caracter\u00edstiques per millorar l'efici\u00e8ncia del model.</p> <p>De moment, construirem un model amb nom\u00e9s unes quantes caracter\u00edstiques. M\u00e9s endavant veurem com repetir i comparar models constru\u00efts amb diferents caracter\u00edstiques.</p> <p>Seleccionem diverses caracter\u00edstiques utilitzant pandas. Per convenci\u00f3, el conjunt de dades d'entrenament s'anomena <code>X</code>.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/04_Sklearn/#construeix-el-teu-model","title":"Construeix el teu model\u00b6","text":"<p>Utilitzareu la biblioteca scikit-learn per crear els vostres models. \u00c9s la llibreria m\u00e9s utilitzada per a tasques de machine learning que proporciona ferramentes per a la classificaci\u00f3, regressi\u00f3, clustering, reducci\u00f3 de dimensionalitat,..</p> <p>Els passos per construir i utilitzar un model s\u00f3n:</p> <ul> <li>Definici\u00f3: quin tipus de model ser\u00e0? Un arbre de decisi\u00f3? Algun altre tipus de model? Tamb\u00e9 s'especifiquen altres par\u00e0metres del tipus de model.</li> <li>Entrenament: captura patrons a partir de les dades proporcionades. Aquest \u00e9s el cor del modelatge.</li> <li>Predicci\u00f3ns: pas que utilitza el model per predir el valor de l'objectiu utilitzant noves dades.</li> <li>Avaluaci\u00f3: determina la precisi\u00f3 de les prediccions del model.</li> </ul> <p>Aqu\u00ed teniu un exemple de definici\u00f3 d'un model d'arbre de decisions amb scikit-learn i d'ajustament amb les caracter\u00edstiques i la variable objectiu.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/04_Sklearn/#validacio-del-model","title":"Validaci\u00f3 del model\u00b6","text":"<p>Una vegada contru\u00eft un model, necessitem determinar si eixe model \u00e9s v\u00e0lid per a fer prediccions amb noves dades que li introduim. En la majoria dels casos, la m\u00e8trica rellevant de la qualitat del model \u00e9s la precisi\u00f3 predictiva (<code>accuracy</code>). Esta mesura ens determina com de exactes seran les prediccions del model.</p> <p>Compte!!</p> <p>     \u00c9s un gran error fer prediccions amb les dades d'entrenament i comparar aquestes prediccions amb els valors objectiu de les dades d'entrenament. Pensem com podriem mesurar la qualitat d'un model.   </p> <p>Primer hauriem d'entrenar el model i fer prediccions amb ell. Despr\u00e9s comparariem els valors predits i reals de les cases, per exemple de 10.000 cases. \u00c9s probable que trobem una barreja de bones i males prediccions, per\u00f2, comparar una llista de 10.000 valors predits i reals seria poc productiu. Hem d'utilitzar algun valor o m\u00e8trica que ens indique amb un sol valor com de fiable \u00e9s el nostre model.</p> <p>Hi ha moltes m\u00e8triques per determinar la qualitat del model, cadascuna d'elles ens aporta informaci\u00f3 valiosa. Per\u00f2 comen\u00e7arem amb una anomenada <code>Error absolut mitj\u00e0 (tamb\u00e9 anomenat MAE)</code>.</p> <p>L'error de predicci\u00f3 per a cada casa \u00e9s:</p> <p>error = valor real - valor predit</p> <p>Per tant, si una casa costava 150.000 d\u00f2lars i vam predir que costaria 100.000 d\u00f2lars, l'error \u00e9s de 50.000 d\u00f2lars.</p> <p>Amb la m\u00e8trica MAE, prenem el valor absolut de cada error, per convertir cada error en un nombre positiu. A continuaci\u00f3, calculem la mitjana d'aquests errors absoluts per obtindre el seu valor i ja tenim una mesura de la qualitat del model.</p> <p>Per calcular aquest error amb sklearn ho podem fer de la seg\u00fcent forma:</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/04_Sklearn/#el-problema-de-les-metriques-in-sample","title":"El problema de les m\u00e8triques \"In-Sample\"\u00b6","text":"<p>La mesura que acabem de calcular es pot anomenar una puntuaci\u00f3 \"In-Sample\" (dades que estan en la mostra), ja que hem utilitzat la \"mostra\" de cases tant per construir el model com per avaluar-lo. Aix\u00f2 \u00e9s un error, com ja haviem comentat.</p> <p>Imagineu que, en el mercat immobiliari, el color de la porta no est\u00e0 relacionat amb el preu de l'habitatge.</p> <p>No obstant, a la mostra de dades que utilitz\u00e0rem per construir el model, totes les cases amb portes verdes eren molt cares. La feina del model \u00e9s trobar patrons que prediguen els preus dels habitatges, de manera que veur\u00e0 aquest patr\u00f3, i sempre predir\u00e0 preus alts per a habitatges amb portes verdes.</p> <p>Com que aquest patr\u00f3 es va deduir de les dades d'entrenament, el model ser\u00e0 molt prec\u00eds si utilitzem les dades d'entrenament per fer prediccions.</p> <p>Per\u00f2 si aquesta pressici\u00f3 no es mant\u00e9 quan introduim dades noves al model, el model no seria \u00fatil en la realitat.</p> <p>Compte!!</p> <p>     Com que el valor pr\u00e0ctic dels models prov\u00e9 de fer prediccions sobre dades noves, hem de mesurar el rendiment del model amb dades que no s'han utilitzat per entrenar el model.    </p> <p>   La manera m\u00e9s senzilla de fer-ho \u00e9s dividir les dades de les qu\u00e8 disposem en dos blocs, un bloc per a entrenament (dades d'entrenament) i un bloc per a validaci\u00f3 (dades de validaci\u00f3).   </p> <p>La biblioteca sklearn t\u00e9 una funci\u00f3 <code>train_test_split</code> per dividir les dades en dos blocs. Utilitzarem algunes d'aquestes dades com a dades d'entrenament per adaptar-se al model i les altres dades les farem servir com a dades de validaci\u00f3 per calcular l'error_absolut_mitjana.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/04_Sklearn/#altres-metriques-segons-el-model","title":"Altres m\u00e8triques segons el model\u00b6","text":"<p>A banda de l'error quadr\u00e0tic mitj\u00e0, hi ha m\u00e9s m\u00e8triques que es poden utilitzar per validar o descartar el model. No entrarem en detall, ja les veureu m\u00e9s en profunditat en Models de IA. Les principals, segons el tipus de problema (classificaci\u00f3, regressi\u00f3, agrupament, etc.) s\u00f3n les seg\u00efuents:</p> <ul> <li><p>Classificaci\u00f3:</p> <ul> <li>Precisi\u00f3 (Accuracy): prediccions correctes respecte al total de prediccions.</li> <li>Recall (Sensibilitat o True Positive Rate): mesura la proporci\u00f3 de True positives (mostres positives que s'han predit correctament) respecte al total de positives reals. \u00c9s \u00fatil quan \u00e9s crucial identificar tots els casos positius, per exemple, diagn\u00f2stics d'enfermetats greus.</li> <li>Precisi\u00f3 (Precision): proporci\u00f3 de True positives respecte al total de prediccions positives. \u00c9s important quan \u00e9s important minimitzar els falsos positius, per exemple, diagn\u00f2stics d'enfermetats greus.</li> <li>F1 Score: L'F1 Score \u00e9s una mitjana de precisi\u00f3 i recall. Proporciona un equilibri entre aquestes dues m\u00e8triques i \u00e9s \u00fatil quan hi ha un desequilibri entre les classes (True positives, True negatives, False positives, False negative).</li> <li>Matriu de Confusi\u00f3: Una taula que mostra les relacions entre les prediccions del model i les classes reals (True positives, True negatives, False positives, False negative).</li> </ul> </li> <li><p>Regressi\u00f3:</p> <ul> <li>Error Quadr\u00e0tic Mitj\u00e0 (Mean Squared Error - MSE): Mesura la mitjana dels quadrats de les difer\u00e8ncies entre les prediccions del model i els valors reals.</li> <li>Error Absolut Mitj\u00e0 (Mean Absolute Error - MAE): Mesura la mitjana de les difer\u00e8ncies absolutes entre les prediccions i els valors reals.</li> <li>Coeficient de Determinaci\u00f3 (R-squared): Proporciona una mesura de com de b\u00e9 s'ajusta el model a les punts de dades. El valor pot oscil\u00b7lar entre 0 i 1.</li> </ul> </li> <li><p>Agrupament:</p> <ul> <li>\u00cdndex de Silueta: Mesura la similitud dels objectes en el mateix cl\u00faster (cohesi\u00f3) i la difer\u00e8ncia entre els cl\u00fasters (separaci\u00f3).</li> <li>Homogene\u00eftat, Completitud i V-Measure: S\u00f3n m\u00e8triques que es poden utilitzar per avaluar la qualitat d'un agrupament.</li> <li>\u00cdndex d'Adjusted Rand (ARI): Mesura la similitud entre dues agrupacions, ajustada al fet que els agrupaments aleatoris podrien obtenir un valor alt.</li> </ul> </li> </ul>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/04_Sklearn/#subajust-i-sobreajust-del-model-underfitting-i-overfitting","title":"Subajust i sobreajust del model (underfitting i overfitting)\u00b6","text":"<p>Ara que coneixem una manera fiable de mesurar la precisi\u00f3 del model, podem experimentar amb models alternatius i veure quins ofereixen les millors prediccions. Per\u00f2 quines alternatives tenim per als models?</p> <p>Podem veure a la documentaci\u00f3 de scikit-learn que el model d'arbre de decisions t\u00e9 moltes opcions (m\u00e9s de les que necessitarem). Les opcions m\u00e9s importants determinen la profunditat de l'arbre. Recordem que la profunditat d'un arbre \u00e9s una mesura de quantes divisions fa abans d'arribar a una predicci\u00f3.</p> <p>A la pr\u00e0ctica, no \u00e9s estrany que un arbre tinga 10 divisions entre el nivell superior (totes les cases) i una fulla. A mesura que l'arbre s'enfonsa, el conjunt de dades es ramifica en rames amb menys cases. Si un arbre nom\u00e9s tenia 1 divisi\u00f3, divideix les dades en 2 grups. Si cada grup es torna a dividir, obtindr\u00edem 4 grups de cases. Dividir cadascun d'ells de nou crearia 8 grups. Si seguim duplicant el nombre de grups afegint m\u00e9s divisions a cada nivell. Quan arribem al nivell 10, tindriem 2^10 = 1024 fulles.</p> <p>Quan dividim les cases entre moltes fulles, tamb\u00e9 tenim menys cases a cada fulla. Les fulles amb molt poques cases faran prediccions molt pr\u00f2ximes als valors reals d'aquestes cases (amb les dades d'entrenament), per\u00f2 poden fer prediccions molt poc fiables per a dades noves (perqu\u00e8 cada predicci\u00f3 es basa nom\u00e9s en unes poques cases).</p> <p>Es tracta d'un fenomen anomenat sobreajust o overfitting, on un model coincideix amb les dades d'entrenament quasi perfectament, per\u00f2 funciona malament en la validaci\u00f3 i altres dades noves. D'altra banda, si fem que el nostre arbre siga molt poc profund, no divideix les cases en grups molt diferenciats.</p> <p>En un extrem, si un arbre divideix les cases en nom\u00e9s 2 o 4 grups, cada grup encara t\u00e9 una gran varietat de cases. Les prediccions resultants poden estar lluny per a la majoria de cases, fins i tot per a les dades d'entrenament (i tamb\u00e9 ser\u00e0 ro\u00efn en la validaci\u00f3 pel mateix motiu). Quan un model no aconsegueix capturar distincions i patrons importants a les dades, de manera que funciona mal fins i tot en les dades d'entrenament, aix\u00f2 s'anomena subajust o underfitting.</p> <p>Com que ens importa la precisi\u00f3 de les dades noves, que estimem a partir de les nostres dades de validaci\u00f3, volem trobar el punt \u00f2ptim entre l'ajustament insuficient i el sobreajust. Visualment, volem el punt baix de la corba de validaci\u00f3 (roja) a la figura seg\u00fcent:</p> <p></p> <p>Tots els algorismes de ML tenen formes de controlar el overfitting i el underfitting.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/05_Keras/","title":"6. Introducci\u00f3 al DeepLearning amb Keras","text":"In\u00a0[58]: Copied! <pre>from tensorflow import keras\nfrom tensorflow.keras import layers\n\n# Create a network with 1 linear unit\nmodel = keras.Sequential([\n    layers.Dense(units=1, input_shape=[3])\n])\n</pre> from tensorflow import keras from tensorflow.keras import layers  # Create a network with 1 linear unit model = keras.Sequential([     layers.Dense(units=1, input_shape=[3]) ]) <p>Amb el primer argument, <code>units</code>, definim quantes eixides volem. En aquest cas, nom\u00e9s estem predint <code>calories</code>, de manera que utilitzarem <code>units=1</code>.</p> <p>Amb el segon argument, input_shape, diem a Keras les dimensions de les entrades. La configuraci\u00f3 de input_shape=[3] garanteix que el model acceptar\u00e0 tres caracter\u00edstiques com a entrada (<code>sugars</code>, <code>fiber</code> i <code>protein</code>). Quan configureu l'argument input_shape, esteu dient a Keras les dimensions de la matriu que hauria d'esperar per a cada exemple de les dades d'entrenament. Configuraci\u00f3 de input_shape=[3] crearia una xarxa que accept\u00e9s vectors de longitud 3, com [0.2, 0.4, 0.6].</p> <p>Aquest model ja est\u00e0 preparat per ajustar-se a les dades d'entrenament.</p> <p>Per qu\u00e8 input_shape \u00e9s una llista de Python?</p> <p>    Les dades que utilitzarem en aquest curs seran dades tabulars, com en un DataFrame de Pandas. Tindrem una entrada per a cada caracter\u00edstica del conjunt de dades. Les caracter\u00edstiques estan ordenades per columnes, de manera que sempre tindrem input_shape=[num_columns]. El motiu pel qual Keras utilitza una llista \u00e9s per permetre l'\u00fas de conjunts de dades m\u00e9s complexos. Per exemple, les dades d'imatge poden necessitar tres dimensions: [al\u00e7ada, amplada, canals].   </p> In\u00a0[59]: Copied! <pre>model = keras.Sequential([\n    layers.Dense(units=1, input_shape=[3])\n])\nw, b = model.weights\nprint(f\"Weights\\n{w}\\n\\nBias\\n{int(b)}\")\n</pre> model = keras.Sequential([     layers.Dense(units=1, input_shape=[3]) ]) w, b = model.weights print(f\"Weights\\n{w}\\n\\nBias\\n{int(b)}\") <pre>Weights\n&lt;tf.Variable 'dense_35/kernel:0' shape=(3, 1) dtype=float32, numpy=\narray([[ 0.8658098 ],\n       [-0.6350461 ],\n       [-0.81673557]], dtype=float32)&gt;\n\nBias\n0\n</pre> <p>Sembla que no hi ha cap patr\u00f3 en els valors que tenen els pesos. Abans d'entrenar el model, els pesos i el biaix s'estableixen en nombres aleatoris. Entrenar o ajustar la xarxa \u00e9s trobar millors valors per als seus pesos.</p> <p>Keras representa els pesos com a tensors, per\u00f2 tamb\u00e9 utilitza tensors per representar dades.</p> <p>Els tipus de problemes que treballarem a aquest apartat seran problemes de regressi\u00f3, on l'objectiu \u00e9s predir algun objectiu num\u00e8ric. Els problemes de regressi\u00f3 s\u00f3n com problemes d'ajustament de corbes: estem intentant trobar una corba que s'ajuste el millor possible a les dades. Fem una ullada a la \"corba\" produ\u00efda per un model lineal d'una sola neurona.</p> <p>Hem esmentat que abans d'entrenar els pesos d'un model s'estableixen aleat\u00f2riament. Executeu la cel\u00b7la de sota unes quantes vegades per veure les diferents l\u00ednies produ\u00efdes amb una inicialitzaci\u00f3 aleat\u00f2ria.</p> In\u00a0[60]: Copied! <pre>import tensorflow as tf\nimport matplotlib.pyplot as plt\n\nmodel = keras.Sequential([\n    layers.Dense(1, input_shape=[1]),\n])\n\nx = tf.linspace(-1.0, 1.0, 100)\ny = model.predict(x)\n\nplt.figure(dpi=100)\nplt.plot(x, y, 'k')\nplt.xlim(-1, 1)\nplt.ylim(-1, 1)\nplt.xlabel(\"Input: x\")\nplt.ylabel(\"Target y\")\nw, b = model.weights # you could also use model.get_weights() here\nplt.title(\"Weight: {:0.2f}\\nBias: {:0.2f}\".format(w[0][0], b[0]))\nplt.show()\n</pre> import tensorflow as tf import matplotlib.pyplot as plt  model = keras.Sequential([     layers.Dense(1, input_shape=[1]), ])  x = tf.linspace(-1.0, 1.0, 100) y = model.predict(x)  plt.figure(dpi=100) plt.plot(x, y, 'k') plt.xlim(-1, 1) plt.ylim(-1, 1) plt.xlabel(\"Input: x\") plt.ylabel(\"Target y\") w, b = model.weights # you could also use model.get_weights() here plt.title(\"Weight: {:0.2f}\\nBias: {:0.2f}\".format(w[0][0], b[0])) plt.show() <pre>4/4 [==============================] - 0s 2ms/step\n</pre> In\u00a0[61]: Copied! <pre>import seaborn as sns\n\n# Defineix les funcions d'activaci\u00f3\nactivation_functions = ['relu', 'elu', 'selu', 'swish']\n\n# Crea una figura amb 4 subplots\nfig, axs = plt.subplots(2, 2, figsize=(10, 10))\n\n# Converteix la llista de subplots en una llista unidimensional\naxs = axs.ravel()\n\nfor i, activation in enumerate(activation_functions):\n    # Crea la capa d'activaci\u00f3\n    activation_layer = layers.Activation(activation)\n\n    # Crea un rang de valors d'entrada\n    x = tf.linspace(-3.0, 3.0, 100)\n\n    # Aplica la funci\u00f3 d'activaci\u00f3 als valors d'entrada\n    y = activation_layer(x)\n\n    # Dibuixa la funci\u00f3 d'activaci\u00f3 en el subplot corresponent\n    axs[i].plot(x, y)\n    axs[i].set_xlim([-3, 3])\n    axs[i].set_title(f\"Funci\u00f3 d'activaci\u00f3: {activation}\")\n    axs[i].set_xlabel('Input')\n    axs[i].set_ylabel('Output')\n\n# Mostra la figura amb tots els subplots\nplt.tight_layout()\nplt.show()\n</pre> import seaborn as sns  # Defineix les funcions d'activaci\u00f3 activation_functions = ['relu', 'elu', 'selu', 'swish']  # Crea una figura amb 4 subplots fig, axs = plt.subplots(2, 2, figsize=(10, 10))  # Converteix la llista de subplots en una llista unidimensional axs = axs.ravel()  for i, activation in enumerate(activation_functions):     # Crea la capa d'activaci\u00f3     activation_layer = layers.Activation(activation)      # Crea un rang de valors d'entrada     x = tf.linspace(-3.0, 3.0, 100)      # Aplica la funci\u00f3 d'activaci\u00f3 als valors d'entrada     y = activation_layer(x)      # Dibuixa la funci\u00f3 d'activaci\u00f3 en el subplot corresponent     axs[i].plot(x, y)     axs[i].set_xlim([-3, 3])     axs[i].set_title(f\"Funci\u00f3 d'activaci\u00f3: {activation}\")     axs[i].set_xlabel('Input')     axs[i].set_ylabel('Output')  # Mostra la figura amb tots els subplots plt.tight_layout() plt.show()  In\u00a0[62]: Copied! <pre>from tensorflow import keras\nfrom tensorflow.keras import layers\n\nmodel = keras.Sequential([\n    # the hidden ReLU layers\n    layers.Dense(units=4, activation='relu', input_shape=[2]),\n    layers.Dense(units=3, activation='relu'),\n    # the linear output layer \n    layers.Dense(units=1),\n])\n</pre> from tensorflow import keras from tensorflow.keras import layers  model = keras.Sequential([     # the hidden ReLU layers     layers.Dense(units=4, activation='relu', input_shape=[2]),     layers.Dense(units=3, activation='relu'),     # the linear output layer      layers.Dense(units=1), ]) In\u00a0[63]: Copied! <pre>model = keras.Sequential([\n    layers.Dense(16, activation='relu'),\n    layers.Dense(1),\n])\n\nwider = keras.Sequential([\n    layers.Dense(32, activation='relu'),\n    layers.Dense(1),\n])\n\ndeeper = keras.Sequential([\n    layers.Dense(16, activation='relu'),\n    layers.Dense(16, activation='relu'),\n    layers.Dense(1),\n])\n</pre> model = keras.Sequential([     layers.Dense(16, activation='relu'),     layers.Dense(1), ])  wider = keras.Sequential([     layers.Dense(32, activation='relu'),     layers.Dense(1), ])  deeper = keras.Sequential([     layers.Dense(16, activation='relu'),     layers.Dense(16, activation='relu'),     layers.Dense(1), ]) <p>Explorarem com la capacitat d'una xarxa pot afectar el seu rendiment a les tasques.</p> In\u00a0[64]: Copied! <pre>from tensorflow.keras.callbacks import EarlyStopping\n\nearly_stopping = EarlyStopping(\n    min_delta=0.001, # minimium amount of change to count as an improvement\n    patience=20, # how many epochs to wait before stopping\n    restore_best_weights=True,\n)\n</pre> from tensorflow.keras.callbacks import EarlyStopping  early_stopping = EarlyStopping(     min_delta=0.001, # minimium amount of change to count as an improvement     patience=20, # how many epochs to wait before stopping     restore_best_weights=True, ) <p>Al codi anterior: Si no hi ha hagut almenys una millora de 0,001 en la p\u00e8rdua de validaci\u00f3 (<code>min_delta</code>) durant les 20 \u00e8poques anteriors (<code>patience</code>), aleshores atura l'entrenament i mant\u00e9n el millor model que has trobat (<code>restore_best_weights</code>)\". De vegades pot ser dif\u00edcil saber si la p\u00e8rdua de validaci\u00f3 augmenta a causa d'un sobreajustament o nom\u00e9s per una variaci\u00f3 aleat\u00f2ria del lot. Els par\u00e0metres ens permeten establir alguns l\u00edmits al voltant de quan aturar l'entrenament.</p> <p>Com veurem al nostre exemple, passarem aquesta funci\u00f3 de callback al m\u00e8tode fit juntament amb la p\u00e8rdua i l'optimitzador.</p> In\u00a0[65]: Copied! <pre>import pandas as pd\n\nred_wine = pd.read_csv('data/keras/red-wine.csv')\nred_wine.head()\n</pre> import pandas as pd  red_wine = pd.read_csv('data/keras/red-wine.csv') red_wine.head() Out[65]: fixed acidity volatile acidity citric acid residual sugar chlorides free sulfur dioxide total sulfur dioxide density pH sulphates alcohol quality 0 7.4 0.70 0.00 1.9 0.076 11.0 34.0 0.9978 3.51 0.56 9.4 5 1 7.8 0.88 0.00 2.6 0.098 25.0 67.0 0.9968 3.20 0.68 9.8 5 2 7.8 0.76 0.04 2.3 0.092 15.0 54.0 0.9970 3.26 0.65 9.8 5 3 11.2 0.28 0.56 1.9 0.075 17.0 60.0 0.9980 3.16 0.58 9.8 6 4 7.4 0.70 0.00 1.9 0.076 11.0 34.0 0.9978 3.51 0.56 9.4 5 In\u00a0[66]: Copied! <pre>from sklearn.model_selection import train_test_split\nfrom sklearn.preprocessing import StandardScaler\n\nX = red_wine.drop(['quality'], axis=1)\ny = red_wine['quality']\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.3, random_state = 0)\n\n# Reescalat de les dades\nscaler = StandardScaler()\nscaler.fit(X_train)\nX_train_scaled = scaler.transform(X_train)\nX_test_scaled = scaler.transform(X_test)\n</pre> from sklearn.model_selection import train_test_split from sklearn.preprocessing import StandardScaler  X = red_wine.drop(['quality'], axis=1) y = red_wine['quality'] X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.3, random_state = 0)  # Reescalat de les dades scaler = StandardScaler() scaler.fit(X_train) X_train_scaled = scaler.transform(X_train) X_test_scaled = scaler.transform(X_test) <p>Ara anem a construir la xarxa neuronal. Anem a construir una xarxa neuronal amb 1500 neurones, que deuria ser capa\u00e7 de trobar patrons a les nostres dades.</p> <p>Com les caracter\u00edstiques s\u00f3n 11, la nostra xarxa tindr\u00e0 11 entrades.</p> <p>L'eixida ser\u00e0 linial, per tant, no cal especificar funci\u00f3 d'activaci\u00f3 a la capa d'eixida.</p> In\u00a0[67]: Copied! <pre>X_train.shape\n</pre> X_train.shape Out[67]: <pre>(1119, 11)</pre> In\u00a0[68]: Copied! <pre>from tensorflow import keras\nfrom tensorflow.keras import layers\n\nmodel = keras.Sequential([\n    layers.Dense(512, activation='relu', input_shape=[11]),\n    layers.Dense(512, activation='relu'),\n    layers.Dense(512, activation='relu'),\n    layers.Dense(1),\n])\n</pre> from tensorflow import keras from tensorflow.keras import layers  model = keras.Sequential([     layers.Dense(512, activation='relu', input_shape=[11]),     layers.Dense(512, activation='relu'),     layers.Dense(512, activation='relu'),     layers.Dense(1), ]) <p>Decidir l'arquitectura del nostre model hauria de formar part del proc\u00e9s. Comen\u00e7ariem amb una arquitectura senzilla i utilitzem la funci\u00f3 de p\u00e8rdua amb les dades de test com a guia. Aprendrem m\u00e9s sobre el desenvolupament del model a les tasques.</p> In\u00a0[69]: Copied! <pre>model.compile(\n    optimizer='adam',\n    loss='mae',\n)\n</pre> model.compile(     optimizer='adam',     loss='mae', ) In\u00a0[70]: Copied! <pre>history = model.fit(\n    X_train, y_train,\n    validation_data=(X_test, y_test),\n    batch_size=256,\n    epochs=20,\n)\n</pre> history = model.fit(     X_train, y_train,     validation_data=(X_test, y_test),     batch_size=256,     epochs=20, ) <pre>Epoch 1/20\n5/5 [==============================] - 1s 115ms/step - loss: 4.3064 - val_loss: 1.3367\nEpoch 2/20\n5/5 [==============================] - 0s 60ms/step - loss: 1.4017 - val_loss: 1.0116\nEpoch 3/20\n5/5 [==============================] - ETA: 0s - loss: 1.0399</pre> <pre>5/5 [==============================] - 0s 58ms/step - loss: 1.0399 - val_loss: 1.0670\nEpoch 4/20\n5/5 [==============================] - 0s 66ms/step - loss: 0.9347 - val_loss: 0.6648\nEpoch 5/20\n5/5 [==============================] - 0s 69ms/step - loss: 0.7911 - val_loss: 0.7203\nEpoch 6/20\n5/5 [==============================] - 0s 89ms/step - loss: 0.7851 - val_loss: 0.8711\nEpoch 7/20\n5/5 [==============================] - 0s 60ms/step - loss: 0.7989 - val_loss: 0.5976\nEpoch 8/20\n5/5 [==============================] - 0s 70ms/step - loss: 0.7145 - val_loss: 0.7231\nEpoch 9/20\n5/5 [==============================] - 0s 56ms/step - loss: 0.6886 - val_loss: 0.5372\nEpoch 10/20\n5/5 [==============================] - 0s 51ms/step - loss: 0.6276 - val_loss: 0.5565\nEpoch 11/20\n5/5 [==============================] - 0s 38ms/step - loss: 0.5919 - val_loss: 0.5490\nEpoch 12/20\n5/5 [==============================] - 0s 45ms/step - loss: 0.5674 - val_loss: 0.5824\nEpoch 13/20\n5/5 [==============================] - 0s 46ms/step - loss: 0.5809 - val_loss: 0.5906\nEpoch 14/20\n5/5 [==============================] - 0s 47ms/step - loss: 0.5893 - val_loss: 0.5122\nEpoch 15/20\n5/5 [==============================] - 0s 48ms/step - loss: 0.5498 - val_loss: 0.5185\nEpoch 16/20\n5/5 [==============================] - 0s 49ms/step - loss: 0.5535 - val_loss: 0.5038\nEpoch 17/20\n5/5 [==============================] - 0s 48ms/step - loss: 0.5571 - val_loss: 0.5081\nEpoch 18/20\n5/5 [==============================] - 0s 43ms/step - loss: 0.5748 - val_loss: 0.5010\nEpoch 19/20\n5/5 [==============================] - 0s 55ms/step - loss: 0.5550 - val_loss: 0.5494\nEpoch 20/20\n5/5 [==============================] - 0s 52ms/step - loss: 0.5697 - val_loss: 0.5873\n</pre> In\u00a0[71]: Copied! <pre>import pandas as pd\n\n# Convertim a DataFrame\nhistory_df = pd.DataFrame(history.history)\n# Utilitzem el m\u00e8tode plot de Pandas\nhistory_df['loss'].plot(legend=True);\nhistory_df['val_loss'].plot(legend=True);\n</pre> import pandas as pd  # Convertim a DataFrame history_df = pd.DataFrame(history.history) # Utilitzem el m\u00e8tode plot de Pandas history_df['loss'].plot(legend=True); history_df['val_loss'].plot(legend=True); <p>Observeu com la p\u00e8rdua (<code>loss</code>) s'aproxima a un valor l\u00edmit a mesura que passen les <code>epochs</code>. Quan la corba de p\u00e8rdua es torna horitzontal (o quasi), vol dir que el model ha apr\u00e8s tot el que pot de les dades i no hi ha motiu per continuar amb <code>epochs</code> addicionals. Si encara est\u00e0 convergint, necessitaria m\u00e9s \u00e8poques.</p> In\u00a0[72]: Copied! <pre>from sklearn.metrics import mean_absolute_error\n\n# Fes prediccions\nsample_X_test = X_test.sample(n=5)\nsample_y_pred = model.predict(sample_X_test)\nsample_y_real = y_test[sample_X_test.index]\nprint(f\"Valors predits\\n: {sample_y_pred}\")\nprint(f\"\\n\\nValors reals\\n: {y_test[sample_X_test.index]}\")\nmae = mean_absolute_error(sample_y_real, sample_y_pred)\n\n\n# Calcula l'Error Mitj\u00e0 Absolut (MAE)\n# y_pred = model.predict(X_test)\n# mae = mean_absolute_error(y_test, y_pred)\n\nprint(f\"\\n\\nMAE: {mae}\")\n</pre> from sklearn.metrics import mean_absolute_error  # Fes prediccions sample_X_test = X_test.sample(n=5) sample_y_pred = model.predict(sample_X_test) sample_y_real = y_test[sample_X_test.index] print(f\"Valors predits\\n: {sample_y_pred}\") print(f\"\\n\\nValors reals\\n: {y_test[sample_X_test.index]}\") mae = mean_absolute_error(sample_y_real, sample_y_pred)   # Calcula l'Error Mitj\u00e0 Absolut (MAE) # y_pred = model.predict(X_test) # mae = mean_absolute_error(y_test, y_pred)  print(f\"\\n\\nMAE: {mae}\") <pre>1/1 [==============================] - 0s 68ms/step\n</pre> <pre>Valors predits\n: [[5.3805923]\n [4.701145 ]\n [4.9760203]\n [5.100591 ]\n [4.76225  ]]\n\n\nValors reals\n: 1554    6\n202     5\n1378    6\n979     5\n124     5\nName: quality, dtype: int64\n\n\nMAE: 0.4561166763305664\n</pre> In\u00a0[73]: Copied! <pre>from tensorflow.keras import layers, callbacks\n\nearly_stopping = callbacks.EarlyStopping(\n    min_delta=0.001, # minimium amount of change to count as an improvement\n    patience=20, # how many epochs to wait before stopping\n    restore_best_weights=True,\n)\n\n# model = keras.Sequential([\n#     layers.Dense(512, activation='relu', input_shape=[11]),\n#     layers.Dense(512, activation='relu'),\n#     layers.Dense(512, activation='relu'),\n#     layers.Dense(1),\n# ])\n# model.compile(\n#     optimizer='adam',\n#     loss='mae',\n# )\n</pre> from tensorflow.keras import layers, callbacks  early_stopping = callbacks.EarlyStopping(     min_delta=0.001, # minimium amount of change to count as an improvement     patience=20, # how many epochs to wait before stopping     restore_best_weights=True, )  # model = keras.Sequential([ #     layers.Dense(512, activation='relu', input_shape=[11]), #     layers.Dense(512, activation='relu'), #     layers.Dense(512, activation='relu'), #     layers.Dense(1), # ]) # model.compile( #     optimizer='adam', #     loss='mae', # ) <p>Despr\u00e9s de definir la funci\u00f3 de <code>callback</code>, afegiu-la com a argument a l'ajust (podeu tindre'n v\u00e0ries, aix\u00ed que poseu-la en una llista). Trieu un gran nombre d'\u00e8poques quan utilitzeu la parada anticipada, m\u00e9s del que necessitareu.</p> In\u00a0[74]: Copied! <pre>history = model.fit(\n    X_train_scaled, y_train,\n    validation_data=(X_test_scaled, y_test),\n    batch_size=256,\n    epochs=500,\n    callbacks=[early_stopping], # put your callbacks in a list\n    verbose=0,  # turn off training log\n)\n\nhistory_df = pd.DataFrame(history.history)\nhistory_df.loc[:, ['loss', 'val_loss']].plot();\nprint(\"Minimum validation loss: {}\".format(history_df['val_loss'].min()))\n</pre> history = model.fit(     X_train_scaled, y_train,     validation_data=(X_test_scaled, y_test),     batch_size=256,     epochs=500,     callbacks=[early_stopping], # put your callbacks in a list     verbose=0,  # turn off training log )  history_df = pd.DataFrame(history.history) history_df.loc[:, ['loss', 'val_loss']].plot(); print(\"Minimum validation loss: {}\".format(history_df['val_loss'].min())) <pre>Minimum validation loss: 0.46824437379837036\n</pre> <p>Com podem observar, Keras ha parat l'entrenament abans d'arribar a les 500 \u00e8poques.</p> In\u00a0[75]: Copied! <pre>import matplotlib.pyplot as plt\n\n# Set Matplotlib defaults\nplt.rc('figure', autolayout=True)\nplt.rc('axes', labelweight='bold', labelsize='large',\n       titleweight='bold', titlesize=18, titlepad=10)\n\n\nimport pandas as pd\nred_wine = pd.read_csv('data/keras/red-wine.csv')\n\n# Create training and validation splits\ndf_train = red_wine.sample(frac=0.7, random_state=0)\ndf_valid = red_wine.drop(df_train.index)\n\n# Split features and target\nX_train = df_train.drop('quality', axis=1)\nX_valid = df_valid.drop('quality', axis=1)\ny_train = df_train['quality']\ny_valid = df_valid['quality']\n</pre> import matplotlib.pyplot as plt  # Set Matplotlib defaults plt.rc('figure', autolayout=True) plt.rc('axes', labelweight='bold', labelsize='large',        titleweight='bold', titlesize=18, titlepad=10)   import pandas as pd red_wine = pd.read_csv('data/keras/red-wine.csv')  # Create training and validation splits df_train = red_wine.sample(frac=0.7, random_state=0) df_valid = red_wine.drop(df_train.index)  # Split features and target X_train = df_train.drop('quality', axis=1) X_valid = df_valid.drop('quality', axis=1) y_train = df_train['quality'] y_valid = df_valid['quality'] <p>Observeu que no hem normalitzat les dades esta vegada.</p> <p>Quan afegim abandonament, \u00e9s possible que h\u00e0gem d'augmentar el nombre d'unitats a les vostres capes denses.</p> In\u00a0[76]: Copied! <pre>from tensorflow import keras\nfrom tensorflow.keras import layers\n\nmodel = keras.Sequential([\n    layers.Dense(1024, activation='relu', input_shape=[11]),\n    layers.Dropout(0.3),\n    layers.BatchNormalization(),\n    layers.Dense(1024, activation='relu'),\n    layers.Dropout(0.3),\n    layers.BatchNormalization(),\n    layers.Dense(1024, activation='relu'),\n    layers.Dropout(0.3),\n    layers.BatchNormalization(),\n    layers.Dense(1),\n])\n</pre> from tensorflow import keras from tensorflow.keras import layers  model = keras.Sequential([     layers.Dense(1024, activation='relu', input_shape=[11]),     layers.Dropout(0.3),     layers.BatchNormalization(),     layers.Dense(1024, activation='relu'),     layers.Dropout(0.3),     layers.BatchNormalization(),     layers.Dense(1024, activation='relu'),     layers.Dropout(0.3),     layers.BatchNormalization(),     layers.Dense(1), ]) <p>No hi ha res a canviar en la configuraci\u00f3 de l'entrenement.</p> In\u00a0[77]: Copied! <pre>model.compile(\n    optimizer='adam',\n    loss='mae',\n)\n\nhistory = model.fit(\n    X_train, y_train,\n    validation_data=(X_valid, y_valid),\n    batch_size=256,\n    epochs=1000,\n    verbose=0,\n    callbacks=[early_stopping],\n)\n\n\n# Show the learning curves\nhistory_df = pd.DataFrame(history.history)\nhistory_df.loc[:, ['loss', 'val_loss']].plot()\n</pre> model.compile(     optimizer='adam',     loss='mae', )  history = model.fit(     X_train, y_train,     validation_data=(X_valid, y_valid),     batch_size=256,     epochs=1000,     verbose=0,     callbacks=[early_stopping], )   # Show the learning curves history_df = pd.DataFrame(history.history) history_df.loc[:, ['loss', 'val_loss']].plot() Out[77]: <pre>&lt;Axes: &gt;</pre> In\u00a0[78]: Copied! <pre>print(\"Minimum validation loss: {}\".format(history_df['val_loss'].min()))\n</pre> print(\"Minimum validation loss: {}\".format(history_df['val_loss'].min())) <pre>Minimum validation loss: 0.6373770236968994\n</pre> In\u00a0[1]: Copied! <pre>import pandas as pd\nfrom IPython.display import display\n\nion = pd.read_csv('data/keras/ion.csv', index_col=0)\ndisplay(ion.head())\n\ndf = ion.copy()\ndf['Class'] = df['Class'].map({'good': 0, 'bad': 1}) # Dades categ\u00f2riques a enter\n\ndf_train = df.sample(frac=0.7,random_state=0) # Altra forma de fer la separaci\u00f3 entra train i test\ndf_valid = df.drop(df_train.index)\n\nmax_ = df_train.max(axis=0)\nmin_ = df_train.min(axis=0)\n\ndf_train = (df_train - min_) / (max_ - min_) # Min-Max escaler\ndf_valid = (df_valid - min_) / (max_ - min_)\ndf_train.dropna(axis=1, inplace=True) # drop the empty feature in column 2\ndf_valid.dropna(axis=1, inplace=True)\n\nX_train = df_train.drop('Class', axis=1)\nX_valid = df_valid.drop('Class', axis=1)\ny_train = df_train['Class']\ny_valid = df_valid['Class']\n</pre> import pandas as pd from IPython.display import display  ion = pd.read_csv('data/keras/ion.csv', index_col=0) display(ion.head())  df = ion.copy() df['Class'] = df['Class'].map({'good': 0, 'bad': 1}) # Dades categ\u00f2riques a enter  df_train = df.sample(frac=0.7,random_state=0) # Altra forma de fer la separaci\u00f3 entra train i test df_valid = df.drop(df_train.index)  max_ = df_train.max(axis=0) min_ = df_train.min(axis=0)  df_train = (df_train - min_) / (max_ - min_) # Min-Max escaler df_valid = (df_valid - min_) / (max_ - min_) df_train.dropna(axis=1, inplace=True) # drop the empty feature in column 2 df_valid.dropna(axis=1, inplace=True)  X_train = df_train.drop('Class', axis=1) X_valid = df_valid.drop('Class', axis=1) y_train = df_train['Class'] y_valid = df_valid['Class']  V1 V2 V3 V4 V5 V6 V7 V8 V9 V10 ... V26 V27 V28 V29 V30 V31 V32 V33 V34 Class 1 1 0 0.99539 -0.05889 0.85243 0.02306 0.83398 -0.37708 1.00000 0.03760 ... -0.51171 0.41078 -0.46168 0.21266 -0.34090 0.42267 -0.54487 0.18641 -0.45300 good 2 1 0 1.00000 -0.18829 0.93035 -0.36156 -0.10868 -0.93597 1.00000 -0.04549 ... -0.26569 -0.20468 -0.18401 -0.19040 -0.11593 -0.16626 -0.06288 -0.13738 -0.02447 bad 3 1 0 1.00000 -0.03365 1.00000 0.00485 1.00000 -0.12062 0.88965 0.01198 ... -0.40220 0.58984 -0.22145 0.43100 -0.17365 0.60436 -0.24180 0.56045 -0.38238 good 4 1 0 1.00000 -0.45161 1.00000 1.00000 0.71216 -1.00000 0.00000 0.00000 ... 0.90695 0.51613 1.00000 1.00000 -0.20099 0.25682 1.00000 -0.32382 1.00000 bad 5 1 0 1.00000 -0.02401 0.94140 0.06531 0.92106 -0.23255 0.77152 -0.16399 ... -0.65158 0.13290 -0.53206 0.02431 -0.62197 -0.05707 -0.59573 -0.04608 -0.65697 good <p>5 rows \u00d7 35 columns</p> In\u00a0[15]: Copied! <pre>from tensorflow import keras\nfrom tensorflow.keras import layers\n\nmodel = keras.Sequential([\n    layers.Dense(24, activation='relu', input_shape=[33]),\n    layers.Dense(12, activation='relu'),  \n    layers.Dense(4, activation='relu'),    \n    layers.Dense(1, activation='sigmoid'),\n])\n</pre> from tensorflow import keras from tensorflow.keras import layers  model = keras.Sequential([     layers.Dense(24, activation='relu', input_shape=[33]),     layers.Dense(12, activation='relu'),       layers.Dense(4, activation='relu'),         layers.Dense(1, activation='sigmoid'), ]) In\u00a0[16]: Copied! <pre>model.compile(\n    optimizer='adam',\n    loss='binary_crossentropy',\n    metrics=['binary_accuracy'],\n)\n</pre> model.compile(     optimizer='adam',     loss='binary_crossentropy',     metrics=['binary_accuracy'], ) In\u00a0[17]: Copied! <pre>early_stopping = keras.callbacks.EarlyStopping(\n    patience=10,\n    min_delta=0.001,\n    restore_best_weights=True,\n)\n\nhistory = model.fit(\n    X_train, y_train,\n    validation_data=(X_valid, y_valid),\n    batch_size=512,\n    epochs=1000,\n    callbacks=[early_stopping],\n    verbose=0, # hide the output because we have so many epochs\n)\n</pre> early_stopping = keras.callbacks.EarlyStopping(     patience=10,     min_delta=0.001,     restore_best_weights=True, )  history = model.fit(     X_train, y_train,     validation_data=(X_valid, y_valid),     batch_size=512,     epochs=1000,     callbacks=[early_stopping],     verbose=0, # hide the output because we have so many epochs ) In\u00a0[18]: Copied! <pre>history_df = pd.DataFrame(history.history)\n# Start the plot at epoch 5\nhistory_df.loc[5:, ['loss', 'val_loss']].plot()\nhistory_df.loc[5:, ['binary_accuracy', 'val_binary_accuracy']].plot()\n\nprint((\"Millor Validation Loss: {:0.4f}\" +\\\n      \"\\nMillor Validation Accuracy: {:0.4f}\")\\\n      .format(history_df['val_loss'].min(), \n              history_df['val_binary_accuracy'].max()))\n</pre> history_df = pd.DataFrame(history.history) # Start the plot at epoch 5 history_df.loc[5:, ['loss', 'val_loss']].plot() history_df.loc[5:, ['binary_accuracy', 'val_binary_accuracy']].plot()  print((\"Millor Validation Loss: {:0.4f}\" +\\       \"\\nMillor Validation Accuracy: {:0.4f}\")\\       .format(history_df['val_loss'].min(),                history_df['val_binary_accuracy'].max())) <pre>Millor Validation Loss: 0.2641\nMillor Validation Accuracy: 0.9238\n</pre>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/05_Keras/#introduccio-a-laprenentatge-profund-deep-learning","title":"Introducci\u00f3 a l'aprenentatge profund (Deep Learning)\u00b6","text":"<p>En este apartat aprendrem les bases per comen\u00e7ar a construir les vostres pr\u00f2pies xarxes neuronals amb Keras i Tensorflow. Aprendrem a:</p> <ul> <li>crear una arquitectura de xarxa neuronal completament connectada</li> <li>aplicar xarxes neuronals a dos problemes cl\u00e0ssics de ML: la regressi\u00f3 i la classificaci\u00f3</li> <li>entrenar xarxes neuronals amb descens de gradient estoc\u00e0stic</li> <li>millorar el rendiment amb l'abandonament, la normalitzaci\u00f3 de lots i altres t\u00e8cniques</li> </ul>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/05_Keras/#que-es-laprenentatge-profund","title":"Qu\u00e8 \u00e9s l'aprenentatge profund?\u00b6","text":"<p>Alguns dels aven\u00e7os m\u00e9s impressionants en intel\u00b7lig\u00e8ncia artificial dels darrers anys han estat en el camp de l'aprenentatge profund. La traducci\u00f3 del llenguatge natural, el reconeixement d'imatges, la conducci\u00f3 o el joc autom\u00e0tic s\u00f3n tasques on els models d'aprenentatge profund s'han acostat o fins i tot superat el rendiment hum\u00e0.</p> <p>L'aprenentatge profund \u00e9s un enfocament de l'aprenentatge autom\u00e0tic caracteritzat per piles profundes de c\u00e0lculs. Aquesta profunditat de c\u00e0lcul \u00e9s el que ha perm\u00e8s que els models d'aprenentatge profund desenvolupen els tipus de patrons complexos i jer\u00e0rquics que es troben en els conjunts de dades del m\u00f3n real m\u00e9s desafiants.</p> <p>Gr\u00e0cies a la seva pot\u00e8ncia i escalabilitat, les xarxes neuronals s'han convertit en el model definitiu (almenys de moment) d'aprenentatge profund. Les xarxes neuronals estan formades per neurones, on cada neurona individualment nom\u00e9s realitza un c\u00e0lcul simple. El poder d'una xarxa neuronal prov\u00e9, en canvi, de la complexitat de les connexions que aquestes neurones poden formar.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/05_Keras/#la-unitat-basica-la-neurona","title":"La unitat b\u00e0sica: la neurona\u00b6","text":"<p>Comencem amb el component fonamental d'una xarxa neuronal: la neurona.</p> <p>Gr\u00e0ficament, una neurona (o unitat) es pot representar de la seg\u00fcent forma:</p> <p></p> <p>L'entrada \u00e9s x. La seva connexi\u00f3 amb la neurona t\u00e9 un pes que \u00e9s w, que \u00e9s un factor que multiplica el valor (pot ser positiu o negatiu, si \u00e9s zero, la connexi\u00f3 est\u00e0 desconnectada). Per a l'entrada x, el que arriba a la neurona \u00e9s w * x. Una xarxa neuronal *apr\u00e9n\" modificant els pesos de les conexions entre neurones.</p> <p>La b \u00e9s un tipus especial de pes que anomenem biaix. El biaix no t\u00e9 cap dada d'entrada associada amb ell; en canvi, posem un 1 al diagrama de manera que el valor que arriba a la neurona siga nom\u00e9s b (ja que 1 * b = b). El biaix permet a la neurona modificar l'eixida independentment de les seves entrades.</p> <p>La y \u00e9s el valor que finalment emet la neurona. Per obtenir la ixida, la neurona suma tots els valors que rep a trav\u00e9s de les seves connexions. L'activaci\u00f3 d'aquesta neurona \u00e9s $y = w * x + b$. \u00c9s l'equaci\u00f3 d'una funci\u00f3 l\u00ednial, una recta on:</p> <ul> <li>w \u00e9s la pendent</li> <li>b \u00e9s la intercepci\u00f3 amb l'eix y</li> </ul>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/05_Keras/#exemple-la-neurona-com-a-model","title":"Exemple - La neurona com a model\u00b6","text":"<p>Tot i que les neurones individuals normalment nom\u00e9s funcionaran com a part d'una xarxa m\u00e9s gran, sovint \u00e9s \u00fatil comen\u00e7ar amb un model de neurona \u00fanica com a l\u00ednia de base. Els models de neurona \u00fanica s\u00f3n models lineals, com el de regressi\u00f3 liniar.</p> <p>Pensem en com podria funcionar este model amb el conjunt de dades de cereals. Entrenant un model amb \"sucre\" (grams de sucre per raci\u00f3) com a entrada i \"calories\" (calories per raci\u00f3) com a eixida, podr\u00edem trobar que el biaix \u00e9s b=90 i el pes \u00e9s w=2,5. Podr\u00edem estimar el contingut cal\u00f2ric d'un cereal amb 5 grams de sucre per raci\u00f3 aix\u00ed:</p> <p></p> <p>$$ calories = 2.5 x 5 + 90 = 102.5 $$</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/05_Keras/#multiples-entrades","title":"M\u00faltiples entrades\u00b6","text":"<p>El conjunt de dades de cereals t\u00e9 moltes m\u00e9s caracter\u00edstiques que nom\u00e9s \"sucre\". Qu\u00e8 passaria si volguerem ampliar el nostre model per incloure coses com el contingut de fibra o prote\u00efnes? Aix\u00f2 \u00e9s prou f\u00e0cil. Nom\u00e9s podem afegir m\u00e9s connexions d'entrada a la neurona, una per a cada caracter\u00edstica addicional. Per trobar la ixida, multiplicar\u00edem cada entrada pel seu pes de connexi\u00f3 i despr\u00e9s les sumar\u00edem totes.</p> <p></p> <p>La f\u00f3rmula d'aquesta neurona seria $y=w0x0+w1x1+w2x2+b$. Una neurona amb dues entrades ser\u00e0 com un un pl\u00e0, i una unitat amb m\u00e9s entrades seguira la forma d'un hiperpla (pla multidimensional).</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/05_Keras/#neurones-a-keras","title":"Neurones a Keras\u00b6","text":"<p>La manera m\u00e9s senzilla de crear un model a Keras \u00e9s mitjan\u00e7ant keras.Sequential, que crea una xarxa neuronal com una pila de capes, on el senyal entre capes es passa de forma seq\u00fcencial. Podem crear models com els anteriors utilitzant una capa Dense, de la que continuarem parlant m\u00e9s endavant.</p> <p>Podr\u00edem definir un model lineal que acceptara tres caracter\u00edstiques d'entrada (<code>sugars</code>, <code>fiber</code> i <code>protein</code>) i produira una \u00fanica eixida (<code>calories</code>) de la manera seg\u00fcent:</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/05_Keras/#pesos-en-una-xarxa-no-entrenada","title":"Pesos en una xarxa no entrenada\u00b6","text":"<p>Internament, Keras representa els pesos d'una xarxa neuronal amb tensors. Els tensors s\u00f3n b\u00e0sicament la versi\u00f3 de TensorFlow d'una matriu Numpy amb algunes difer\u00e8ncies que els fan m\u00e9s adequats per a l'aprenentatge profund. Una de les difer\u00e8ncies m\u00e9s importants \u00e9s que els tensors estan preparats per accelerar els seus c\u00e0lculs utilitzant GPUs (Graphics process units) i TPUs (Tensors process units). Les TPUs, de fet, estan dissenyades espec\u00edficament per a c\u00e0lculs de tensors. M\u00e9s informaci\u00f3 de GPUs front a TPUs</p> <p>Mira els pesos abans d'entrenar a la xarxa. Observa com canvien en cada execuci\u00f3 al no definir una semilla.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/05_Keras/#xarxes-neuronals-profundes","title":"Xarxes neuronals profundes\u00b6","text":"<p>En aquest apartat aprendres a construir xarxes neuronals capaces d'aprendre relacions m\u00e9s complexes per les quals s\u00f3n famoses les xarxes neuronals profundes.</p> <p>La idea clau \u00e9s la modularitat, la creaci\u00f3 d'una xarxa complexa a partir d'unitats funcionals m\u00e9s senzilles. Hem vist com una unitat lineal calcula una funci\u00f3 lineal; ara veurem com combinar i modificar aquestes unitats individuals per modelar relacions m\u00e9s complexes.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/05_Keras/#capes-layers","title":"Capes (Layers)\u00b6","text":"<p>Les xarxes neuronals solen organitzar les seves neurones en capes. Quan ajuntem unitats lineals que tenen un conjunt com\u00fa d'entrades, obtenim una capa densa.</p> <p></p> Una capa densa de dues unitats lineals que reben dues entrades i un biaix. <p>Podeu pensar que cada capa d'una xarxa neuronal realitza algun tipus de transformaci\u00f3 relativament senzilla. A trav\u00e9s d'una pila profunda de capes, una xarxa neuronal pot transformar les seves entrades de maneres cada vegada m\u00e9s complexes. En una xarxa neuronal ben entrenada, cada capa \u00e9s una transformaci\u00f3 que ens acosta m\u00e9s a la soluci\u00f3.</p> <p>Molts tipus de capes</p> <p>     Una capa a Keras \u00e9s una cosa molt general. Una capa pot ser, essencialment, qualsevol tipus de transformaci\u00f3 de dades. Moltes capes, com les capes convolucionals i recurrents, transformen les dades mitjan\u00e7ant l'\u00fas de neurones i es diferencien principalment per les connexions entre elles. Altres s'utilitzen per a l'enginyeria de caracter\u00edstiques o nom\u00e9s per a aritm\u00e8tica simple. Hi ha tot un m\u00f3n de capes per descobrir. TensorFlow Keras Layers Documentation </p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/05_Keras/#la-funcio-dactivacio","title":"La funci\u00f3 d'activaci\u00f3\u00b6","text":"<p>Resulta que dues capes denses sense res pel mig no s\u00f3n millors que una sola capa densa. Les capes denses per si soles mai no ens poden treure del m\u00f3n de les l\u00ednies i els plans. El que necessitem \u00e9s funcions no lineals a les neurones. Aquestes funcions s\u00f3n el que s'anomenen funcions d'activaci\u00f3.</p> <p></p> Sense funcions d'activaci\u00f3, les xarxes neuronals nom\u00e9s poden aprendre relacions lineals. Per ajustar les corbes, haurem d'utilitzar funcions d'activaci\u00f3. <p>Una funci\u00f3 d'activaci\u00f3 \u00e9s simplement una funci\u00f3 que apliquem a cadascuna de les ixides d'una capa (les seves activacions). La m\u00e9s comuna \u00e9s la funci\u00f3 rectificadora max(0,x).</p> <p></p> <p>La funci\u00f3 rectificadora t\u00e9 un gr\u00e0fic que \u00e9s una l\u00ednia amb la part negativa rectificada o filtrada a zero. L'aplicaci\u00f3 de la funci\u00f3 a les eixides d'una neurona transformar\u00e0 la funci\u00f3 resultant, allunyant-nos de les l\u00ednies simples.</p> <p>Quan connectem el rectificador a una unitat lineal, obtenim una unitat lineal rectificada o ReLU (rectified liniar unit). (Per aquest motiu, \u00e9s com\u00fa anomenar la funci\u00f3 rectificadora \"funci\u00f3 ReLU\"). Aplicar una activaci\u00f3 ReLU a una unitat lineal significa que la ixida es transforma en max(0, w * x + b):</p> <p></p> <p>Hi ha tota una fam\u00edlia de variants de l'activaci\u00f3 'relu' -- 'elu', 'selu' i 'swish', entre d'altres, totes les quals podem utilitzar a Keras. De vegades, una activaci\u00f3 funcionar\u00e0 millor que una altra en una tasca determinada, de manera que podriem plantejar-nos experimentar amb activacions mentre desenvolupem un model. L'activaci\u00f3 de ReLU acostuma a funcionar b\u00e9 en la majoria dels problemes, aix\u00ed que \u00e9s una bona per comen\u00e7ar.</p> <p>Vegem els gr\u00e0fics de les funcions d'activaci\u00f3 anteriors.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/05_Keras/#apilament-de-capes-denses","title":"Apilament de capes denses\u00b6","text":"<p>Ara que tenim una certa no linealitat, vegem com podem apilar capes per obtenir transformacions de dades complexes.</p> <p></p> <p>Les capes anteriors a la capa de ixida de vegades s'anomenen ocultes, ja que mai veiem directament les seves ixides.</p> <p>Ara, observeu que la capa final (de ixida) \u00e9s una unitat lineal (\u00e9s a dir, sense funci\u00f3 d'activaci\u00f3). Aix\u00f2 fa que aquesta xarxa siga adequada per a una tasca de regressi\u00f3, on estem intentant predir algun valor num\u00e8ric arbitrari. Altres tasques (com la classificaci\u00f3) poden requerir una funci\u00f3 d'activaci\u00f3 a la ixida, com per exemple una sigmoide que ens donar\u00e0 un valor entre 0 i 1, molt \u00fatil per a classificaci\u00f3 bin\u00e0ria.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/05_Keras/#construccio-de-models-sequencials","title":"Construcci\u00f3 de models seq\u00fcencials\u00b6","text":"<p>El model seq\u00fcencial que hem estat utilitzant connectar\u00e0 una llista de capes en ordre:</p> <ul> <li>la primera capa rep l'entrada</li> <li>l'\u00faltima capa produeix la ixida.</li> </ul> <p>Vegem el codi per a construir una xarxa neuronal com la de la figura anterior:</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/05_Keras/#descens-del-gradient-estocastic-stochastic-gradient-descent-o-sgd","title":"Descens del gradient estoc\u00e0stic (Stochastic Gradient Descent o SGD)\u00b6","text":"<p>Fins ara hem construit xarxes completament connectades a partir de piles de capes denses. Quan es crea per primera vegada, tots els pesos de la xarxa s'estableixen aleat\u00f2riament; la xarxa encara no sap res. Ara veurem com entrenar una xarxa neuronal per a que aprenga.</p> <p>El proc\u00e9s \u00e9s el mateix que per a qualsevol algorisme de Machine Learning:</p> <ul> <li>comencem amb un conjunt de dades d'entrenament</li> <li>seleccionem les caracter\u00edstiques d'entrada i el target</li> <li>entrenem la xarxa, ajustant els seus pesos de manera que puga transformar les entrades en ixedes o les caracter\u00edstiques en l'objectiu</li> </ul> <p>Al conjunt de dades de cereals, per exemple, volem una xarxa que puga aprendre el contingut de <code>sugars</code>, <code>fiber</code> i <code>protein</code> de cada cereal i produir una predicci\u00f3 de les <code>calories</code> d'aquest cereal. Si podem entrenar una xarxa amb \u00e8xit per fer-ho, els seus pesos han de representar d'alguna manera la relaci\u00f3 entre aquestes caracter\u00edstiques i aquest objectiu.</p> <p>A m\u00e9s de les dades d'entrenament, necessitem dues coses m\u00e9s:</p> <ul> <li>una \"funci\u00f3 de p\u00e8rdua\" o loss function que mesure com de bones s\u00f3n les prediccions de la xarxa neuronal.</li> <li>un \"optimitzador\" o optimizer que indique a la xarxa com canviar els seus pesos per intentar millorar.</li> </ul>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/05_Keras/#la-funcio-de-perdua","title":"La funci\u00f3 de p\u00e8rdua\u00b6","text":"<p>Hem vist com dissenyar una arquitectura per a una xarxa, per\u00f2 no hem vist com dir-li a una xarxa quin problema ha de resoldre. Aquesta \u00e9s la feina de la funci\u00f3 de p\u00e8rdua.</p> <p>La funci\u00f3 de p\u00e8rdua mesura la disparitat entre el valor real de l'objectiu i el valor que prediu el model.</p> <p>Els diferents problemes requereixen diferents funcions de p\u00e8rdua. Hem estat examinant problemes de regressi\u00f3, on la tasca \u00e9s predir algun valor num\u00e8ric: calories en cereals o preu de la vivenda.</p> <p>Una funci\u00f3 de p\u00e8rdua comuna per als problemes de regressi\u00f3 \u00e9s l'error absolut mitj\u00e0 o MAE, que ja estudiarem a l'apartat de sklearn. Per a cada predicci\u00f3 y_pred, MAE mesura la disparitat de l'objectiu real y_true mitjan\u00e7ant una difer\u00e8ncia absoluta abs (y_true - y_pred).</p> <p>La p\u00e8rdua total de MAE en un conjunt de dades \u00e9s la mitjana de totes aquestes difer\u00e8ncies absolutes.</p> <p></p> <p>A m\u00e9s de MAE, altres funcions de p\u00e8rdua que podem utilitzar per a problemes de regressi\u00f3 s\u00f3n l'error quadrat mitj\u00e0 (MSE) o la p\u00e8rdua de Huber (ambdues disponibles a Keras).</p> <p>Durant l'entrenament, el model utilitzar\u00e0 la funci\u00f3 de p\u00e8rdua com a guia per trobar els valors correctes dels seus pesos (m\u00e9s baixa \u00e9s millor). En altres paraules, la funci\u00f3 de p\u00e8rdua indica a la xarxa el seu objectiu i l'ajuda, a trav\u00e9s de l'optimitzador, anar millorant.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/05_Keras/#loptimitzador-descens-del-gradient-estocastic-o-sgd","title":"L'optimitzador <code>descens del gradient estoc\u00e0stic</code> o SGD\u00b6","text":"<p>Hem descrit el problema que volem que resolgui la xarxa, per\u00f2 ara hem de dir com resoldre'l. Aquesta \u00e9s la feina de l'optimitzador. L'optimitzador \u00e9s un algorisme que ajusta els pesos per minimitzar el valor de la funci\u00f3 de p\u00e8rdua.</p> <p>Pr\u00e0cticament tots els algorismes d'optimitzaci\u00f3 utilitzats en l'aprenentatge profund pertanyen a una fam\u00edlia anomenada descens de gradient estoc\u00e0stic. S\u00f3n algorismes iteratius que entrenen una xarxa en passos. Un pas de l'aprenentatge es produeix aix\u00ed:</p> <ul> <li>Mostra algunes dades d'entrenament i executa-les a trav\u00e9s de la xarxa per fer prediccions.</li> <li>Mesura la p\u00e8rdua entre les prediccions i els valors reals.</li> <li>Ajusteu els pesos en una direcci\u00f3 que fa\u00e7a que la p\u00e8rdua siga menor.</li> <li>Repetiu els passos anteriors una i altra vegada fins que la p\u00e8rdua siga menor del que volem (o fins que no disminuixca m\u00e9s).</li> </ul> <p></p> <p>La mostra de dades d'entrenament de cada iteraci\u00f3 s'anomena <code>minibatch</code>, <code>batch</code> o lot (ve del processament per lots als primers ordinadors), mentre que una ronda completa de dades d'entrenament s'anomena <code>epoch</code>. El nombre d'epochs \u00e9s quantes vegades la xarxa veur\u00e0 cada exemple d'entrenament, quantes passades amb totes les dades far\u00e0 per a ajustar-se.</p> <p>L'animaci\u00f3 mostra un model lineal aplicat al datasets de cereals entrenat amb SGD. Els punts rojos clars representen tot el conjunt d'entrenament, mentre que els punts rojos m\u00e9s oscurs s\u00f3n els minibatch. Cada vegada que SGD veja un minibatch nou, canviar\u00e0 els pesos (w el pendent i b la intercepci\u00f3 en Y) cap a valors m\u00e9s precisos en aquest lot. Lot rere lot, la l\u00ednia finalment va convergint cap a ajustos millors. Podeu veure que la p\u00e8rdua es redueix a mesura que els pesos s'acosten als seus valors reals.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/05_Keras/#taxa-daprenentatge-i-mida-del-lot","title":"Taxa d'aprenentatge i mida del lot\u00b6","text":"<p>Tingueu en compte que la l\u00ednia nom\u00e9s fa un xicotet despla\u00e7ament per a cada lot. La mida d'aquests torns ve determinada per la taxa d'aprenentatge. Una taxa d'aprenentatge m\u00e9s xicoteta significa que la xarxa ha de veure m\u00e9s minilots abans que els seus pesos convergin als seus millors valors.</p> <p>La taxa d'aprenentatge i la mida dels minilots s\u00f3n els dos par\u00e0metres que tenen un efecte m\u00e9s gran sobre com es desenvolupa l'entrenament amb SGD. La seva relaci\u00f3 \u00e9s subtil i l'elecci\u00f3 correcta per a aquests par\u00e0metres no sol ser \u00f2bvia.</p> <p>Afortunadament, per a la majoria de problemes no ser\u00e0 necessari fer una b\u00fasqueda extensa d'hiperpar\u00e0metres per obtindre resultats satisfactoris.</p> <p>Adam \u00e9s un algorisme SGD que t\u00e9 una taxa d'aprenentatge adaptativa, va variant per s\u00ed mateixa a mesura que es convergeix cap a la soluci\u00f3. Aix\u00f2 el fa adequat per a la majoria de problemes sense cap ajustament de par\u00e0metres, ja que en cert sentit s'autoajusta. Adam \u00e9s un gran optimitzador de prop\u00f2sit general.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/05_Keras/#afegint-la-funcio-de-perdua-i-loptimitzador","title":"Afegint la funci\u00f3 de p\u00e8rdua i l'optimitzador\u00b6","text":"<p>Despr\u00e9s de definir un model, podeu afegir una funci\u00f3 de p\u00e8rdua i un optimitzador amb el m\u00e8tode <code>compile</code> del model:</p> <pre>model.compile(\n    optimizer=\"adam\",\n    loss=\"mae\",\n)\n</pre> <p>Tingueu en compte que podem especificar la funci\u00f3 de p\u00e8rdua i l'optimitzador passant-li nom\u00e9s una cadena de texta. Tamb\u00e9 podriem definir els nostres objectes personalitzats per poder ajustar els seus par\u00e0metres. Per\u00f2 de moment utilitzarem els par\u00e0metres predeterminats que funcionen b\u00e9.</p> <p>SGD</p> <p>     El gradient \u00e9s un vector que ens indica en quina direcci\u00f3 han d'anar els pesos. M\u00e9s precisament, ens indica com canviar els pesos perqu\u00e8 la p\u00e8rdua varie m\u00e9s r\u00e0pidament. Anomenem descens del gradient al nostre proc\u00e9s perqu\u00e8 utilitza el gradient per baixar la corba de p\u00e8rdua cap al m\u00ednim. Estoc\u00e0stic significa *determinat per l'atzar*. El nostre entrenament o ajust \u00e9s estoc\u00e0stic perqu\u00e8 els lots s\u00f3n mostres aleat\u00f2ries del conjunt de dades. I per aix\u00f2 es diuen a este conjunt d'algorismes SGD.   </p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/05_Keras/#preparacio-de-les-dades","title":"Preparaci\u00f3 de les dades\u00b6","text":"<p>En la majoria de casos, abans de passar les dades a entrenament, necessitem preparar-les per a que la xarxa convergisca a uns valors i a m\u00e9s ho fa\u00e7a en el menor temps possible.</p> <p>Depenent de la situaci\u00f3 i del tipus de dades amb les quals estigues treballant aplicarem unes t\u00e8cniques o altres. Dues de les t\u00e8cniques m\u00e9s utilitzades s\u00f3n:</p> <ul> <li>la normalitzaci\u00f3 min-max (on les dades es reescalen per estar dins de l\u2019interval [0,1]. \u00c9s \u00fatil quan les dades representen n\u00fameros grans o quan saps que tenes l\u00edmits (com el color d'un p\u00edxel d\u2019una imatge que est\u00e0 entre 0 i 255)</li> <li>l\u2019estandarditzaci\u00f3, on les dades es centren per tindre una mitjana de zero i es reescalen per tindre una desviaci\u00f3 est\u00e0ndard d\u2019\u00fa. \u00c9s \u00fatil quan les teues dades seguixen una distribuci\u00f3 gaussiana (o similar) i vols que la mitjana siga zero i la desviaci\u00f3 est\u00e0ndard siga un. Aquesta t\u00e8cnica \u00e9s menys sensible als valors at\u00edpics que la normalitzaci\u00f3 min-max.</li> </ul> <p>Estes t\u00e8cniques ens proporcionen molts avantatges, com:</p> <ol> <li><p>Evitar l\u2019explosi\u00f3 de gradients: Si les dades tenen una escala gran, els gradients poden tindre valors molt grans i provocar que l\u2019aprenentatge siga inestable o fins i tot falle.</p> </li> <li><p>Accelerar l\u2019aprenentatge: Quan totes les caracter\u00edstiques estan a la mateixa escala, la superf\u00edcie d\u2019error \u00e9s m\u00e9s \u201cuniforme\u201d i el gradient descendent pot convergir m\u00e9s r\u00e0pidament.</p> </li> <li><p>Evitar el biaix de caracter\u00edstiques: Si una caracter\u00edstica t\u00e9 una escala molt m\u00e9s gran que una altra, la xarxa neuronal pot donar m\u00e9s import\u00e0ncia a la caracter\u00edstica de gran escala simplement perqu\u00e8 els seus valors s\u00f3n m\u00e9s grans, no perqu\u00e8 aporte m\u00e9s informaci\u00f3 al model.</p> </li> <li><p>Facilitar la comparaci\u00f3 lineal de caracter\u00edstiques.</p> </li> </ol> <p>Ajustament de les dades</p> <p>     Ajusta l\u2019escalador nom\u00e9s amb les dades d\u2019entrenament, per\u00f2 transforma tant les dades d\u2019entrenament com les de prova. Si ajustes l\u2019escalador utilitzant tot el conjunt de dades abans de dividir, les dades de prova podrien influir en com s\u2019ajusta l\u2019escalador, cosa que podria portar a resultats optimistes i enganyosos quan valides el model.   </p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/05_Keras/#subajust-i-sobreajust","title":"Subajust i sobreajust\u00b6","text":"<p>A l'apartat anterior hem vist que keras mant\u00e9 un historial de la p\u00e8rdua d'entrenament i validaci\u00f3 durant les \u00e8poques en qu\u00e8 est\u00e0 entrenant el model. Anem a interpretar aquestes corbes d'aprenentatge i com les podem utilitzar per guiar el desenvolupament del model. En particular, examinarem les corbes d'aprenentatge per trobar proves de subajust i sobreajust i analitzarem un parell d'estrat\u00e8gies per corregir-ho, tal com vam fer amb algoritmes de ML amb sklearn.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/05_Keras/#corbes-de-loss-i-val_loss","title":"Corbes de <code>loss</code> i <code>val_loss</code>\u00b6","text":"<p>Podrem pensar que la informaci\u00f3 de les dades d'entrenament \u00e9s de dos tipus: senyal i soroll.</p> <ul> <li>El senyal \u00e9s la part que generalitza, la part que pot ajudar el nostre model a fer prediccions a partir de dades noves, la part que aporta informaci\u00f3 al model</li> <li>El soroll \u00e9s aquella part que nom\u00e9s \u00e9s certa de les dades d'entrenament per\u00f2 no en les de validaci\u00f3. \u00c9s tota la fluctuaci\u00f3 aleat\u00f2ria que prov\u00e9 de les dades del m\u00f3n real o de tots els patrons incidentals i no informatius que en realitat no poden ajudar el model a fer prediccions. El soroll \u00e9s la part que pot semblar \u00fatil, per\u00f2 realment no ho \u00e9s.</li> </ul> <p>Entrenem un model que s'autoajusta els seus pesos o par\u00e0metres per minimitzar els valors de la funci\u00f3 de p\u00e8rdua en un conjunt d'entrenament. Per\u00f2, com ja sabem, per avaluar amb precisi\u00f3 el rendiment d'un model, hem d'avaluar-lo en un nou conjunt de dades, les dades de validaci\u00f3 o test.</p> <p>Quan hem entrenat el model, hem tra\u00e7at la p\u00e8rdua en el conjunt d'entrenament i validaci\u00f3 \u00e8poca per \u00e8poca(loss i val_loss). Aquests gr\u00e0fics s'anomenem corbes d'aprenentatge. Per entrenar models d'aprenentatge profund de manera efica\u00e7, hem de ser capa\u00e7os d'interpretar-les.</p> <p></p> La funci\u00f3 de p\u00e8rdua en dades de validaci\u00f3 proporciona una estimaci\u00f3 de l'error esperat en dades no entrenades. <p>Ara, <code>loss</code> disminuir\u00e0 quan el model aprenga del senyal i quan aprenga del soroll. Per\u00f2 <code>val_loss</code> sols disminuir\u00e0 quan el model aprenga del senyal, ja que siga quin siga el soroll que el model haja apr\u00e9s del conjunt d'entrenament, no es generalitzar\u00e0 a dades noves. Aix\u00ed, quan un model apr\u00e9n del senyal, ambdues corbes baixen, per\u00f2 quan apr\u00e9n soroll es crea un buit a les corbes. La mida de la bretxa, la difer\u00e8ncia entre corbes, indica quant de soroll ha apr\u00e9s el model.</p> <p>L'ideal seria crear models que aprenguen tot del senyal i res del soroll. Aix\u00f2 no passar\u00e0 mai. En canvi fem un balan\u00e7, podem aconseguir que el model aprenga m\u00e9s senyal a costa d'aprendre m\u00e9s soroll. Mentre el balan\u00e7 siga a favor nostre, la p\u00e8rdua de validaci\u00f3 continuar\u00e0 disminuint. Per\u00f2 passat un cert moment el balan\u00e7 pot tornar-se en contra nostra, el cost superar el benefici i la p\u00e8rdua de validaci\u00f3 comen\u00e7a a augmentar.</p> <p></p> Subajust i sobreajust <p>Aquesta compensaci\u00f3 indica que poden haver-hi dos problemes que es produeixen en entrenar un model: falta de senyal o massa soroll. L'ajustament insuficient o subajustament del conjunt d'entrenament es produeix quan la p\u00e8rdua no \u00e9s tan baixa com podria ser perqu\u00e8 el model no ha apr\u00e9s prou senyal. Sobreajustar el conjunt d'entrenament \u00e9s quan la p\u00e8rdua no \u00e9s tan baixa com podria ser perqu\u00e8 el model ha apr\u00e9s massa soroll.</p> <p>Balan\u00e7</p> <p>     El truc per formar models d'aprenentatge profund \u00e9s trobar el millor equilibri entre els dos.   </p> <p>Veurem un parell de maneres d'obtenir m\u00e9s senyal de les dades d'entrenament alhora que redu\u00efm la quantitat de soroll.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/05_Keras/#capacitat-capacity","title":"Capacitat (Capacity)\u00b6","text":"<p>La capacitat d'un model es refereix a la mida i complexitat dels patrons que \u00e9s capa\u00e7 d'aprendre. Per a les xarxes neuronals, aix\u00f2 estar\u00e0 determinat en gran manera per quantes neurones tinga i com estan connectades entre elles. Si sembla que la vostra xarxa no est\u00e0 ajustada a les dades, haur\u00edeu d'intentar augmentar la capacitat.</p> <p>Podem augmentar la capacitat d'una xarxa fent-la m\u00e9s \u00e0mplia (m\u00e9s unitats a les capes existents) o fent-la m\u00e9s profunda (afegint m\u00e9s capes). Les xarxes m\u00e9s \u00e0mplies tenen m\u00e9s facilitat per aprendre relacions m\u00e9s lineals, mentre que les xarxes m\u00e9s profundes prefereixen les relacions no lineals.</p> <p>Qu\u00e8 \u00e9s millor nom\u00e9s dep\u00e9n del conjunt de dades.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/05_Keras/#parada-anticipada-early-stopping","title":"Parada anticipada (Early Stopping)\u00b6","text":"<p>Hem esmentat que quan un model est\u00e0 aprenent amb massa soroll, la p\u00e8rdua de validaci\u00f3 pot comen\u00e7ar a augmentar durant l'entrenament. Per evitar-ho, simplement podem parar l'entrenament sempre que sembli que la p\u00e8rdua de validaci\u00f3 ja no disminueix. Interrompre l'entrenament d'aquesta manera s'anomena parada anticipada.</p> <p></p> Parem l'entrenament quan la p\u00e8rdua de validaci\u00f3 est\u00e0 al m\u00ednim <p>Una vegada detectem que la p\u00e8rdua de validaci\u00f3 comen\u00e7a a augmentar de nou, podem restablir els pesos al punt on es va produir el m\u00ednim. Aix\u00f2 assegura que el model no continuar\u00e0 aprenent soroll i sobreadaptant les dades.</p> <p>Entrenar amb parada anticipada tamb\u00e9 significa que correm menys perill de parar l'entrenament massa prompte, abans que la xarxa haja acabat d'aprendre el senyal. Aix\u00ed, a m\u00e9s d'evitar que l'exc\u00e9s d'adaptaci\u00f3 s'entrene massa temps, la parada anticipada tamb\u00e9 pot evitar que l'adaptaci\u00f3 insuficient no s'entrene el temps suficient.</p> <p>\u00das de parada anticipada</p> <p>     Per tant, configureu les vostres \u00e8poques d'entrenament en un nombre gran (m\u00e9s del que necessitareu) i la parada anticipada s'encarregar\u00e0 de parar el model en un punt \u00f2ptim.   </p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/05_Keras/#codifiquem-la-parada-anticipada","title":"Codifiquem la parada anticipada\u00b6","text":"<p>A Keras, incloem la parada anticipada mitjan\u00e7ant una funci\u00f3 de callback.</p> <p>\u00das de parada anticipada</p> <p>     Una funci\u00f3 de *callback* \u00e9s nom\u00e9s una funci\u00f3 que es passa com a argument a una altra funci\u00f3 i que s'executar\u00e0 en produir-se un esdeveniment.   </p> <p>Al nostre cas, la funci\u00f3 de callback d'early stopping s'executar\u00e0 despr\u00e9s de cada \u00e8poca. Keras t\u00e9 un conjunt de funcions de callback predefinides i molt \u00fatils, per\u00f2 tamb\u00e9 podeu definir les vostres pr\u00f2pies funcions.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/05_Keras/#activitat-1","title":"Activitat 1\u00b6","text":"<p>En este moment hauries de realitzar l'activitat 1.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/05_Keras/#dropout-abandonament-i-batch-normalization-normalitzacio-de-lots","title":"<code>Dropout</code> (abandonament) i <code>Batch Normalization</code> (normalitzaci\u00f3 de lots)\u00b6","text":"<p>Hi ha molts tipus de capes a banda de les capes denses que podem utilitzar amb keras. Alguns tipus de capes s\u00f3n semblants a les capes denses i defineixen connexions entre neurones, per\u00f2 altres poden fer preprocessament o transformacions sobre les dades.</p> <p>En aquest apartat, aprendrem sobre dos tipus de capes especials, que no contenen neurones, per\u00f2 que afegeixen alguna funcionalitat que de vegades pot beneficiar un model de diverses maneres. Tots dos tipus s'utilitzen habitualment en arquitectures modernes.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/05_Keras/#dropout","title":"Dropout\u00b6","text":"<p>El dropout pot ajudar a corregir el sobreajustament.</p> <p>Durant l\u2019entrenament d\u2019una xarxa neuronal, el \u201cdropout\u201d es realitza de manera que a cada pas d\u2019entrenament, cada neurona (incloent les neurones d\u2019entrada) t\u00e9 una probabilitat, diguem p, de ser temporalment \u201cdesactivada\u201d o ignorada durant aquest pas. Aix\u00f2 significa que contribuir\u00e0 amb zero a la suma total en la seg\u00fcent capa, en lloc del seu valor normal. La probabilitat p \u00e9s un hiperpar\u00e0metre que es pot ajustar.</p> <p>La idea principal darrere del dropout \u00e9s que, al for\u00e7ar a la xarxa a perdre informaci\u00f3, es fa m\u00e9s dif\u00edcil per a qualsevol neurona dependre fortament de l\u2019entrada d\u2019altres neurones, ja que aquestes entrades poden ser desactivades en qualsevol moment durant l\u2019entrenament.</p> <p>Dit d'una altra manera, eliminem aleat\u00f2riament una part de les unitats d'entrada d'una capa a cada pas de l'entrenament, cosa que fa que siga molt m\u00e9s dif\u00edcil que la xarxa aprenga patrons falsos a les dades d'entrenament. En lloc d'aix\u00f2, ha de buscar patrons amplis i generals, els patrons de pes dels quals solen ser m\u00e9s robusts.</p> <p>Aix\u00f2 ajuda a prevenir el sobreajustament i fa que la xarxa siga m\u00e9s robusta.</p> <p></p> 50% de dropout entre les dues capes ocultes <p>Tamb\u00e9 podem pensar en l'abandonament com la creaci\u00f3 d'una esp\u00e8cie de conjunt de xarxes. Les prediccions ja no seran fetes per una gran xarxa, sin\u00f3 per un comit\u00e9 de xarxes m\u00e9s xicotetes. Els individus del comit\u00e9 tendeixen a cometre diferents tipus d'errors, per\u00f2 tenen ra\u00f3 al mateix temps, fent que el comit\u00e9 en conjunt siga millor que qualsevol individu. \u00c9s la mateixa idea que hi ha darrere del RandomForest o boscos aleatoris com a conjunt d'arbres de decisi\u00f3.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/05_Keras/#codificant-abandonament","title":"Codificant abandonament\u00b6","text":"<p>A Keras, l'argument de la taxa d'abandonament defineix quin percentatge de les unitats d'entrada cal desactivar. Col\u00b7loquem la capa d'abandonament just abans de la capa a la qual volem aplicar l'abandonament:</p> <pre>keras.Sequential([\n    # ...\n    layers.Dropout(rate=0.3), # apply 30% dropout to the next layer\n    layers.Dense(16),\n    # ...\n])\n</pre>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/05_Keras/#activitat-2","title":"Activitat 2\u00b6","text":"<p>En este moment hauries de realitzar l'activitat 2.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/05_Keras/#normalitzacio-de-lots","title":"Normalitzaci\u00f3 de lots\u00b6","text":"<p>La seg\u00fcent capa especial que veurem realitza la \"normalitzaci\u00f3 per lots\" (o \"batchnorm\"), que pot ajudar a corregir l'entrenament que \u00e9s lent o inestable.</p> <p>Ja vam explicar que \u00e9s millor normalitzar les dades utilitzant l'StandardScaler o el MinMaxScaler de scikit-learn abans d'entrenar un model d'IA. El motiu \u00e9s que SGD canviar\u00e0 els pesos de la xarxa en proporci\u00f3 a la quantitat d'activaci\u00f3 que produeixen les dades. Les caracter\u00edstiques que tendeixen a produir activacions de mides molt diferents poden provocar un comportament d'entrenament inestable.</p> <p>Ara b\u00e9, si \u00e9s bo normalitzar les dades abans que entren a la xarxa, potser tamb\u00e9 seria millor normalitzar dins de la xarxa. De fet, tenim un tipus especial de capa que pot fer-ho, la capa de normalitzaci\u00f3 per lots. Una capa de normalitzaci\u00f3 de lots mira cada lot a mesura que arriba, primer normalitza el lot amb la seua pr\u00f2pia mitjana i desviaci\u00f3 est\u00e0ndard i, a continuaci\u00f3, posa les dades a una escala nova amb dos par\u00e0metres de redimensionament entrenables. Batchnorm, en efecte, realitza una mena de redimensionament coordinat de les seues entrades.</p> <p>Moltes vegades, batchnorm s'afegeix com a ajuda per al proc\u00e9s d'optimitzaci\u00f3, tot i que de vegades tamb\u00e9 pot ajudar al rendiment de la predicci\u00f3. Els models amb batchnorm solen necessitar menys \u00e8poques per completar l'entrenament. A m\u00e9s, batchnorm tamb\u00e9 pot solucionar diversos problemes que poden fer que l'entrenament quede \"encallat\". Penseu en afegir normalitzaci\u00f3 per lots als vostres models, sobretot si teniu problemes durant l'entrenament.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/05_Keras/#codifiquem-la-normalitzacio-de-lots","title":"Codifiquem la normalitzaci\u00f3 de lots\u00b6","text":"<p>La normalitzaci\u00f3 de lots es pot utilitzar en gaireb\u00e9 qualsevol punt de la xarxa. El pots posar despr\u00e9s d'una capa...</p> <pre>layers.Dense(16, activation='relu'),\nlayers.BatchNormalization(),\n</pre> <p>... entre una capa i la seua funci\u00f3 d'activaci\u00f3:</p> <pre>layers.Dense(16),\nlayers.BatchNormalization(),\nlayers.Activation('relu'),\n</pre> <p>Batch Normalization com a primera capa</p> <p>     Si afegiu com a primera capa de la vostra xarxa una normalitzaci\u00f3 de lots, pot actuar com una esp\u00e8cie de preprocessador adaptatiu, substituint l'StandardScaler de Sci-Kit Learn.  <pre><code>```python\nlayers.BatchNormalization(input_shape=input_shape),\nlayers.Dense(512, activation='relu'),\n```</code></pre> <p></p></p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/05_Keras/#activitat-3","title":"Activitat 3\u00b6","text":"<p>En este moment hauries de realitzar l'activitat 3.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/05_Keras/#exemples","title":"Exemples\u00b6","text":""},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/05_Keras/#exemple-i-regressio-qualitat-del-vi-tinto","title":"Exemple I: Regressi\u00f3 - Qualitat del vi tinto\u00b6","text":"<p>Ara ja sabem tot el que necessitem per comen\u00e7ar a entrenar models d'aprenentatge profund. Aix\u00ed que anem a aplicar-ho. Utilitzarem el dataset de qualitat del vi tinto.</p> <p>Aquest dataset consisteix en mesures fisioqu\u00edmiques d'uns 1600 vins tintos portuguesos. Tamb\u00e9 s'inclou una qualificaci\u00f3 de qualitat per a cada vi a partir de proves de gust a cegues.</p> <p>Podriem predir la qualitat percebuda d'un vi a partir d'aquestes mesures?</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/05_Keras/#preparem-les-dades","title":"Preparem les dades\u00b6","text":"<p>En aquest fragment de codi, preparem les dades:</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/05_Keras/#definim-larquitectura-de-la-xarxa","title":"Definim l'arquitectura de la xarxa\u00b6","text":""},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/05_Keras/#compilacio","title":"Compilaci\u00f3\u00b6","text":"<p>Despr\u00e9s de definir el model, compilem amb l'optimitzador i la funci\u00f3 de p\u00e8rdua.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/05_Keras/#entrenament","title":"Entrenament\u00b6","text":"<p>Ara estem preparats per comen\u00e7ar l'entrenament.</p> <p>Indicarem a Keras que alimente l'optimitzador amb 256 files de dades d'entrenament alhora (<code>batch_size=256</code>) i que ho fa\u00e7a 10 vegades utilitzant tot el conjunt de dades (<code>epoch=10</code>).</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/05_Keras/#observem-les-corbes-daprenentatge","title":"Observem les corbes d'aprenentatge\u00b6","text":"<p>Podeu veure que Keras ens mant\u00e9 informat de l'evoluci\u00f3 de l'ajust a mesura que el model s'entrena.</p> <p>`loss` front a `val_loss`</p> <p>     `Loss` \u00e9s el valor de la funci\u00f3 de cost per a le dades d'entrenament, mentre que `val_loss` \u00e9s el valor de la funci\u00f3 de cost per a les dades de validaci\u00f3.   </p> Qu\u00e8 passa si val_loss augmenta el seu valor a partir d'un epoch mentre loss continua disminuint? <p>       El model comen\u00e7a a sobreentrenar-se.     </p> <p>Per\u00f2 una manera millor de veure la p\u00e8rdua \u00e9s dibuixar-la. El m\u00e8tode <code>fit</code>, de fet, mant\u00e9 un registre de la p\u00e8rdua produ\u00efda durant l'entrenament en un objecte <code>History</code>. Les dades d'aquest objecte les convertirem a un DataFrame de <code>Pandas</code>, per facilitar les representacions.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/05_Keras/#fem-prediccions","title":"Fem prediccions\u00b6","text":"<p>Una vegada entrenada la xarxa, podem fer prediccions amb ella i calcular el MAE, que ha de coincidir amb el de la \u00faltima <code>epoch</code> de l'entrenament. Esta etapa \u00e9s tal qual com la feiem amb els algorismes de ML i sklearn a l'apartat anterior.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/05_Keras/#parada-anticipada","title":"Parada anticipada\u00b6","text":"<p>Ara augmentem la capacitat de la xarxa. Anirem a buscar una xarxa bastant gran, per\u00f2 confiem en el <code>callback</code> per aturar la formaci\u00f3 quan la p\u00e8rdua de validaci\u00f3 mostre signes d'augment.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/05_Keras/#dropdown-i-batch-normalization","title":"Dropdown i batch normalization\u00b6","text":"<p>Continuem desenvolupant el model de Vi Negre. Ara augmentarem encara m\u00e9s la capacitat, per\u00f2 afegirem l'abandonament per controlar el sobreajust i la normalitzaci\u00f3 del lot per accelerar l'optimitzaci\u00f3. Aquesta vegada, tamb\u00e9 deixarem d'estandarditzar les dades, per demostrar com la normalitzaci\u00f3 per lots pot estabilitzar la formaci\u00f3.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/05_Keras/#exemple-ii-classificacio-binaria-deteccio-dobjectes-a-la-ionosfera","title":"Exemple II: Classificaci\u00f3 bin\u00e0ria - Detecci\u00f3 d'objectes a la ionosfera\u00b6","text":"<p>Fins ara, hem apr\u00e9s com les xarxes neuronals poden resoldre problemes de regressi\u00f3. Ara aplicarem les xarxes neuronals a un altre problema com\u00fa d'aprenentatge autom\u00e0tic: la classificaci\u00f3. La majoria de tot el que hem apr\u00e9s fins ara encara s'aplica. La difer\u00e8ncia principal est\u00e0 en la funci\u00f3 de p\u00e8rdua que fem servir i en quin tipus d'eixida volem que produ\u00efsca la capa final.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/05_Keras/#precisio-accuracy-i-entropia-creuada-cross-entropy","title":"Precisi\u00f3 (Accuracy) i entropia creuada (Cross-Entropy)\u00b6","text":"<p>La precisi\u00f3 \u00e9s una de les moltes m\u00e8triques que s'utilitzen per mesurar l'\u00e8xit en un problema de classificaci\u00f3. La precisi\u00f3 \u00e9s la relaci\u00f3 entre les prediccions correctes i les prediccions totals: $$precisi\u00f3 = correctes / total$$.</p> <p>Un model que sempre prediu correctament tindria una puntuaci\u00f3 de precisi\u00f3 d'1,0. En igualtat de condicions, la precisi\u00f3 \u00e9s una m\u00e8trica raonable per utilitzar sempre que les classes del conjunt de dades es produeixen amb la mateixa freq\u00fc\u00e8ncia aproximadament.</p> <p>El problema de la precisi\u00f3 (i de la majoria de les altres m\u00e8triques de classificaci\u00f3) \u00e9s que no es pot utilitzar com a funci\u00f3 de p\u00e8rdua. Les raons s\u00f3n:</p> <ul> <li>No \u00e9s continua, per tant no es pot calcular el seu gradient: L\u2019exactitud \u00e9s una funci\u00f3 de pas, que significa que t\u00e9 un valor constant dins d\u2019un cert interval i despr\u00e9s salta a un altre valor. Aix\u00f2 fa que no tingui un gradient, que \u00e9s necessari per a l\u2019optimitzaci\u00f3 basada en el gradient, com ara la retropropagaci\u00f3 utilitzada en les xarxes neuronals.</li> <li>No proporciona una bona indicaci\u00f3 de la confian\u00e7a del model: L\u2019exactitud nom\u00e9s ens diu la fracci\u00f3 de prediccions correctes, per\u00f2 no ens diu res sobre la confian\u00e7a del model en aquestes prediccions. Per exemple, un model pot estar molt segur d\u2019una predicci\u00f3 incorrecta i aix\u00f2 no es reflectiria en l\u2019exactitud.</li> <li>No \u00e9s sensible al desequilibri de classes: Si tenim un conjunt de dades amb un gran desequilibri de classes, on la majoria de les mostres pertanyen a una classe, un model podria obtenir una alta exactitud simplement preveient sempre la classe majorit\u00e0ria. No obstant aix\u00f2, aix\u00f2 no seria \u00fatil si estem interessats en la classificaci\u00f3 correcta de la classe minorit\u00e0ria.</li> </ul> <p>SGD necessita una funci\u00f3 de p\u00e8rdua que canvie de forma cont\u00ednua, per\u00f2 la precisi\u00f3, sent una proporci\u00f3 de recomptes, canvia a \"bots\". Per tant, hem de triar un substitut que actue com a funci\u00f3 de p\u00e8rdua. Aquest substitut pot ser la funci\u00f3 d'entropia creuada, encara que podrien ser altres com la p\u00e8rdua log\u00edstica, per exemple.</p> <p>Ara, recordeu que la funci\u00f3 de p\u00e8rdua defineix l'objectiu de la xarxa durant l'entrenament. Amb la regressi\u00f3, el nostre objectiu era minimitzar la dist\u00e0ncia entre el resultat esperat i el resultat previst. Vam escollir MAE per mesurar aquesta dist\u00e0ncia.</p> <p>Per a la classificaci\u00f3, el que volem \u00e9s una dist\u00e0ncia entre probabilitats, i aix\u00f2 \u00e9s el que proporciona l'entropia creuada. L'entropia creuada \u00e9s una mesura de la dist\u00e0ncia d'una distribuci\u00f3 de probabilitat a una altra, la dist\u00e0ncia entre les probabilitats predites i les etiquestes reals.</p> <p> L'entropia creuada penalitza la probabilitat de prediccions incorrectes</p> <p>La idea \u00e9s que volem que la nostra xarxa prediga la classe correcta amb una probabilitat 1.0. Com m\u00e9s lluny siga la probabilitat prevista d'1,0, m\u00e9s gran ser\u00e0 la p\u00e8rdua d'entropia creuada.</p> <p>Les raons t\u00e8cniques per les quals utilitzem l'entropia creuada s\u00f3n un poc subtils, per\u00f2 les principals idees s\u00f3n que:</p> <ul> <li>utilitzem l'entropia creuada per a una p\u00e8rdua de classificaci\u00f3</li> <li>altres m\u00e8triques que ens poden interessar, com ara la precisi\u00f3 (accuracy), tendiran a millorar en millorar l'entropia creuada.</li> </ul>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/05_Keras/#prediccio-de-probabilitats-amb-la-funcio-sigmoide","title":"Predicci\u00f3 de probabilitats amb la funci\u00f3 sigmoide\u00b6","text":"<p>Les funcions d'entropia creuada i de precisi\u00f3 requereixen probabilitats com a entrades, \u00e9s a dir, n\u00fameros del 0 a l'1. Per produir eixides de valor real produ\u00efdes per una capa densa en probabilitats, estudiem un nou tipus de funci\u00f3 d'activaci\u00f3, l'activaci\u00f3 sigmoide.</p> <p> La funci\u00f3 sigmoide transforma valors reals a valors entre 0 i 1</p> <p>Per obtenir la predicci\u00f3 final de classe, definim un llindar de probabilitat. Normalment ser\u00e0 0,5, de manera que l'arrodoniment ens donar\u00e0 la classe correcta: per davall de 0,5 significa que etiquetem la classe amb l'etiqueta 0 i 0,5 o superior significa classe amb l'etiqueta 1. El llindar de 0,5 \u00e9s el que Keras utilitza per defecte amb la seua m\u00e8trica de precisi\u00f3.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/05_Keras/#preparem-les-dades","title":"Preparem les dades\u00b6","text":"<p>El dataset de la ionosfera cont\u00e9 caracter\u00edstiques obtingudes a partir de sensors situats a la ionosfera sobre l'atmosfera terrestre. L'objectiu \u00e9s determinar si els senyals mostren la pres\u00e8ncia d'algun objecte o nom\u00e9s aire.</p> <p>Baixa't el csv d'ac\u00ed</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/05_Keras/#definim-la-xarxa-neuronal","title":"Definim la xarxa neuronal\u00b6","text":"<p>Tindrem 33 entrades, ja que tenim 33 caracter\u00edstiques al dataset, i l'\u00faltima capa ser\u00e0 una sigmoide, ja que estem davant un problema de classificaci\u00f3 bin\u00e0ria. Per a les capes d'entrada i interm\u00e8dia, definim 4 neurones en cadascuna.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/05_Keras/#compilem","title":"Compilem\u00b6","text":"<p>Definim l'optimitzador <code>adam</code>, la funci\u00f3 de p\u00e8rdua com a <code>binary_crossentropy</code> i m\u00e8trica <code>binary_accuracy</code>, que calcula la freq\u00fc\u00e8ncia amb qu\u00e8 les prediccions coincideixen amb les etiquetes.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/05_Keras/#early-stopping-i-entrenament","title":"Early stopping i entrenament\u00b6","text":"<p>El model d'aquest problema en particular pot trigar unes quantes \u00e8poques a completar l'entrenament, de manera que inclourem una devoluci\u00f3 de trucada d'aturada anticipada per comoditat.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/05_Keras/#corbes-daprenentatge","title":"Corbes d'aprenentatge\u00b6","text":"<p>Ens fixem en les corbes d'aprenentatge com sempre i tamb\u00e9 inspeccionarem els millors valors per a la p\u00e8rdua i la precisi\u00f3 que tenim al conjunt de validaci\u00f3. Recordeu que la parada anticipada restaurar\u00e0 els pesos qu\u00e8 han obtingut aquests valors (<code>restore_best_weights=True</code>).</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/05_Keras/#annex-optimitzadors-i-funcions-de-perdua-en-xarxes-neuronals","title":"Annex. Optimitzadors i Funcions de P\u00e8rdua en Xarxes Neuronals.\u00b6","text":"<p>Una gran pregunta \u00e9s saber cada tipus de optimitzador i funci\u00f3 de p\u00e8rdua en quins escenaris es fa servir.</p> <p>Optimitzadors:</p> <ol> <li><p>Adam:</p> <ul> <li>Adam (Adaptive Moment Estimation) \u00e9s un optimitzador popular que combina les idees dels m\u00e8todes de momentum i RMSProp.</li> <li>S'adapta din\u00e0micament a les taxes d'aprenentatge per a cada par\u00e0metre.</li> <li>\u00c9s \u00e0mpliament utilitzat en una varietat de problemes a causa de la seva efic\u00e0cia i rapidesa de converg\u00e8ncia.</li> <li>Adequat per a problemes de regressi\u00f3 i classificaci\u00f3 en conjunts de dades grans i complexos.</li> </ul> </li> <li><p>SGD (Stochastic Gradient Descent):</p> <ul> <li>SGD \u00e9s l'optimitzador b\u00e0sic utilitzat en moltes implementacions de xarxes neuronals.</li> <li>Actualitza els par\u00e0metres en la direcci\u00f3 contr\u00e0ria al gradient de la funci\u00f3 de p\u00e8rdua.</li> <li>Pot ser \u00fatil per a problemes simples o quan es desitja un control m\u00e9s prec\u00eds sobre l'actualitzaci\u00f3 de par\u00e0metres.</li> <li>Adequat per a problemes de regressi\u00f3 i classificaci\u00f3, especialment en conjunts de dades petits o quan es necessiten solucions m\u00e9s interpretables.</li> </ul> </li> <li><p>RMSProp (Root Mean Square Propagation):</p> <ul> <li>RMSProp \u00e9s un optimitzador que adapta les taxes d'aprenentatge per a cada par\u00e0metre en funci\u00f3 de l'hist\u00f2ric de gradients.</li> <li>\u00c9s \u00fatil per a mitigar el problema dels canvis d'escala en les variables i accelerar la converg\u00e8ncia.</li> <li>Adequat per a problemes de classificaci\u00f3 i regressi\u00f3 en els quals es vol controlar la velocitat d'aprenentatge de forma adaptativa.</li> </ul> </li> </ol> <p>Funcions de P\u00e8rdua:</p> <ol> <li><p>MAE (Mean Absolute Error):</p> <ul> <li>MAE calcula la difer\u00e8ncia absoluta entre les prediccions i les etiquetes veritables i despr\u00e9s pren la mitjana d'aquestes difer\u00e8ncies.</li> <li>\u00c9s menys sensible als valors at\u00edpics que l'error quadr\u00e0tic mitj\u00e0 (MSE).</li> <li>Es pot utilitzar en problemes de regressi\u00f3 quan es desitja una m\u00e8trica d'error m\u00e9s robusta davant valors at\u00edpics.</li> </ul> </li> <li><p>MSE (Mean Squared Error):</p> <ul> <li>MSE calcula la difer\u00e8ncia quadr\u00e0tica entre les prediccions i les etiquetes veritables i despr\u00e9s pren la mitjana d'aquestes difer\u00e8ncies.</li> <li>Penalitza m\u00e9s fortament els errors grans a causa de l'operaci\u00f3 d'elevaci\u00f3 al quadrat.</li> <li>\u00c9s com\u00fa en problemes de regressi\u00f3 quan es vol penalitzar els errors grans de manera significativa.</li> </ul> </li> <li><p>Binary Crossentropy:</p> <ul> <li>Binary Crossentropy \u00e9s una funci\u00f3 de p\u00e8rdua utilitzada en problemes de classificaci\u00f3 bin\u00e0ria.</li> <li>Calcula la p\u00e8rdua logar\u00edtmica entre les prediccions i les etiquetes veritables.</li> <li>Adequat per a problemes de classificaci\u00f3 bin\u00e0ria quan es vol optimitzar la probabilitat que una inst\u00e0ncia pertanyi a una classe espec\u00edfica.</li> </ul> </li> <li><p>Categorical Crossentropy:</p> <ul> <li>Categorical Crossentropy \u00e9s similar a la Binary Crossentropy, per\u00f2 s'utilitza en problemes de classificaci\u00f3 amb m\u00e9s de dues classes.</li> <li>Calcula la p\u00e8rdua logar\u00edtmica entre les prediccions i les etiquetes veritables per a cada classe.</li> <li>Adequat per a problemes de classificaci\u00f3 multiclasse on es vol optimitzar la probabilitat de cada classe.</li> </ul> </li> </ol>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/06_Reutilitzant_models/","title":"7. Reutilizant models","text":""},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/06_Reutilitzant_models/#introduccio-i-ara-que","title":"Introducci\u00f3: I ara, qu\u00e8?","text":"<p>En aquesta unitat hem vist com podem entrenar un model a partir de datasets existent, i comprovar la bondat o no del mateix. Pr\u00e8viament a l'entrenament (<code>fit</code> i <code>compile</code>) del model haurem d'haver preparat el dataset, eliminant les dades nules que poden apareixer (amb valids mitjans o m\u00e9s comuns), fent-les me adaptables per el model (normalitzant o codificant). Per a comprovar la bondat, a banda de les corbes de p\u00e8rdua durant l'entrenament, podem fer prediccions amb noves dades, mitjan\u00e7ant <code>predict</code>.</p> <p>Per\u00f2 al dia a dia, les dades anirem generant-les en temps real, I ara, que?</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/06_Reutilitzant_models/#guardem-el-model","title":"Guardem el model","text":"<p>Doncs un cop tinguem el model generat (sigui amb un model de Machine Learning o de Deep Learning), aquest model el podem guardar o comen\u00e7ar a fer prediccions reals en el dia a dia. Aix\u00f2 \u00e9s el que s'anomena posar en producci\u00f3. Per a fer aix\u00f2 haurem de guardar el model com si d'un arxiu normal es tractara.</p> <p>Un model dins d'un arxiu</p> <p>Aquest arxiu, que per exemple en Keras te la extensi\u00f3 <code>keras</code> o <code>h5</code>, contindr\u00e0 el model, la configuraci\u00f3 i, com no, tots els valors dels hiperpar\u00e0metres. Podriem obrir-lo i estudiar m\u00e9s en detall el seu contingut, per\u00f2 seria com obrir la XXNN, cosa que \u00e9s l'equivalent a obrir la caixa de pandora, per la seua complexitat</p> <p>Un cop guardar el model, simplement haurem de carregar-lo all\u00e0 on volem fer-lo servir. Llavors, simplement ens quedar\u00e0 el fer les prediccions que introdueix l'usuari, be mitjan\u00e7ant una GUI (aplicaci\u00f3 d'escriptori o m\u00f2bil), be mitjan\u00e7ant una web (aplicaci\u00f3 web), o be atenent les peticions des d'una API REST (servici)</p> <p>Consum de recursos en producci\u00f3</p> <p>No cal que la m\u00e0quina aquesta ja tingui una gran capacitat de c\u00f2mput, ja que en aquest moment no hem de calcular hiperpar\u00e0metres ni aplicar algorismes costosos com el Gradient Descend. En aquest moment la caixa de la xarxa neuronal no \u00e9s m\u00e9s que una f\u00f3rmula, i el c\u00e0lcul ser\u00e0 bastant simple.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/06_Reutilitzant_models/#guardem-amb-keras","title":"Guardem amb keras","text":"<p>La llibreria keras ens dona les seg\u00fcents opcions. mirem-ho a partir d'aquest codi:</p> <p>Guardem el model</p> Python<pre><code># despres de fer totes les preparacions del model\n\nmodel.compile()   # compilem el model\n\nmodel.fit()       # i entrenem el model\n\n# guardem el model al disc\nmodel.save('ruta/a/model.keras')  # hem de posar-li la extensi\u00f3 .keras\n\n# per a carregar-lo\nmodel=keras.models.load('ruta/a/model.keras')\n</code></pre> <p>Aquest comandament desa un model sencer en un sol fitxer. El fitxer inclour\u00e0:</p> <ul> <li>L'arquitectura o configuraci\u00f3 del model</li> <li>Valors dels pesos del model (que es van aprendre durant l'entrenament)</li> <li>La informaci\u00f3 de compilaci\u00f3 del model (si es va cridar a compile())</li> <li>L'optimitzador i el seu estat, si n'hi ha (aix\u00f2 us permet reiniciar l'entrenament on vau deixar)</li> </ul> <p>Quin \u00e9s l'estandar?</p> <p>Format <code>.h5</code> \u2192 El format .h5 es refereix als fitxers que segueixen l'est\u00e0ndard HDF5 (Hierarchical Data Format versi\u00f3 5). Aquests fitxers poden contenir una varietat de dades, no nom\u00e9s models de Keras:</p> <ul> <li>Poden incloure dades multidimensionals, metadades i altres objectes.</li> <li>Els models de Keras tamb\u00e9 es poden desar en fitxers .h5 utilitzant la funci\u00f3 model.save() de Keras amb l'extensi\u00f3 <code>.h5</code> en compte de <code>.keras</code>.</li> <li>Els fitxers en format .h5 s\u00f3n m\u00e9s vers\u00e0tils i poden ser compatibles amb una varietat d'eines i biblioteques que admeten el format HDF5.</li> </ul> <p>No obstant aix\u00f2, carregar models des de fitxers .h5 fora de l'entorn de Keras pot requerir l'\u00fas de biblioteques addicionals com ara h5py per treballar amb el format HDF5.</p> <p>Recomanem <code>.keras</code></p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/06_Reutilitzant_models/#guardant-qualssevol-model-joblibs","title":"Guardant qualssevol model. <code>joblibs</code>","text":"<p>Joblib \u00e9s una biblioteca de Python dissenyada per simplificar la tasca de desar i carregar objectes de Python (com ara matrius NumPy, models d'aprenentatge autom\u00e0tic, etc.) en el disc. El seu objectiu principal \u00e9s proporcionar una manera eficient i senzilla de treballar amb dades grans i complexes, especialment en el context de l'aprenentatge autom\u00e0tic i l'an\u00e0lisi de dades.</p> <p>Amb Joblib, pots desar objectes de Python en el disc en un format eficient, la qual cosa significa que ocupen menys espai i es carreguen m\u00e9s r\u00e0pidament en comparaci\u00f3 amb m\u00e8todes d'assignaci\u00f3 de recursos est\u00e0ndard com pickle. Aix\u00f2 \u00e9s particularment \u00fatil quan treballes amb conjunts de dades grans o models d'aprenentatge autom\u00e0tic que poden ocupar una quantitat significativa de mem\u00f2ria. Aix\u00f2 significa que pots utilitzar els mateixos m\u00e8todes de manera intu\u00eftiva per desar i carregar objectes, sense haver de preocupar-te pels detalls de la implementaci\u00f3 subjacent.</p> <p>Guardem el model amb joblibs</p> Python<pre><code>import joblib\n# altres imports\n\n# preparem les dades\n\n# Creaci\u00f3 del model\nmodel = ...\n\n# Compilaci\u00f3 del model\nmodel.compile()\n\n# Entrenament del model\nhistory = model.fit()\n\n# Guardar el model, la hist\u00f2ria de compilaci\u00f3 i els pesos amb Joblib\n# Si volem les dades ho tenim que fer per separat\njoblib.dump(model, 'model.joblib')\njoblib.dump(history.history, 'history.joblib')\nmodel.save_weights('model_weights.h5')\n</code></pre> <p>El gran aventatge \u00e9s que en aquest cas, joblib permet guardar un model tant fet amb Keras d'una xarxa neuronal, com d'un fet amb Sklearn del Machine Learning cl\u00e0ssic</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/06_Reutilitzant_models/#guardem-la-neteja-de-les-dades","title":"Guardem la neteja de les dades","text":"<p>Sols ens queda en tindre en consideraci\u00f3 les dades que li passarem al model per a fer les prediccions en el dia a dia. Si recordes, nosaltres partiem d'un dataset, al qual li feiem un preprocessat per adequar-ho a la xarxa neuronal. Doncs be, imagina que hem fet per exemple un escalat dels valors per predir el preu de cotxes a partir de les seues caracter\u00edstiques. Hem codificat el\u00e8ctric, hibrid, combusti\u00f3 amb el one hot encoding, i hem normalitzat la pot\u00e8ncia per a estar en valors entre [-2,2]. Ara imagina que un client vol una previsi\u00f3 de preu i ens passa les seg\u00fcents dades:</p> JSON<pre><code>{\n  marca:Nissan,\n  model:QashQai,\n  potencia: 150cv,\n  motor:combustio,\n  ...\n}\n</code></pre> <p>Evidentment aquesta informaci\u00f3 la devem d'adaptar al nostre model:</p> <ol> <li>El model treballa en entrades multidimensionals (dataframe de pandas o arrays de numpy)</li> <li>Haurem d'aplicar la mateixa conversi\u00f3 (be ordinal be amb el one hot encoding), per\u00f2 espai, amb la mateixa configuraci\u00f3 que hem fet per entrenar el model.</li> <li>Harem de normalitzar tots aquells valors previs</li> </ol> <p>Guardem la neteja de dades</p> Python<pre><code>from sklearn.compose import make_column_transformer\n\n# Carreguem el dataframe\nX= pd.load(...)\n\n# caracter\u00edstiquers num\u00e8riques del dataframe (normalitzar)\nfeatures_num = [...]\n\n# caracter\u00edstiques categoriques (one_hot o ordinal)\nfeatures_cat = []\n\n# preparem el netejador\npreprocessor = make_column_transformer(\n    (StandardScaler(), features_num),\n    (OneHotEncoder(), features_cat),\n)\n\n# Entrenem el preprocessador amb totes les dades\npreprocessor.fit(X)\n\n# Apliquem els preprocessat a les dades\nX_processat=preprocessor.transform(X)\n\n# Acabem d'entrenar al model\n\n# Guardem el preprocessador\njoblib.dump(preprocessor,'preprocessador.pkl')\n\n# Guardem el model\njoblib.dump(model,'model.pkl')\n</code></pre> <p>Aix\u00f2 ens permet,en un futur, quan tinguem que passar-li dades al nostre model, sobretot amb dades noves, preprocessar-les de la mateixa manera i en les mateixes condicions que el dataset que s'ha fet servir per a l'entrenament. Fariem alguna cosa com:</p> <p>Carrega del preprocessador</p> Python<pre><code>import joblib\n\npreprocessor=joblib.load('preprocessor.pkl')\nmodel=joblib.load('model.pkl')\n\n# imaginem les dades seg\u00fcents\n#\u00a0Aquestes dades les rebem del client o pantalla o mobil\ndades_del_client={\n  ...\n}\n\n# Funci\u00f3 que a partir de un json crea un array preparat\ndef prepare_data(dades,preprocessador):\n  # Passem el JSON a DF\n  df_client=pd.DataFrame(dades,index=[0])\n\n  # Apliquem el preprocessat\n  data=preprocessor.transform(df_client)\n  return data\n\n# preparem les dades\ndades=prepare_data(dades_client,preprocessor)\n\n# calculem la prediccio\nestimacio=model.predict(dades)\n</code></pre>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/1.%20NumPy/","title":"2. Manipulaci\u00f3 de Dades amb Numpy","text":""},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/1.%20NumPy/#1-introduccio-a-numpy","title":"1. Introducci\u00f3 a NumPy","text":"<p>Els conjunts de dades a manipular poden tindre diferents naturaleses i formats, incloent documents, imatges, sons, mesures... A pesar d'aquesta aparent heterogeitat, poden ser tractats com a conjunt d'arrays num\u00e8rics. </p> <p>Per exemple, una imatge pot ser representada com un array bidimensional de n\u00fameros, on cada element representa el color del pixel que ocupa a l'array. El so pot ser representat com un array unidimensional, on cada element representa la frq\u00fc\u00e8ncia front al temps. El text pot ser convertit a representaci\u00f3 num\u00e8rica mitjan\u00e7ant UTF-8. No importa la naturalesa de les dades, el primer pas en l'an\u00e0lisi de dades ser\u00e0 convertir aquestes dades en n\u00fameros.</p> <p>\u00c9s per aix\u00f2 que un emmagatzematge i manipulaci\u00f3 eficient de les dades \u00e9s absolutament fonamental en el proc\u00e9s d'an\u00e0lisi de dades, que ens permetran la construcci\u00f3 de programes d'Intel\u00b7lig\u00e8ncia Artificial.</p> <p>Ac\u00ed \u00e9s on entra en joc NumPy (Numerical Python), que ens ajudar\u00e0 a carregar, manipular i guardar dades en format num\u00e8ric. Un array de NumPy ser\u00e0 semblant a una llista (List) de Python, per\u00f2 de naturalesa homog\u00e8nia i num\u00e8rica. </p> <p>NumPy \u00e9s molt m\u00e9s eficient en el tractament de dades, sobretot quan la quantitat d'informaci\u00f3 creix. Representa el nucli de l'ecosistema de ci\u00e8ncia de dades amb Python. Aprendre'l ser\u00e0 benefici\u00f3s siga quin siga el camp d'inter\u00e9s.</p> <p>Per a instal\u00b7lar NumPy, simplement heu d'executar l'ordre:</p> Bash<pre><code>$ pip install numpy\n</code></pre> <p>Amb la seg\u00fcent ordre podem comprovar si s'ha instal\u00b7lat correctament i quina \u00e9s la versi\u00f3 que tenim instal\u00b7lada.</p> Python<pre><code>import numpy\nnumpy.__version__ # 2.1.2\n</code></pre> <p>Observareu que la majoria de gent importa utilitzant l'\u00e0lias np:</p> Python<pre><code>import numpy as np\n</code></pre>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/1.%20NumPy/#11-numpy-array-vs-python-list","title":"1.1. Numpy array vs Python List","text":"<p>En anteriors unitats, es va explicar que Python \u00e9s un llenguatge de tipat din\u00e0mic, per aix\u00f2 permet la creaci\u00f3 de llistes heterog\u00e8nies:</p> Python<pre><code>list_1 = [True, \"2\", 3.0, 4]\n[type(item) for item in list_1] #[&lt;class 'bool'&gt;, &lt;class 'str'&gt;, &lt;class 'float'&gt;, &lt;class 'int'&gt;]\n</code></pre> <p>Per\u00f2 aquesta flexibilitat ve acompanyada d'un cost: cada element ha d'acompanyar-se del seu tipus, la seua posici\u00f3 en mem\u00f2ria i altra informaci\u00f3. Cada element \u00e9s en realitat un objecte.</p> <p>En canvi, si els elements son homogenis, molta d'aquesta informaci\u00f3 seria redundant. Per aix\u00f2 \u00e9s molt m\u00e9s eficient aquest tipus de dades, tal com es mostra a la seg\u00fcent imatge:</p> <p></p> <p>La llista cont\u00e9 un punter a un bloc de punters, que apunten a cada objecte, mentre que NumPy apunta simplement a un bloc que cont\u00e9 les dades. \u00c9s per aix\u00f2 que \u00e9s menys flexible per\u00f2 molt m\u00e9s eficient.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/1.%20NumPy/#12-numpy-arrays","title":"1.2. NumPy Arrays","text":"<p>Creaci\u00f3 d'arrays a partir de llistes</p> Python<pre><code># array([1, 4, 2, 5, 3])\nnp.array([1, 4, 2, 5, 3])\n\n# array([3.14, 4.  , 2.  , 3.  ])\nnp.array([3.14, 4, 2, 3])\n\n# array([1., 2., 3., 4.], dtype=float32)\nnp.array([1, 2, 3, 4], dtype='float32')\n\n# array([[2, 3, 4],\n#        [4, 5, 6],\n#        [6, 7, 8]])\nnp.array([range(i, i + 3) for i in [2, 4, 6]])\n</code></pre> <p>Creaci\u00f3 d'arrays des de zero</p> Python<pre><code>#array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0])\nnp.zeros(10, dtype=int)\n\n# array([[1., 1., 1., 1., 1.],\n#        [1., 1., 1., 1., 1.],\n#        [1., 1., 1., 1., 1.]])\nnp.ones((3, 5), dtype=float)\n\n# array([[3., 3., 3., 3., 3.],\n#       [3., 3., 3., 3., 3.],\n#       [3., 3., 3., 3., 3.]])\nnp.full((3, 5), 3.)\n\n# array([ 0,  2,  4,  6,  8, 10, 12, 14, 16, 18])\nnp.arange(0, 20, 2)\n\n# array([0.  , 0.25, 0.5 , 0.75, 1.  ])\nnp.linspace(0, 1, 5)\n\n# array([[0.13718193, 0.00357101, 0.01323657],\n#        [0.39090681, 0.21454034, 0.74277238],\n#        [0.38737056, 0.96167256, 0.50637694]])\nnp.random.random((3, 3))\n\n# matriu de 3x3 amb valors enters aleat\u00f2ris\nnp.random.randint(0, 10, (3, 3))\n</code></pre> <p>Mostra aleat\u00f2ria seguint una distribuci\u00f3 normal o de Gauss</p> <p>Python<pre><code>mu, sigma = 0, 0.1\ns = np.random.normal(mu, sigma, 10000)\nimport matplotlib.pyplot as plt\ncount, bins, ignored = plt.hist(s, 100, density=True)\nplt.plot(bins, 1/(sigma * np.sqrt(2 * np.pi)) *\n            np.exp( - (bins - mu)**2 / (2 * sigma**2) ),\n      linewidth=2, color='r')\nplt.show()\n</code></pre> </p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/1.%20NumPy/#2-manipulacio-darrays-de-numpy","title":"2. Manipulaci\u00f3 d'arrays de NumPy","text":""},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/1.%20NumPy/#21-atributs-dels-arrays","title":"2.1. Atributs dels arrays","text":"<p>Dimensions</p> <p>Python<pre><code>array = np.random.randint(10, size=(3, 4, 5))  # Array de tres dimensions\nprint(\"n\u00famero de dimensions: \", array.ndim)\nprint(\"forma:\", array.shape)\nprint(\"tamany: \", array.size)\n</code></pre>   n\u00famero de dimensions:  3   forma: (3, 4, 5)   tamany:  60</p> <p>Tipus i espai ocupat per les dades</p> Python<pre><code>print(\"tipus de dades:\", array.dtype)\nprint(\"tamany d'element:\", array.itemsize, \"bytes\")\nprint(\"tamany total:\", array.nbytes, \"bytes\")\n</code></pre> <p>tipus de dades: int64   tamany d'element: 8 bytes   tamany total: 480 bytes</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/1.%20NumPy/#22-acces","title":"2.2. Acc\u00e9s","text":"<p>Acc\u00e9s als elements d'un array</p> <p>Python<pre><code>array = np.random.randint(10, size=6)\nprint(array)\nprint(array[3])\nprint(array[-2])\n</code></pre>   [5 3 2 6 9 3]   6   9</p> <p>Python<pre><code>array = np.random.randint(10, size=(3, 4))\nprint(array)\nprint(array[2, 0])\nprint(array[2, -1])\n</code></pre>   [[0 8 7 7]    [1 5 2 7]    [4 3 4 6]]   4   6</p> <p>Python<pre><code>array[0, 0] = 12\nprint(array)\n</code></pre>   [[12  8  7  7]   [ 1  5  2  7]   [ 4  3  4  6]]</p> <p>Pregunta</p> <p>Com quedar\u00e0 la variable array despr\u00e9s de la seg\u00fcent assignaci\u00f3?</p> Python<pre><code>array[0, 0] = 3.14159\n</code></pre> Comprovar resposta <p>[[3  8  7  7]   [ 1  5  2  7]   [ 4  3  4  6]]</p> <p>Pregunta</p> <p>Com quedar\u00e0 la variable array despr\u00e9s de la seg\u00fcent assignaci\u00f3?</p> Python<pre><code>array[1] = 3\n</code></pre> Comprovar resposta <p>[[3  8  7  7]   [ 3  3  3  3]   [ 4  3  4  6]]  </p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/1.%20NumPy/#23-subarrays","title":"2.3. Subarrays","text":""},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/1.%20NumPy/#231-unidimensionals","title":"2.3.1. Unidimensionals","text":"<p>La forma general d'accedir a subarrays \u00e9s: Python<pre><code>x[principi:fi:pas]\n</code></pre> on els valors per defcte s\u00f3n <code>principi=0, fi=tamany de la dimensi\u00f3, pas=1</code>.</p> <p>Accedint a subarrays en arrays unidimensionals</p> Python<pre><code>x = np.arange(10) # array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])\nx[:5] # array([0, 1, 2, 3, 4])\nx[4:7] # array([4, 5, 6])\nx[::2] # array([0, 2, 4, 6, 8])\nx[1::2] # array([1, 3, 5, 7, 9])\n</code></pre> <p>Compte amb passos negatius</p> Python<pre><code>x[::-1]  # array([9, 8, 7, 6, 5, 4, 3, 2, 1, 0])\n</code></pre> <p>Pregunta</p> <p>Qu\u00e8 contindr\u00e0 la variable subarray al seg\u00fcent fragment de codi?  </p> Python<pre><code>import numpy as np\nx = np.arange(10)\nsubarray = x[5::-2]\n</code></pre> Comprovar resposta Python<pre><code>array([5, 3, 1])\n</code></pre>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/1.%20NumPy/#232-multidimensionals","title":"2.3.2. Multidimensionals","text":"<p>Accedint a arrays multidimensionals</p> Python<pre><code>x2 = np.array([[12,  5,  2,  4],\n       [ 7,  6,  8,  8],\n       [ 1,  6,  7,  7]])\n\nx2[:2, :3]  # array([[12,  5,  2],\n            #        [ 7,  6,  8]])\n\nx2[:3, ::2] # array([[12,  2],\n            #        [ 7,  8],\n            #        [ 1,  7]])\n\nx2[::-1, ::-1] # array([[ 7,  7,  6,  1],\n               #        [ 8,  8,  6,  7],\n               #        [ 4,  2,  5, 12]])\n</code></pre> <p>Accedint a files o columnes</p> Python<pre><code>x2[:, 0]    # array([12,  7,  1])\n\nx2[1, :]    # array([7, 6, 8, 8])\n</code></pre> <p>Acc\u00e9s per files abreviat</p> Python<pre><code>x2[0] # seria equivalent a x2[0, :]\n</code></pre> <p>Subarrays com a vistes, no com a c\u00f2pies</p> <p>Una cosa a tindre molt en compte \u00e9s que l'acc\u00e9s a un subarray no torna una c\u00f2pia del mateix sin\u00f3 una vista. \u00c9s diferent en l'acc\u00e9s a llistes de Python, on les subllistes si que s\u00f3n c\u00f2pies de l'objecte original.   A\u00e7\u00f2 implica que treballant amb grans agrupacions de dades, nosaltres podem accedir i processar un subconjunt sense necessitat de copiar les dades.</p> Python<pre><code>x2_sub = x2[:2, :2] # array([[12,  5],\n                    #        [ 7,  6]])\nx2_sub[0, 0] = 99\nx2    # array([[99,  5,  2,  4],\n      #        [ 7,  6,  8,  8],\n      #        [ 1,  6,  7,  7]])\n</code></pre>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/1.%20NumPy/#233-copies-darrays","title":"2.3.3. C\u00f2pies d'arrays","text":"<p>En cas que vulgam crear una c\u00f2pia d'un array, podem fer \u00fas del m\u00e8tode copy().</p> <p>C\u00f2pia d'un subarray</p> Python<pre><code>x2_sub_copy = x2[:2, :2].copy()\nx2_sub_copy[0, 0] = 42\nx2    # array([[99,  5,  2,  4],\n      #        [ 7,  6,  8,  8],\n      #        [ 1,  6,  7,  7]])\nx2_sub_copy # array([[42,  5],\n            #        [ 7,  6]])\n</code></pre>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/1.%20NumPy/#24-canvi-de-dimensions","title":"2.4. Canvi de dimensions","text":"<p>Una altra operaci\u00f3 molt \u00fatil sobre arrays \u00e9s el canvi de dimensions.</p> <p>Canvi de dimensions</p> Python<pre><code>grid = np.arange(1, 10).reshape((3, 3)) # array([[1, 2, 3],\n                                        #        [4, 5, 6],\n                                        #        [7, 8, 9]])\n</code></pre>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/1.%20NumPy/#25-unio-i-separacio","title":"2.5. Uni\u00f3 i separaci\u00f3","text":"<p>Per a unir arrays, s'utilitzen les funcions concatenate, vstack i hstack.</p> <p>Uni\u00f3 d'arrays</p> Python<pre><code>x = np.array([1, 2, 3])\ny = np.array([3, 2, 1])\nnp.concatenate([x, y])\n\narray([1, 2, 3, 3, 2, 1])\n\ngrid = np.array([[1, 2, 3],\n           [4, 5, 6]])\nnp.concatenate([grid, grid], axis=1)\n\narray([[1, 2, 3, 1, 2, 3],\n       [4, 5, 6, 4, 5, 6]])\n\nx = np.array([1, 2, 3])\ngrid = np.array([[9, 8, 7],\n            [6, 5, 4]])\n\n# vertically stack the arrays\nnp.vstack([x, grid])\n\narray([[1, 2, 3],\n       [9, 8, 7],\n       [6, 5, 4]])\n\n# horizontally stack the arrays\ny = np.array([[99],\n            [99]])\nnp.hstack([grid, y])\n\narray([[ 9,  8,  7, 99],\n       [ 6,  5,  4, 99]])\n</code></pre> <p>De forma similar, per a partir arrays utilitzem les funcions split, hsplit i vsplit.</p> <p>Partici\u00f3 d'arrays</p> Python<pre><code>x = [1, 2, 3, 99, 99, 3, 2, 1]\n# Split rep una llista amb les posicions per on partir com a argument\nx1, x2, x3 = np.split(x, [3, 5])\nprint(x1, x2, x3)\n\n[1 2 3] [99 99] [3 2 1]\n\nupper, lower = np.vsplit(grid, [2])\nprint(upper)\nprint(lower)\n\n[[0 1 2 3]\n [4 5 6 7]]\n[[ 8  9 10 11]\n [12 13 14 15]]\n\nleft, right = np.hsplit(grid, [2])\nprint(left)\nprint(right)\n\n[[ 0  1]\n [ 4  5]\n [ 8  9]\n [12 13]]\n[[ 2  3]\n [ 6  7]\n [10 11]\n [14 15]]\n</code></pre>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/1.%20NumPy/#3-funcions-universals-ufuncs","title":"3. Funcions universals (ufuncs)","text":"<p>La implementaci\u00f3 predeterminada de Python (coneguda com CPython) fa algunes operacions molt lentament. Aquesta lentitud es fa evident en situacions en qu\u00e8 es repeteix una operaci\u00f3 sobre els elements d'una matriu. La lentitud no ve proporcionada per les operacions, sin\u00f3 per les comprovacions de tipus (recordeu que estem davant un llenguatge interpretat i amb tipus din\u00e0mics) i les crides a funcions en cada iteraci\u00f3.</p> <p>La computaci\u00f3 de matrius NumPy pot ser molt r\u00e0pida o molt lenta. La clau per fer-ho r\u00e0pid \u00e9s utilitzar operacions vectoritzades, generalment implementades mitjan\u00e7ant les funcions universals de NumPy (ufuncs). Les funcions universals fan que s'executen de forma compilada totes aquestes operacions, de forma que la velocitat d'execuci\u00f3 \u00e9s rapid\u00edssima.</p> <p>Operacions universals</p> Python<pre><code>x = np.arange(4)\nprint(\"x     =\", x)\nprint(\"x + 5 =\", x + 5)\nprint(\"x - 5 =\", x - 5)\nprint(\"x * 2 =\", x * 2)\nprint(\"x / 2 =\", x / 2)\nprint(\"x // 2 =\", x // 2)\n\nx     = [0 1 2 3]\nx + 5 = [5 6 7 8]\nx - 5 = [-5 -4 -3 -2]\nx * 2 = [0 2 4 6]\nx / 2 = [ 0.   0.5  1.   1.5]\nx // 2 = [0 0 1 1]\n</code></pre> <p>Realment, aquestes operacions fan la crida a les versions compilades de Numpy add, subtract, divide...</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/1.%20NumPy/#4-agregacions","title":"4. Agregacions","text":"<p>La majoria de vegades, davant d'una gran quantitat de dades, el primer pas \u00e9s calcular estad\u00edstiques de resum de les dades en q\u00fcesti\u00f3. Habituals s'utilitzen la mitjana i la desviaci\u00f3 est\u00e0ndard, que permeten resumir els valors \"t\u00edpics\" d'un conjunt de dades, per\u00f2 tamb\u00e9 s\u00f3n \u00fatils altres agregats (la suma, el producte, la mediana, el m\u00ednim i el m\u00e0xim...).</p> <p>NumPy t\u00e9 funcions d'agregaci\u00f3 incorporades r\u00e0pides per treballar amb matrius. Recordeu sempre utilitzar estes funcions universals front a les funcions de Python est\u00e0ndar.</p> <p>La seg\u00fcent taula mostra les principals funcions d'agregaci\u00f3:</p> Nom de la funci\u00f3 Descripci\u00f3 np.sum Calcular la suma d'elements np.prod Calcula el producte dels elements np.mean Calcular la mitjana dels elements np.std Calcular la desviaci\u00f3 est\u00e0ndard np.var Calcular la vari\u00e0ncia np.min Trobeu el valor m\u00ednim np.max Trobeu el valor m\u00e0xim np.argmin Trobeu l'\u00edndex de valor m\u00ednim np.argmax Trobeu l'\u00edndex de valor m\u00e0xim np.median Calcular la mediana dels elements np.percentile Calcular estad\u00edstiques d'elements basades en el rang np.any Avaluar si algun element \u00e9s cert np.all Avaluar si tots els elements s\u00f3n certs <p>Les agregacions poden ser al llarg d'una fila o columna:</p> <p>Agregacions a trav\u00e9s de fila o columna</p> Python<pre><code>M = np.random.random((3, 4))\nM.min(axis=0)\nM.min(axis=1)\n\n[[0.89601141 0.29981518 0.96231461 0.97286915]\n [0.68484684 0.89850248 0.48281439 0.24021478]\n [0.21160452 0.67449049 0.88807226 0.98416603]]\n[0.21160452 0.29981518 0.48281439 0.24021478]\n[0.29981518 0.24021478 0.21160452]\n</code></pre>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/1.%20NumPy/#5-calcul-en-matrius-difusio","title":"5. C\u00e0lcul en matrius: difusi\u00f3","text":"<p>La difusi\u00f3 \u00e9s un conjunt de regles per aplicar funcions universals (per exemple, sumes, restes, multiplicacions, etc.) a matrius de diferents mides.</p> <p>Agregacions a trav\u00e9s de fila o columna</p> Python<pre><code>a = np.array([0, 1, 2])\na + 5\n# [5, 6, 7]\n\nM = np.ones((3, 3))\nM + a\n# [[ 1.,  2.,  3.],\n#  [ 1.,  2.,  3.],\n#  [ 1.,  2.,  3.]]\n\na = np.arange(3)\nb = np.arange(3)[:, np.newaxis]\nprint(a) # [0 1 2]\nprint(b)\n# [[0]\n#  [1]\n#  [2]]\na + b\n# [[0, 1, 2],\n#  [1, 2, 3],\n#  [2, 3, 4]]\n</code></pre> <p></p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/1.%20NumPy/#6-comparacions-mascares-i-logica-booleana","title":"6. Comparacions, m\u00e0scares i l\u00f2gica booleana","text":"<p>L'emmascarament s'utilitza quan voleu extreure, modificar, comptar o manipular valors d'una matriu en funci\u00f3 d'algun criteri: per exemple, \u00e9s possible que vulgueu comptar tots els valors superiors a un determinat valor, o eliminar tots els valors at\u00edpics que estan per sobre d'algun valor llindar.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/1.%20NumPy/#61-exploracio-de-dades","title":"6.1. Exploraci\u00f3 de dades","text":"<p>Imagineu que tenim una s\u00e8rie de dades que representen la quantitat de precipitaci\u00f3 de cada dia durant un any en una ciutat determinada.</p> <p>Si representem l'histograma de la quantitat de precipitacions podem observar la quantitat de dies que no va ploure, la quantitat de dies que va ploure poc,...</p> <p>Precipitacions a la ciutat de Seattle l'any 2014</p> <p>Python<pre><code>import pandas as pd\n\n# use pandas to extract rainfall inches as a NumPy array\nrainfall = pd.read_csv('data/Seattle2014.csv')['PRCP'].values\n\n%matplotlib inline\nimport matplotlib.pyplot as plt\nimport seaborn; seaborn.set()  # set plot styles\nplt.hist(rainfall, 40);\n</code></pre> </p> <p>L'histograma dona una idea general de les dades, per\u00f2 no ens respon a preguntes com: - Quants dies de pluja hi havia a l'any?  - Quina \u00e9s la precipitaci\u00f3 mitjana en aquests dies de pluja?  - Quants dies hi va haver amb m\u00e9s de la mitjana de pluja?</p> <p>Alg\u00fa podria pensar que amb funcions que recorreguen les dades i comptadors que es van incrementant segons es cumplisquen unes condicions ho podriem averiguar. Per\u00f2 aix\u00f2 seria molt ineficient per les raons que hem comentat en apartats anteriors. Ac\u00ed \u00e9s on entren les comparacions, les m\u00e0scares i la ll\u00f2gica de Boole.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/1.%20NumPy/#62-comparacions","title":"6.2. Comparacions","text":"<p>NumPy implementa operadors de comparaci\u00f3 com ara &lt;(menor que) i &gt;(m\u00e9s gran que) com a ufuncs per elements. El resultat d'aquests operadors de comparaci\u00f3 \u00e9s sempre una matriu amb un tipus de dades boole\u00e0.</p> <p>Comparacions en NumPy</p> Python<pre><code>x = np.array([1, 2, 3, 4, 5])\nx &lt; 3 \n\n[ True,  True, False, False, False]\n\n( 2  *  x )  ==  ( x  **  2 )\n[Fals, True, False, False, False]\n</code></pre>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/1.%20NumPy/#63-matrius-booleanes","title":"6.3. Matrius booleanes","text":""},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/1.%20NumPy/#631-recompte","title":"6.3.1. Recompte","text":"<p>Una forma d'obtindre quants valors complixen un criteri seria:</p> <p>Recompte</p> Python<pre><code>x = np.array([[5, 0, 3, 3],\n          [7, 9, 3, 5],\n          [2, 4, 7, 6]])\nnp.sum(x &lt; 6)\n\n8\n\nnp.sum(x &lt; 6, axis=1)\n\narray([4, 2, 2])\n</code></pre> <p>Podem utilitzar les funcions all i any per veure si tots o algun dels elements complixen certa condici\u00f3.</p> <p>Recompte</p> Python<pre><code>np.any(x &lt; 0) # Comprovem si hi ha negatius\n\nFalse\n\nnp.all(x &lt; 8, axis=1) # Comprovem si tots els elements de les files s\u00f3n majors a 8\n\n[ True, False,  True]\n</code></pre> <p>Les operacions anteriors es poden combinar amb els operadors l\u00f2gics &amp;(and), |(or), ^(xor) i ~(not).</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/1.%20NumPy/#7-arrays-boolean-com-a-mascares","title":"7. Arrays boolean com a m\u00e0scares","text":"<p>Per a emmascarar certs valors, utilitzarem els arrays booleans de forma que sols obtindrem els valors que tornen True:</p> <p>Emmascarament</p> <p>Python<pre><code>x [ x  &lt;  5 ]\n\n[0, 3, 3, 3, 2, 4]\n</code></pre>   Torna una matriu unidimensional amb els valors que complixen la condici\u00f3.</p> <p>Ara podriem obtindre dades com: - la mitja de precipitacions dels dies que ha plogut. - el dia d'estiu amb m\u00e9s precipitacions - el dia, que no siga d'estiu, amb menys precipitacions</p> <p>Combinaci\u00f3 d'operacions</p> <p>Combinant operacions booleanes, amb l'emmascarament i les funcions d'agregaci\u00f3, podem respondre a la majoria de les preguntes que ens poden interessar sobre les dades.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/1.%20NumPy/#8-fancy-indexing","title":"8. Fancy Indexing","text":"<p>A principi de l'apartat vegerem com accedir a elements d'un array de NumPy. Ara anem a estudiar una forma diferent d'accedir, el que s'anomena el Fancy Indexing, que pot aportar avantatges segons casos. La idea \u00e9s molt simple, passar una matriu d'index per a accedir als element d'una matriu.</p> <p>Exemple de fancy indexing</p> Python<pre><code>x = np.array([51, 92, 14, 71, 60, 20, 82, 86, 74, 74])\n[x[3], x[7], x[2]] # llista de Python\n\n[71, 86, 14]\n\nind = [3, 7, 2]\nx[ind] # array de NumPy\n\narray([71, 86, 14])\n</code></pre> <p>Dimensions de la matriu accedida</p> <p>Quan s'utilitza fancy indexing, la forma del resultat reflecteix la forma de les matrius d'\u00edndex en lloc de la forma de la matriu que s'est\u00e0 indexant o accedint.</p> <p>Funciona tamb\u00e9 amb matrius multidimensionals:</p> <p>fancy indexing a matrius multidimensionals</p> Python<pre><code>X = np.arange(12).reshape((3, 4))\n\n# X = [[ 0,  1,  2,  3],\n#      [ 4,  5,  6,  7],\n#      [ 8,  9, 10, 11]]   \n\nrow = np.array([0, 1, 2])\ncol = np.array([2, 1, 3])\nX[row, col]\n\n# [[ 2,  5, 11]]\n\nX[row[:, np.newaxis], col]\n# [[ 2,  1,  3],\n#  [ 6,  5,  7],\n#  [10,  9, 11]]\n</code></pre>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/1.%20NumPy/#81-indexacio-combinada","title":"8.1. Indexaci\u00f3 combinada","text":"<p>Podem combinar fancy indexing amb la selecci\u00f3 simple, amb la selecci\u00f3 de subarrays o amb m\u00e0scares:</p> <p>Exemple</p> Python<pre><code># X = [[ 0  1  2  3]\n#      [ 4  5  6  7]\n#      [ 8  9 10 11]]\n\nx[2, [2, 0 ,1]]\n# [10,  8,  9]\n\nX[1:, [2, 0, 1]]\n# [[ 6,  4,  5],\n#  [10,  8,  9]]\n\nmask = np.array([1, 0, 1, 0], dtype=bool)\nX[row[:, np.newaxis], mask]\n# [[ 0,  2],\n#  [ 4,  6],\n#  [ 8, 10]]\n</code></pre>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/1.%20NumPy/#82-exemple-de-seleccio-de-valors-aleatoris","title":"8.2. Exemple de selecci\u00f3 de valors aleatoris","text":"<p>Un dels usos m\u00e9s comuns del fancy indexing \u00e9s la selecci\u00f3 de files aleat\u00f2ries d'una matriu.</p> <p>Imagineu una distribuci\u00f3 com la seg\u00fcent:</p> <p>Python<pre><code>mean = [0, 0]\ncov = [[1, 2],\n       [2, 5]]\nX = rand.multivariate_normal(mean, cov, 100)\nX.shape #(100, 2)\n\n%matplotlib inline\nimport matplotlib.pyplot as plt\nimport seaborn; seaborn.set()  # for plot styling\n\nplt.scatter(X[:, 0], X[:, 1]);\n</code></pre> <p></p> <p></p> <p>Podem utilitzar la fancy indexing per a seleccionar 20 punts aleat\u00f2ris.</p> Python<pre><code>indices = np.random.choice(X.shape[0], 20, replace=False)\n# [26 25 78 48 34 50 43 87  4 14 53  1 88 44 23 49 72 84 66 40]\n\nselection = X[indices]\n# [[ 0.391316    1.60679404]\n#  [-0.15204994 -0.78389108]\n#  [-1.90507889 -4.08639424]\n#  [-0.37348099 -0.61909868]\n#  [-0.08723148 -0.90886801]\n\nselection.shape # (20, 2)\n</code></pre> <p>Si ho representem en un gr\u00e0fic de punts:</p> <p> <p></p> <p></p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/1.%20NumPy/#83-modificant-valors-amb-fancy-indexing","title":"8.3. Modificant valors amb fancy indexing","text":"<p>Am\u00e9s de poder accedir de forma c\u00f2moda utilitzant el fancy indexing tamb\u00e9 podem modificar valors a trav\u00e9s d'este mecanisme.</p> <p>Exemple</p> Python<pre><code>x = np.arange(10)\ni = np.array([2, 1, 8, 4])\nx[i] = 99\n# [ 0 99 99  3 99  5  6  7 99  9]\n</code></pre> <p>Pregunta</p> <p>Quin ser\u00e0 el resultat d'executar el seg\u00fcent codi?</p> Python<pre><code>x = np.arange(10)\ni = np.array([2, 1, 8, 4])\nx[i] -= 10\nprint(x)\n</code></pre> Resposta Python<pre><code>[ 0 89 89  3 89  5  6  7 89  9]      \n</code></pre> <p>Tingues en compte que x[i] -= 10 substituix a x[i] = x[i] - 10, executat sobre cadascun dels \u00edndex.</p> <p>Pregunta</p> <p>Quin ser\u00e0 el resultat d'executar el seg\u00fcent  fragment de codi?</p> Python<pre><code>x = np.zeros(10)\nx[[0, 0]] = [4, 6]\nprint(x)\n</code></pre> Resposta Python<pre><code>[ 6.  0.  0.  0.  0.  0.  0.  0.  0.  0.]      \n</code></pre> <p>Fixeu-se de nou, que l'assignaci\u00f3 de nou s'executa dues vegades sobre el mateix \u00edndes, per tant, la segona elimina l'efecte de la primera i l'element de la posici\u00f3 zero ser\u00e0 6.</p> <p>Pregunta</p> <p>Quin ser\u00e0 el resultat d'executar el seg\u00fcent  fragment de codi?</p> Python<pre><code>i = [2, 3, 3, 4, 4, 4]\nx[i] += 1\nprint(x)\n</code></pre> Resposta Python<pre><code>[ 6.,  0.,  1.,  1.,  1.,  0.,  0.,  0.,  0.,  0.]\n</code></pre> <p>En este cas el resultat no \u00e9s [ 6.,  0.,  1.,  2.,  3.,  0.,  0.,  0.,  0.,  0.] com s'esperaria, i aix\u00f2 \u00e9s perqu\u00e8 l'expressi\u00f3 <code>x[i] + 1</code> \u00e9s avaluada a 1 al principi, i l'assignaci\u00f3 <code>x[i] = x[i] + 1</code> es fa diverses vegades, sense incrementar el valor.</p> <p>Si voleu incrementar utilitzant el fancy indexing podeu utilitzar les funcions <code>at()</code>.</p> Python<pre><code>x = np.zeros(10)\nnp.add.at(x, i, 1)\nprint(x) # [ 0.  0.  1.  2.  3.  0.  0.  0.  0.  0.]\n</code></pre>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/1.%20NumPy/#84-creacio-de-dades-aleattories-amb-el-fancy-indexing","title":"8.4. Creaci\u00f3 de dades aleatt\u00f2ries amb el fancy indexing","text":"<p>Imagineu que volem agrupar una s\u00e8rie de valors en rangs definits per crear un histograma. Ho podem fer de la seg\u00fcent forma:</p> Python<pre><code>np.random.seed(42) # la semilla ens proporciona valors pseudoaleat\u00f2ris\nx = np.random.randn(100)\n\nbins = np.linspace(-5, 5, 21)\ncounts = np.zeros_like(bins)\n\ni = np.searchsorted(bins, x) # torna l'\u00edndex on situar cada dada x\n\nnp.add.at(counts, i, 1) # incrementa counts en 1 cada vegada que apareix l\u00edndex\n                        # de forma que tenim la freq\u00fc\u00e8ncia\n\nplt.plot(bins, counts, drawstyle='steps'); # creem un histograma\n</code></pre> <p> <p></p> <p></p> <p>Obtenim el mateix resultat si directament utilitzem la funci\u00f3 de matplotlib <code>hist()</code> que fa un tractament similar al que hem fet nosaltres manualment.</p> Python<pre><code>plt.hist(x, bins, histtype='step');\n</code></pre>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/1.%20NumPy/#9-ordenacio-darrays","title":"9. Ordenaci\u00f3 d'arrays","text":"<p>Pregunta</p> <p>Qu\u00e8 fa el seg\u00fcent algorisme que rep com a entrada un array?</p> Python<pre><code>import numpy as np\n\ndef selection_sort(x):\n      for i in range(len(x)):\n            swap = i + np.argmin(x[i:])\n            (x[i], x[swap]) = (x[swap], x[i])\n      return x\n</code></pre> Resposta <p>L'anterior algorisme \u00e9s l'algorisme d'ordenaci\u00f3 per selecci\u00f3. En cada passada selecciona el m\u00ednim valor dels que queden a la dreta de l'actual i l'intercanvia. T\u00e9 un cost de N^2. Requerix que per cada valor \u00e9s recorrega l'array, un per a ordenar i l'altre per a trobar el m\u00ednim valor. Si creix molt el n\u00famero d'elements, el cost computacional seria elevad\u00edssim.</p> <p>Pregunta</p> <p>Qu\u00e8 fa el seg\u00fcent algorisme que rep com a entrada un array? Ser\u00e0 computacionalment m\u00e9s o menys cost\u00f3s que l'anterior?</p> Python<pre><code>def bogosort(x):\n      while np.any(x[:-1] &gt; x[1:]):\n            np.random.shuffle(x)\n      return x\n</code></pre> Resposta <p>L'anterior algorisme \u00e9s l'algorisme d'ordenaci\u00f3 per barreja aleat\u00f2ria. El seu cost \u00e9s NxN! (N per N factorial). El factorial \u00e9s de les funcions amb m\u00e9s r\u00e0pid creiximent. \u00c9s tan cost\u00f3s que no s'hauria d'utilitzar mai en aplicacions reals.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/1.%20NumPy/#91-npsort-i-npargsort","title":"9.1. <code>np.sort</code> i <code>np.argsort</code>","text":"<p>Afortunamdament tant python com numpy tenen algorismes d'ordenaci\u00f3 molt m\u00e9s optimitzats que els anteriors.</p> Python<pre><code>x = np.array([2, 1, 4, 3, 5])\nx_sorted = np.sort(x)\nindex_sorted = np.argsort(x)\nprint(x_sorted) # [1 2 3 4 5]\nprint(f\"{x} -&gt; {index_sorted}\") # [2 1 4 3 5] -&gt; [1 0 3 2 4]\n</code></pre>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/1.%20NumPy/#92-ordenacio-per-files-o-columnes","title":"9.2. Ordenaci\u00f3 per files o columnes","text":"<p>Una caracter\u00edstica \u00fatil dels algorismes d'ordenaci\u00f3 de NumPy \u00e9s la capacitat d'ordenar al llarg de files o columnes espec\u00edfiques d'una matriu multidimensional mitjan\u00e7ant l'argument <code>axis</code>.</p> <p>Exemple</p> Python<pre><code>rand = np.random.RandomState(42)\nX = rand.randint(0, 10, (4, 6))\nprint(X)\n\n# [[6 3 7 4 6 9]\n#  [2 6 7 4 3 7]\n#  [7 2 5 4 1 7]\n#  [5 1 4 0 9 5]]\n\nprint(np.sort(X, axis=0))\n\n# [[2 1 4 0 1 5]\n#  [5 2 5 4 3 7]\n#  [6 3 7 4 6 7]\n#  [7 6 7 4 9 9]]\n\nprint(np.sort(X, axis=1))\n\n#  [[3 4 6 6 7 9]\n#  [2 3 4 6 7 7]\n#  [1 2 4 5 7 7]\n#  [0 1 4 5 5 9]]\n</code></pre>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/1.%20NumPy/#93-ordenacio-parcial-nppartition","title":"9.3. Ordenaci\u00f3 parcial <code>np.partition</code>","text":"<p>De vegades ens pot interessar no ordenar tot un array sin\u00f3 trobar els k valors m\u00e9s menuts d'una matriu, encara que no s'ordene. Per a fer aix\u00f2 podem utilitzar la funci\u00f3 <code>np.partition</code>. Esta funci\u00f3 rep un array i un n\u00famero k. El resultat \u00e9s un nou array amb els k n\u00fameros m\u00e9s menuts a l'esquerra de la partici\u00f3 i la part dreta amb la resta de valors. L'ordenaci\u00f3 \u00e9s arbitr\u00e0ria, \u00e9s a dir, ninguna de les dos parts est\u00e0 ordenada, per\u00f2 estan els k m\u00e9s menuts a l'esquerra i despr\u00e9s la resta.</p> <p>Exemple</p> Python<pre><code>x = np.array([7, 2, 3, 1, 6, 5, 4])\nnp.partition(x, 3) # [2, 1, 3, 4, 6, 5, 7]\n</code></pre> <p>Tamb\u00e9 podem utilitzar esta funci\u00f3 a trav\u00e9s d'un eix en una matriu multidimensional:</p> <p>Exemple</p> Python<pre><code>rand = np.random.RandomState(42)\nX = rand.randint(0, 10, (4, 6))\n\n# [[6 3 7 4 6 9]\n# [2 6 7 4 3 7]\n# [7 2 5 4 1 7]\n# [5 1 4 0 9 5]]\n\nnp.partition(X, 2, axis=1)\n\n# [[3, 4, 6, 7, 6, 9],\n#  [2, 3, 4, 7, 6, 7],\n#  [1, 2, 4, 5, 7, 7],\n#  [0, 1, 4, 5, 9, 5]]\n</code></pre>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/Continguts/","title":"Continguts","text":"<p>S'estudiar\u00e0 en aquesta unitat:</p> <ul> <li>Numpy</li> <li>Matplotlib</li> <li>Seaborn</li> <li>Keras</li> <li>Pandas</li> <li>...</li> </ul>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/keras/01_underfitting_overfitting/","title":"1. Subajust i sobreajust - Parada anticipada","text":"In\u00a0[\u00a0]: Copied! <pre>import pandas as pd\nfrom sklearn.preprocessing import StandardScaler, OneHotEncoder\nfrom sklearn.compose import make_column_transformer\nfrom sklearn.model_selection import GroupShuffleSplit\n\nfrom tensorflow import keras\nfrom tensorflow.keras import layers\nfrom tensorflow.keras import callbacks\n\nspotify = pd.read_csv('data/spotify.csv')\n\nX = spotify.copy().dropna()\ny = X.pop('track_popularity')\nartists = X['track_artist']\n\nfeatures_num = ['danceability', 'energy', 'key', 'loudness', 'mode',\n                'speechiness', 'acousticness', 'instrumentalness',\n                'liveness', 'valence', 'tempo', 'duration_ms']\nfeatures_cat = ['playlist_genre']\n\npreprocessor = make_column_transformer(\n    (StandardScaler(), features_num),\n    (OneHotEncoder(), features_cat),\n)\n\n# We'll do a \"grouped\" split to keep all of an artist's songs in one\n# split or the other. This is to help prevent signal leakage.\ndef group_split(X, y, group, train_size=0.75):\n    splitter = GroupShuffleSplit(train_size=train_size)\n    train, test = next(splitter.split(X, y, groups=group))\n    return (X.iloc[train], X.iloc[test], y.iloc[train], y.iloc[test])\n\nX_train, X_valid, y_train, y_valid = group_split(X, y, artists)\n\nX_train = preprocessor.fit_transform(X_train)\nX_valid = preprocessor.transform(X_valid)\ny_train = y_train / 100 # popularity is on a scale 0-100, so this rescales to 0-1.\ny_valid = y_valid / 100\n\ninput_shape = [X_train.shape[1]]\nprint(\"Input shape: {}\".format(input_shape))\n</pre> import pandas as pd from sklearn.preprocessing import StandardScaler, OneHotEncoder from sklearn.compose import make_column_transformer from sklearn.model_selection import GroupShuffleSplit  from tensorflow import keras from tensorflow.keras import layers from tensorflow.keras import callbacks  spotify = pd.read_csv('data/spotify.csv')  X = spotify.copy().dropna() y = X.pop('track_popularity') artists = X['track_artist']  features_num = ['danceability', 'energy', 'key', 'loudness', 'mode',                 'speechiness', 'acousticness', 'instrumentalness',                 'liveness', 'valence', 'tempo', 'duration_ms'] features_cat = ['playlist_genre']  preprocessor = make_column_transformer(     (StandardScaler(), features_num),     (OneHotEncoder(), features_cat), )  # We'll do a \"grouped\" split to keep all of an artist's songs in one # split or the other. This is to help prevent signal leakage. def group_split(X, y, group, train_size=0.75):     splitter = GroupShuffleSplit(train_size=train_size)     train, test = next(splitter.split(X, y, groups=group))     return (X.iloc[train], X.iloc[test], y.iloc[train], y.iloc[test])  X_train, X_valid, y_train, y_valid = group_split(X, y, artists)  X_train = preprocessor.fit_transform(X_train) X_valid = preprocessor.transform(X_valid) y_train = y_train / 100 # popularity is on a scale 0-100, so this rescales to 0-1. y_valid = y_valid / 100  input_shape = [X_train.shape[1]] print(\"Input shape: {}\".format(input_shape))"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/keras/01_underfitting_overfitting/#subajust-i-sobreajust-parada-anticipada","title":"Subajust i sobreajust - Parada anticipada\u00b6","text":"<p>En aquest exercici millorarem l'entrenament d'una xarxa mitjan\u00e7ant la t\u00e8cnica de la parada anticipada per evitar un sobreajust.</p> <p>Primer carreguem el dataset de Spotify. L'objectiu final ser\u00e0 predir la popularitat d'una can\u00e7\u00f3 basant-te en diverses caracter\u00edstiques.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/keras/01_underfitting_overfitting/#pregunta-1","title":"Pregunta 1\u00b6","text":"<p>Defineix una xarxa amb una neurona.</p> <p>Compila el model amb l'optimitzador Adam i defineix una funci\u00f3 de p\u00e8rdua adequada.</p> <p>Entrena el model amb un tamany de lot de 512 i 50 \u00e8poques.</p> <p>Representa en un gr\u00e0fic</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/keras/01_underfitting_overfitting/#pregunta-2","title":"Pregunta 2\u00b6","text":"<p>Representa gr\u00e0ficament des de l'\u00e8poca 10.</p> <p>Creus que la xarxa est\u00e0 sobreentrenada o subajustada?</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/keras/01_underfitting_overfitting/#pregunta-3","title":"Pregunta 3\u00b6","text":"<p>Afegeix tres capes ocultes amb 128 unitats cadascuna. Torna a entrenar el model i mira les corbes d'aprenentatge.</p> <p>Ara pareix que estiguen subajustades o sobreentrenades?</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/keras/01_underfitting_overfitting/#prregunta-4","title":"Prregunta 4\u00b6","text":"<p>Defineix una funci\u00f3 de <code>callback</code> per a la parada anticipada:</p> <ul> <li>que s'haja d'esperar almenys fins a l'\u00e8poca 5</li> <li>que tinga almenys una millora de 0,001 en la p\u00e8rdua de validaci\u00f3</li> <li>que recupere els valors de pesos per a la p\u00e8rdua m\u00ednima</li> </ul> <p>Reentrena el model amb la parada anticipada definida i torna a mirar les corbes d'entrenament.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/keras/01_underfitting_overfitting/#pregunta-5","title":"Pregunta 5\u00b6","text":"<p>Quina \u00e9s la millora enfront de l'entrenament sense parada anticipada?</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/keras/02_dropout/","title":"2. Abandonament","text":"In\u00a0[\u00a0]: Copied! <pre>import pandas as pd\nfrom sklearn.preprocessing import StandardScaler, OneHotEncoder\nfrom sklearn.compose import make_column_transformer\nfrom sklearn.model_selection import GroupShuffleSplit\n\nfrom tensorflow import keras\nfrom tensorflow.keras import layers\nfrom tensorflow.keras import callbacks\n\nspotify = pd.read_csv('data/spotify.csv')\n\nX = spotify.copy().dropna()\ny = X.pop('track_popularity')\nartists = X['track_artist']\n\nfeatures_num = ['danceability', 'energy', 'key', 'loudness', 'mode',\n                'speechiness', 'acousticness', 'instrumentalness',\n                'liveness', 'valence', 'tempo', 'duration_ms']\nfeatures_cat = ['playlist_genre']\n\npreprocessor = make_column_transformer(\n    (StandardScaler(), features_num),\n    (OneHotEncoder(), features_cat),\n)\n\n# We'll do a \"grouped\" split to keep all of an artist's songs in one\n# split or the other. This is to help prevent signal leakage.\ndef group_split(X, y, group, train_size=0.75):\n    splitter = GroupShuffleSplit(train_size=train_size)\n    train, test = next(splitter.split(X, y, groups=group))\n    return (X.iloc[train], X.iloc[test], y.iloc[train], y.iloc[test])\n\nX_train, X_valid, y_train, y_valid = group_split(X, y, artists)\n\nX_train = preprocessor.fit_transform(X_train)\nX_valid = preprocessor.transform(X_valid)\ny_train = y_train / 100 # popularity is on a scale 0-100, so this rescales to 0-1.\ny_valid = y_valid / 100\n\ninput_shape = [X_train.shape[1]]\nprint(\"Input shape: {}\".format(input_shape))\n</pre> import pandas as pd from sklearn.preprocessing import StandardScaler, OneHotEncoder from sklearn.compose import make_column_transformer from sklearn.model_selection import GroupShuffleSplit  from tensorflow import keras from tensorflow.keras import layers from tensorflow.keras import callbacks  spotify = pd.read_csv('data/spotify.csv')  X = spotify.copy().dropna() y = X.pop('track_popularity') artists = X['track_artist']  features_num = ['danceability', 'energy', 'key', 'loudness', 'mode',                 'speechiness', 'acousticness', 'instrumentalness',                 'liveness', 'valence', 'tempo', 'duration_ms'] features_cat = ['playlist_genre']  preprocessor = make_column_transformer(     (StandardScaler(), features_num),     (OneHotEncoder(), features_cat), )  # We'll do a \"grouped\" split to keep all of an artist's songs in one # split or the other. This is to help prevent signal leakage. def group_split(X, y, group, train_size=0.75):     splitter = GroupShuffleSplit(train_size=train_size)     train, test = next(splitter.split(X, y, groups=group))     return (X.iloc[train], X.iloc[test], y.iloc[train], y.iloc[test])  X_train, X_valid, y_train, y_valid = group_split(X, y, artists)  X_train = preprocessor.fit_transform(X_train) X_valid = preprocessor.transform(X_valid) y_train = y_train / 100 # popularity is on a scale 0-100, so this rescales to 0-1. y_valid = y_valid / 100  input_shape = [X_train.shape[1]] print(\"Input shape: {}\".format(input_shape))"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/keras/02_dropout/#dropout","title":"Dropout\u00b6","text":"<p>En aquest exercici, afegirem l'abandonament al model de Spotify i veurem com la normalitzaci\u00f3 per lots ens pot permetre entrenar models amb \u00e8xit en conjunts de dades dif\u00edcils.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/keras/02_dropout/#preparem-les-dades","title":"Preparem les dades\u00b6","text":""},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/keras/02_dropout/#pregunta-1","title":"Pregunta 1\u00b6","text":"<p>Ac\u00ed tenim un model de l'anterior activitat. Executa'l i calcula el seu <code>val_loss</code> m\u00ednim. Representa gr\u00e0ficament les corbes d'aprenentatge.</p> <pre>model = keras.Sequential([\n    layers.Dense(128, activation='relu', input_shape=input_shape),\n    layers.Dense(64, activation='relu'),\n    layers.Dense(1)\n])\n</pre>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/keras/02_dropout/#pregunta-2","title":"Pregunta 2\u00b6","text":"<p>Afegiu dues capes d'abandonament, una despr\u00e9s de la capa Densa amb 128 unitats i una despr\u00e9s de la capa Densa amb 64 unitats. Estableix la taxa d'abandonament en les dues capes a 0,3. Representa de nou les corbes d'aprenentatge i calcula la m\u00ednima <code>val_loss</code>.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/keras/02_dropout/#pregunta-3","title":"Pregunta 3\u00b6","text":"<p>Representa en dos subplots les corbes d'aprenentatge de les preguntes anteriors. Comenta les gr\u00e0fiques.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/keras/03_batch_normalization/","title":"3. Normalitzaci\u00f3 de lots","text":"In\u00a0[\u00a0]: Copied! <pre>import pandas as pd\n\nconcrete = pd.read_csv('data/concrete.csv')\ndf = concrete.copy()\n\ndf_train = df.sample(frac=0.7, random_state=0) # train_test_split amb pandas\ndf_valid = df.drop(df_train.index) # eliminem els index que estan a df_train\n\nX_train = df_train.drop('CompressiveStrength', axis=1)\nX_valid = df_valid.drop('CompressiveStrength', axis=1)\ny_train = df_train['CompressiveStrength']\ny_valid = df_valid['CompressiveStrength']\n\ninput_shape = [X_train.shape[1]]\n\nX_train.head()\n</pre> import pandas as pd  concrete = pd.read_csv('data/concrete.csv') df = concrete.copy()  df_train = df.sample(frac=0.7, random_state=0) # train_test_split amb pandas df_valid = df.drop(df_train.index) # eliminem els index que estan a df_train  X_train = df_train.drop('CompressiveStrength', axis=1) X_valid = df_valid.drop('CompressiveStrength', axis=1) y_train = df_train['CompressiveStrength'] y_valid = df_valid['CompressiveStrength']  input_shape = [X_train.shape[1]]  X_train.head()"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/keras/03_batch_normalization/#batch-normalization","title":"Batch normalization\u00b6","text":"<p>En esta activitat observarem com la normalitzaci\u00f3 de lots pot solucionar problemes en l'entrenament.</p> <p>Carregueu el dataset Concrete. Aquesta vegada no estandarditzarem les dades abans de passar-les a entrenament, aix\u00ed podrem observar com l'efecte de la normalitzaci\u00f3 de lots es fa molt m\u00e9s evident.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/keras/03_batch_normalization/#pregunta-1","title":"Pregunta 1\u00b6","text":"<p>Defineix una xarxa neuronal amb 4 capes:</p> <ul> <li>tres de 512 neurones</li> <li>la capa d'eixida</li> <li>la funci\u00f3 d'activaci\u00f3 ser\u00e0 relu per a totes elles</li> </ul> <p>Compila el model amb:</p> <ul> <li>optimitzador sgd</li> <li>la funci\u00f3 de p\u00e8rdua mae</li> <li>la m\u00e8trica mae</li> </ul> <p>Entrena la xarxa amb:</p> <ul> <li>64 mostres per lot</li> <li>100 \u00e8poques</li> </ul> <p>Representa les corbes d'aprenentatge.</p> <p>No et preocupes si el gr\u00e0fic est\u00e0 en blanc. Intentar entrenar aquesta xarxa amb aquest conjunt de dades normalment fallar\u00e0. Fins i tot quan convergeix, a causa d'una inicialitzaci\u00f3 de pes afortunat, tendeix a convergir a un n\u00famero molt gran.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/keras/03_batch_normalization/#pregunta-2","title":"Pregunta 2\u00b6","text":"<p>Afegiu capes de normalitzaci\u00f3 de lots. La normalitzaci\u00f3 de lots pot ajudar a corregir problemes com aquest.</p> <p>Afegiu quatre capes de \"BatchNormalization\", una abans de cadascuna de les capes denses i torneu a representar les corbes d'aprenentatge.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/keras/03_batch_normalization/#pregunta-3","title":"Pregunta 3\u00b6","text":"<p>Representa en dos subplots les corbes d'aprenentatge de les preguntes anteriors. Comenta les gr\u00e0fiques.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/keras/04_regression/","title":"1. Xarxes Neuronals - Regressi\u00f3","text":""},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/keras/04_regression/#xarxes-neuronals-regressio","title":"Xarxes neuronals - Regressi\u00f3\u00b6","text":"<p>Selecciona un dataset del seg\u00fcent repositori i crea un model basat en aprenentatge profund per resoldre un problema de regressi\u00f3 que ens done la m\u00e0xima precisi\u00f3 possible. Utilitza tot el que saps fins al moment, recolzat en gr\u00e0fiques...</p> <p>Fes un comentari final dels resultats.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/keras/05_classification/","title":"2. Xarxes Neuronals - Classificaci\u00f3","text":""},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/keras/05_classification/#xarxes-neuronals-classificacio","title":"Xarxes neuronals - Classificaci\u00f3\u00b6","text":"<p>Selecciona un dataset del seg\u00fcent repositori i crea un model basat en aprenentatge profund per resoldre un problema de classificaci\u00f3 que ens done la m\u00e0xima precisi\u00f3 possible. Utilitza tot el que saps fins al moment, recolzat en gr\u00e0fiques...</p> <p>Fes un comentari final dels resultats.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/keras/06_sklearn_vs_keras/","title":"3. Algoritmes cl\u00e0ssics front a xarxes neuronals","text":""},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/keras/06_sklearn_vs_keras/#algorismes-classics-front-a-xarxes-neuronals","title":"Algorismes cl\u00e0ssics front a xarxes neuronals\u00b6","text":"<p>A l'apartat anterior sobre sklearn, vam intentar predir el preu d'una casa a IOWA utilitzant algorismes cl\u00e0ssics de Machine Learning. La conclussi\u1e55o va ser que el millor algorisme, en principi i intentar ajustar els hiperpar\u00e0metres, era el GradientBoostingRegressor amb un MAE de 14755$.</p> <p>Implementa un model basat en aprenentatge profund amb el m\u00ednim <code>val_loss</code> possible i que incorpore all\u00f2 que hem apr\u00e9s sobre xarxes neuronals.</p> <p>Compara els resultats amb els resultats obtesos amb algorismes cl\u00e0ssics d'sklearn.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/keras/07_save_and_load/","title":"Ara et toca a tu","text":"<p>Anem a poar en pr\u00e0ctica els coneixements aplicats a l'apartat. Amb qualssevol de les pr\u00e0ctiques anteriors del tema en les que has desenvolupat un model, has de:</p> <ol> <li>Guardar el model amb totes les caracter\u00edstiques (arquitectura, pesos, etc)</li> <li>Guardar el preprocessament, cas d'haver-lo fet (se suposa que l'haur\u00e0s fet).</li> <li>Crea un nou quadern i carrega tot el guardat anteriorment.</li> <li>Comprova en el model original alguna predicci\u00f3 realitzada que efectivament dona el mateix resultat</li> <li>Creat un json amb nova informaci\u00f3 (inventada)</li> <li>Preprocessar-la, comprovant l'eixida</li> <li>Fes una predicci\u00f3 i comprova que funcione</li> </ol> <p>Espai</p> <p>Tin en compte de no recompilar el model, ja que pot portar a resultats incorrectes, en quant a prediccions al model inicial i al carregat. Recorda que al comen\u00e7ar l'entrenament s'assignen pessos de manera aleat\u00f2ria.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/numpy/01_numpy/","title":"1. Activitats","text":"In\u00a0[\u00a0]: Copied! <pre># Soluci\u00f3 a l'exercici 1\n</pre> # Soluci\u00f3 a l'exercici 1  In\u00a0[\u00a0]: Copied! <pre># Soluci\u00f3 a l'exercici 2\n</pre> # Soluci\u00f3 a l'exercici 2 In\u00a0[\u00a0]: Copied! <pre># Soluci\u00f3 a l'exercici 3\n</pre> # Soluci\u00f3 a l'exercici 3 In\u00a0[\u00a0]: Copied! <pre># Soluci\u00f3 a l'exercici 4\n</pre> # Soluci\u00f3 a l'exercici 4 In\u00a0[\u00a0]: Copied! <pre># Soluci\u00f3 a l'exercici 5\n</pre> # Soluci\u00f3 a l'exercici 5 In\u00a0[\u00a0]: Copied! <pre># Soluci\u00f3 a l'exercici 6\n</pre> # Soluci\u00f3 a l'exercici 6 In\u00a0[\u00a0]: Copied! <pre># Soluci\u00f3 a l'exercici 7\n</pre> # Soluci\u00f3 a l'exercici 7 In\u00a0[\u00a0]: Copied! <pre># Soluci\u00f3 a l'exercici 8\n</pre> # Soluci\u00f3 a l'exercici 8 In\u00a0[\u00a0]: Copied! <pre># Soluci\u00f3 a l'exercici 9\n</pre> # Soluci\u00f3 a l'exercici 9 In\u00a0[\u00a0]: Copied! <pre># Soluci\u00f3 a l'exercici 10\n</pre> # Soluci\u00f3 a l'exercici 10 In\u00a0[\u00a0]: Copied! <pre># Soluci\u00f3 a l'exercici 10\n</pre> # Soluci\u00f3 a l'exercici 10 In\u00a0[\u00a0]: Copied! <pre># Soluci\u00f3 a l'exercici 10\n</pre> # Soluci\u00f3 a l'exercici 10 In\u00a0[\u00a0]: Copied! <pre># Soluci\u00f3 a l'exercici 11\n</pre> # Soluci\u00f3 a l'exercici 11 In\u00a0[\u00a0]: Copied! <pre># Soluci\u00f3 a l'exercici 12\n</pre> # Soluci\u00f3 a l'exercici 12 In\u00a0[\u00a0]: Copied! <pre># Soluci\u00f3 a l'exercici 13\n</pre> # Soluci\u00f3 a l'exercici 13 In\u00a0[\u00a0]: Copied! <pre># Soluci\u00f3 a l'exercici 14\n</pre> # Soluci\u00f3 a l'exercici 14"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/numpy/01_numpy/#exercici-1-creacio","title":"Exercici 1: creaci\u00f3\u00b6","text":"<p>Crea una array de numpy amb els nombres primers seg\u00fcents: 2, 3, 5, 7, 11, 13, 17, 19, 23, 29:</p> <p>Mostra l'\u00faltim element. I ho has de fer sense saber-ne la longitud. Mostra el 3r element Mostra l'\u00faltim i 3r element. Mostra del 2n al 5\u00e8 element. Mostra l'\u00faltim  i el pen\u00faltim element. I ho has de fer sense saber la longitud.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/numpy/01_numpy/#exercici-2-arange","title":"Exercici 2: arange\u00b6","text":"<ul> <li>Crea una array de numpy amb els nombres primers seg\u00fcents: 2, 3, 5, 7, 11, 13, 17, 19, 23, 29 per\u00f2 que l'array siga de tipus \"float\" de 32 bits.</li> <li>Usant la funci\u00f3 <code>arange</code> de numpy crea un array amb els n\u00fameros del 100 al 200 per\u00f2 sense incloure el 200. Mostra el resultat.</li> <li>Usant la funci\u00f3 range est\u00e0ndard de Python crea un array amb els n\u00fameros del 100 al 200 per\u00f2 sense incloure el 200. Mostra el resultat. Quina difer\u00e8ncia hi ha amb arange? Justifica la resposta.</li> </ul>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/numpy/01_numpy/#exercici-3-matrius","title":"Exercici 3: Matrius\u00b6","text":"<p>Crea la matriu seg\u00fcent:</p> <p>$$ \\begin{pmatrix} 1 &amp; 4 &amp; 6 &amp; 5\\\\ 4 &amp; 1 &amp; 7 &amp; 3\\\\ 2 &amp; 9 &amp; 1 &amp; 2\\\\ 6 &amp; 3 &amp; 1 &amp; 1\\\\ \\end{pmatrix} $$</p> <ul> <li>Mostra l'element de la fila 2n i la columna 3r. \u00c9s el valor del 7.</li> <li>Mostra la 3a Fila</li> <li>Mostra la 2a Columna</li> <li>Mostra la 2n i 3r Columna</li> <li>Mostra la 2n i 3r Fila</li> <li>Mostra la darrera columna. Heu de funcionar independentment del nombre de columnes.</li> <li>Mostra la 2n i 3r Columna i la 1r i 3r fila</li> <li>Mostra de la 2n a la 3r Columna i de la 1r a la 3r fila</li> <li>Mostra totes les columnes excepte la primera i la darrera. Heu de funcionar independentment del nombre de columnes.</li> <li>Mostra totes les files excepte la primera i la darrera. Heu de funcionar independentment del nombre de files.</li> <li>Mostra totes les columnes excepte la primera i la darrera i totes les files excepte la primera i la darrera. Heu de funcionar independentment del nombre de files i columnes.</li> <li>Imprimeix la matriu i fes que les cap\u00e7aleres de cada columna siguin A, B , C i D</li> </ul>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/numpy/01_numpy/#exercici-4-filtrat","title":"Exercici 4: Filtrat\u00b6","text":"<p>El seg\u00fcent array cont\u00e9 les temperatures mitjanes que ha fet a Val\u00e8ncia cada mes[10.2, 10.7, 13.3, 15.8, 19.3, 23.6, 26, 25.9, 22.8, 19.1, 13.9, 10.8 ]</p> <ul> <li>Mostra les temperatures el valor de les quals sigui m\u00e9s gran que 20</li> <li>Mostra les temperatures el valor de les quals sigui menor que 11</li> <li>Mostra les temperatures el valor de les quals sigui m\u00e9s gran que 20 o menor que 11</li> </ul>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/numpy/01_numpy/#exercici-5-matrius-i-iris","title":"Exercici 5: Matrius i Iris\u00b6","text":"<p>Carrega les dades de l'exemple de les flors amb el codi seg\u00fcent:</p> <pre>from sklearn.datasets import load_iris\ndata=load_iris().data\nresult=load_iris().target\n</pre> <ul> <li>Crea un array anomenat <code>sepal_length</code> amb les 99 primeres files i la 1a columna de la matriu <code>data</code></li> <li>Crea un array anomenat <code>petal_length</code> amb les 99 primeres files i la 3a columna de la matriu <code>data</code></li> <li>Crea un array anomenat <code>x</code> ajuntant les 2 columnes <code>sepal_length</code> i <code>petal_length</code></li> <li>Crea un array anomenat <code>y</code> amb les 99 primeres files del vector <code>result</code></li> </ul>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/numpy/01_numpy/#exercici-6-matrius-i-iris","title":"Exercici 6: Matrius i Iris\u00b6","text":"<p>Carrega les dades de l'exemple de les flors amb el codi seg\u00fcent:</p> <pre>from sklearn.datasets import load_iris\ndata=load_iris().data\nresultat=load_iris().target\n</pre> <ul> <li>Crea un array anomenat <code>x</code> amb les 99 primeres files, la 1r columna i la 3r columna de la matriu <code>data</code></li> <li>Crea un array anomenat <code>y</code> amb les 99 primeres files del vector <code>result</code></li> </ul>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/numpy/01_numpy/#exercici-7-matrius-2d","title":"Exercici 7: Matrius 2D\u00b6","text":"<p>Selecciona les cel\u00b7les en roig oscur de la seg\u00fcent matriu:</p> <p></p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/numpy/01_numpy/#exercici-8-matrices-3d","title":"Exercici 8: Matrices 3D\u00b6","text":"<p>Selecciona les cel\u00b7les en roig fosc de la matriu seg\u00fcent:</p> <p></p> <p>Ara seleccioneu les cel\u00b7les en roig fosc per\u00f2 tamb\u00e9 les verdes i blaves que hi ha per darrere de les roig fosc.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/numpy/01_numpy/#exercici-9-matricus","title":"Exercici 9: Matricus\u00b6","text":"<p>Crea la matriu seg\u00fcent:</p> <p>$$ \\begin{pmatrix} 1 &amp; 4 &amp; 6 &amp; 5\\\\ 4 &amp; 1 &amp; 7 &amp; 3\\\\ 2 &amp; 9 &amp; 1 &amp; 2\\\\ 6 &amp; 3 &amp; 1 &amp; 1\\\\ \\end{pmatrix} $$</p> <ul> <li>A tots els elements de la matriu suma-li un 10. Usant les funcions de numpy</li> <li>A tots els elements de la matriu suma-li un 10 i divideix-los entre 2. Usant les funcions de numpy</li> <li>A tots els elements de la matriu suma-li un 10. Usant operadors</li> <li>A tots els elements de la matriu suma-li un 10 i divideix-los entre 2. Usant operadors</li> </ul>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/numpy/01_numpy/#exercici-10-matrius","title":"Exercici 10: Matrius\u00b6","text":"<p>Crea la matriu seg\u00fcent:</p> <p>$$ \\begin{pmatrix} 1 &amp; 2 &amp; 3\\\\ 4 &amp; 5 &amp; 6\\\\ 7 &amp; 8 &amp; 9\\\\ \\end{pmatrix} $$</p> <ul> <li>Multiplica cada element de la matriu per si mateix</li> <li>Multiplica la matriu per si mateixa</li> </ul>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/numpy/01_numpy/#exercici-10dimensions","title":"Exercici 10:Dimensions\u00b6","text":"<p>Mostra les dimensions dels seg\u00fcents arrays:</p> <pre>a=[2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37]\n\nb=[[2, 3], [5, 7], [11, 13], [17, 19], [23, 29], [31, 37]]\n\nc=[[[2, 3], [5, 7]], [[11, 13], [17, 19]], [[23, 29], [31, 37]]]\n</pre>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/numpy/01_numpy/#exercici-10-forma","title":"Exercici 10: Forma\u00b6","text":"<p>Crea una funci\u00f3 anomenada <code>mostrar_tamany</code> que reba un array de numpy i imprimisca la mida de cadascuna de les dimensions.</p> <p>Per exemple, amb l'array [ [ [2, 3], [5, 7]], [ [11, 13], [17, 19]], [ [23, 29], [31, 37] ] ]haureu de mostrar</p> <pre>El n\u00ba de elementos de la dimension 0 es 3\nEl n\u00ba de elementos de la dimension 1 es 2\nEl n\u00ba de elementos de la dimension 2 es 2\n</pre> <pre>a=[2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37]\n\nb=[[2, 3], [5, 7], [11, 13], [17, 19], [23, 29], [31, 37]]\n\nc=[[[2, 3], [5, 7]], [[11, 13], [17, 19]], [[23, 29], [31, 37]]]\n</pre>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/numpy/01_numpy/#exercici-11-tipus-de-dades","title":"Exercici 11: Tipus de dades\u00b6","text":"<p>Mostra amb numpy el tipus de dades dels seg\u00fcents arrays:</p> <pre>a=[2, 3, 5]\n\nb=[2.4, 3.2, 5.6]\n\nc=[2, 3, 5.6]\n</pre>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/numpy/01_numpy/#exercici-12-unir-columnes","title":"Exercici 12: Unir columnes\u00b6","text":"<p>En exercicis anteriors vas obtenir per al problema de les flors, una matriu x i un vector y.</p> <p>Uneix les dades en una nova matriu de manera que cada fila de la nova matriu contingui les dades de cada fila de la x i la dada corresponent de la y.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/numpy/01_numpy/#exercici-13-linspace-y-graficas","title":"Exercici 13: linspace  y gr\u00e1ficas\u00b6","text":"<p>Donat el seg\u00fcent codi python:</p> <pre>import matplotlib.pyplot as plt\nimport numpy as np\n  \nfigure=plt.figure(figsize=(8,8))\naxes = figure.add_subplot()\n \nx=[-3,-2,-1,0,1,2,3]\ny =  3*(1 - x)**2 * np.exp(-x**2 )  - 10*(x/5 - x**3 )*np.exp(-x**2 ) - 1./3*np.exp(-(x + 1)**2 ) \n \naxes.plot(x,y)\n</pre> <ul> <li>Modifica el codi que genera la variable xperqu\u00e8 sigui un array de numpy i de tipus float. Mostra la imatge</li> <li>Modifica el codi que genera la variable xperqu\u00e8 siguin 10 valors entre el [-3,3]. Mostra la imatge</li> <li>Modifica el codi que genera la variable xperqu\u00e8 siguin 20 valors entre el [-3,3]. Mostra la imatge</li> <li>Modifica el codi que genera la variable xperqu\u00e8 siguin 40 valors entre el [-3,3]. Mostra la imatge</li> <li>Modifica el codi que genera la variable xperqu\u00e8 siguin 60 valors entre el [-3,3]. Mostra la imatge</li> <li>Modifica el codi que genera la variable xperqu\u00e8 siguin 100 valors entre el [-3,3]. Mostra la imatge</li> </ul>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/numpy/01_numpy/#exercici-14-ordenacio","title":"Exercici 14: ordenaci\u00f3\u00b6","text":"<p>Utilitzant la funci\u00f3 np.argsort i fancy indexing fes una funci\u00f3 que reba una llista de n\u00fameros (una llista de python, no un artray de numnpy) i la torne ordenada.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/numpy/02_mario/","title":"1. Mario","text":"In\u00a0[\u00a0]: Copied! <p>Seguint amb el tensor de l'exercici anterior de mario. Aplica a tots els elements la funci\u00f3 seg\u00fcent:</p> <ul> <li>Si el valor est\u00e0 entre [0,63] es transformar\u00e0 en 0</li> <li>Si el valor est\u00e0 entre [64,127] es transformar\u00e0 en 90</li> <li>Si el valor est\u00e0 entre [128,191] es transformar\u00e0 en 150</li> <li>Si el valor est\u00e0 entre [192,255] es transformar\u00e0 el 200</li> </ul> <p>Per fer-ho haur\u00e0s de transformar el tensor una altra vegada en un matriu unidimensional, aplicar la funci\u00f3 i tornar a transformar-lo en un tensor de 3 dimensions</p> In\u00a0[\u00a0]: Copied!"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/numpy/02_mario/#practica-1-transformar-tensores","title":"Pr\u00e0ctica 1: Transformar tensores\u00b6","text":"<p>El fitxer mario.csv que hi ha dins de mario.zip  cont\u00e9 un array de numpy. Aquest array correspon a la seg\u00fcent imatge que t\u00e9 la mida 41x31:</p> <p></p> <ul> <li>Carrega l'array des de disc i anomena'l mario.</li> <li>Mostra la mida de les dimensions usant la funci\u00f3 que vas crear en un exercici anterior.</li> <li>Mostra la imatge amb el codi seg\u00fcent. No us deixar\u00e0. Per qu\u00e8?</li> </ul> <pre>import matplotlib.pyplot as plt\nfigure=plt.figure()\naxes = figure.add_subplot()\naxes.imshow(mario)\n</pre> <ul> <li>Transforma l'array a un altre la mida del qual sigui 41x31 i que l'\u00faltima dimensi\u00f3 no s'indiqui. Quina \u00e9s la mida de la darrera dimensi\u00f3?</li> <li>Quin \u00e9s el tipus? Quant ocupa en mem\u00f2ria?</li> <li>Mostra una altra vegada la imatge. No us deixar\u00e0. Per qu\u00e8?</li> <li>Transforma la matriu en 8 bits sense signe. Quant ocupa ara en mem\u00f2ria?</li> <li>Mostra una altra vegada la imatge. Ara s\u00ed que us deixar\u00e0. Per qu\u00e8?</li> <li>Mostra ara les dades de la matriu del color vermell.</li> <li>Mostra ara les dades de la matriu del color Verd.</li> <li>Mostra ara les dades de la matriu del color Blau.</li> <li>Mostra els colors RGB del p\u00edxel (2,3)</li> <li>Obtingues les dades de la matriu del color Roig, aplica'n la transposada i mostra la imatge.</li> <li>Dividiu tots els valors del tensor entre 2 i mostra la imatge.</li> </ul>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/numpy/03_derivades/","title":"2. Derivades","text":"In\u00a0[\u00a0]: Copied!"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/numpy/03_derivades/#practica-2-derivades","title":"Pr\u00e0ctica 2: Derivades\u00b6","text":"<p>Crea les seg\u00fcents funcions:</p> <ul> <li>Crea una funci\u00f3 anomenada resta_seguent que accepti com a par\u00e0metre un array anomenat a. Aquesta funci\u00f3 far\u00e0 el seg\u00fcent:<ul> <li>Crea un array anomenat primers que contingui tots els elements de l'array menys l'\u00faltim</li> <li>Crea un array anomenat ultims que contingui tots els elements de l'array menys el primer</li> <li>Retorna el resultat de restar ultims menys primers</li> </ul> </li> <li>Crea una funci\u00f3 anomenada derivadaque accepti com a par\u00e0metre dos arrays anomenats xi y.<ul> <li>Crea un matriu anomenada resta_x que sigui el resultat de cridar a la funci\u00f3 resta_seguent amb l'argument x</li> <li>Crea un matriu anomenada resta_y que sigui el resultat de cridar a la funci\u00f3 resta_seguent amb l'argument y</li> <li>Retorna dos valors que seran:<ul> <li>L'array x menys l'\u00faltim element</li> <li>El resultat de dividir resta_y entre resta_x</li> </ul> </li> </ul> </li> </ul> <p>Amb tot aix\u00f2 fes el seg\u00fcent programa:</p> <ul> <li>Crea un array anomenat x, amb 100 n\u00fameros entre el -2 i el 2</li> <li>Crea un array anomenat y_absolut que sigui el valor absolut de l'array x</li> <li>Crea un array anomenat y_cuadrad que sigui el valor al quadrat de l'array x</li> <li>Crida a la funci\u00f3 derivada amb els arguments x i y_absoluto i guarda el resultat als arrays derivada_x_absolut,derivada_y_absolut</li> <li>Crida a la funci\u00f3 derivada amb els arguments x i y_cuadrado i guarda el resultat als arrays derivada_x_cuadrat,derivada_y_cuadrat</li> </ul> <p>Mostra el resultat de tots els arrays amb el codi seg\u00fcent:</p> <pre>import matplotlib.pyplot as plt\n  \nfigure=plt.figure(figsize=(16,8))\naxes = figure.add_subplot(1,2,1)\naxes.plot(x,y_absolut,label=\"Absoluto\")\naxes.plot(x,y_cuadrad,label=\"Cuadrado\")\naxes.legend(loc=\"upper left\")\n\naxes = figure.add_subplot(1,2,2)\naxes.plot(derivada_x_absolut,derivada_y_absolut,label=\"Derivada Absoluto\")\naxes.plot(derivada_x_cuadrat,derivada_y_cuadrat,label=\"Derivada Cuadrado\")\naxes.legend(loc=\"upper left\")\n</pre> <p>La imatge resultant ha de ser semblant a aquesta:</p> <p></p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/numpy/04_vi/","title":"3. Vi","text":"In\u00a0[\u00a0]: Copied!"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/numpy/04_vi/#practica-3-el-vi","title":"Pr\u00e0ctica 3: El vi\u00b6","text":"<p>C\u00e0rrega amb numpy el fitxer wine.csv que cont\u00e9 una matriu de n\u00fameros separats per coma.</p> <p>La matriu cont\u00e9 una s\u00e8rie de columnes amb caracter\u00edstiques del vi i la darrera columna indica el tipus del vi.</p> <ul> <li>Crea una funci\u00f3 en python anomenada imprimir_datos i tindr\u00e0 com a par\u00e0metre una matriu de numpy de manera que:<ul> <li>Imprimiu totes les caracter\u00edstiques que tenim de cada tipus de vi.</li> <li>Imprimiu quantes mostra de vi tenim</li> <li>Imprimiu quants tipus diferents de vi tenim i quins s\u00f3n</li> <li>Imprimiu els valors m\u00e0xims i m\u00ednims de cada caracter\u00edstica</li> <li>Retorna una nova matriu anomenada x nom\u00e9s amb les caracter\u00edstiques i un nou array anomenat y nom\u00e9s amb els tipus de vi</li> </ul> </li> <li>Truca a la funci\u00f3 imprimir_datosamb les dades de la matriu carregada des de wine.csv .</li> </ul>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/numpy/05_KNN/","title":"4. KNN","text":"<ol> <li><p>Comen\u00e7arem creant un conjunt aleatori de 10 punts, situats al pl\u00e0 entre el punt (0,0) i (10, 10). Per tal d'obtindre els mateixos punts pseudoaleatoris utilitza una semilla de valor 42. Els punts obtesos seran els seg\u00fcents:</p> <p></p> </li> </ol> In\u00a0[77]: Copied! <pre># Resposta 1\n</pre> # Resposta 1  <ol> <li>Representa en un gr\u00e0fic de dispersi\u00f3 (scatter) els punts anteriors. Afegeix una etiqueta a cada punt on indique quin punt \u00e9s (amb plt.text(coordenada_x, coordenada_y, \"etiqueta\")). Imprimeix per consola els punts i comprova que la representaci\u00f3 \u00e9s correcta.</li> </ol> In\u00a0[78]: Copied! <pre># Resposta 2\n</pre> # Resposta 2  <ol> <li><p>Necessitem calcular la dist\u00e0ncia al quadrat entre cada parell de punts, per veure quins s\u00f3n els m\u00e9s pr\u00f2xims. (Podriem utilitzar tamb\u00e9 la dist\u00e0ncia euclideana, per\u00f2 els m\u00e9s pr\u00f2xims continuaran sent els mateixos punts, ja que si la dist\u00e0ncia \u00e9s menor, el quadrat de la dist\u00e0ncia tamb\u00e9. \u00c9s a dir, si x &lt; y, x\u00b2 &lt; y\u00b2 ).</p> <p>Comencem calculant les difer\u00e8ncies en les seues coordenades x i y, que ja calcularem en la pr\u00e0ctica de les figures, per\u00f2 esta vegada utilitzant numpy. Per a calcular les difer\u00e8ncies necessitem utilitzar la difusi\u00f3 i restar a una matriu de dimensions 10x1x2 una matriu de 1x10x2, obtenint una matriu resultant de 10x10x2.</p> <p>La matriu de 10x1x2 ser\u00e0 una matriu de 10 files, 1 columna i profunditat 2. En cada fila, es tindran les coordenades x e y de cada punt.</p> <p>La matriu 1x10x2 contindr\u00e0 la mateixa informaci\u00f3, esta vegada organitzat en forma d'1 fila, 10 columnes i 2 elements de profunditat.</p> <p>D'esta forma, aplicant la difusi\u00f3, la matriu resultant creixer\u00e0 per tindre unes dimensions de 10x10x2, on cada fila tindr\u00e0 les dist\u00e0ncies en x i y d'un punt amb la resta. (Veure dibuix de difusi\u00f3 amb un pl\u00e0 de profunditat m\u00e9s).</p> <p>Comprova que obtens un array d'estes dimensions.</p> </li> </ol> In\u00a0[79]: Copied! <pre># Resposta 3\n</pre> # Resposta 3 Out[79]: <pre>(10, 10, 2)</pre> <ol> <li>Comprova que la difer\u00e8ncia entre punts siga correcta. Per exemple, entre els punt 0 (6, 3) i 1 (7, 4) hauria de ser (-1, -1).</li> </ol> In\u00a0[80]: Copied! <pre># Resposta 4\n</pre> # Resposta 4 Out[80]: <pre>array([-1, -1])</pre> <ol> <li>Eleva al quadrat les difer\u00e8ncies en x i y (per eliminar l'efecte de dist\u00e0ncies negatives). La forma continuar\u00e0 sent (10, 10, 2).</li> </ol> In\u00a0[81]: Copied! <pre># Resposta 5\n</pre> # Resposta 5 Out[81]: <pre>(10, 10, 2)</pre> <ol> <li>Suma les dist\u00e0ncies. El resultat ara seria de la forma (10, 10).</li> </ol> In\u00a0[82]: Copied! <pre># Resposta 6\n</pre> # Resposta 6 Out[82]: <pre>(10, 10)</pre> <ol> <li>Comprova que la dist\u00e0ncia al quadrat entre els punts 2 i 5 \u00e9s 13 (2\u00b2 + 3\u00b2 = 13).</li> </ol> In\u00a0[83]: Copied! <pre># Resposta 7\n</pre> # Resposta 7 Out[83]: <pre>13</pre> <ol> <li>Calcula l'arrel quadrada de les dist\u00e0ncies al quadrat per obtindre la dist\u00e0ncia entre els punts.</li> </ol> In\u00a0[84]: Copied! <pre># Resposta 7\n</pre> # Resposta 7 Out[84]: <pre>array([[0.        , 1.41421356, 6.        , 5.        , 1.41421356,\n        5.        , 1.41421356, 1.41421356, 6.40312424, 2.23606798],\n       [1.41421356, 0.        , 5.09901951, 5.38516481, 0.        ,\n        5.        , 2.        , 2.        , 6.70820393, 3.60555128],\n       [6.        , 5.09901951, 0.        , 5.        , 5.09901951,\n        3.60555128, 7.07106781, 5.09901951, 5.38516481, 8.06225775],\n       [5.        , 5.38516481, 5.        , 0.        , 5.38516481,\n        1.41421356, 6.40312424, 3.60555128, 1.41421356, 5.83095189],\n       [1.41421356, 0.        , 5.09901951, 5.38516481, 0.        ,\n        5.        , 2.        , 2.        , 6.70820393, 3.60555128],\n       [5.        , 5.        , 3.60555128, 1.41421356, 5.        ,\n        0.        , 6.40312424, 3.60555128, 2.        , 6.32455532],\n       [1.41421356, 2.        , 7.07106781, 6.40312424, 2.        ,\n        6.40312424, 0.        , 2.82842712, 7.81024968, 2.23606798],\n       [1.41421356, 2.        , 5.09901951, 3.60555128, 2.        ,\n        3.60555128, 2.82842712, 0.        , 5.        , 3.        ],\n       [6.40312424, 6.70820393, 5.38516481, 1.41421356, 6.70820393,\n        2.        , 7.81024968, 5.        , 0.        , 7.21110255],\n       [2.23606798, 3.60555128, 8.06225775, 5.83095189, 3.60555128,\n        6.32455532, 2.23606798, 3.        , 7.21110255, 0.        ]])</pre> <ol> <li>Si extraiem la diagonal de l'anterior matriu (np.diagonal()), quin resultat obtenim? Perqu\u00e8? Justifica la resposta.</li> </ol> In\u00a0[85]: Copied! <pre># Resposta 9 (codi)\n</pre> # Resposta 9 (codi) Out[85]: <pre>array([0., 0., 0., 0., 0., 0., 0., 0., 0., 0.])</pre> <ul> <li>Resposta 9, justificaci\u00f3</li> </ul> <ol> <li>Obtin mitjan\u00e7ant numpy, de forma ordenada, quins son els punt m\u00e9s pr\u00f2xims a cada punt. \u00c9s a dir, en la primera fila, estarn ordenats els \u00edndex dels punts m\u00e9s pr\u00f2xims al punt zero, en la segona, al punt 1, ... Comprova el resultat mirant la gr\u00e0fica de dispersi\u00f3.</li> </ol> In\u00a0[86]: Copied! <pre># Resposta 10\n</pre> # Resposta 10 Out[86]: <pre>array([[0, 1, 4, 6, 7, 9, 3, 5, 2, 8],\n       [1, 4, 0, 6, 7, 9, 5, 2, 3, 8],\n       [2, 5, 3, 1, 4, 7, 8, 0, 6, 9],\n       [3, 5, 8, 7, 0, 2, 1, 4, 9, 6],\n       [1, 4, 0, 6, 7, 9, 5, 2, 3, 8],\n       [5, 3, 8, 2, 7, 0, 1, 4, 9, 6],\n       [6, 0, 1, 4, 9, 7, 3, 5, 2, 8],\n       [7, 0, 1, 4, 6, 9, 3, 5, 8, 2],\n       [8, 3, 5, 7, 2, 0, 1, 4, 9, 6],\n       [9, 0, 6, 7, 1, 4, 3, 5, 8, 2]])</pre> <ol> <li>Repeteix l'ordenaci\u00f3, esta vegada amb la dist\u00e0ncia al quadrat.</li> </ol> In\u00a0[87]: Copied! <pre># Resposta 11\n</pre> # Resposta 11 Out[87]: <pre>array([[0, 1, 4, 6, 7, 9, 3, 5, 2, 8],\n       [1, 4, 0, 6, 7, 9, 5, 2, 3, 8],\n       [2, 5, 3, 1, 4, 7, 8, 0, 6, 9],\n       [3, 5, 8, 7, 0, 2, 1, 4, 9, 6],\n       [1, 4, 0, 6, 7, 9, 5, 2, 3, 8],\n       [5, 3, 8, 2, 7, 0, 1, 4, 9, 6],\n       [6, 0, 1, 4, 9, 7, 3, 5, 2, 8],\n       [7, 0, 1, 4, 6, 9, 3, 5, 8, 2],\n       [8, 3, 5, 7, 2, 0, 1, 4, 9, 6],\n       [9, 0, 6, 7, 1, 4, 3, 5, 8, 2]])</pre> <ol> <li>Compara els dos arrays. S\u00f3n iguals? Perqu\u00e8? Justifica la resposta.</li> </ol> <ul> <li>Resposta 12</li> </ul> <ol> <li>Perqu\u00e8 la primera columna de les dos matrius anteriors (dist\u00e0ncia i dist\u00e0ncia al quadrat) cont\u00e9 els n\u00fameros 0 a 9 ordenats (excepte el 4)? Raona la resposta.</li> </ol> <ul> <li>Resposta 13</li> </ul> <ol> <li>Acabem de fer una classificaci\u00f3 completa de les dist\u00e0ncies. Si ens interessa els 2 ve\u00efns m\u00e9s pr\u00f2xims, com els obtenim?</li> </ol> In\u00a0[88]: Copied! <pre># Resposta 14\n</pre> # Resposta 14 Out[88]: <pre>array([[0, 1, 4],\n       [1, 4, 0],\n       [2, 5, 3],\n       [3, 5, 8],\n       [1, 4, 0],\n       [5, 3, 8],\n       [6, 0, 1],\n       [7, 0, 1],\n       [8, 3, 5],\n       [9, 0, 6]])</pre> <ol> <li>Se t'oc\u00f3rre algun m\u00e8tode m\u00e9s eficient per a obtindre una ordenaci\u00f3 m\u00e9s r\u00e0pida dels dos ve\u00efns m\u00e9s pr\u00f2xims?</li> </ol> In\u00a0[89]: Copied! <pre># Resposta 15\n</pre> # Resposta 15 Out[89]: <pre>array([[0, 1, 4],\n       [1, 4, 0],\n       [2, 5, 3],\n       [3, 5, 8],\n       [1, 4, 0],\n       [5, 3, 8],\n       [6, 0, 1],\n       [7, 0, 1],\n       [8, 3, 5],\n       [9, 0, 6]])</pre> <ol> <li>Executa el seg\u00fcent fragment de codi per representar gr\u00e0ficament els resultats.</li> </ol> In\u00a0[93]: Copied! <pre>plt.scatter(punts[:, 0], punts[:, 1], s=100)\n\n# draw lines from each point to its two nearest neighbors\nK = 2\n\nfor i in range(punts.shape[0]):\n    plt.text(punts[i, 0], punts[i, 1], str(i))\n    for j in dos_mes_proxims[i, :K+1]:\n        # plot a line from X[i] to X[j]\n        # use some zip magic to make it happen:\n        plt.plot(*zip(punts[j], punts[i]), color='black')\n</pre> plt.scatter(punts[:, 0], punts[:, 1], s=100)  # draw lines from each point to its two nearest neighbors K = 2  for i in range(punts.shape[0]):     plt.text(punts[i, 0], punts[i, 1], str(i))     for j in dos_mes_proxims[i, :K+1]:         # plot a line from X[i] to X[j]         # use some zip magic to make it happen:         plt.plot(*zip(punts[j], punts[i]), color='black') <ol> <li><p>Interpreta els resultats anteriors. Imagina que a les dades anteriors, formen part d'un estudi d'una enfermetat. Els punts 2, 3, 5 i 8 son les dades de pacient amb l'enfermetat mentre que la resta, son les dades de pacients amb l'enfermetat.</p> <p>Les dades d'un nou pacient son [8, 3], creus que pateix l'enfermetat? I un pacient amb dades [2, 6]? Justifica les respostes.</p> </li> </ol> <ul> <li>Resposta 17</li> </ul> <ol> <li>Qu\u00e8 passa amb un pacient amb dades [2,2]? Justifica la resposta.</li> </ol>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/numpy/05_KNN/#practica-4-numpy-implementacio-de-k-nearest-neighbors","title":"Pr\u00e0ctica 4 NumPy: implementaci\u00f3 de K-nearest neighbors\u00b6","text":"<p>k-Nearest Neighbors (k-NN) \u00e9s un algorisme d'aprenentatge autom\u00e0tic supervisat que s'utilitza en problemes de classificaci\u00f3 i regressi\u00f3. La seva idea b\u00e0sica \u00e9s senzilla: donat un conjunt de dades etiquetat (en el cas de la classificaci\u00f3) o amb valors objectius (en el cas de la regressi\u00f3), k-NN classifica o prediu un nou punt de dades basant-se en les etiquetes o valors dels punts de dades m\u00e9s propers a aquest nou punt. El \"k\" en k-NN representa el nombre de ve\u00efns m\u00e9s propers que s'utilitzen per prendre decisions. Aquest m\u00e8tode es basa en la suposici\u00f3 que punts similars tendeixen a estar propers en l'espai de caracter\u00edstiques i, per tant, poden ser \u00fatils per predir o classificar nous punts.</p> <p>Un exemple podria ser la classificaci\u00f3 de pacients en funci\u00f3 de les seves caracter\u00edstiques cl\u00edniques o biomarcadors.</p> <p>Suposem que tens un conjunt de dades de pacients que inclou informaci\u00f3 com ara edat, sexe, antecedents m\u00e8dics, valors de proves de laboratori i el diagn\u00f2stic final (per exemple, si un pacient t\u00e9 o no una determinada malaltia). Pots utilitzar k-NN per classificar nous pacients com a positiu o negatiu per a la malaltia en funci\u00f3 de les seves caracter\u00edstiques.</p> <p>Per exemple, si tens un pacient nou amb edat de 45 anys, sexe mascul\u00ed, antecedents familiars de la malaltia i uns determinats valors de proves de laboratori, pots utilitzar un model k-NN ja entrenat amb les dades anteriors per predir si aquest pacient \u00e9s propens a la malaltia o no. Si les caracter\u00edstiques d'aquest pacient s'assemblen a les de pacients amb la malaltia segons el model, es classificar\u00e0 com a positiu; en cas contrari, es classificar\u00e0 com a negatiu.</p> <p>Vegem com podem utilitzar la funci\u00f3 argsort al llarg de diversos eixos per trobar els ve\u00efns m\u00e9s propers de cada punt d'un conjunt.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/numpy/05_KNN/#resposta-18","title":"Resposta 18\u00b6","text":""},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/numpy/06_sobel/","title":"6. Sobel","text":"In\u00a0[\u00a0]: Copied! <ol> <li>Definir els Nuclis del Filtre Sobel</li> </ol> <p>Objectiu:</p> <p>Els nuclis Sobel Gx i Gy s'utilitzen per detectar canvis en la intensitat de la imatge en les direccions horitzontal i vertical.</p> <p>Pseudocodi:</p> <pre><code>Defineix els nuclis Sobel de 3x3:\n- Gx = [[-1, 0, 1], [-2, 0, 2], [-1, 0, 1]]\n- Gy = [[-1, -2, -1], [0, 0, 0], [1, 2, 1]]\n</code></pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre> <ol> <li>Aplicar el Filtre Sobel</li> </ol> <p>Tasca:</p> <p>Implementa el filtre Sobel aplicant una convoluci\u00f3 a cada p\u00edxel de la imatge, excepte els de la vora. Calcula la magnitud del gradient per obtenir les vores detectades.</p> <p>Pseudocodi:</p> <pre><code>1. Crea una matriu `edges` buida amb la mateixa mida que `img_array` per emmagatzemar el resultat.\n\n2. Per a cada p\u00edxel `img_array[i, j]` dins del rang (excepte els de la vora):\n   a. Extreu un bloc de 3x3 al voltant del p\u00edxel (i, j).\n   b. Calcula Ix aplicant la convoluci\u00f3 entre el bloc i `Gx`:\n      - Multiplica cada element del bloc per l'element corresponent de `Gx` i suma tots els resultats.\n   c. Calcula Iy aplicant la convoluci\u00f3 entre el bloc i `Gy` de la mateixa manera.\n   d. Calcula la magnitud del gradient com `sqrt(Ix^2 + Iy^2)`.\n   e. Guarda aquest valor a `edges[i, j]`.\n\n3. (Opcional) Normalitza `edges` per ajustar els valors entre 0 i 255 per una millor visualitzaci\u00f3.\n</code></pre> <p>Notes:</p> <p>Tingues en compte els p\u00edxels de la vora, ja que no tenen ve\u00efns complets per formar blocs de 3x3. Una opci\u00f3 \u00e9s ometre aquests p\u00edxels. Assegura't que edges sigui una matriu amb valors adequats per a una imatge (0 a 255).</p> In\u00a0[\u00a0]: Copied! <pre>\n</pre> <ol> <li>Visualitzar la Imatge de les Vores</li> </ol> <p>Per veure els resultats, mostra la imatge de edges en escala de grisos.</p> <p>Pseudocodi:</p> <pre><code>1. Utilitza `matplotlib` per mostrar `edges` com a imatge.\n2. Defineix la colormap com \"gray\" per visualitzar la imatge en escala de grisos.\n3. Amaga els eixos per una millor visualitzaci\u00f3.\n</code></pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre> <ol> <li>Guardar la Imatge Resultant</li> </ol> <p>Per conservar el resultat, guarda la imatge de les vores detectades en un fitxer.</p> <p>Pseudocodi:</p> <pre><code>1. Converteix `edges` a format uint8 (escala de 0 a 255) si no ho est\u00e0 ja.\n2. Crea una imatge amb Pillow utilitzant `edges`.\n3. Guarda la imatge resultant amb un nom com \"vores_detectades.png\".\n</code></pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/numpy/06_sobel/#filtre-sobel-per-a-deteccio-de-vores-en-imatges","title":"Filtre Sobel per a Detecci\u00f3 de Vores en Imatges\u00b6","text":""},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/numpy/06_sobel/#introduccio","title":"Introducci\u00f3\u00b6","text":"<p>Aquest notebook explica com aplicar el filtre Sobel a una imatge per detectar-ne les vores. La detecci\u00f3 de vores \u00e9s un pas crucial en moltes aplicacions de processament d'imatges, com ara el reconeixement de car\u00e0cters \u00f2ptics (OCR), la visi\u00f3 per computador, i altres aplicacions d'intel\u00b7lig\u00e8ncia artificial. Aprendrem a carregar, redimensionar i processar una imatge amb el filtre Sobel utilitzant numpy, Pillow i matplotlib.</p> <ol> <li>Llibreries Necess\u00e0ries</li> </ol> <p>Comencem important les llibreries necess\u00e0ries per a aquest exercici: <code>Pillow</code> (PIL) per carregar i guardar la imatge, <code>numpy</code> per a les operacions matem\u00e0tiques i <code>matplotlib</code> per visualitzar les imatges.</p> <ol> <li>Carregar i Redimensionar la Imatge</li> </ol> <p>Tasca: Carrega una imatge en escala de grisos i guarda-la en una matriu numpy. Redimensiona la imatge abans de carregar-la si \u00e9s massa gran, per facilitar els c\u00e0lculs. Pseudocodi:</p> <pre><code>1. Utilitza la llibreria Pillow per carregar la imatge.\n2. Converteix la imatge a escala de grisos (opcional, per\u00f2 recomanat per aquest filtre).\n3. Converteix la imatge a una matriu `numpy`.\n4. Guarda aquesta matriu com `img_array`.\n</code></pre>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/numpy/06_sobel/#conclusio","title":"Conclusi\u00f3\u00b6","text":"<p>La detecci\u00f3 de vores \u00e9s un proc\u00e9s essencial en moltes aplicacions de processament d'imatges i visi\u00f3 per computador, com:</p> <ul> <li>OCR (Reconeixement \u00d2ptic de Car\u00e0cters): Els filtres de vores ajuden a identificar les lletres i car\u00e0cters separant les zones d'inter\u00e8s (contorns) del fons.</li> <li>Visi\u00f3 per Computador: La detecci\u00f3 de vores ajuda a localitzar objectes en sistemes autom\u00e0tics i robots.</li> <li>An\u00e0lisi d\u2019Imatges M\u00e8diques: La detecci\u00f3 de contorns ajuda a ressaltar \u00f2rgans i altres estructures.</li> </ul> <p>Aquest exercici ofereix una introducci\u00f3 a les t\u00e8cniques de convoluci\u00f3 en imatges, un component fonamental en les aplicacions d\u2019intel\u00b7lig\u00e8ncia artificial i processament d'imatges.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/numpy/Soroll_Impulsiu/","title":"Soroll impulsiu","text":"<p>Conceptes treballats</p> <ul> <li>Numpy</li> <li>PIL: Python Image Library</li> <li>Impulsive Noise</li> </ul> <p>El soroll impulsiu (impulsive noise) \u00e9s un tipus de soroll caracteritzat per pics d'alta intensitat que es produeixen de manera breu i sobtada. El soroll impulsiu aplicat a les imatges en color es manifesta com p\u00edxels amb valors an\u00f2malament alts o baixos en una petita proporci\u00f3 de la imatge, creant punts brillants o foscos que es distribueixen de manera aleat\u00f2ria.</p> <p></p> <p>Consell</p> <p>Fer servir imatges menudes per a les proves, de 50x50 com a molt.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/numpy/Soroll_Impulsiu/#exercici-1-addicio-de-soroll-sinteticartificial","title":"Exercici 1. Addici\u00f3 de soroll sint\u00e8tic/artificial","text":"<p>Moltes vegades no podrem torbar dataset o dades reals per a treballar. En eixos casos hem de saber fabricar-les per a crear i provar els nostres programes. Aquest concepte s'anomena aumentaci\u00f3.</p> <p>Fes un programa que reb com arguments un nom d'arxiu (imatge en color: png, bmp o similar) i un percentatge entre 1 i 40 (es recomana 5% per a les proves inicials). Aquest programa afegir\u00e0 dit percentatge de soroll impulsiu a cada p\u00edxel de la imatge, seguint el seg\u00fcent algorisme:</p> <ol> <li>Obrirem la imatge amb PIL </li> <li>La transformem a un array de numpy</li> <li>Recorrem el array. Les vores no es tenen en consideraci\u00f3. </li> <li>Amb probabilitat p apliquem soroll o no de la seg\u00fcent manera:<ol> <li>10 % a tots 3 canals</li> <li>30% al canal R</li> <li>30% al canal G</li> <li>30% al canal B</li> </ol> </li> <li>Transformem la imatge contaminada a imatge PIL</li> <li>Guardem la imatge al disc amb el nom <code>nom_i_num.png</code> on nom \u00e9s el nom original i num el valor de contaminaci\u00f3</li> </ol> <p>Comprova (amb un comptador dels p\u00edxels que contamines i els c\u00e0lculs adients) que el nombre de soroll afegit es correspon al nivell de soroll exigit (p). </p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/numpy/Soroll_Impulsiu/#exercici-2-deteccio-de-soroll","title":"Exercici 2. Detecci\u00f3 de soroll","text":"<p>Anem ara a detectar el soroll. Es demana fer un programa que rebr\u00e0 el nom de la imatge contaminada, i altres par\u00e0metres que estudiarem a continuaci\u00f3.</p> <ul> <li>m \u00e9s la distancia (colorom\u00e8trica) a partir de la qual es considera que un p\u00edxel \u00e9s proper a altre. Poden fer-se servir varies f\u00f3rmules de dist\u00e0ncia. Per simplificar farem servir la L2 o Euclidea.</li> <li>w \u00e9s el tamany de la finestra corredera (imparell, lo que ser\u00e0 3x3 o 5x5, etc)</li> <li>k \u00e9s el n\u00famero de ve\u00efns propers</li> </ul> <p>Per a fer-ho fixa't que no \u00e9s m\u00e9s que detectar un element estrany entre altres normals. </p> <p>Definici\u00f3</p> <p>Un p\u00edxel \u00e9s considera no soroll\u00f3s si dins d'una finestra w x w te almenys k veins a menys d'una dist\u00e0ncia m. Si no els trobem dits m veins, es considera sorollos</p> <p></p> <p>L'algorisme a implementar ser\u00e0:</p> <ol> <li> <p>Creem una imatge de la mateixa dimensi\u00f3 de la imatge original, que ser\u00e0 una m\u00e0scara. Aquesta m\u00e0scara, un cop acabat el proc\u00e9s, indicar\u00e0 si el p\u00edxel en certa posici\u00f3 \u00e9s o no soroll\u00f2s:</p> </li> <li> <p>Si el valor <code>i,j</code> val <code>0</code>, vol dir que el p\u00edxel <code>i,j</code> \u00e9s bo</p> </li> <li> <p>Si el valor <code>i,j</code> val <code>1</code>, vol dir que els pixel <code>i,j</code> \u00e9s soroll</p> </li> <li> <p>Recorrem tots els p\u00edxels de la imatge, convertida en array numpy. Les vores no es consideren.</p> </li> <li>Sobre el p\u00edxel en consideraci\u00f3, construim una finestra W x W (per exemple 3x3) on el p\u00edxel avaluat \u00e9s el central. </li> <li>Recorrem els 8 veins (en una 3x3) i anem calculant dist\u00e0ncies. En el moment que en tenim k ve\u00efns propers (a menys dist\u00e0ncia m), ja podem deduir que \u00e9s un pixel bo.</li> <li>Si hem recorregut tots els veins i no arribem a m veins, el diagnostiquem com a soroll.</li> <li>Marquem el bit de la m\u00e0scara a 1</li> </ol> <p>En acabar guardarem la m\u00e0scara al disc com a <code>mascara_nom_imatge.png</code></p> <p>Comprova (amb un comptador i els c\u00e0lculs adients) la bondat de la detecci\u00f3 de soroll: </p> <ul> <li>Es correspon el nivell de soroll afegit amb el detectat</li> <li>Que pots fer per ajustar-ho?</li> </ul>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/numpy/Soroll_Impulsiu/#exercici-3-filtratge","title":"Exercici 3. Filtratge","text":"<p>Ara es tracta de filtrar la imatge per a restaurar-la. Per a aix\u00f2 necessitem la imatge sorollosa que hem generat aix\u00ed com la m\u00e0scara de soroll detectada i el tamany de la finestra w.</p> <p>Simplement per a cada p\u00edxel sorollos hem de substituir-lo per alguna aproximaci\u00f3 entre els seus veins de la finestra W x W no sorollosos. La m\u00e9s senzilla \u00e9s la mitjana aritm\u00e8tica.</p> <p>Altra opci\u00f3 millor, per\u00f2 m\u00e9s costosa \u00e9s substituir-lo per aquell vei que minimitza la dist\u00e0ncia a la resta dels veins de la finestra. \u00c9s a dir el millor element com a central.</p> <ol> <li>Carregar la imatge sorollosa i m\u00e0scara de soroll.</li> <li>Iterem sobre tots els p\u00edxels de la imatge (les vores no conten)</li> <li>Si el pixel \u00e9s net, passem al seg\u00fcent</li> <li>Si no, calculem la mitjana aritm\u00e8tica dels pixels nets de la imatge.</li> <li>Reemplacem el central per aquesta mitjana, arrodonida a  nombre enter</li> <li>Implementa una versi\u00f3 del MAE (Error Mitj\u00e0 Absolut) i calcula'l entre la imatge filtrada i la imatge original. </li> <li>Guardar la imatge filtrada com a <code>nom_filtered.png</code></li> </ol>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/01_creacio/","title":"1. Creacio","text":"In\u00a0[3]: Copied! <pre>import pandas as pd\npd.set_option('display.max_rows', 5)\n</pre> import pandas as pd pd.set_option('display.max_rows', 5) In\u00a0[\u00a0]: Copied! <pre># Resposta activitat 1\n</pre> # Resposta activitat 1 In\u00a0[\u00a0]: Copied! <pre>## Resposta activitat 2\n</pre> ## Resposta activitat 2 In\u00a0[\u00a0]: Copied! <pre># Resposta activitat 3\n</pre> # Resposta activitat 3 In\u00a0[\u00a0]: Copied! <pre>## Resposta activitat 4\n</pre> ## Resposta activitat 4 <p>Crea un DataFrame que es veja com el seg\u00fcent:</p> <p></p> In\u00a0[4]: Copied! <pre>## Resposta activitat 5\n</pre> ## Resposta activitat 5 Out[4]: Cows Goats Year 1 12 22 Year 2 20 19"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/01_creacio/#introduccio","title":"Introducci\u00f3\u00b6","text":"<p>El primer pas en la majoria de projectes d'IA \u00e9s la recopilaci\u00f3 de dades. En este exercici, crearem Series i DataFrame, tant manualment com llegint d'arxius.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/01_creacio/#activitat-1","title":"Activitat 1\u00b6","text":"<p>Crea un DataFrame amb la seg\u00fcent informaci\u00f3.</p> <p></p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/01_creacio/#activitat-2","title":"Activitat 2\u00b6","text":"<p>Crea un DataFrame amb la seg\u00fcent informaci\u00f3 i estructura:</p> <p></p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/01_creacio/#activitat-3","title":"Activitat 3\u00b6","text":"<p>Crea una variable <code>ingredients</code> amb una Series com la seg\u00fcent:</p> <pre><code>Flour       4 cups\nMilk        1 cup\nEggs        2 large\nSpam        1 can\nName: Dinner, dtype: object\n</code></pre>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/01_creacio/#activitat-4","title":"Activitat 4\u00b6","text":"<p>Llig el seg\u00fcent csv de vins i guarda'l a un DataFrame <code>reviews</code>.</p> <p></p> <p>El csv el pots obtindre de winemag-data-130k-v2.csv.</p> <p>Les primeres l\u00ednies es veuen com:</p> <pre><code>,country,description,designation,points,price,province,region_1,region_2,variety,winery\n0,US,\"This tremendous 100% varietal wine[...]\",Martha's Vineyard,96,235.0,California,Napa Valley,Napa,Cabernet Sauvignon,Heitz\n1,Spain,\"Ripe aromas of fig, blackberry and[...]\",Carodorum Selecci\u00f3n Especial Reserva,96,110.0,Northern Spain,Toro,,Tinta de Toro,Bodega Carmen Rodr\u00edguez\n</code></pre>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/01_practica_vendes/","title":"1. Vendes","text":"In\u00a0[\u00a0]: Copied! In\u00a0[\u00a0]: Copied! In\u00a0[\u00a0]: Copied! In\u00a0[\u00a0]: Copied! In\u00a0[\u00a0]: Copied! In\u00a0[\u00a0]: Copied! In\u00a0[\u00a0]: Copied! In\u00a0[\u00a0]: Copied!"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/01_practica_vendes/#analisi-de-dades-de-vendes-rossmann-store-sales","title":"An\u00e0lisi de Dades de Vendes Rossmann Store Sales\u00b6","text":"<p>En esta pr\u00e0ctica utilitzarem un conjunt de dades de vendes real disponible a Kaggle. Pots descarregar el conjunt de dades des del seg\u00fcent enlla\u00e7: Dades de vendes.</p> <p>El conjunt de dades cont\u00e9 informaci\u00f3 sobre les vendes de diverses botigues. Abans de comen\u00e7ar amb la codificaci\u00f3, intenta determinar quina informaci\u00f3 cont\u00e9 el DataSet i en quines unitats est\u00e0 expressat. Per fer-ho, simplement pots obrir-lo amb el programa de fulls de c\u00e0lcul que utilitzes habitualment.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/01_practica_vendes/#pregunta-1","title":"Pregunta 1\u00b6","text":"<p>Carrega el conjunt de dades en un DataFrame.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/01_practica_vendes/#pregunta-2","title":"Pregunta 2\u00b6","text":"<p>Mostra informaci\u00f3 b\u00e0sica del conjunt de dades (nombre de files, columnes, tipus de dades, etc.).</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/01_practica_vendes/#pregunta-3","title":"Pregunta 3\u00b6","text":"<p>Calcula i mostra les estad\u00edstiques descriptives de la columna \"Sales\".</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/01_practica_vendes/#pregunta-4","title":"Pregunta 4\u00b6","text":"<p>Troba la botiga amb les vendes totals m\u00e9s altes.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/01_practica_vendes/#pregunta-5","title":"Pregunta 5\u00b6","text":"<p>Visualitza la tend\u00e8ncia de les vendes al llarg del temps (pots utilitzar un gr\u00e0fic de l\u00ednia).</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/01_practica_vendes/#pregunta-6","title":"Pregunta 6\u00b6","text":"<p>Calcula la mitjana de vendes quan la botiga est\u00e0 oberta i hi ha una promoci\u00f3.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/01_practica_vendes/#pregunta-7","title":"Pregunta 7\u00b6","text":"<p>Crea un nou DataFrame que contingui nom\u00e9s les files on les vendes s\u00f3n superiors a 0 i la botiga va estar oberta.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/01_practica_vendes/#pregunta-8","title":"Pregunta 8\u00b6","text":"<p>Recorda documentar el teu codi i proporcionar explicacions clares per a cada pas. Bona sort!</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/02_indexacio_seleccio_assignacio/","title":"2. Indexaci\u00f3, Selecci\u00f3 i Assignaci\u00f3","text":"<p>This notebook is an exercise in the Pandas course.  You can reference the tutorial at this link.</p> In\u00a0[\u00a0]: Copied! In\u00a0[\u00a0]: Copied! In\u00a0[\u00a0]: Copied! In\u00a0[\u00a0]: Copied! In\u00a0[\u00a0]: Copied! In\u00a0[\u00a0]: Copied! In\u00a0[\u00a0]: Copied! In\u00a0[\u00a0]: Copied! In\u00a0[\u00a0]: Copied! In\u00a0[\u00a0]: Copied! In\u00a0[\u00a0]: Copied! In\u00a0[\u00a0]: Copied!"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/02_indexacio_seleccio_assignacio/#introduccio","title":"Introducci\u00f3\u00b6","text":"<p>En este exercici utilitzarem un DataSet amb informaci\u00f3 de vins.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/02_indexacio_seleccio_assignacio/#pregunta-1","title":"Pregunta 1\u00b6","text":"<p>Descarrega el DataSet i carrega'l. Guarda el resultat a una variable <code>reviews</code>.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/02_indexacio_seleccio_assignacio/#pregunta-2","title":"Pregunta 2\u00b6","text":"<p>Fes-te una imatge general de quina informaci\u00f3 cont\u00e9 el DataSet mostrant les primeres cinc l\u00ednies.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/02_indexacio_seleccio_assignacio/#pregunta-3","title":"Pregunta 3\u00b6","text":"<p>Selecciona la columna <code>description</code> i asigna el resultat a una variable <code>desc</code>.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/02_indexacio_seleccio_assignacio/#pregunta-4","title":"Pregunta 4\u00b6","text":"<p>Quin tipus d'objecte \u00e9s <code>desc</code>?</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/02_indexacio_seleccio_assignacio/#pregunta-5","title":"Pregunta 5\u00b6","text":"<p>Selecciona el primer valor de descripci\u00f3 i assigna'l a la variable <code>first_description</code>.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/02_indexacio_seleccio_assignacio/#pregunta-6","title":"Pregunta 6\u00b6","text":"<p>Selecciona la primera fila de <code>reviews</code> i assigna el valor a <code>first_row</code>.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/02_indexacio_seleccio_assignacio/#pregunta-7","title":"Pregunta 7\u00b6","text":"<p>Selecciona els primers 10 valors de <code>description</code> i assigna el resultat a <code>first_descriptions</code>. Hauries de construir una Serie de Pandas.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/02_indexacio_seleccio_assignacio/#pregunta-8","title":"Pregunta 8\u00b6","text":"<p>Selecciona els registres amb \u00edndex <code>1</code>, <code>2</code>, <code>3</code>, <code>5</code>, i <code>8</code>, i assigna els resultats a una variable <code>sample_reviews</code>.</p> <p>El resultat hauria de ser el seg\u00fcent:</p> <p></p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/02_indexacio_seleccio_assignacio/#pregunta-9","title":"Pregunta 9\u00b6","text":"<p>Crea una variable <code>df</code> que continga les coliumnes <code>country</code>, <code>province</code>, <code>region_1</code>, i <code>region_2</code> dels registres amb \u00edndex <code>0</code>, <code>1</code>, <code>10</code>, and <code>100</code>.</p> <p></p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/02_indexacio_seleccio_assignacio/#pregunta-10","title":"Pregunta 10\u00b6","text":"<p>Crea una variable <code>df</code> que continga <code>country</code> i <code>variety</code> dels primers 100 registres.</p> <p>Recorda que:</p> <p><code>iloc</code> on el primer element s'inclou per\u00f2 l'\u00faltim no. <code>loc</code>, inclou el primer i l'\u00faltim elements.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/02_indexacio_seleccio_assignacio/#pregunta-11","title":"Pregunta 11\u00b6","text":"<p>Crea un DataFrame <code>spanish_wines</code> que continga els vins espanyols.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/02_indexacio_seleccio_assignacio/#pregunta-12","title":"Pregunta 12\u00b6","text":"<p>Crea un DataFrame <code>top_oceania_wines</code> que continga els vins australians i de Nova Zelanda amb almenys 95 punts.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/02_practica_dades_categoriques/","title":"2. Dades categ\u00f2riques","text":"<p>Comencem important el DataSet i posant nom a les columnes.</p> In\u00a0[39]: Copied! <pre>import pandas as pd\n\nurl = \"data/imports-85.csv\"\ncol_names=['symboling','normalized-losses','fuel-type','aspiration','num-of-doors','body-style','drive-wheels','engine-location','wheel-base',\n                                    'length','width','height','curb-weight','engine-type','num-of-cylinders','engine-size',\n                                    'fuel-system','bore','stroke','compression-ratio','horsepower','peak-rpm','city-mpg','highway-mpg','price']\n\ndf_car = pd.read_csv(url,sep=',',names = col_names ,na_values=\"?\",  header=None)\n\ndf_car.head()\n</pre> import pandas as pd  url = \"data/imports-85.csv\" col_names=['symboling','normalized-losses','fuel-type','aspiration','num-of-doors','body-style','drive-wheels','engine-location','wheel-base',                                     'length','width','height','curb-weight','engine-type','num-of-cylinders','engine-size',                                     'fuel-system','bore','stroke','compression-ratio','horsepower','peak-rpm','city-mpg','highway-mpg','price']  df_car = pd.read_csv(url,sep=',',names = col_names ,na_values=\"?\",  header=None)  df_car.head()   Out[39]: symboling normalized-losses fuel-type aspiration num-of-doors body-style drive-wheels engine-location wheel-base length width height curb-weight engine-type num-of-cylinders engine-size fuel-system bore stroke compression-ratio horsepower peak-rpm city-mpg highway-mpg price 0 3 NaN gas std two convertible rwd front 88.6 168.8 64.1 48.8 2548 dohc four 130 mpfi 3.47 2.68 9.0 111.0 5000.0 21 27 13495.0 1 3 NaN gas std two convertible rwd front 88.6 168.8 64.1 48.8 2548 dohc four 130 mpfi 3.47 2.68 9.0 111.0 5000.0 21 27 16500.0 2 1 NaN gas std two hatchback rwd front 94.5 171.2 65.5 52.4 2823 ohcv six 152 mpfi 2.68 3.47 9.0 154.0 5000.0 19 26 16500.0 3 2 164.0 gas std four sedan fwd front 99.8 176.6 66.2 54.3 2337 ohc four 109 mpfi 3.19 3.40 10.0 102.0 5500.0 24 30 13950.0 4 2 164.0 gas std four sedan 4wd front 99.4 176.6 66.4 54.3 2824 ohc five 136 mpfi 3.19 3.40 8.0 115.0 5500.0 18 22 17450.0 <p>No totes les columnes ens interessen, per tant anem a quedar-nos solament amb les que si que ens interessen.</p> In\u00a0[40]: Copied! <pre>df_car = df_car[[ 'aspiration', 'num-of-doors',  'drive-wheels',  'num-of-cylinders']].copy()\ndf_car.info()\n</pre> df_car = df_car[[ 'aspiration', 'num-of-doors',  'drive-wheels',  'num-of-cylinders']].copy() df_car.info() <pre>&lt;class 'pandas.core.frame.DataFrame'&gt;\nRangeIndex: 205 entries, 0 to 204\nData columns (total 4 columns):\n #   Column            Non-Null Count  Dtype \n---  ------            --------------  ----- \n 0   aspiration        205 non-null    object\n 1   num-of-doors      203 non-null    object\n 2   drive-wheels      205 non-null    object\n 3   num-of-cylinders  205 non-null    object\ndtypes: object(4)\nmemory usage: 6.5+ KB\n</pre> In\u00a0[41]: Copied! <pre>df_car['num-of-doors'].value_counts()\n</pre> df_car['num-of-doors'].value_counts() Out[41]: <pre>num-of-doors\nfour    114\ntwo      89\nName: count, dtype: int64</pre> <p>Com podem observar, tenim 114 files amb el valor four i 89 amb el valor two.</p> <p>Hem de transformar els valors two al valor num\u00e8ric 2 i el four al valor num\u00e8ric 4. Per fer-ho, podem utilitzar la funci\u00f3 replace. Esta funci\u00f3 rep com a argument un diccionari per a fer el mapejat.</p> In\u00a0[42]: Copied! <pre>door_mapper = {\"two\": 2,\n              \"four\": 4}\n\ndf_car['doors'] = df_car[\"num-of-doors\"].replace(door_mapper)\ndf_car.head()\n</pre> door_mapper = {\"two\": 2,               \"four\": 4}  df_car['doors'] = df_car[\"num-of-doors\"].replace(door_mapper) df_car.head() Out[42]: aspiration num-of-doors drive-wheels num-of-cylinders doors 0 std two rwd four 2.0 1 std two rwd four 2.0 2 std two rwd six 2.0 3 std four fwd four 4.0 4 std four 4wd five 4.0 In\u00a0[\u00a0]: Copied! <pre>\n</pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/02_practica_dades_categoriques/#dades-categoriques-i-no-categoriques","title":"Dades categ\u00f2riques i no categ\u00f2riques\u00b6","text":"<p>En esta pr\u00e0ctica convertirem dades categ\u00f2riques i no categ\u00f2riques.</p> <p>Utilitzarem el automobile dataset.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/02_practica_dades_categoriques/#caracteristiques-ordinals","title":"Caracter\u00edstiques ordinals\u00b6","text":"<p>Anem a centrar-nos en el n\u00famero de portes.</p> <p>Per comen\u00e7ar mirarem quants valors diferents tenim.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/02_practica_dades_categoriques/#pregunta-1","title":"Pregunta 1\u00b6","text":"<p>Fes el mateix proc\u00e9s de conversi\u00f3 amb el n\u00famero de cilindres.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/02_practica_dades_categoriques/#codificant-dades-categoriques-no-ordinals","title":"Codificant dades categ\u00f2riques no ordinals\u00b6","text":"<p>Per codificar dades no ordinals, \u00e9s a dir, que no seguixen un ordre o prioritat, utilitzarem el m\u00e8tode <code>get_dummies()</code> de pandas.</p> <p>Les dues caracter\u00edstiques que ens queden s\u00f3n no ordinals:</p> <ul> <li>aspiration: std, turbo (injecci\u00f3 est\u00e0ndar o turbo)</li> <li>drive-wheels: 4wd, fwd, rwd (tracci\u00f3 a les 4 rodes, les frontals o les de darrere)</li> </ul> <p>Es podria pensar que podem seguir una estrat\u00e8gia d'assignar a cada valor un valor num\u00e8ric, per exemple, 4wd=1, fwd=2, rwd=3. Per\u00f2 al fer-ho d'aquesta forma, estem establint un ordre o prioritat, cosa que pot influir en el resultat dels algorismes d'IA.</p> <p>L'estrat\u00e8gia correcta seria convertir a val\u00f1or binari cada valor original. \u00c9s el que s'anomena one-hot encoding (en machine learning) o dummying (en estad\u00edstica). Aquesta forma de procedir ens permetr\u00e0 expresar la informaci\u00f3 en forma num\u00e8rica sense implicar un ordre.</p> <p>Pandas proporciona el m\u00e8tode get_dummies per a fer aquesta codificaci\u00f3.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/02_practica_dades_categoriques/#pregunta-2","title":"Pregunta 2\u00b6","text":"<p>Utilitza el m\u00e8tode get_dummies per a codificar les dades <code>drive-wheels</code>.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/02_practica_dades_categoriques/#pregunta-3","title":"Pregunta 3\u00b6","text":"<p>Observa com ha quedat el dataframe una vegada codificats els valors de drive-wheels. Haur\u00e0s pogut observar que ha creat tres columnes noves.</p> <p>Anem a aplicar la mateixa idea a la columna <code>aspiration</code>. Esta vegada sols hi ha dos valors diferents, calen dues columnes o podem crear una sola caracter\u00edstica nova amb valor <code>True</code> o <code>Fals</code> que indique si \u00e9s turbo o no? Seria suficient simplement amb una columna. Utilitzareu el mateix m\u00e8tode per\u00f2 ammb el par\u00e0metre <code>drop_first=True</code> per a no crear una caracter\u00edstica de la injecci\u00f3 est\u00e0ndar.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/02_practica_dades_categoriques/#pregunta-4","title":"Pregunta 4\u00b6","text":"<p>Torna a carregar el dataset i observa si hi ha m\u00e9s caracter\u00edstiques que necessiten una transformaci\u00f3 abans de passar-les a un model de ML.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/02_practica_dades_categoriques/#pregunta-5","title":"Pregunta 5\u00b6","text":"<p>Modifica el dataset per a que sols queden dades num\u00e8riques. Guarda'l en un arxiu <code>imports-85-numeric.csv</code>.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/03_resum_mapatge/","title":"3. Resum i mapatge","text":"In\u00a0[\u00a0]: Copied! <pre>import pandas as pd\nreviews = pd.read_csv(\"data/winemag-data-130k-v2.csv\", index_col=0)\n\nreviews.head()\n</pre> import pandas as pd reviews = pd.read_csv(\"data/winemag-data-130k-v2.csv\", index_col=0)  reviews.head() In\u00a0[\u00a0]: Copied! <pre>\n</pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/03_resum_mapatge/#introduccio","title":"Introducci\u00f3\u00b6","text":"<p>Ara ja esteu preparats per obtindre una comprensi\u00f3 m\u00e9s profunda de les vostres dades.</p> <p>Carregueu de nou el DataSet dels vins.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/03_resum_mapatge/#pregunta-1","title":"Pregunta 1\u00b6","text":"<p>Calcula la mitjana aritm\u00e8tica, la mediana i la moda de les puntuacions?</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/03_resum_mapatge/#pregunta-2","title":"Pregunta 2\u00b6","text":"<p>De quins pa\u00efsos tenim vins?</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/03_resum_mapatge/#pregunta-3","title":"Pregunta 3\u00b6","text":"<p>Amb quina freq\u00fc\u00e8ncia apareix cada pa\u00eds al DataSet? Crea una <code>reviews_per_country</code> mapejant els pa\u00efsos a la seua freq\u00fc\u00e8ncia.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/03_resum_mapatge/#pregunta-4","title":"Pregunta 4\u00b6","text":"<p>Crea una variable <code>centered_price</code> que continga una versi\u00f3 de la columna <code>price</code> amb la resta de cada preu per la seua mitjana.</p> <p>(Nota: este 'centrat' \u00e9s una transformaci\u00f3 t\u00edpica que es sol fer abans d'aplicar algorismes de machine learning, amb la mitjana centrada a 0)</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/03_resum_mapatge/#pregunta-5","title":"Pregunta 5\u00b6","text":"<p>S\u00f3c un comprador econ\u00f2mic de vi. Quin vi \u00e9s la \"millor ganga\"? Creeu una variable \"bargain_wine\" amb el t\u00edtol del vi amb la relaci\u00f3 punts-preu (qualitat-preu) m\u00e9s alta del conjunt de dades.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/03_resum_mapatge/#pregunta-6","title":"Pregunta 6\u00b6","text":"<p>Nom\u00e9s hi ha algunes paraules que podeu utilitzar per descriure una ampolla de vi.</p> <p>\u00c9s m\u00e9s probable que un vi siga \"tropical\" o \"afruitat\"(fruity)?</p> <p>Creeu una s\u00e8rie <code>descriptor_counts</code> comptant quantes vegades cada una d'aquestes dues paraules apareix a la columna <code>description</code> del conjunt de dades. (Tingues en compte que poden haver en maj\u00fascula i en min\u00fascula)</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/03_resum_mapatge/#pregunta-7","title":"Pregunta 7\u00b6","text":"<p>Ens agradaria allotjar aquestes ressenyes de vins al nostre lloc web, per\u00f2 un sistema de qualificaci\u00f3 que oscil\u00b7la entre 80 i 100 punts \u00e9s massa dif\u00edcil d'entendre; ens agradaria traduir-los en classificacions d'estrelles simples. Una puntuaci\u00f3 de 95 o superior compta com a 3 estrelles, una puntuaci\u00f3 d'almenys 85 \u00e9s 2 estrelles. Qualsevol altra puntuaci\u00f3 \u00e9s 1 estrella.</p> <p>A m\u00e9s, l'Associaci\u00f3 Canadenca de Vinaters va a comprar molts anuncis al lloc, de manera que els vins del Canad\u00e0 han d'obtenir autom\u00e0ticament 3 estrelles, independentment dels punts.</p> <p>Creeu una s\u00e8rie <code>star_ratings</code> amb el nombre d'estrelles corresponent a cada revisi\u00f3 del conjunt de dades.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/04_agrupament_i_ordenacio/","title":"4. Agrupaments i ordenaci\u00f3","text":"In\u00a0[2]: Copied! <pre>import pandas as pd\n\nreviews = pd.read_csv(\"../../data/winemag-data-130k-v2.csv\", index_col=0)\n</pre> import pandas as pd  reviews = pd.read_csv(\"../../data/winemag-data-130k-v2.csv\", index_col=0) In\u00a0[\u00a0]: Copied! <pre>\n</pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre> <p>Hi ha difer\u00e8ncies significatives en les puntuacions mitjanes assignades pels diferents revisors?</p> <p>Justifica la resposta.</p> In\u00a0[\u00a0]: Copied! <pre>\n</pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/04_agrupament_i_ordenacio/#introduccio","title":"Introducci\u00f3\u00b6","text":"<p>En aquests exercicis, aplicarem l'an\u00e0lisi grupal al nostre conjunt de dades.</p> <p>Executeu la cel\u00b7la de codi seg\u00fcent per carregar les dades abans d'executar els exercicis.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/04_agrupament_i_ordenacio/#exercisis","title":"Exercisis\u00b6","text":""},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/04_agrupament_i_ordenacio/#1","title":"1.\u00b6","text":"<p>Quins s\u00f3n els revisors de vins m\u00e9s habituals al conjunt de dades?</p> <p>Creeu una <code>Serie</code> l'\u00edndex de la qual siga la categoria <code>taster_twitter_handle</code> del conjunt de dades i els valors de la qual compten quantes ressenyes ha escrit cada persona.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/04_agrupament_i_ordenacio/#2","title":"2.\u00b6","text":"<p>Quin \u00e9s el millor vi que puc comprar per una quantitat determinada de diners?</p> <p>Creeu una <code>Serie</code> l'\u00edndex de la qual siga els preus del vi i els valors de la qual siguen el nombre m\u00e0xim de punts que es va donar a un vi que costa tant en una revisi\u00f3.</p> <p>Ordena els valors per preu, de manera ascendent.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/04_agrupament_i_ordenacio/#3","title":"3.\u00b6","text":"<p>Quins s\u00f3n els preus m\u00ednims i m\u00e0xims per a cada <code>variety</code> de vi?</p> <p>Creeu un <code>DataFrame</code> l'\u00edndex del qual \u00e9s la categoria <code>variety</code> del conjunt de dades i els valors del qual s\u00f3n els valors <code>min</code> i <code>max</code>.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/04_agrupament_i_ordenacio/#4","title":"4.\u00b6","text":"<p>Quines s\u00f3n les varietats de vi m\u00e9s cares?</p> <p>Creeu una variable <code>sorted_varieties</code> que continga una c\u00f2pia del DataFrame de la pregunta anterior on les varietats s'ordenen en ordre descendent en funci\u00f3 del preu m\u00ednim i despr\u00e9s del preu m\u00e0xim.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/04_agrupament_i_ordenacio/#5","title":"5.\u00b6","text":"<p>Creeu una <code>Serie</code> l'\u00edndex de la qual siguen els revisors i els valors de la qual siguen la puntuaci\u00f3 mitjana de la revisi\u00f3 donada per aquest revisor.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/04_agrupament_i_ordenacio/#6","title":"6.\u00b6","text":"<p>Quina combinaci\u00f3 de pa\u00efsos i varietats \u00e9s m\u00e9s habitual?</p> <p>Creeu una <code>Serie</code> l'\u00edndex de la qual siga un <code>MultiIndex</code> de parells de <code>{pa\u00eds, varietat}</code>.</p> <p>Per exemple, un pinot noir produ\u00eft als EUA hauria de mapar a <code>{\"US\", \"Pinot Noir\"}</code>.</p> <p>Ordena els valors de la <code>Serie</code> en ordre descendent en funci\u00f3 del recompte de vins.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/05_tipus_de_dades_i_valors_nulls/","title":"5. Dades i valors nuls","text":"In\u00a0[1]: Copied! <pre>import pandas as pd\n\nreviews = pd.read_csv(\"../../data/winemag-data-130k-v2.csv\", index_col=0)\n</pre> import pandas as pd  reviews = pd.read_csv(\"../../data/winemag-data-130k-v2.csv\", index_col=0) In\u00a0[\u00a0]: Copied! <pre>\n</pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/05_tipus_de_dades_i_valors_nulls/#exercisis","title":"Exercisis\u00b6","text":""},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/05_tipus_de_dades_i_valors_nulls/#1","title":"1.\u00b6","text":"<p>Quin \u00e9s el tipus de dades de la columna <code>points</code> del conjunt de dades?</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/05_tipus_de_dades_i_valors_nulls/#2","title":"2.\u00b6","text":"<p>Creeu una s\u00e8rie a partir de les entrades de la columna <code>punts</code>, per\u00f2 convertiu les entrades en cadenes.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/05_tipus_de_dades_i_valors_nulls/#3","title":"3.\u00b6","text":"<p>De vegades, la columna de preus \u00e9s nul\u00b7la. Quantes ressenyes del conjunt de dades no tenen un preu?</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/05_tipus_de_dades_i_valors_nulls/#4","title":"4.\u00b6","text":"<p>Quines s\u00f3n les regions productores de vi m\u00e9s habituals?</p> <p>Creeu una s\u00e8rie que compta el nombre de vegades que apareix cada valor al camp \"regi\u00f3_1\".</p> <p>Sovint, en aquest camp falten dades, aix\u00ed que substitu\u00efu els valors que falten per \"Desconegut\". Ordena en ordre descendent.</p> <p>La vostra sortida hauria de semblar a aix\u00f2:</p> <pre><code>Unknown                    21247\nNapa Valley                 4480\n                           ...  \nBardolino Superiore            1\nPrimitivo del Tarantino        1\nName: region_1, Length: 1230, dtype: int64\n</code></pre>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/06_renombrat_i_combinacio/","title":"6. Renombrat i combinaci\u00f3","text":"In\u00a0[\u00a0]: Copied! <pre>import pandas as pd\n\nreviews = pd.read_csv(\"../../data/winemag-data-130k-v2.csv\", index_col=0)\n</pre> import pandas as pd  reviews = pd.read_csv(\"../../data/winemag-data-130k-v2.csv\", index_col=0) In\u00a0[\u00a0]: Copied! <pre>reviews.head()\n</pre> reviews.head() In\u00a0[\u00a0]: Copied! <pre>\n</pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre> In\u00a0[\u00a0]: Copied! <pre>gaming_products = pd.read_csv(\"data/gaming.csv\")\ngaming_products['subreddit'] = \"r/gaming\"\nmovie_products = pd.read_csv(\"data/movies.csv\")\nmovie_products['subreddit'] = \"r/movies\"\n</pre> gaming_products = pd.read_csv(\"data/gaming.csv\") gaming_products['subreddit'] = \"r/gaming\" movie_products = pd.read_csv(\"data/movies.csv\") movie_products['subreddit'] = \"r/movies\" <p>Crea un <code>DataFrame</code> de productes que apareixen a tots els subreddits.</p> In\u00a0[\u00a0]: Copied! <pre>\n</pre>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/06_renombrat_i_combinacio/#exercisis","title":"Exercisis\u00b6","text":"<p>Visualitzeu les primeres l\u00ednies de les vostres dades executant la cel\u00b7la seg\u00fcent:</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/06_renombrat_i_combinacio/#1","title":"1.\u00b6","text":"<p><code>region_1</code> i <code>region_2</code> s\u00f3n noms poc informatius per a les columnes regionals del conjunt de dades.</p> <p>Creeu una c\u00f2pia de les <code>reviews</code> amb aquestes columnes canviades de nom a <code>region</code> i <code>locale</code>, respectivament.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/06_renombrat_i_combinacio/#2","title":"2.\u00b6","text":"<p>Establiu el nom de l'\u00edndex al conjunt de dades a <code>wines</code>.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/pandas/06_renombrat_i_combinacio/#3","title":"3.\u00b6","text":"<p>El conjunt de dades Things on Reddit inclou enlla\u00e7os de productes d'una selecci\u00f3 de f\u00f2rums millor classificats (subreddits) a reddit.com. Executeu la cel\u00b7la seg\u00fcent per carregar un DataFrame dels productes esmentats al subreddit /r/gaming i un altre per als productes esmentats al subreddit r//movies.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/seaborn/01_linecharts/","title":"1. Gr\u00e0fics de l\u00ednies","text":"In\u00a0[\u00a0]: Copied! In\u00a0[\u00a0]: Copied! In\u00a0[\u00a0]: Copied! In\u00a0[\u00a0]: Copied! In\u00a0[\u00a0]: Copied! <p>El gr\u00e0fic de l\u00ednies generalment baixa a valors relativament baixos al voltant de la primera part de cada any (al desembre i gener) i assoleix els seus valors m\u00e9s alts a mitjans de l'any (especialment al voltant de maig i juny). Aix\u00ed, Avila Adobe acostuma a rebre m\u00e9s visitants entre mar\u00e7 i agost (o els mesos de primavera i estiu). Tenint aix\u00f2 en compte, Avila Adobe definitivament es podria beneficiar de la contractaci\u00f3 de m\u00e9s empleats de temporada per ajudar amb la feina addicional de mar\u00e7 a agost (la primavera i l'estiu)!</p> In\u00a0[\u00a0]: Copied!"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/seaborn/01_linecharts/#linecharts","title":"Linecharts\u00b6","text":"<p>Recentment t'han contractat per gestionar els museus de la ciutat de Los Angeles. El vostre primer projecte se centra en els quatre museus seg\u00fcents:</p> <ul> <li>Avila Adobe</li> <li>Firehouse Museum</li> <li>Chinese American Museum</li> <li>America Tropical Inventive Museum</li> </ul>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/seaborn/01_linecharts/#pregunta-1","title":"Pregunta 1\u00b6","text":"<p>Importeu les dades de l'arxiu <code>museum_visitors.csv</code> i configureu l'entorn amb pandas, seaborn i matplotlib.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/seaborn/01_linecharts/#pregunta-2","title":"Pregunta 2\u00b6","text":"<p>El Firehouse Museum afirma que van organitzar un esdeveniment el 2014 que va portar un nombre incre\u00efble de visitants i que haurien d'obtenir un pressupost addicional per tornar a organitzar un esdeveniment similar. Els altres museus pensen que aquest tipus d'esdeveniments no s\u00f3n tan importants, i els pressupostos s'han de dividir exclusivament en funci\u00f3 dels visitants recents en un dia mitj\u00e0.</p> <p>Per mostrar al tauler del museu com l'esdeveniment es compara amb el tr\u00e0nsit habitual de cada museu, creeu un gr\u00e0fic de l\u00ednies que mostre com ha evolucionat el nombre de visitants de cada museu al llarg del temps.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/seaborn/01_linecharts/#pregunta-3-avaluar-lestacionalitat","title":"Pregunta 3: avaluar l'estacionalitat\u00b6","text":"<p>Quan es reuneix amb els empleats d'Avila Adobe, escolteu que un dels principals problemes \u00e9s que el nombre de visitants del museu varia molt segons les estacions, amb temporades baixes (quan els empleats estan contents) i tamb\u00e9 temporades altes (quan els empleats tenen poc personal i estan estressats). Us adoneu que si podeu predir aquestes temporades altes i baixes, podeu anticipar-vos i contractar alguns empleats de temporada addicionals per ajudar-vos amb el treball addicional.</p> <p>Creeu un gr\u00e0fic de l\u00ednies que mostre com ha evolucionat el nombre de visitants a Avila Adobe al llarg del temps.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/seaborn/01_linecharts/#pregunta-4","title":"Pregunta 4\u00b6","text":"<p>Fes un gr\u00e0fic per al museu per cada any.</p> <p>Avila Adobe rep m\u00e9s visitants:</p> <ul> <li>al setembre-febrer (a LA, els mesos de tardor i hivern), o</li> <li>al mar\u00e7-agost (a LA, la primavera i l'estiu)?</li> </ul> <p>Amb aquesta informaci\u00f3, quan hauria de dotar el museu d'empleats de temporada addicionals?</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/seaborn/01_linecharts/#pregunta-5","title":"Pregunta 5\u00b6","text":"<p>Passa el mateix a la resta de museus? Fes un gr\u00e0fic per a cada museu de l'any 2018 i justifica si es produeix el mateix fen\u00f2men a la resta de museus.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/seaborn/02_bars_heatmaps/","title":"2. Gr\u00e0fics de barres i mapes de calor","text":"In\u00a0[\u00a0]: Copied! <pre>import pandas as pd\npd.plotting.register_matplotlib_converters()\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns\n\n# Path of the file to read\nign_filepath = \"data/ign_scores.csv\"\n\n# Fill in the line below to read the file into a variable ign_data\nign_data = pd.read_csv(ign_filepath, index_col=\"Platform\")\nign_data.head()\n</pre> import pandas as pd pd.plotting.register_matplotlib_converters() import matplotlib.pyplot as plt %matplotlib inline import seaborn as sns  # Path of the file to read ign_filepath = \"data/ign_scores.csv\"  # Fill in the line below to read the file into a variable ign_data ign_data = pd.read_csv(ign_filepath, index_col=\"Platform\") ign_data.head() In\u00a0[\u00a0]: Copied! <pre>\n</pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/seaborn/02_bars_heatmaps/#grafics-de-barres-i-mapes-de-calor","title":"Gr\u00e0fics de barres i mapes de calor\u00b6","text":"<p>Recentment has decidit crear el teu propi videojoc! Com a \u00e0vid lector de IGN Game Reviews, coneixeu tots els llan\u00e7aments de jocs m\u00e9s recents, juntament amb la classificaci\u00f3 que han rebut d'experts, que van des de 0 (Desastre) a 10 (Obra mestra).</p> <p></p> <p>T'interessa utilitzar IGN reviews per guiar el disseny del teu proper joc. Afortunadament, alg\u00fa ha resumit els r\u00e0nquings en un fitxer CSV molt \u00fatil que podeu utilitzar per guiar el vostre an\u00e0lisi.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/seaborn/02_bars_heatmaps/#pregunta-1-quina-plataforma-es-la-millor","title":"Pregunta 1: quina plataforma \u00e9s la millor?\u00b6","text":"<p>Des que recordeu, el vostre videojoc preferit ha sigut Mario Kart Wii, un joc de carreres llan\u00e7at per a la plataforma Wii el 2008. I, IGN est\u00e0 d'acord amb tu que \u00e9s un joc fant\u00e0stic: la seva puntuaci\u00f3 per a aquest joc \u00e9s un 8,9. Inspirat per l'\u00e8xit d'aquest joc, est\u00e0s pensant en crear el teu propi joc de carreres per a la plataforma Wii.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/seaborn/02_bars_heatmaps/#part-a","title":"Part A\u00b6","text":"<p>Creeu un gr\u00e0fic de barres que mostre la puntuaci\u00f3 mitjana dels jocs de carreres (Racing), per a cada plataforma.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/seaborn/02_bars_heatmaps/#part-b","title":"Part B\u00b6","text":"<p>Segons el gr\u00e0fic de barres, espereu que un joc de carreres per a la plataforma Wii reba una puntuaci\u00f3 alta? Si no, quina plataforma de joc sembla ser la millor alternativa?</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/seaborn/02_bars_heatmaps/#pregunta-2-totes-les-combinacions-possibles","title":"Pregunta 2: Totes les combinacions possibles!\u00b6","text":"<p>Finalment, decideixes no crear un joc de carreres per a Wii, per\u00f2 encara est\u00e0s comprom\u00e8s a crear el teu propi videojoc. Com que els vostres interessos de joc s\u00f3n molt amplis (en general vos agraden molt la majoria dels videojocs), decidiu utilitzar les dades d'IGN per informar la vostra nova elecci\u00f3 de g\u00e8nere i plataforma.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/seaborn/02_bars_heatmaps/#part-a","title":"Part A\u00b6","text":"<p>Utilitzeu les dades per crear un mapa de calor de la puntuaci\u00f3 mitjana per g\u00e8nere i plataforma.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/seaborn/02_bars_heatmaps/#part-b","title":"Part B\u00b6","text":"<p>Quina combinaci\u00f3 de g\u00e8nere i plataforma rep les valoracions mitjanes m\u00e9s altes? Quina combinaci\u00f3 rep la classificaci\u00f3 mitjana m\u00e9s baixa?</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/seaborn/03_scatters/","title":"3. Gr\u00e0fics de dispersi\u00f3","text":"In\u00a0[1]: Copied! <pre>import pandas as pd\npd.plotting.register_matplotlib_converters()\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns\n</pre> import pandas as pd pd.plotting.register_matplotlib_converters() import matplotlib.pyplot as plt %matplotlib inline import seaborn as sns In\u00a0[2]: Copied! <pre>candy_filepath = \"data/candy.csv\"\ncandy_data = pd.read_csv(candy_filepath, index_col=\"id\")\ncandy_data.head()\n</pre> candy_filepath = \"data/candy.csv\" candy_data = pd.read_csv(candy_filepath, index_col=\"id\") candy_data.head() Out[2]: competitorname chocolate fruity caramel peanutyalmondy nougat crispedricewafer hard bar pluribus sugarpercent pricepercent winpercent id 0 100 Grand Yes No Yes No No Yes No Yes No 0.732 0.860 66.971725 1 3 Musketeers Yes No No No Yes No No Yes No 0.604 0.511 67.602936 2 Air Heads No Yes No No No No No No No 0.906 0.511 52.341465 3 Almond Joy Yes No No Yes No No No Yes No 0.465 0.767 50.347546 4 Baby Ruth Yes No Yes Yes Yes No No Yes No 0.604 0.767 56.914547 <ul> <li>'competitorname': cont\u00e9 el nom del dol\u00e7</li> <li>les 9 columnes seg\u00fcents (des de 'chocolate' fins a 'pluribus') descriuen el dol\u00e7. Per exemple, les files amb dol\u00e7os de xocolate tenen \"S\u00ed\" a la columna \"chocolate\" (i els dol\u00e7os sense xocolate tenen \"No\" a la mateixa columna).</li> <li>'sugarpercent' indica la quantitat de sucre.</li> <li>'pricepercent' mostra el preu per unitat, en relaci\u00f3 amb els altres caramels del conjunt de dades.</li> <li>'winpercent' es calcula a partir dels resultats de l'enquesta; valors m\u00e9s alts indiquen que el caramel \u00e9s m\u00e9s popular entre els enquestats.</li> </ul> In\u00a0[\u00a0]: Copied! <pre>\n</pre>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/seaborn/03_scatters/#grafics-de-dispersio","title":"Gr\u00e0fics de dispersi\u00f3\u00b6","text":"<p>En este exercici treballem per a un important productor de dol\u00e7os i el nostre objectiu \u00e9s escriure un informe que la vostra empresa puga utilitzar per guiar el disseny del seu proper producte. Disposem d'un conjunt de dades molt interessant que cont\u00e9 resultats d'una enquesta per obtindre caramels m\u00e9s del gust dels consumidors.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/seaborn/03_scatters/#pregunta-1","title":"Pregunta 1\u00b6","text":"<p>Quins dol\u00e7os s\u00f3n m\u00e9s populars entre els enquestats: '3 Musketeers' o 'Almond Joy'?</p> <p>Quins dol\u00e7os tenen m\u00e9s contingut de sucre: \"3 Musketeers\" o 'Almond Joy'?</p> <p>Fes un gr\u00e0fic de barres per demostrar-ho.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/seaborn/03_scatters/#pregunta-2","title":"Pregunta 2\u00b6","text":"<p>Veus alguna relaci\u00f3 entre el nivell de sucre i la popularitat dels productes anteriors? Justifica la resposta.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/seaborn/03_scatters/#pregunta-3","title":"Pregunta 3\u00b6","text":"<p>Creeu un gr\u00e0fic de dispersi\u00f3 que mostre la relaci\u00f3 entre el percentatge de sucre (a l'eix x horitzontal) i la popularitat winpercent (a l'eix y vertical).</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/seaborn/03_scatters/#pregunta-4","title":"Pregunta 4\u00b6","text":"<p>El diagrama de dispersi\u00f3 mostra una forta correlaci\u00f3 entre les dues variables?</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/seaborn/03_scatters/#pregunta-5","title":"Pregunta 5\u00b6","text":"<p>Afegeix una l\u00ednia de regressi\u00f3 al gr\u00e0fic anterior. Que ens indica?</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/seaborn/03_scatters/#pregunta-6","title":"Pregunta 6\u00b6","text":"<p>Creeu un gr\u00e0fic de dispersi\u00f3 per mostrar la relaci\u00f3 entre el preu (a l'eix x horitzontal) i la popularitat (a l'eix vertical de les y). Es veu una relaci\u00f3 clara entre el preu i la popularitat?</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/seaborn/03_scatters/#pregunta-7","title":"Pregunta 7\u00b6","text":"<p>Utilitzeu la columna \"chocolate\" per codificar els punts amb colors i creeu dues l\u00ednies de regressi\u00f3 segons tinguen xocolate o no.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/seaborn/03_scatters/#pregunta-8","title":"Pregunta 8\u00b6","text":"<p>Comenta el gr\u00e0fic anterior.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/seaborn/03_scatters/#pregunta-9","title":"Pregunta 9\u00b6","text":"<p>Creeu un diagrama de dispersi\u00f3 categ\u00f2ric per destacar la relaci\u00f3 entre \"xocolate\" i \"popularitat\". Posa \"chocolate\" a l'eix x (horitzontal) i \"winpercent\" a l'eix y (vertical).</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/seaborn/03_scatters/#pregunta-10","title":"Pregunta 10\u00b6","text":"<p>Decidiu dedicar una secci\u00f3 del vostre informe al fet que els dol\u00e7os de xocolate solen ser m\u00e9s populars que els dol\u00e7os sense xocolate. Quin gr\u00e0fic \u00e9s m\u00e9s adequat per explicar aquest fen\u00f2men.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/seaborn/04_distributions/","title":"4. Distibucions","text":"In\u00a0[1]: Copied! <pre>import pandas as pd\npd.plotting.register_matplotlib_converters()\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns\n</pre> import pandas as pd pd.plotting.register_matplotlib_converters() import matplotlib.pyplot as plt %matplotlib inline import seaborn as sns In\u00a0[2]: Copied! <pre>cancer_filepath = \"data/cancer.csv\"\ncancer_data = pd.read_csv(cancer_filepath, index_col=\"Id\")\ncancer_data.head()\n</pre> cancer_filepath = \"data/cancer.csv\" cancer_data = pd.read_csv(cancer_filepath, index_col=\"Id\") cancer_data.head() Out[2]: Diagnosis Radius (mean) Texture (mean) Perimeter (mean) Area (mean) Smoothness (mean) Compactness (mean) Concavity (mean) Concave points (mean) Symmetry (mean) ... Radius (worst) Texture (worst) Perimeter (worst) Area (worst) Smoothness (worst) Compactness (worst) Concavity (worst) Concave points (worst) Symmetry (worst) Fractal dimension (worst) Id 8510426 B 13.540 14.36 87.46 566.3 0.09779 0.08129 0.06664 0.047810 0.1885 ... 15.110 19.26 99.70 711.2 0.14400 0.17730 0.23900 0.12880 0.2977 0.07259 8510653 B 13.080 15.71 85.63 520.0 0.10750 0.12700 0.04568 0.031100 0.1967 ... 14.500 20.49 96.09 630.5 0.13120 0.27760 0.18900 0.07283 0.3184 0.08183 8510824 B 9.504 12.44 60.34 273.9 0.10240 0.06492 0.02956 0.020760 0.1815 ... 10.230 15.66 65.13 314.9 0.13240 0.11480 0.08867 0.06227 0.2450 0.07773 854941 B 13.030 18.42 82.61 523.8 0.08983 0.03766 0.02562 0.029230 0.1467 ... 13.300 22.81 84.46 545.9 0.09701 0.04619 0.04833 0.05013 0.1987 0.06169 85713702 B 8.196 16.84 51.71 201.9 0.08600 0.05943 0.01588 0.005917 0.1769 ... 8.964 21.96 57.26 242.2 0.12970 0.13570 0.06880 0.02564 0.3105 0.07409 <p>5 rows \u00d7 31 columns</p> <p>Al conjunt de dades, cada fila correspon a una imatge diferent. El conjunt de dades t\u00e9 31 columnes diferents, corresponents a:</p> <ul> <li>1a columna (\"Diagn\u00f2stic\") que classifica els tumors com a benignes (que apareix al conjunt de dades com a B) o malignes (M)</li> <li>30 columnes que contenen diferents mesures recollides a partir de les imatges</li> </ul>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/seaborn/04_distributions/#distrubucions","title":"Distrubucions\u00b6","text":"<p>En aquest exercici, treballarem amb un conjunt de dades del m\u00f3n real que cont\u00e9 informaci\u00f3 recollida a partir d'imatges microsc\u00f2piques de tumors de c\u00e0ncer de mama, similar a la imatge seg\u00fcent.</p> <p></p> <p>Cada tumor s'ha etiquetat com a benigne (no cancer\u00f3s) o maligne (cancer\u00f3s).</p> <p>Per obtindre m\u00e9s informaci\u00f3 sobre com s'utilitzen aquest tipus de dades per crear algorismes intel\u00b7ligents per classificar els tumors en entorns m\u00e8dics, **mira el v\u00eddeo seg\u00fcent en aquest enlla\u00e7 **.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/seaborn/04_distributions/#pregunta-1","title":"Pregunta 1\u00b6","text":"<p>Crea dos histogrames que mostren la distribuci\u00f3 en valors de \"\u00c0rea (mitjana)\", per separat tant per als tumors benignes com per als malignes. (Per permetre una comparaci\u00f3 f\u00e0cil, creeu una \u00fanica figura que continga els dos histogrames.)</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/seaborn/04_distributions/#pregunta-2","title":"Pregunta 2\u00b6","text":"<p>Un investigador us sol\u00b7licita ajuda per identificar com es pot utilitzar la columna \"\u00c0rea (mitjana)\" per entendre la difer\u00e8ncia entre tumors benignes i malignes. A partir dels histogrames anteriors,</p> <ul> <li>Els tumors malignes tenen valors m\u00e9s alts o m\u00e9s baixos per a \"\u00c0rea (mitjana)\" (en relaci\u00f3 amb els tumors benignes), de mitjana?</li> <li>Quin tipus de tumor sembla tindre un rang m\u00e9s gran de valors potencials?</li> </ul>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/seaborn/04_distributions/#pregunta-3","title":"Pregunta 3\u00b6","text":"<p>Crea dos gr\u00e0fics de densitat (KDE) que mostren la distribuci\u00f3 en valors de <code>Radius (worst)</code> per als tumors benignes i per als malignes. (Per permetre una comparaci\u00f3 f\u00e0cil, creeu una \u00fanica figura que continga els dos gr\u00e0fics de KDE).</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/seaborn/04_distributions/#pregunta-4","title":"Pregunta 4\u00b6","text":"<p>Recentment, un hospital ha comen\u00e7at a utilitzar un algorisme que pot diagnosticar tumors amb alta precisi\u00f3. Tenint en compte un tumor amb un valor de \"Radius (worst)\" de 25, creus que \u00e9s m\u00e9s probable que l'algorisme classifique un tumor com a benigne o com maligne? Justifica la resposta.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/sklearn/01_model/","title":"1. Contrucci\u00f3 del model","text":"In\u00a0[1]: Copied! <pre>import pandas as pd\n\niowa_file_path = 'data/train.csv'\n\nhome_data = pd.read_csv(iowa_file_path)\n</pre> import pandas as pd  iowa_file_path = 'data/train.csv'  home_data = pd.read_csv(iowa_file_path) In\u00a0[2]: Copied! <pre>home_data.describe()\n</pre> home_data.describe() Out[2]: Id MSSubClass LotFrontage LotArea OverallQual OverallCond YearBuilt YearRemodAdd MasVnrArea BsmtFinSF1 ... WoodDeckSF OpenPorchSF EnclosedPorch 3SsnPorch ScreenPorch PoolArea MiscVal MoSold YrSold SalePrice count 1460.000000 1460.000000 1201.000000 1460.000000 1460.000000 1460.000000 1460.000000 1460.000000 1452.000000 1460.000000 ... 1460.000000 1460.000000 1460.000000 1460.000000 1460.000000 1460.000000 1460.000000 1460.000000 1460.000000 1460.000000 mean 730.500000 56.897260 70.049958 10516.828082 6.099315 5.575342 1971.267808 1984.865753 103.685262 443.639726 ... 94.244521 46.660274 21.954110 3.409589 15.060959 2.758904 43.489041 6.321918 2007.815753 180921.195890 std 421.610009 42.300571 24.284752 9981.264932 1.382997 1.112799 30.202904 20.645407 181.066207 456.098091 ... 125.338794 66.256028 61.119149 29.317331 55.757415 40.177307 496.123024 2.703626 1.328095 79442.502883 min 1.000000 20.000000 21.000000 1300.000000 1.000000 1.000000 1872.000000 1950.000000 0.000000 0.000000 ... 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 1.000000 2006.000000 34900.000000 25% 365.750000 20.000000 59.000000 7553.500000 5.000000 5.000000 1954.000000 1967.000000 0.000000 0.000000 ... 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000 5.000000 2007.000000 129975.000000 50% 730.500000 50.000000 69.000000 9478.500000 6.000000 5.000000 1973.000000 1994.000000 0.000000 383.500000 ... 0.000000 25.000000 0.000000 0.000000 0.000000 0.000000 0.000000 6.000000 2008.000000 163000.000000 75% 1095.250000 70.000000 80.000000 11601.500000 7.000000 6.000000 2000.000000 2004.000000 166.000000 712.250000 ... 168.000000 68.000000 0.000000 0.000000 0.000000 0.000000 0.000000 8.000000 2009.000000 214000.000000 max 1460.000000 190.000000 313.000000 215245.000000 10.000000 9.000000 2010.000000 2010.000000 1600.000000 5644.000000 ... 857.000000 547.000000 552.000000 508.000000 480.000000 738.000000 15500.000000 12.000000 2010.000000 755000.000000 <p>8 rows \u00d7 38 columns</p> In\u00a0[3]: Copied! <pre>home_data.head()\n</pre> home_data.head() Out[3]: Id MSSubClass MSZoning LotFrontage LotArea Street Alley LotShape LandContour Utilities ... PoolArea PoolQC Fence MiscFeature MiscVal MoSold YrSold SaleType SaleCondition SalePrice 0 1 60 RL 65.0 8450 Pave NaN Reg Lvl AllPub ... 0 NaN NaN NaN 0 2 2008 WD Normal 208500 1 2 20 RL 80.0 9600 Pave NaN Reg Lvl AllPub ... 0 NaN NaN NaN 0 5 2007 WD Normal 181500 2 3 60 RL 68.0 11250 Pave NaN IR1 Lvl AllPub ... 0 NaN NaN NaN 0 9 2008 WD Normal 223500 3 4 70 RL 60.0 9550 Pave NaN IR1 Lvl AllPub ... 0 NaN NaN NaN 0 2 2006 WD Abnorml 140000 4 5 60 RL 84.0 14260 Pave NaN IR1 Lvl AllPub ... 0 NaN NaN NaN 0 12 2008 WD Normal 250000 <p>5 rows \u00d7 81 columns</p> In\u00a0[\u00a0]: Copied! <pre>\n</pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/sklearn/01_model/#construim-un-model-simple","title":"Construim un model simple\u00b6","text":"<p>En aquesta actvitat construirem un model simple per a predir el preu de les cases a Iowa.</p> <p>Descarrega el dataset preu de les cases a Iowa (train.csv)</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/sklearn/01_model/#pregunta-1","title":"Pregunta 1\u00b6","text":"<p>Selecciona la variable objectiu i guarda les seues dades a la variable <code>y</code> per poder entrenar el model.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/sklearn/01_model/#pregunta-2","title":"Pregunta 2\u00b6","text":"<p>Per a entrenar el model sols utilitzarem les caracter\u00edstiques seg\u00fcents:</p> <ul> <li>LotArea</li> <li>YearBuilt</li> <li>1stFlrSF</li> <li>2ndFlrSF</li> <li>FullBath</li> <li>BedroomAbvGr</li> <li>TotRmsAbvGrd</li> </ul> <p>Construeix un DataFrame que continga les dades d'entrenament a una variable <code>X</code>.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/sklearn/01_model/#pregunta-3","title":"Pregunta 3\u00b6","text":"<p>Crea un <code>DecisionTreeRegressor</code> i guarda'l a la variable <code>iowa_model</code>.</p> <p>Entrena el model amb les dades corresponents.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/sklearn/01_model/#pregunta-4","title":"Pregunta 4\u00b6","text":"<p>Fes una predicci\u00f3 amb les dades dels primers cinc habitatges i compara el resultat amb les dades d'entrenament.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/sklearn/01_model/#pregunta-5","title":"Pregunta 5\u00b6","text":"<p>El model ha fet bona predicci\u00f3 amb els primers cinc habitatges? Perqu\u00e8?</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/sklearn/01_model/#pregunta-6","title":"Pregunta 6\u00b6","text":"<p>Creus que \u00e9s una bona idea fer prediccions amb dades utilitzades per a entrenament? Perqu\u00e8?</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/sklearn/02_validacio/","title":"2. Validaci\u00f3 del model","text":"In\u00a0[1]: Copied! <pre>import warnings\nwarnings.filterwarnings('ignore')\n\nimport pandas as pd\nfrom sklearn.tree import DecisionTreeRegressor\n\niowa_file_path = 'data/train.csv'\n\nhome_data = pd.read_csv(iowa_file_path)\n\n# Target\ny = home_data.SalePrice\n\n# Selecci\u00f3 de variables\nfeature_columns = ['LotArea', 'YearBuilt', '1stFlrSF', '2ndFlrSF', 'FullBath', 'BedroomAbvGr', 'TotRmsAbvGrd']\nX = home_data[feature_columns]\n\niowa_model = DecisionTreeRegressor()\n\n# Entrenament\niowa_model.fit(X, y)\n\n# Prediccions\nprint(\"Prediccions dels prin\u00a1mers 5 habitatges:\", iowa_model.predict(X.head()))\nprint(\"Valors reals de venda:\", y.head().tolist())\n</pre> import warnings warnings.filterwarnings('ignore')  import pandas as pd from sklearn.tree import DecisionTreeRegressor  iowa_file_path = 'data/train.csv'  home_data = pd.read_csv(iowa_file_path)  # Target y = home_data.SalePrice  # Selecci\u00f3 de variables feature_columns = ['LotArea', 'YearBuilt', '1stFlrSF', '2ndFlrSF', 'FullBath', 'BedroomAbvGr', 'TotRmsAbvGrd'] X = home_data[feature_columns]  iowa_model = DecisionTreeRegressor()  # Entrenament iowa_model.fit(X, y)  # Prediccions print(\"Prediccions dels prin\u00a1mers 5 habitatges:\", iowa_model.predict(X.head())) print(\"Valors reals de venda:\", y.head().tolist()) <pre>Prediccions dels prin\u00a1mers 5 habitatges: [208500. 181500. 223500. 140000. 250000.]\nValors reals de venda: [208500, 181500, 223500, 140000, 250000]\n</pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/sklearn/02_validacio/#validacio-del-model","title":"Validaci\u00f3 del model\u00b6","text":"<p>En esta activitat veure'm com de bo \u00e9s el nostre model.</p> <p>Descarrega el dataset preu de les cases a Iowa (train.csv)</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/sklearn/02_validacio/#pregunta-1","title":"Pregunta 1\u00b6","text":"<p>Separa les dades les dades en dos blocs, una per a entrenament i una altra per a test.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/sklearn/02_validacio/#pregunta-2","title":"Pregunta 2\u00b6","text":"<p>Entrena el model amb les dades que corresponen a entrenament.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/sklearn/02_validacio/#pregunta-3","title":"Pregunta 3\u00b6","text":"<p>Agafa les primeres 5 dades de les dades d'entrenament (train_X) i utilitza el model per a fer una predicci\u00f3 del preu de venda.</p> <p>Compara el preu prediut amb el preu real per a eixos habitatges.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/sklearn/02_validacio/#pregunta-4","title":"Pregunta 4\u00b6","text":"<p>Agafa les primeres 5 dades de les dades de validaci\u00f3 (test_X) i utilitza el model per a fer una predicci\u00f3 del preu de venda.</p> <p>Compara el preu prediut amb el preu real per a eixos habitatges.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/sklearn/02_validacio/#pregunta-5","title":"Pregunta 5\u00b6","text":"<p>Comenta el resultats obtesos en les dues preguntes anteriors.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/sklearn/02_validacio/#pregunta-6","title":"Pregunta 6\u00b6","text":"<p>Calcula l'error absolut mitj\u00e0 en fer prediccions amb el nostre model tant per a les dades d'entrenament com per a les de validaci\u00f3. Comenta els resultats.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/sklearn/02_validacio/#pregunta-7","title":"Pregunta 7\u00b6","text":"<p>Calcula el percentatge que representa el MAE tanty per a les dades d'entrenament com de validaci\u00f3 front al preu mitj\u00e0 dels habitatges.</p> <p>Quin \u00e9s menor? Perqu\u00e8?</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/sklearn/03_comparacio_de_models/","title":"1. Comparaci\u00f3 de models","text":"In\u00a0[\u00a0]: Copied! <pre>import warnings\nwarnings.filterwarnings('ignore')\n\nimport pandas as pd\n\niowa_file_path = 'data/train.csv'\n\nhome_data = pd.read_csv(iowa_file_path, index_col='Id')\n\nhome_data.head()\n</pre> import warnings warnings.filterwarnings('ignore')  import pandas as pd  iowa_file_path = 'data/train.csv'  home_data = pd.read_csv(iowa_file_path, index_col='Id')  home_data.head() In\u00a0[\u00a0]: Copied! <pre>from sklearn.preprocessing import LabelEncoder\n\nle = LabelEncoder()\n\nhome_data_encoded = home_data.apply(lambda col: le.fit_transform(col) if col.dtype == 'O' else col)\n</pre> from sklearn.preprocessing import LabelEncoder  le = LabelEncoder()  home_data_encoded = home_data.apply(lambda col: le.fit_transform(col) if col.dtype == 'O' else col) In\u00a0[\u00a0]: Copied! <pre>print(home_data.info())\n</pre> print(home_data.info()) In\u00a0[\u00a0]: Copied! <pre>print(home_data_encoded.info())\n</pre> print(home_data_encoded.info()) <p>Com pots observar, hi ha columnes amb valors nulls. Podriem aplicar les t\u00e8cniques estudiades per reomplir el buits, per\u00f2 per simplicitat, anem a eliminar eixes columnes.</p> In\u00a0[\u00a0]: Copied! <pre>home_data_encoded = home_data_encoded.dropna(axis=1)\nprint(home_data_encoded.info())\n</pre> home_data_encoded = home_data_encoded.dropna(axis=1) print(home_data_encoded.info()) <p>Finalment ens hem quedat amb 76 columnes. Pareix que ja tenim les dades preparades.</p> In\u00a0[\u00a0]: Copied! <pre>\n</pre> In\u00a0[\u00a0]: Copied! <pre>from sklearn.tree import DecisionTreeRegressor\nfrom sklearn.metrics import mean_absolute_error\n\n##\n</pre> from sklearn.tree import DecisionTreeRegressor from sklearn.metrics import mean_absolute_error  ## In\u00a0[\u00a0]: Copied! <pre>from sklearn.linear_model import LinearRegression\n</pre> from sklearn.linear_model import LinearRegression  In\u00a0[\u00a0]: Copied! <pre>from sklearn.svm import SVR\n</pre> from sklearn.svm import SVR  In\u00a0[\u00a0]: Copied! <pre>from sklearn.ensemble import RandomForestRegressor\n</pre> from sklearn.ensemble import RandomForestRegressor  In\u00a0[\u00a0]: Copied! <pre>from sklearn.ensemble import GradientBoostingRegressor\n</pre> from sklearn.ensemble import GradientBoostingRegressor  In\u00a0[\u00a0]: Copied! <pre>from sklearn.linear_model import Lasso\n</pre> from sklearn.linear_model import Lasso  In\u00a0[\u00a0]: Copied! <pre>from sklearn.linear_model import Ridge\n</pre> from sklearn.linear_model import Ridge  <p>El millor model \u00e9s el GradientBoostingRegressor ja que t\u00e9 l'error absolut mitj\u00e0 m\u00e9s baix. Per comparar els errors, podem fer un gr\u00e0fic de barres.</p> In\u00a0[\u00a0]: Copied! <pre>\n</pre>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/sklearn/03_comparacio_de_models/#comparacio-de-models-de-regressio-per-al-preu-de-les-cases-de-iowa","title":"Comparaci\u00f3 de models de regressi\u00f3 per al preu de les cases de IOWA\u00b6","text":"<p>Descarrega el dataset preu de les cases a Iowa (train.csv)</p> <p>A l'activitat anterior utilitzarem el DecisionTreeRegressor per fer prediccions del preu de la vivenda a IOWA. En esta activitat anem a provar de nou el DecisionTreeRegressor amb m\u00e9s caracter\u00edstiques i altres algorismes de ML per fer les nostres prediccions i comparar els diferents resultats dels models:</p> <ul> <li>LinearRegression: Busca la recta que m\u00e9s s'ajusta a les dades per minimitzar l'error.</li> <li>Support Vector Machines - SVM: Busca l'hiperpl\u00e0 que millor s'ajusta a la distribuci\u00f3 de dades.</li> <li>Random Forest: Combina les prediccions de m\u00faltiples arbres de decisi\u00f3 per millorar la precisi\u00f3 i reduir el sobreajustament.</li> <li>GradientBoostingRegressor: Construeix arbres successius per corregir els errors dels anteriors i millorar progressivament la precisi\u00f3.</li> <li>LASSO: Realitza regressi\u00f3 amb penalitzaci\u00f3, reduint alguns coeficients a zero per anar descartant algunes caracter\u00edstiques.</li> <li>RIDGE: Semblant a LASSO i evita l'\u00fas de coeficient molt grans.</li> </ul> <p>Compte!</p> <p>     Utiliza un random_state = 1 en fer la separaci\u00f3 en blocs d'entrenament i validaci\u00f3 en tots els models per poder comparar els errors   </p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/sklearn/03_comparacio_de_models/#carrega-de-dades","title":"C\u00e0rrega de dades\u00b6","text":"<p>Carreguem les dades <code>train.csv</code> a una variable <code>home_data</code>.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/sklearn/03_comparacio_de_models/#preparem-les-dades","title":"Preparem les dades\u00b6","text":"<p>En l'anterior pr\u00e0ctica ens quedarem solament amb dades num\u00e8riques. El DataFrame cont\u00e9 dades categ\u00f2riques, per\u00f2 ja vam estudiar el one-hot encoding per a transformar-les en num\u00e8riques. En esta ocasi\u00f3, per no crear noves columnes i relantitzar els c\u00e0lculs, anem a aplicar el m\u00e8tode LabelEncoder, que directament substitueix els valors categ\u00f2rics per n\u00fameros.</p> <p>Aplica'l per convertir totes les dades en num\u00e8riques.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/sklearn/03_comparacio_de_models/#pregunta-1-divisio-en-blocs-dentrenament-i-validacio","title":"Pregunta 1 - Divisi\u00f3 en blocs d'entrenament i validaci\u00f3\u00b6","text":"<p>Divideix les dades en blocs per a entrenament i validaci\u00f3. En este cas, anem a utilitzar totes les columnes (recorda que ja vam estudiar com passar les columnes categ\u00f2riques a dades num\u00e8riques), excepte el target per a entrenar els models. Recorda utilitzar el random_state = 1</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/sklearn/03_comparacio_de_models/#pregunta-2-decisiontreeregressor","title":"Pregunta 2 - DecisionTreeRegressor\u00b6","text":"<p>Aplica l'algorisme DecisionTreeRegressor i calcula el seu MAE. Ha millorat o ha empijorat? Perqu\u00e8?</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/sklearn/03_comparacio_de_models/#pregunta-4-regressio-linial","title":"Pregunta 4 - Regressi\u00f3 linial\u00b6","text":"<p>Crea un model de regressi\u00f3 linial i calcula l'error absolt mitj\u00e0.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/sklearn/03_comparacio_de_models/#pregunta-5-support-vector-machines-svm","title":"Pregunta 5 - Support Vector Machines (SVM)\u00b6","text":"<p>Crea un model de SVM i calcula l'error absolt mitj\u00e0.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/sklearn/03_comparacio_de_models/#pregunta-6-random-forest","title":"Pregunta 6 - Random Forest\u00b6","text":"<p>Crea un model de Random Forest (amb random_state = 1) i calcula l'error absolt mitj\u00e0.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/sklearn/03_comparacio_de_models/#pregunta-7-gradientboostingregressor","title":"Pregunta 7 - GradientBoostingRegressor\u00b6","text":"<p>Crea un model de GradientBoostingRegressor i calcula l'error absolt mitj\u00e0.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/sklearn/03_comparacio_de_models/#pregunta-8-regressio-lasso","title":"Pregunta 8 - Regressi\u00f3 LASSO\u00b6","text":"<p>Crea un model de Lasso amb alpha = 1 i random_state = 1 i calcula l'error absolt mitj\u00e0.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/sklearn/03_comparacio_de_models/#pregunta-9-regressio-ridge","title":"Pregunta 9 - Regressi\u00f3 RIDGE\u00b6","text":"<p>Crea un model de Ridge amb alpha = 1 i random_state = 1 i calcula l'error absolt mitj\u00e0.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/sklearn/03_comparacio_de_models/#pregunta-10-comparacio-de-resultats","title":"Pregunta 10 - Comparaci\u00f3 de resultats\u00b6","text":"<p>Quin model escolliries per fer les teues prediccions? Fes un gr\u00e0fic per refor\u00e7ar la teua resposta.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/sklearn/04_overfitting_underfitting/","title":"2. Ajust de models","text":"In\u00a0[\u00a0]: Copied! <pre>import warnings\nwarnings.filterwarnings('ignore')\n\nimport pandas as pd\n\niowa_file_path = 'data/train.csv'\n\nhome_data = pd.read_csv(iowa_file_path, index_col='Id')\n\nfrom sklearn.preprocessing import LabelEncoder\n\nle = LabelEncoder()\n\nhome_data_encoded = home_data.apply(lambda col: le.fit_transform(col) if col.dtype == 'O' else col)\n\nhome_data_encoded = home_data_encoded.dropna(axis=1)\n\nX = home_data_encoded.drop('SalePrice', axis = 1)\n\ny = home_data_encoded['SalePrice']\n\nfrom sklearn.model_selection import train_test_split\nX_train, X_test, y_train, y_test = train_test_split(X, y, random_state=1)\n</pre> import warnings warnings.filterwarnings('ignore')  import pandas as pd  iowa_file_path = 'data/train.csv'  home_data = pd.read_csv(iowa_file_path, index_col='Id')  from sklearn.preprocessing import LabelEncoder  le = LabelEncoder()  home_data_encoded = home_data.apply(lambda col: le.fit_transform(col) if col.dtype == 'O' else col)  home_data_encoded = home_data_encoded.dropna(axis=1)  X = home_data_encoded.drop('SalePrice', axis = 1)  y = home_data_encoded['SalePrice']  from sklearn.model_selection import train_test_split X_train, X_test, y_train, y_test = train_test_split(X, y, random_state=1) In\u00a0[\u00a0]: Copied! <pre>\n</pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre> In\u00a0[\u00a0]: Copied! <pre>\n</pre>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/sklearn/04_overfitting_underfitting/#overfitting-i-underfitting","title":"Overfitting i underfitting\u00b6","text":"<p>Descarrega el dataset preu de les cases a Iowa (train.csv)</p> <p>A la teoria hem vist que hi ha formes de controlar el subajustament i el sobreajustament.</p> <p>En el cas de l'algorisme <code>DecissionTreeRegressor</code>, l'ajust de par\u00e0metres ens permete que algunes rutes a trav\u00e9s de l'arbre tinguen una profunditat m\u00e9s gran que altres rutes, per exemple.</p> <p>Tamb\u00e9 podem controlar la profunditat m\u00e0xima amb l'argument <code>max_leaf_nodes</code>. Simplement modificant-lo, podem controlar el sobreajustament i el subajustament ja que com m\u00e9s fulles permetem que el model fa\u00e7a, m\u00e9s ens movem de l'\u00e0rea entre el underfitting i el overfitting.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/sklearn/04_overfitting_underfitting/#carreguem-les-dades-i-preparem-les-dades-per-al-model","title":"Carreguem les dades i preparem les dades per al model\u00b6","text":""},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/sklearn/04_overfitting_underfitting/#pregunta-1","title":"Pregunta 1\u00b6","text":"<p>Crea una funci\u00f3 <code>get_mae</code> que reba com a arguments:</p> <ul> <li>max_leaf_nodes</li> <li>X_train: dades per a entrenament</li> <li>X_test: dades de validaci\u00f3</li> <li>y_train: target d'entrenament</li> <li>y_test: target de validaci\u00f3</li> </ul> <p>I torne l'error absolut mitj\u00e0.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/sklearn/04_overfitting_underfitting/#pregunta-2","title":"Pregunta 2\u00b6","text":"<p>Utilitzant la funci\u00f3 de l'anterior pregunta, fes un gr\u00e0fic per veure com evoluciona el mae al variar el <code>max_leaf_nodes</code> entre els valors 2 i 300.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/sklearn/04_overfitting_underfitting/#pregunta-3","title":"Pregunta 3\u00b6","text":"<p>Explica el gr\u00e0fic anterior. Es correspon amb el que hem explicat te\u00f2ricament?</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/sklearn/04_overfitting_underfitting/#pregunta-4","title":"Pregunta 4\u00b6","text":"<p>Amb l'ajuda del gr\u00e0fic anterior intenta determinar en al voltant de quin valor es situa el <code>max_leaf_nodes</code> \u00f2ptim.</p> <p>Fes diversos gr\u00e0fics al voltant dels valors \u00f2ptims de mae fins determinar el mae \u00f2ptim.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/sklearn/04_overfitting_underfitting/#pregunta-5","title":"Pregunta 5\u00b6","text":"<p>Quin \u00e9s el mae \u00f2ptim segons les observacions gr\u00e0fiques?</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/sklearn/04_overfitting_underfitting/#pregunta-6","title":"Pregunta 6\u00b6","text":"<p>Fes un algorisme per determinar quin \u00e9s el par\u00e0metre \u00f2ptim de <code>mx_leaf_node</code>.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/sklearn/04_overfitting_underfitting/#pregunta-7","title":"Pregunta 7\u00b6","text":"<p>Calcula el mae per al valor <code>max_leaf_node = 73</code>.</p> <p>Quina \u00e9s la difer\u00e8ncia respecte a un valor <code>max_leaf_node = 87</code>?</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/sklearn/04_overfitting_underfitting/#pregunta-8","title":"Pregunta 8\u00b6","text":"<p>Encara que el valor \u00f2ptim del par\u00e0metre <code>max_leaf_node</code> \u00e9s 87, computacionalment seria m\u00e9s convenient agafar el valor 73, ja que tardaria menys en executar? Demostra la teua afirmaci\u00f3 fent un c\u00e0lcul d'una dada aleat\u00f2ria. Utilitza la funci\u00f3 <code>sample()</code> per agafar una dada aleat\u00f2ria d'un dataframe.</p>"},{"location":"U03%20Python%20aplicat%20al%20Big%20Data%20i%20Intel%C2%B7ligencia%20Artificial/exercicis/sklearn/04_overfitting_underfitting/#pregunta-9","title":"Pregunta 9\u00b6","text":"<p>Fes una funci\u00f3 que imprimisca per consola tres valors, les prediccions del model amb max_leaf_nodes = 73 i  max_leaf_nodes = 87 i la difer\u00e8ncia.</p> <p>Utilitza eixa funci\u00f3 per a provar amb 10 valors aleat\u00f2ris.</p> <p>Moltes vegades d\u00f3na el mateix valor. \u00c9s normal? Justifica la resposta.</p>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/0.%20Index/","title":"0. Index","text":""},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/0.%20Index/#index-de-la-unitat","title":"\u00cdndex de la unitat","text":"<ol> <li>Elaborar una aplicaci\u00f3 FrontEnd amb <code>Flet</code></li> <li>Contenidors de BBDD amb <code>Docker</code></li> <li>Peticions HTTP. API-REST</li> <li>Elaborar una aplicaci\u00f3 BackEnd amb <code>Flask</code></li> <li>Introducci\u00f3 al DeepLearning amb Keras</li> </ol> <p>En aquesta unitat anem a veure com desenvolupar aplicacions client-servidor que treballen de manera coordinada mitjan\u00e7ant el protocol HTTP.</p> <p>La part client es desenvolupar\u00e0 amb <code>Flet</code>, un workbench de Flutter per a Python que permet generar aplicacions multiplataforma: web, escriptori i m\u00f2bil.</p> <p>Entendrem els detalls de la comunicaci\u00f3 mitjan\u00e7ant internet amb el protocol HTTP i les seues peticions (request) que poden ser de demanar dades (GET) o de guardar dades (POST). A aquestes peticions els servidors ens donaran unes respostes (response) amb un codi d'estat, indicant si tot ha anat be i la resposta pr\u00f2piament dita, habitualment encapsulada amb un objecte JSON, est\u00e0ndar actual d'intercanvi d'informaci\u00f3.</p> <p>Veurem el support que pot tindre el servidor accedint i recuperant dades en bases de dades, fent serivr MongoDB com a GBD i Docker com a contenidor de la mateixa.</p> <p>Per acabar farem un projecte integrador on desenvoluparem una aplicaic\u00f3 full stack.</p> <p>L'objectiu \u00e9s en futures sessions \u00e9s que el nostre servidor sigui capa\u00e7 de recuperar la informaci\u00f3 de models de dades o de xarxes neuronals, atenent a peticions de clients d'enlloc i/o comunicant-se amb altres servidors en el n\u00favol, en compte d'una BBDD.</p>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/1.%20Aplicacions%20clients%20amb%20Flet/","title":"1. Programaci\u00f3 d'aplicacions client amb Flet","text":""},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/1.%20Aplicacions%20clients%20amb%20Flet/#1-aplicacions-multiplataforma","title":"1. Aplicacions multiplataforma","text":"<p>S\u00f3n aquelles aplicacions que s\u00f3n desenvolupades en un \u00fanic llenguatge o framework i que faciliten la seua exportaci\u00f3 i execuci\u00f3 a diversos dispositiu, de manera independent al sistema operatiu.</p>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/1.%20Aplicacions%20clients%20amb%20Flet/#11-aproximacions","title":"1.1. Aproximacions","text":"<p>Per tal de minimitzar el desenvolupament espec\u00edfic par a cada plataforma, i el cost que aix\u00f2 suposa, apareixen diverses tecnolog\u00edes, centrades sobretot en tecnolog\u00edes web. Dins d\u2019aquestes, disposem d\u2019un gran ventall de possibilitats:</p> <ul> <li> <p>Aplicacions web responsives: Es tracta d\u2019aplicacions basades en tecnologia web: HTML, CSS i JavaScript, que adapten la seua interf\u00edcie a qualsevol dispositiu (disseny responsive). Aquestes aplicacions no requereixen de cap desenvolupament natiu, ja que s\u2019executen sobre el propi navegador web del sistema. Aix\u00ed doncs, disposem d\u2019\u00fan codi \u00fanic, per\u00f2 que no ofereixen una experi\u00e8ncia d\u2019usuari tan flu\u00efda com les aplicacions natives, ni permeten l\u2019acc\u00e9s a tots els components del sistema.</p> </li> <li> <p>Aplicacions h\u00edbrides: Es tracta d\u2019aplicacions web responsives que es carreguen dins un component de tipus WebView del sistema, que no \u00e9s m\u00e9s que un navegador sense la barra de navegaci\u00f3, pel que presenta l\u2019aparen\u00e7a d\u2019una aplicaci\u00f3 nativa. Aquestes aplicacions, a m\u00e9s, tamb\u00e9 permeten l\u2019acc\u00e9s a trav\u00e9s del WebView a algunes caracter\u00edstiques del dispositiu, com la ubicaci\u00f3 o l\u2019acceler\u00f2metre. El framework per al desenvolupament d\u2019aplicacions h\u00edbrides m\u00e9s popular \u00e9s Ionic, que permet el desenvolupament amb altres frameworks web com React, Angular o Vue.</p> </li> <li> <p>Aplicacions web progressives (PWAs): Les PWAs segueixen sent aplicacions web, per\u00f2 que gr\u00e0cies a determinats components, com els Service Workers i altres tecnologies estan m\u00e9s a prop de les aplicacions natives, de manera que permeten traure major potencial d\u2019aquestes, accedint al maquinari, treballar amb poca connexi\u00f3 o sense ella, o oferir notificaions del sistema. Existeixen diversos frameworks per al desenvolupament de PWAs, entre els quals es troben React PWA Library, Angular PWA Framework, Vue PWA Framework, Ionic PWA Framework, Svelte, PWA Builder o Polymer.</p> </li> </ul> <p>Com hem comentat, aquests tres tipus d\u2019aplicacions es basen en l\u2019\u00fas de tecnolog\u00edes web i algun component, b\u00e9 siga el propi navegador o un WebView. Tot i que hi ha apliccions molt bones basades en aquestes tecnolog\u00edes, no aporten totes les funcionalitats ni la flu\u00efdesa d\u2019una aplicaci\u00f3 nativa.</p> <p>Un pas m\u00e9s enll\u00e0 en el desenvolupament multiplataforma es troben els frameworks que, partint d\u2019un mateix codi base, generen aplicacions compilades de forma nativa per als diferents sistemes operatius. Algunes de les tecnologies m\u00e9s utilitzades en aquest tipus d\u2019aplicacions s\u00f3n:</p> <ul> <li> <p>React Native i Native Script: Que utilitzen com a base el llenguatge de programaci\u00f3 JavaScript, per\u00f2 en lloc de construir les interf\u00edcies mitjan\u00e7ant HTML, utilitzen components propis del framework que s\u00f3n compilats a codi natiu, fent ja innecessari utilitzar un WebView com a intermediari.</p> </li> <li> <p>Flutter: Aquest framework, creat i mantingut per Google permet el desenvolupament d\u2019aplicacions multiplataforma mitjan\u00e7ant el llenguatge Dart. Aquestes aplicacions s\u00f3n compilades a codi natiu dels diferents sistemes operatius (Android, iOS, Linux, Windows) i fins i tot web. Flutter, \u00e9s a m\u00e9s la tecnolog\u00eda nativa del sistema operatiu Google Fuchsia, basat en el seu propi microkernel Zircon, i que a mitj\u00e0 o llarg termini podria ser el reempla\u00e7 d\u2019Android.</p> </li> </ul>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/1.%20Aplicacions%20clients%20amb%20Flet/#2-introduccio","title":"2. Introducci\u00f3","text":"<p>En aquest primer apartat de la unitat introduirem les tecnologies que utilitzarem per als nostres desenvolupaments, Python, Flutter i Flet.</p>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/1.%20Aplicacions%20clients%20amb%20Flet/#21-python","title":"2.1. Python","text":"<p>\u2122/\u00aePython Software Foundation, GPL http://www.gnu.org/licenses/gpl.html, via Wikimedia Commons</p> <p>Python \u00e9s un llenguatge de programaci\u00f3 multiparadigma, interpretat, multiplataforma i lliure. Va n\u00e0ixer de la m\u00e0 de Guido Van Rossum, un programador holand\u00e9s, i la seua primera versi\u00f3 va ser publicada el 1991. </p> <p>Caracter\u00edstiques:</p> <ul> <li>D'alt nivell: proper a llenguatge de l'\u00e9sser hum\u00e0 i no al llenguatge m\u00e0quina binari.</li> <li>Interpretat: s'executa en qualsevol m\u00e0quina que tinga un int\u00e8rpret de Python. Aix\u00f2 suposa un gran avantatge a l'hora de fer petits canvis de forma r\u00e0pida, ja que elimina la necessitat de recompilar el codi.</li> <li>Multiparadigma: podem fer servir la programaci\u00f3 modular, estructurada o l'orientaci\u00f3 a objectes segons les nostres necessitats.</li> <li>Multiplataforma: permet que el codi siga executat en diferents sistemes operatius.</li> <li>Lliure: \u00e9s propietat de la Python Software Foundation i est\u00e0 publicat sota llic\u00e8ncia PSF-License que \u00e9s compatible amb GPL (General Public License), la qual cosa significa que \u00e9s de lliure \u00fas i distribuci\u00f3, fins i tot per a \u00fas comercial.</li> <li>Net i llegible: posa l'accent en la seua llegibilitat, cosa que ho fa f\u00e0cilment comprensible i f\u00e0cil d'aprendre. Si ja heu treballat amb qualsevol altre llenguatge de programaci\u00f3, us resultar\u00e0 f\u00e0cil l'\u00fas de Python.</li> <li>Tipat fort i din\u00e0mic: encara que les variables s\u00f3n d'un tipus concret, no tenim la necessitat de declarar-los, sin\u00f3 que l'assignaci\u00f3 de tipus s'anir\u00e0 en temps d'execuci\u00f3.</li> <li>\u00c0mplia comunitat: gr\u00e0cies a la seua popularitat compta amb un ampli suport i es pot trobar f\u00e0cilment molta documentaci\u00f3, esdeveniments, confer\u00e8ncies, etc.</li> </ul> <p>Actualment ocupa el primer lloc al r\u00e0nquing TIOBE, que \u00e9s un prestigi\u00f3s indicador de la popularitat dels llenguatges de programaci\u00f3 que s'actualitza un cop al mes. No nom\u00e9s aix\u00f2, sin\u00f3 que a m\u00e9s mostra una tend\u00e8ncia creixent davant de llenguatges com C o Java, que mostren la tend\u00e8ncia contr\u00e0ria. Aix\u00f2 \u00e9s degut en gran manera al seu \u00fas majoritari en camps com la Intel\u00b7lig\u00e8ncia Artificial, el Big Data, el Machine Learning o la Ciberseguretat, \u00e0rees predominants en un futur proper. </p> <p>TIOBE</p> <p>\u00c9s important assenyalar que l'\u00edndex TIOBE no tracta d'escollir el millor llenguatge de programaci\u00f3 o el llenguatge en qu\u00e8 s'han escrit la majoria de les l\u00ednies de codi.</p> <p>Tot aix\u00f2 ens ha portat a escollir aquest llenguatge de programaci\u00f3 per al present curs.</p> <p>Vegem la comparaci\u00f3 entre \u201cHola M\u00f3n!\u201d de Java i de Python</p> JavaPython Java<pre><code>public class HolaM\u00f3n {\n    public static void main(String[] args) {\n        System.out.println(\"Hola M\u00f3n!\");\n    }\n}\n</code></pre> Python<pre><code>print(\"Hola m\u00f3n!\")\n</code></pre> <p>Versions de Python</p> <p>Hi ha dues versions de python no compatibles entre elles, la versi\u00f3 2 i la versi\u00f3 3. Nosaltres utilitzarem la versi\u00f3 3 de python.</p>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/1.%20Aplicacions%20clients%20amb%20Flet/#22-flutter","title":"2.2. Flutter","text":"<p>Flutter \u00e9s un framework de codi obert desenvolupat per Google que es fa servir per a la creaci\u00f3 d'aplicacions m\u00f2bils per a diferents plataformes, com Android i iOS, aix\u00ed com per a aplicacions per a la web i escriptori. Les seves principals caracter\u00edstiques s\u00f3n les seg\u00fcents:</p> <ul> <li> <p>Desenvolupament multiplataforma: Flutter permet als desenvolupadors crear una sola base de codi que pot ser utilitzada per a desplegar aplicacions en diverses plataformes. Aix\u00f2 significa que pots desenvolupar una aplicaci\u00f3 i fer-la funcionar en dispositius Android, iOS, la web i fins i tot en altres plataformes com Windows o macOS.</p> </li> <li> <p>Llenguatge de programaci\u00f3 Dart: Flutter fa servir el llenguatge de programaci\u00f3 Dart com a base. Dart \u00e9s un llenguatge modern i eficient que es compila a codi nativo, la qual cosa millora l'efici\u00e8ncia de l'aplicaci\u00f3 i el seu rendiment.</p> </li> <li> <p>Widgets personalitzats: Flutter ofereix una \u00e0mplia gamma de widgets personalitzats que es poden utilitzar per a crear una interf\u00edcie d'usuari atractiva i din\u00e0mica. Aquests widgets s\u00f3n altament personalitzables i permeten als desenvolupadors dissenyar aplicacions amb un aspecte i comportament \u00fanic.</p> </li> <li> <p>R\u00e0pides actualitzacions d'UI: Flutter utilitza un sistema de composici\u00f3 de l'interf\u00edcie d'usuari (UI) basat en widgets que permet actualitzacions r\u00e0pides i eficients de la UI. Aix\u00f2 significa que les animacions i les interaccions s\u00f3n suaus i responsives.</p> </li> <li> <p>Hot Reload: Aquesta caracter\u00edstica permet als desenvolupadors veure els canvis immediatament a mesura que editen el codi font, sense necessitat de reiniciar l'aplicaci\u00f3. Aix\u00f2 accelera el proc\u00e9s de desenvolupament i la depuraci\u00f3.</p> </li> <li> <p>Suport de tercers: Flutter t\u00e9 un ecosistema actiu i en creixement de paquets i extensions que faciliten l'acc\u00e9s a funcionalitats i integracions diverses. Aix\u00f2 fa que sigui f\u00e0cil d'integrar amb altres serveis i biblioteques.</p> </li> <li> <p>Altes prestacions i rendiment: Gr\u00e0cies a la compilaci\u00f3 a codi natiu, les aplicacions Flutter solen tenir un bon rendiment i una c\u00e0rrega r\u00e0pida.</p> </li> <li> <p>Comunitat activa: Flutter t\u00e9 una comunitat \u00e0mplia i actiu, amb molts recursos en l\u00ednia, tutorials i ajuda disponible per a desenvolupadors.</p> </li> </ul> <p>En resum, Flutter \u00e9s una opci\u00f3 atractiva per a desenvolupadors que volen crear aplicacions m\u00f2bils i multiplataforma amb un aspecte i comportament personalitzats, aix\u00ed com un alt rendiment i un cicle de desenvolupament eficient. La seva versatilitat i la seva creixent popularitat han fet que sigui una eina rellevant en el m\u00f3n del desenvolupament d'aplicacions.</p>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/1.%20Aplicacions%20clients%20amb%20Flet/#23-flet","title":"2.3. Flet","text":"<p>Flet \u00e9s un framework que permet crear aplicacions GUI tant web, com d'escriptori com per a m\u00f2bils. Tot i que el projecte vol incorporar la possibilitat d'utilitzar diversos llenguatges de programaci\u00f3 com C++ o Go, actualment sols permet la creaci\u00f3 d'aplicacions amb Python.</p> <p>Els controls de Flet es basen en els controls Flutter de Google, combinant controls m\u00e9s menuts, ocultant complexitats i aplicant valors predeterminats raonables per garantir que les nostres aplicacions tinguen un aspecte professional sense molts esfor\u00e7os.</p> <p>En definitiva, farem \u00fas dels controls de Flutter des de Python.</p>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/1.%20Aplicacions%20clients%20amb%20Flet/#3-components-de-programari","title":"3. Components de programari","text":"<p>En el desenvolupament de circuits electr\u00f2nics, el grau de reutilitzaci\u00f3 de components \u00e9s molt alt, de manera que la construcci\u00f3 d'un circuit electr\u00f2nic es limita a la integraci\u00f3 i acoblament de diferents components comercials. Per exemple, una placa base cont\u00e9 components com resist\u00e8ncies, condensadors, rel\u00e9s, xips\u2026, que no han estat fabricats pel fabricant de la placa. Aix\u00ed que, hi ha fabricants especialitzats en components i altres en producte final. Aix\u00f2 permet reduir costos quant a temps i diners es refereix.</p> <p>En el desenvolupament de programari, la reutilitzaci\u00f3 de codi continua sent relativament escassa, per\u00f2 amb la utilitzaci\u00f3 de components aquest problema es redueix, reduint alhora el temps de desenvolupament, el cost econ\u00f2mic i els errors de programaci\u00f3.</p> <p>El desenvolupament de la interf\u00edcie d'una aplicaci\u00f3 es basa en la construcci\u00f3 d'una aplicaci\u00f3 a partir de components programari ja existents, anomenats normalment controls, limitant al m\u00ednim necessari el desenvolupament de codi nou. Podem imaginar-nos els components com les peces d'un Lego que podem connectar entre ells en una jerarquia d'arbre. Qualsevol aplicaci\u00f3 pot estar composta per m\u00faltiples components, i els components principals tenen components secundaris niats dins seu. </p> <p>Vam veure una llista dels principals controls d'usuari a la unitat anterior. En aquesta unitat posarem en pr\u00e0ctica l'\u00fas dels controls o components esmentats amb Flet.</p> <p></p>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/1.%20Aplicacions%20clients%20amb%20Flet/#4-installacio-de-flet","title":"4. Instal\u00b7laci\u00f3 de Flet","text":"<p>Flet necessita com a m\u00ednim la versi\u00f3 3.7 de Python, aix\u00ed que el que recomanem \u00e9s crear un entorn virtual conda amb l'\u00faltima versi\u00f3 de Python. Una vegada creat i activat, instal\u00b7larem flet. Bash<pre><code>$ conda create --name NOM python=3.11\n$ conda activate NOM\n$ conda install -c conda-forge flet\n</code></pre></p> \u00das de Flet amb WSL <p>Si executeu Flet amb WSL i obteniu l'error <code>error while loading shared libraries: libgstapp-1.0.so.0: cannot open shared object file: No such file or directory</code>, necessitareu instal\u00b7lar les llibreries GStreamer.</p> Bash<pre><code>$ sudo apt update\n$ sudo apt-get install libgstreamer1.0-dev libgstreamer-plugins-base1.0-dev libgstreamer-plugins-bad1.0-dev gstreamer1.0-plugins-base gstreamer1.0-plugins-good gstreamer1.0-plugins-bad gstreamer1.0-plugins-ugly gstreamer1.0-libav gstreamer1.0-doc gstreamer1.0-tools gstreamer1.0-x gstreamer1.0-alsa gstreamer1.0-gl gstreamer1.0-gtk3 gstreamer1.0-qt5 gstreamer1.0-pulseaudio\n</code></pre>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/1.%20Aplicacions%20clients%20amb%20Flet/#5-estructura-basica-dun-programa-flet","title":"5. Estructura b\u00e0sica d'un programa Flet","text":"<p>L'estructura m\u00ednima d'un programa Flet \u00e9s la seg\u00fcent:</p> Python<pre><code>import flet as ft\n\ndef main(page: ft.Page):\n    # add/update controls on Page\n    pass\n\nft.app(target=main)\n</code></pre> <p>Un programa t\u00edpic de Flet acaba amb una crida a flet.app() on comen\u00e7a l'aplicaci\u00f3 esperant noves sessions d'usuari. La funci\u00f3 main() \u00e9s el punt d'entrada de l'aplicaci\u00f3. Per a cada sessi\u00f3 d'usuari es crear\u00e0 un fil d'execuci\u00f3, que se li passar\u00e0 la inst\u00e0ncia de Page. </p> <p>Quan s'executa l'aplicaci\u00f3 Flet al navegador, s'inicia una nova sessi\u00f3 d'usuari per a cada pestanya o p\u00e0gina oberta. Quan s'executa com a aplicaci\u00f3 d'escriptori, nom\u00e9s es crea una sessi\u00f3.</p> <p>Page \u00e9s com un llen\u00e7 espec\u00edfic per a cada usuari, un estat visual d'una sessi\u00f3 d'usuari. Per crear una GUI, afegim i suprimim controls a una p\u00e0gina.</p> <p>Per defecte, l'aplicaci\u00f3 Flet s'inicia en una finestra del sistema operatiu natiu, per\u00f2, podem obrir-la en una finestra del navegador modificant la crida a flet.app() i indicant el port desitjat (aleatori en cas de no especificar-lo):</p> Python<pre><code>ft.app(target=main, view=\"web_browser\", port=8080)\n</code></pre>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/1.%20Aplicacions%20clients%20amb%20Flet/#51-hello-world","title":"5.1. Hello world!!","text":"<p>Els controls s\u00f3n els elements b\u00e0sics i principals per crear interf\u00edcies d'usuari a Flutter. Podeu mostrar informaci\u00f3, rebre informaci\u00f3 de l'usuari i organitzar altres controls de forma agrupada. </p> <p>Exemple</p> Python<pre><code>import flet as ft\n\ndef main(page: ft.Page):\n    page.title = \"Hello world with Flet!!\"\n    page.vertical_alignment = ft.MainAxisAlignment.CENTER\n    page.horizontal_alignment = ft.CrossAxisAlignment.CENTER\n\n    text = ft.Text(value='Hello world with Flet!!', text_align=ft.TextAlign.LEFT)\n\n    page.add(\n        text\n    )\n\nft.app(target=main)\n</code></pre> <p>Si executem el codi anterior obtindrem una aplicaci\u00f3 com la seg\u00fcent:</p> <p></p> <p>Dins la finestra estar\u00e0 continguda tota la interf\u00edcie de l'usuari. En aquest cas, nom\u00e9s cont\u00e9 un component Text centrar tant verticalment com horitzontalment, sense interacci\u00f3 possible. Cada aplicaci\u00f3 gr\u00e0fica tindr\u00e0 almenys una finestra, per\u00f2 en podr\u00e0 tenir m\u00e9s. Aix\u00f2 ho veurem en seccions posteriors de la unitat. Normalment una aplicaci\u00f3 acabar\u00e0 en tancar la darrera de les finestres.</p>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/1.%20Aplicacions%20clients%20amb%20Flet/#6-controls","title":"6. Controls","text":"<p>La interf\u00edcie d'usuari est\u00e0 feta de controls (tamb\u00e9 coneguts com widgets). Per fer visibles els controls per a un usuari, s'han d'afegir a un Page o dins d'altres controls que ja siguen visibles. La p\u00e0gina \u00e9s el control superior, i la resta de controls pengen d'aquesta arrel formant una estructura d'arbre.</p> <p>Els controls s\u00f3n classes de Python, simplement els instanciarem mitjan\u00e7ant els seus constructors amb els par\u00e0metres que ens convinga, per exemple:</p> Python<pre><code>text = ft.Text(value=\"Hello, world!\", color=\"green\")\n</code></pre> <p>Per mostrar el control anterior, l'afegim a la llista de controls de Page i fem una crida a page.update() per enviar els canvis de p\u00e0gina a un navegador o client d'escriptori:</p> Python<pre><code>import flet as ft\n\ndef main(page: ft.Page):\n    t = ft.Text(value=\"Hello, world!\", color=\"green\")\n    page.controls.append(t)\n    page.update()\n\nft.app(target=main)\n</code></pre> <p>Podem modificar les propietats del control i la interf\u00edcie d'usuari s'actualitzar\u00e0 en la seg\u00fcent crida a page.update():</p> Python<pre><code>t = ft.Text()\npage.add(t) # \u00e9s una abreviatura de page.controls.append(t) i page.update()\n\nfor i in range(10):\n    t.value = f\"Pas n\u00famero {i}\"\n    page.update()\n    time.sleep(1)\n</code></pre> Actualitzaci\u00f3 de controls <p>El m\u00e8tode Page.update() nom\u00e9s actualitzar\u00e0 els canvis fets des de l'\u00faltima crida al mateix m\u00e8tode. Podeu afegir, eliminar o modificar tants controls com vulgau abans de la seua crida, de forma que l'actualitzaci\u00f3 siga en lot.    </p> <p>Alguns controls s\u00f3n contenidor d'altres controls (com Page). Per exemple, el control Row permet organitzar els controls en fila:</p> Python<pre><code>page.add(\n    ft.Row(controls=[\n        ft.TextField(label=\"Your name\"),\n        ft.ElevatedButton(text=\"Send\")\n    ])\n)\n</code></pre> <p></p>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/1.%20Aplicacions%20clients%20amb%20Flet/#61-esdeveniments","title":"6.1. Esdeveniments","text":"<p>Cada interacci\u00f3 de l'usuari amb la interf\u00edcie, per exemple un clic de ratol\u00ed, un doble clic, l'\u00fas d'una tecla, etc. generar\u00e0 un esdeveniment. Aquest esdeveniment ser\u00e0 afegit a la cua d'esdeveniments (event queue) per ser gestionat.</p> <p>El bucle d'esdeveniments (event loop), que \u00e9s un bucle infinit, comprovar\u00e0 a cada iteraci\u00f3 si hi ha esdeveniments pendents de ser gestionats. En cas de ser aix\u00ed, l'esdeveniment ser\u00e0 gestionat pel gestor d'esdeveniments (event handler) que executar\u00e0 el vostre controlador. Quan aquest acaba, el control torna al bucle d'esdeveniments per esperar m\u00e9s esdeveniments. A\u00e7\u00f2 ja ho vam utilitzar al joc que desenvoluparem amb PyGame.</p> <p>Tot aquest proc\u00e9s complex, s'oculta al programados, que simplement haur\u00e0 de programar quina funcionalitat s'executa en produir-se cert esdeveniment. </p> Python<pre><code>import flet as ft\n\ndef main(page):\n    def add_clicked(e):\n        page.add(ft.Checkbox(label=new_task.value))\n        new_task.value = \"\"\n        new_task.focus()\n        new_task.update()\n\n    new_task = ft.TextField(hint_text=\"Tasca pendent\", width=300)\n    page.add(ft.Row([new_task, ft.ElevatedButton(\"Afegir\", on_click=add_clicked)]))\n\nft.app(target=main)\n</code></pre> Flet vs Flutter <p>Flet implementa un model d'interf\u00edcie d'usuari imperatiu on creeu \"manualment\" la interf\u00edcie d'usuari de l'aplicaci\u00f3 amb controls d'estat i despr\u00e9s la modifiqueu actualitzant les propietats de control. En canvi, Flutter implementa un model declaratiu on la interf\u00edcie d'usuari es reconstrueix autom\u00e0ticament amb els canvis de dades de l'aplicaci\u00f3. La gesti\u00f3 de l'estat de l'aplicaci\u00f3 a les aplicacions frontend modernes \u00e9s una tasca inherentment complexa i l'enfocament de la vella escola de Flet \u00e9s m\u00e9s atractiu i simple per als programadors sense experi\u00e8ncia en el frontend.</p> Propietat visible <p>Cada control t\u00e9 la propietat visible que \u00e9s True per defecte. La configuraci\u00f3 visible a False impedeix que el control (i tots els seus fills, si hi ha) es mostren. Els controls ocults no es poden enfocar, ni seleccionar amb un teclat o ratol\u00ed i no emeten cap esdeveniment.</p> Propietat disabled <p>Cada control t\u00e9 la propietat disabled que \u00e9s False per defecte, el control i tots els seus fills estan habilitats. S'utilitza principalment amb controls d'entrada de dades com els botons, TextField, Dropdown, Checkbox,... Tanmateix, disabled es podria establir en un control pare i el seu valor es propagar\u00e0 a tots els fills de forma recursiva.</p> Python<pre><code>first_name = ft.TextField()\nlast_name = ft.TextField()\ncolumn = ft.Column(controls=[\n    first_name,\n    last_name\n])\ncolumn.disabled = True\npage.add(c)\n</code></pre>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/1.%20Aplicacions%20clients%20amb%20Flet/#62-referencies-a-controls","title":"6.2. Refer\u00e8ncies a Controls","text":"<p>Els controls Flet s\u00f3n objectes i per accedir a les seves propietats hem de mantenir les refer\u00e8ncies (variables) a aquests objectes. Quan s'afegeixen molts controls i controladors d'esdeveniments, es fa dif\u00edcil mantindre totes les definicions de control en un sol lloc, de manera que es dispersen pel cos del main(). Mirant els par\u00e0metres de page.add(), \u00e9s dif\u00edcil imaginar (sense mirar constantment a les definicions de variables) com seria la forma final de la interf\u00edcie (ah\u00ed pot ajudar molt el nom de la variable).</p> Python<pre><code>page.add(\n    first_name,\n    last_name,\n    ft.ElevatedButton(\"Say hello!\", on_click=btn_click),\n    greetings,\n)\n</code></pre> <p>Flet proporciona una classe Ref que permet definir una refer\u00e8ncia al control, utilitzar aquesta refer\u00e8ncia als controladors d'esdeveniments i establir la refer\u00e8ncia a un control.</p> <p>Per definir una nova refer\u00e8ncia a un control:</p> Python<pre><code>first_name = ft.Ref[ft.TextField]()\n</code></pre> <p>Per accedir al control referenciat (desrefer\u00e8ncia del control), utilitzem la propietat Ref.current: Python<pre><code>first_name.current.value = \"\"\n</code></pre></p> <p>Per utilitzar la refer\u00e8ncia al control:</p> Python<pre><code>page.add(\n    ft.TextField(ref=first_name, label=\"First name\", autofocus=True)\n)\n</code></pre> <p>Compareu els seg\u00fcents fragments de codi:</p> <p>Variables de control vs Refer\u00e8ncies a controls</p> <p>Sense Refs Python<pre><code>import flet as ft\n\ndef main(page):\n\n    first_name = ft.TextField(label=\"First name\", autofocus=True)\n    last_name = ft.TextField(label=\"Last name\")\n    greetings = ft.Column()\n\n    def btn_click(e):\n        greetings.controls.append(ft.Text(f\"Hello, {first_name.value} {last_name.value}!\"))\n        first_name.value = \"\"\n        last_name.value = \"\"\n        page.update()\n        first_name.focus()\n\n    page.add(\n        first_name,\n        last_name,\n        ft.ElevatedButton(\"Say hello!\", on_click=btn_click),\n        greetings,\n    )\n\nft.app(target=main)\n</code></pre></p> <p>Amb Refs Python<pre><code>import flet as ft\n\ndef main(page):\n\n    first_name = ft.Ref[ft.TextField]()\n    last_name = ft.Ref[ft.TextField]()\n    greetings = ft.Ref[ft.Column]()\n\n    def btn_click(e):\n        greetings.current.controls.append(\n            ft.Text(f\"Hello, {first_name.current.value} {last_name.current.value}!\")\n        )\n        first_name.current.value = \"\"\n        last_name.current.value = \"\"\n        page.update()\n        first_name.current.focus()\n\n    page.add(\n        ft.TextField(ref=first_name, label=\"First name\", autofocus=True),\n        ft.TextField(ref=last_name, label=\"Last name\"),\n        ft.ElevatedButton(\"Say hello!\", on_click=btn_click),\n        ft.Column(ref=greetings),\n    )\n\nft.app(target=main)\n</code></pre></p>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/1.%20Aplicacions%20clients%20amb%20Flet/#7-principals-controls-en-formularis","title":"7. Principals controls en formularis","text":"<p>A la primera unitat vam veure un llistat de controls habituals juntament amb el seu \u00fas habitual. Farem un llistat amb els controls m\u00e9s habituals de Flet usats en formularis, juntament amb algun dels seus esdeveniments. Practicarem amb exemples i exercicis en altres apartats de la unitat. Per obtenir una llista completa i m\u00e9s informaci\u00f3 de cadascun, cal consultar la documentaci\u00f3 de Flet.</p> <p>Controls</p> QCheckBoxTextDropdownRadioGroupTextButtonTabsTextFieldSliderSwitchFilePicker Python<pre><code>import flet as ft\n\ndef main(page):\n    def checkbox_changed(e):\n        output_text.value = (\n            f\"You have learned how to ski :  {todo_check.value}.\"\n        )\n        page.update()\n\n    output_text = ft.Text()\n    todo_check = ft.Checkbox(label=\"ToDo: Learn how to use ski\", value=False, on_change=checkbox_changed)\n    page.add(todo_check, output_text)\n\nft.app(target=main)\n</code></pre> Python<pre><code>import flet as ft\n\ndef main(page: ft.Page):\n    page.title = \"Hello world with Flet!!\"\n    page.vertical_alignment = ft.MainAxisAlignment.CENTER\n    page.horizontal_alignment = ft.CrossAxisAlignment.CENTER\n\n    text = ft.Text(value='Hello world with Flet!!', text_align=ft.TextAlign.LEFT)\n\n    page.controls.append(\n        text\n    )\n\n    page.update()\n\nft.app(target=main)\n</code></pre> Python<pre><code>import flet as ft\n\n\ndef main(page: ft.Page):\n    def button_clicked(e):\n        output_text.value = f\"Dropdown value is:  {color_dropdown.value}\"\n        page.update()\n\n    output_text = ft.Text()\n    submit_btn = ft.ElevatedButton(text=\"Submit\", on_click=button_clicked)\n    color_dropdown = ft.Dropdown(\n        width=100,\n        options=[\n            ft.dropdown.Option(\"Red\"),\n            ft.dropdown.Option(\"Green\"),\n            ft.dropdown.Option(\"Blue\"),\n        ],\n    )\n    page.add(color_dropdown, submit_btn, output_text)\n\nft.app(target=main)\n</code></pre> Python<pre><code>import flet as ft\n\ndef main(page):\n    def button_clicked(e):\n        t.value = f\"Your favorite color is:  {cg.value}\"\n        page.update()\n\n    t = ft.Text()\n    b = ft.ElevatedButton(text='Submit', on_click=button_clicked)\n    cg = ft.RadioGroup(content=ft.Column([\n        ft.Radio(value=\"red\", label=\"Red\"),\n        ft.Radio(value=\"green\", label=\"Green\"),\n        ft.Radio(value=\"blue\", label=\"Blue\")]))\n\n    page.add(ft.Text(\"Select your favorite color:\"), cg, b, t)\n\nft.app(target=main)\n</code></pre> Python<pre><code>import flet as ft\n\ndef main(page: ft.Page):\n    page.title = \"Text button with 'click' event\"\n\n    def button_clicked(e):\n        b.data += 1\n        t.value = f\"Button clicked {b.data} time(s)\"\n        page.update()\n\n    b = ft.TextButton(\"Button with 'click' event\", on_click=button_clicked, data=0)\n    t = ft.Text()\n\n    page.add(b, t)\n\nft.app(target=main)\n</code></pre> Python<pre><code>import flet as ft\n\ndef main(page: ft.Page):\n\n    t = ft.Tabs(\n        selected_index=1,\n        animation_duration=300,\n        tabs=[\n            ft.Tab(\n                text=\"Tab 1\",\n                content=ft.Container(\n                    content=ft.Text(\"This is Tab 1\"), alignment=ft.alignment.center\n                ),\n            ),\n            ft.Tab(\n                tab_content=ft.Icon(ft.icons.SEARCH),\n                content=ft.Text(\"This is Tab 2\"),\n            ),\n            ft.Tab(\n                text=\"Tab 3\",\n                icon=ft.icons.SETTINGS,\n                content=ft.Text(\"This is Tab 3\"),\n            ),\n        ],\n        expand=1,\n    )\n\n    page.add(t)\n\nft.app(target=main)\n</code></pre> Python<pre><code>import flet as ft\n\ndef main(page: ft.Page):\n    def button_clicked(e):\n        t.value = f\"Textboxes values are:  '{tb1.value}', '{tb2.value}', '{tb3.value}', '{tb4.value}', '{tb5.value}'.\"\n        page.update()\n\n    t = ft.Text()\n    tb1 = ft.TextField(label=\"Standard\")\n    tb2 = ft.TextField(label=\"Disabled\", disabled=True, value=\"First name\")\n    tb3 = ft.TextField(label=\"Read-only\", read_only=True, value=\"Last name\")\n    tb4 = ft.TextField(label=\"With placeholder\", hint_text=\"Please enter text here\")\n    tb5 = ft.TextField(label=\"With an icon\", icon=ft.icons.EMOJI_EMOTIONS)\n    b = ft.ElevatedButton(text=\"Submit\", on_click=button_clicked)\n    page.add(tb1, tb2, tb3, tb4, tb5, b, t)\n\nft.app(target=main)\n</code></pre> Python<pre><code>import flet as ft\n\ndef main(page):\n\n    def slider_changed(e):\n        t.value = f\"Slider changed to {e.control.value}\"\n        page.update()\n\n    t = ft.Text()\n    page.add(\n        ft.Text(\"Slider with 'on_change' event:\"),\n        ft.Slider(min=0, max=100, divisions=10, label=\"{value}%\", on_change=slider_changed), t)\n\nft.app(target=main)\n</code></pre> Python<pre><code>import flet as ft\n\ndef main(page):\n    def button_clicked(e):\n        t.value = (\n            f\"Switch values are:  {c1.value}, {c2.value}, {c3.value}, {c4.value}.\"\n        )\n        page.update()\n\n    t = ft.Text()\n    c1 = ft.Switch(label=\"Unchecked switch\", value=False)\n    c2 = ft.Switch(label=\"Checked switch\", value=True)\n    c3 = ft.Switch(label=\"Disabled switch\", disabled=True)\n    c4 = ft.Switch(\n        label=\"Switch with rendered label_position='left'\", label_position=ft.LabelPosition.LEFT\n    )\n    b = ft.ElevatedButton(text=\"Submit\", on_click=button_clicked)\n    page.add(c1, c2, c3, c4, b, t)\n\nft.app(target=main)\n</code></pre> Python<pre><code>import flet as ft\n\ndef main(page: ft.Page):\n    def pick_files_result(e: ft.FilePickerResultEvent):\n        selected_files.value = (\n            \", \".join(map(lambda f: f.name, e.files)) if e.files else \"Cancelled!\"\n        )\n        selected_files.update()\n\n    pick_files_dialog = ft.FilePicker(on_result=pick_files_result)\n    selected_files = ft.Text()\n\n    page.overlay.append(pick_files_dialog)\n\n    page.add(\n        ft.Row(\n            [\n                ft.ElevatedButton(\n                    \"Pick files\",\n                    icon=ft.icons.UPLOAD_FILE,\n                    on_click=lambda _: pick_files_dialog.pick_files(\n                        allow_multiple=True\n                    ),\n                ),\n                selected_files,\n            ]\n        )\n    )\n\nft.app(target=main)\n</code></pre>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/1.%20Aplicacions%20clients%20amb%20Flet/#8-layouts","title":"8. Layouts","text":"<p>Els controls tipus layout s\u00f3n controls especials que servixen per a contindre i organitzar la resta de controls a la interf\u00edcie. Veurem els principals controls tipus layout a esta secci\u00f3.</p>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/1.%20Aplicacions%20clients%20amb%20Flet/#81-container","title":"8.1. Container","text":"<p>El contenidor permet decorar un control amb color de fons i vora i posicionar-lo amb farciment, marge i alineaci\u00f3. Tamb\u00e9 permet decorar-lo amb gradients radials o linials, animar-lo,...</p> <p>Exemple de Container</p> Python<pre><code>import flet as ft\n\ndef main(page: ft.Page):\n    page.title = \"Containers - clickable and not\"\n    page.vertical_alignment = ft.MainAxisAlignment.CENTER\n    page.horizontal_alignment = ft.CrossAxisAlignment.CENTER\n\n    page.add(\n        ft.Row(\n            [\n                ft.Container(\n                    content=ft.Text(\"Non clickable\"),\n                    margin=10,\n                    padding=10,\n                    alignment=ft.alignment.center,\n                    bgcolor=ft.colors.AMBER,\n                    width=150,\n                    height=150,\n                    border_radius=10,\n                ),\n                ft.Container(\n                    content=ft.Text(\"Clickable without Ink\"),\n                    margin=10,\n                    padding=10,\n                    alignment=ft.alignment.center,\n                    bgcolor=ft.colors.GREEN_200,\n                    width=150,\n                    height=150,\n                    border_radius=10,\n                    on_click=lambda e: print(\"Clickable without Ink clicked!\"),\n                ),\n                ft.Container(\n                    content=ft.Text(\"Clickable with Ink\"),\n                    margin=10,\n                    padding=10,\n                    alignment=ft.alignment.center,\n                    bgcolor=ft.colors.CYAN_200,\n                    width=150,\n                    height=150,\n                    border_radius=10,\n                    ink=True,\n                    on_click=lambda e: print(\"Clickable with Ink clicked!\"),\n                ),\n                ft.Container(\n                    content=ft.Text(\"Clickable transparent with Ink\"),\n                    margin=10,\n                    padding=10,\n                    alignment=ft.alignment.center,\n                    width=150,\n                    height=150,\n                    border_radius=10,\n                    ink=True,\n                    on_click=lambda e: print(\"Clickable transparent with Ink clicked!\"),\n                ),\n            ],\n            alignment=ft.MainAxisAlignment.CENTER,\n        ),\n    )\n\nft.app(target=main)\n</code></pre> <p></p>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/1.%20Aplicacions%20clients%20amb%20Flet/#82-row","title":"8.2. Row","text":"<p>Un control que mostra els seus fills en una matriu horitzontal. </p> <p>Amb les seues propietats es poden modificar la forma en que es col\u00b7loquen, l'espai entre els components,...</p> <p>Espai entre controls</p> Python<pre><code>import flet as ft\n\ndef main(page: ft.Page):\n    def items(count):\n        items = []\n        for i in range(1, count + 1):\n            items.append(\n                ft.Container(\n                    content=ft.Text(value=str(i)),\n                    alignment=ft.alignment.center,\n                    width=50,\n                    height=50,\n                    bgcolor=ft.colors.AMBER,\n                    border_radius=ft.border_radius.all(5),\n                )\n            )\n        return items\n\n    def gap_slider_change(e):\n        row.spacing = int(e.control.value)\n        row.update()\n\n    gap_slider = ft.Slider(\n        min=0,\n        max=50,\n        divisions=50,\n        value=0,\n        label=\"{value}\",\n        on_change=gap_slider_change,\n    )\n\n    row = ft.Row(spacing=0, controls=items(10))\n\n    page.add(ft.Column([ ft.Text(\"Spacing between items\"), gap_slider]), row)\n\nft.app(target=main)\n</code></pre> <p></p> <p>Ampl\u00e0ria de la fila</p> Python<pre><code>import flet as ft\n\ndef main(page: ft.Page):\n    def items(count):\n        items = []\n        for i in range(1, count + 1):\n            items.append(\n                ft.Container(\n                    content=ft.Text(value=str(i)),\n                    alignment=ft.alignment.center,\n                    width=50,\n                    height=50,\n                    bgcolor=ft.colors.AMBER,\n                    border_radius=ft.border_radius.all(5),\n                )\n            )\n        return items\n\n    def slider_change(e):\n        row.width = float(e.control.value)\n        row.update()\n\n    width_slider = ft.Slider(\n        min=0,\n        max=page.window_width,\n        divisions=20,\n        value=page.window_width,\n        label=\"{value}\",\n        on_change=slider_change,\n    )\n\n    row = ft.Row(\n        wrap=True,\n        spacing=10,\n        run_spacing=10,\n        controls=items(30),\n        width=page.window_width,\n    )\n\n    page.add(\n        ft.Column(\n            [\n                ft.Text(\n                    \"Change the row width to see how child items wrap onto multiple rows:\"\n                ),\n                width_slider,\n            ]\n        ),\n        row,\n    )\n\nft.app(target=main)\n</code></pre> <p></p> <p>Aliniaci\u00f3 horitzontal</p> Python<pre><code>import flet as ft\n\ndef main(page: ft.Page):\n    def items(count):\n        items = []\n        for i in range(1, count + 1):\n            items.append(\n                ft.Container(\n                    content=ft.Text(value=str(i)),\n                    alignment=ft.alignment.center,\n                    width=50,\n                    height=50,\n                    bgcolor=ft.colors.AMBER_500,\n                )\n            )\n        return items\n\n    def row_with_alignment(align: ft.MainAxisAlignment):\n        return ft.Column(\n            [\n                ft.Text(str(align), size=16),\n                ft.Container(\n                    content=ft.Row(items(3), alignment=align),\n                    bgcolor=ft.colors.AMBER_100,\n                ),\n            ]\n        )\n\n    page.add(\n        row_with_alignment(ft.MainAxisAlignment.START),\n        row_with_alignment(ft.MainAxisAlignment.CENTER),\n        row_with_alignment(ft.MainAxisAlignment.END),\n        row_with_alignment(ft.MainAxisAlignment.SPACE_BETWEEN),\n        row_with_alignment(ft.MainAxisAlignment.SPACE_AROUND),\n        row_with_alignment(ft.MainAxisAlignment.SPACE_EVENLY),\n    )\n\n\nft.app(target=main)\n</code></pre> <p></p> <p><code>expand</code> igual a True</p> Python<pre><code>import flet as ft\n\ndef main(page: ft.Page):\n    row = ft.Row([\n        ft.TextField(hint_text=\"Enter your name\", expand=True),\n        ft.ElevatedButton(text=\"Join chat\")\n        ])\n\n    page.add(\n        row\n    )\n\n\nft.app(target=main)\n</code></pre> <p></p> <p>Expanci\u00f3 proporcional</p> Python<pre><code>import flet as ft\n\ndef main(page: ft.Page):\n    row = ft.Row([\n        ft.Container(bgcolor=ft.colors.YELLOW, expand=2, content=ft.Text(\n            \"expand = 2\", text_align=ft.TextAlign.CENTER)),\n        ft.Container(bgcolor=ft.colors.RED, expand=3, content=ft.Text(\n            \"expand = 3\", text_align=ft.TextAlign.CENTER)),\n        ft.Container(bgcolor=ft.colors.PURPLE, expand=1, content=ft.Text(\n            \"expand = 1\", text_align=ft.TextAlign.CENTER))\n    ])\n\n    page.add(\n        row\n    )\n\n\nft.app(target=main)\n</code></pre> <p></p> <p>M\u00e9s informaci\u00f3</p>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/1.%20Aplicacions%20clients%20amb%20Flet/#83-column","title":"8.3. Column","text":"<p>Un control que mostra els seus fills en una matriu vertical. El funcionament \u00e9s molt similar a Row, on el width de Row ser\u00e0 el height de Column.</p> <p>Scroll infinit</p> <p>Python<pre><code>import threading\nimport flet as ft\n\nclass State:\n    i = 0\n\ns = State()\nsem = threading.Semaphore()\n\ndef main(page: ft.Page):\n    def on_scroll(e: ft.OnScrollEvent):\n        if e.pixels &gt;= e.max_scroll_extent - 100:\n            if sem.acquire(blocking=False):\n                try:\n                    for i in range(0, 10):\n                        cl.controls.append(ft.Text(f\"Text line {s.i}\", key=str(s.i)))\n                        s.i += 1\n                    cl.update()\n                finally:\n                    sem.release()\n\n    cl = ft.Column(\n        spacing=10,\n        height=200,\n        width=200,\n        scroll=ft.ScrollMode.ALWAYS,\n        on_scroll_interval=0,\n        on_scroll=on_scroll,\n    )\n    for i in range(0, 50):\n        cl.controls.append(ft.Text(f\"Text line {s.i}\", key=str(s.i)))\n        s.i += 1\n\n    page.add(ft.Container(cl, border=ft.border.all(1)))\n\nft.app(main)\n</code></pre> </p> <p>M\u00e9s informaci\u00f3</p>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/1.%20Aplicacions%20clients%20amb%20Flet/#84-stack","title":"8.4. Stack","text":"<p>Un control que situa els seus fills uns sobre els altres, apilats.</p> <p>Aquest control \u00e9s \u00fatil si volem superposar diversos fills d'una manera senzilla, per exemple, tenint text i una imatge.</p> <p>Stack tamb\u00e9 \u00e9s \u00fatil si voleu implementar animacions impl\u00edcites que requereixen con\u00e8ixer la posici\u00f3 absoluta d'un valor objectiu.</p> <p>Layout apilat</p> <p>Python<pre><code>import flet as ft\n\ndef main(page: ft.Page):\n    st = ft.Stack(\n        [\n            ft.Image(\n                src=f\"https://picsum.photos/300/300\",\n                width=300,\n                height=300,\n                fit=ft.ImageFit.CONTAIN,\n            ),\n            ft.Row(\n                [\n                    ft.Text(\n                        \"Image title\",\n                        color=\"white\",\n                        size=40,\n                        weight=\"bold\",\n                        opacity=0.5,\n                    )\n                ],\n                alignment=ft.MainAxisAlignment.CENTER,\n            ),\n        ],\n        width=300,\n        height=300,\n    )\n\n    page.add(st)\n\nft.app(target=main)\n</code></pre> </p>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/1.%20Aplicacions%20clients%20amb%20Flet/#85-listview","title":"8.5. ListView","text":"<p>ListView \u00e9s el control de despla\u00e7ament m\u00e9s utilitzat. Mostra els seus fills un darrere l'altre en la direcci\u00f3 de despla\u00e7ament.</p> <p>Exemple de ListView</p> <p>Python<pre><code>import flet as ft\n\ndef main(page: ft.Page):\n    page.title = \"ListView\"\n\n    listview = ft.ListView(expand=1, spacing=10, padding=20, auto_scroll=False)\n    page.add(listview)\n\n    for i in range(0, 60):\n        listview.controls.append(ft.Text(f\"Element {i}\"))\n\n    page.update()\n\nft.app(target=main)\n</code></pre> </p>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/1.%20Aplicacions%20clients%20amb%20Flet/#86-listtile","title":"8.6. ListTile","text":"<p>Una \u00fanica fila d'alturaa fixa que normalment cont\u00e9 text, aix\u00ed com una icona inicial o final.</p> <p>ListTile</p> <p>Python<pre><code>import flet as ft\n\ndef main(page):\n    page.title = \"ListTile Examples\"\n    page.add(\n        ft.Card(\n            content=ft.Container(\n                width=500,\n                content=ft.Column(\n                    [\n                        ft.ListTile(\n                            title=ft.Text(\"One-line list tile\"),\n                        ),\n                        ft.ListTile(title=ft.Text(\"One-line dense list tile\"), dense=True),\n                        ft.ListTile(\n                            leading=ft.Icon(ft.icons.SETTINGS),\n                            title=ft.Text(\"One-line selected list tile\"),\n                            selected=True,\n                        ),\n                        ft.ListTile(\n                            leading=ft.Image(src=\"/icons/icon-192.png\", fit=\"contain\"),\n                            title=ft.Text(\"One-line with leading control\"),\n                        ),\n                        ft.ListTile(\n                            title=ft.Text(\"One-line with trailing control\"),\n                            trailing=ft.PopupMenuButton(\n                                icon=ft.icons.MORE_VERT,\n                                items=[\n                                    ft.PopupMenuItem(text=\"Item 1\"),\n                                    ft.PopupMenuItem(text=\"Item 2\"),\n                                ],\n                            ),\n                        ),\n                        ft.ListTile(\n                            leading=ft.Icon(ft.icons.ALBUM),\n                            title=ft.Text(\"One-line with leading and trailing controls\"),\n                            trailing=ft.PopupMenuButton(\n                                icon=ft.icons.MORE_VERT,\n                                items=[\n                                    ft.PopupMenuItem(text=\"Item 1\"),\n                                    ft.PopupMenuItem(text=\"Item 2\"),\n                                ],\n                            ),\n                        ),\n                        ft.ListTile(\n                            leading=ft.Icon(ft.icons.SNOOZE),\n                            title=ft.Text(\"Two-line with leading and trailing controls\"),\n                            subtitle=ft.Text(\"Here is a second title.\"),\n                            trailing=ft.PopupMenuButton(\n                                icon=ft.icons.MORE_VERT,\n                                items=[\n                                    ft.PopupMenuItem(text=\"Item 1\"),\n                                    ft.PopupMenuItem(text=\"Item 2\"),\n                                ],\n                            ),\n                        ),\n                    ],\n                    spacing=0,\n                ),\n                padding=ft.padding.symmetric(vertical=10),\n            )\n        )\n    )\n\nft.app(target=main)\n</code></pre> List Tile </p>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/1.%20Aplicacions%20clients%20amb%20Flet/#87-gridview","title":"8.7. GridView","text":"<p>Es tracta d'un layout en forma de graella.</p> <p>Informaci\u00f3</p> <p>GridView \u00e9s molt eficient per a llistes grans (milers d'elements). Pot substituir el niuament de layouts tipus Row i Column.</p> <p>Exemple de GridView</p> Python<pre><code>import flet as ft\n\ndef main(page: ft.Page):\n    page.title = \"GridView Example\"\n    page.theme_mode = ft.ThemeMode.DARK\n    page.padding = 50\n    page.update()\n\n    images = ft.GridView(\n        expand=1,\n        runs_count=5,\n        max_extent=150,\n        child_aspect_ratio=1.0,\n        spacing=5,\n        run_spacing=5,\n    )\n\n    page.add(images)\n\n    for i in range(0, 60):\n        images.controls.append(\n            ft.Image(\n                src=f\"https://picsum.photos/150/150?{i}\",\n                fit=ft.ImageFit.NONE,\n                repeat=ft.ImageRepeat.NO_REPEAT,\n                border_radius=ft.border_radius.all(10),\n            )\n        )\n    page.update()\n\nft.app(target=main)\n</code></pre> <p> </p>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/1.%20Aplicacions%20clients%20amb%20Flet/#88-responsive-row","title":"8.8. Responsive Row","text":"<p>ResponsiveRow pren la idea del disseny en quadr\u00edcula de Bootstrap. Permet alinear els controls en columnes virtuals. Per defecte, una quadr\u00edcula virtual t\u00e9 12 columnes, per\u00f2 que es poden personalitzar amb la propietat ResponsiveRow.columns.</p> <p>De manera similar a  la propietat <code>expand</code>, cada control ara t\u00e9 la propietat <code>col</code> que permet especificar quantes columnes ha d'abastar un control. Per exemple, per fer un disseny format per dues columnes que abasten 6 columnes virtuals cadascuna:</p> Python<pre><code>ft.ResponsiveRow([\n    ft.Column(col=6, controls=[ft.Text(\"Column 1\")]),\n    ft.Column(col=6, controls=[ft.Text(\"Column 2\")])\n])\n</code></pre> <p><code>ResponsiveRow</code> \u00e9s responsiu perqu\u00e8 pot adaptar la mida dels seus fills a una mida de pantalla (p\u00e0gina, finestra) din\u00e0mica o canviant. La propietat <code>col</code> de l'exemple anterior \u00e9s un nombre constant, la qual cosa significa que el control ocupar\u00e0 6 columnes per a qualsevol mida de pantalla.</p> <p>Si als descendents en l'arbre de controls no tenen especificada la propietat col, ocuparan el nombre m\u00e0xim de columnes.</p> <p>col es pot configurar per tenir un valor diferent per a \"punts d'interrupci\u00f3\" espec\u00edfics. Els punts d'interrupci\u00f3 s'anomenen intervals de dimensions:</p> <p> Punt d'interrupci\u00f3 Dimensi\u00f3 xs &lt;576 p\u00edxels sm \u2265576px md \u2265768px lg \u2265992px xl \u22651200px xxl \u22651400px <p></p> <p>Exemple amb <code>ResponsiveRow</code></p> Python<pre><code>import flet as ft\n\ndef main(page: ft.Page):\n    def page_resize(e):\n        if page.width &lt; 576:\n            size = \"XS\"\n        elif page.width &lt; 768:\n            size = \"SM\"\n        elif page.width &lt; 992:\n            size = \"MD\"\n        elif page.width &lt; 1200:\n            size = \"LG\"\n        elif page.width &lt; 1400:\n            size = \"XL\"\n        else:\n            size = \"XXL\"\n        pw.value = f\"Tamany de pantalla: {size} -&gt; {page.width} px\"\n        pw.update()\n\n    page.on_resize = page_resize\n\n    pw = ft.Text(bottom=50, right=50, style=\"displaySmall\")\n    page.overlay.append(pw)\n    page.add(\n        ft.ResponsiveRow(\n            [\n                ft.Container(\n                    ft.Text(\"Column 1\"),\n                    padding=5,\n                    bgcolor=ft.colors.YELLOW,\n                    col={\"sm\": 6, \"md\": 4, \"xl\": 2},\n                ),\n                ft.Container(\n                    ft.Text(\"Column 2\"),\n                    padding=5,\n                    bgcolor=ft.colors.GREEN,\n                    col={\"sm\": 6, \"md\": 4, \"xl\": 2},\n                ),\n                ft.Container(\n                    ft.Text(\"Column 3\"),\n                    padding=5,\n                    bgcolor=ft.colors.BLUE,\n                    col={\"sm\": 6, \"md\": 4, \"xl\": 2},\n                ),\n                ft.Container(\n                    ft.Text(\"Column 4\"),\n                    padding=5,\n                    bgcolor=ft.colors.PINK_300,\n                    col={\"sm\": 6, \"md\": 4, \"xl\": 2},\n                ),\n            ],\n        ),\n        ft.ResponsiveRow(\n            [\n                ft.TextField(label=\"TextField 1\", col={\"md\": 4}),\n                ft.TextField(label=\"TextField 2\", col={\"md\": 4}),\n                ft.TextField(label=\"TextField 3\", col={\"md\": 4}),\n            ],\n            run_spacing={\"xs\": 12},\n        ),\n    )\n    page_resize(None)\n\nft.app(target=main)\n</code></pre>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/1.%20Aplicacions%20clients%20amb%20Flet/#89-datatable","title":"8.9. DataTable","text":"<p>Una taula de dades, \u00e9s un control per a mostrar informaci\u00f3 de forma ordenada.</p> <p>Exemple de taula</p> <p>Python<pre><code>import flet as ft\n\ndef main(page: ft.Page):\n    page.add(\n        ft.DataTable(\n            columns=[\n                ft.DataColumn(ft.Text(\"First name\")),\n                ft.DataColumn(ft.Text(\"Last name\")),\n                ft.DataColumn(ft.Text(\"Age\"), numeric=True),\n            ],\n            rows=[\n                ft.DataRow(\n                    cells=[\n                        ft.DataCell(ft.Text(\"John\")),\n                        ft.DataCell(ft.Text(\"Smith\")),\n                        ft.DataCell(ft.Text(\"43\")),\n                    ],\n                ),\n                ft.DataRow(\n                    cells=[\n                        ft.DataCell(ft.Text(\"Jack\")),\n                        ft.DataCell(ft.Text(\"Brown\")),\n                        ft.DataCell(ft.Text(\"19\")),\n                    ],\n                ),\n                ft.DataRow(\n                    cells=[\n                        ft.DataCell(ft.Text(\"Alice\")),\n                        ft.DataCell(ft.Text(\"Wong\")),\n                        ft.DataCell(ft.Text(\"25\")),\n                    ],\n                ),\n            ],\n        ),\n    )\n\nft.app(target=main)\n</code></pre> <p></p> <p></p>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/1.%20Aplicacions%20clients%20amb%20Flet/#810-tabs","title":"8.10. Tabs","text":"<p>El control <code>Tab</code> s'utilitza per navegar per categories de continguts diferents d'acc\u00e9s freq\u00fcent. Les pestanyes permeten la navegaci\u00f3 entre dues o m\u00e9s visualitzacions de contingut i es basen en les cap\u00e7aleres de text per articular les diferents seccions de contingut.</p> <p>Exemple amb Tabs</p> <p>Python<pre><code>import flet as ft\n\ndef main(page: ft.Page):\n\n    t = ft.Tabs(\n        selected_index=1,\n        animation_duration=300,\n        tabs=[\n            ft.Tab(\n                text=\"Tab 1\",\n                content=ft.Container(\n                    content=ft.Text(\"This is Tab 1\"), alignment=ft.alignment.center\n                ),\n            ),\n            ft.Tab(\n                tab_content=ft.Icon(ft.icons.SEARCH),\n                content=ft.Text(\"This is Tab 2\"),\n            ),\n            ft.Tab(\n                text=\"Tab 3\",\n                icon=ft.icons.SETTINGS,\n                content=ft.Text(\"This is Tab 3\"),\n            ),\n        ],\n        expand=1,\n    )\n\n    page.add(t)\n\nft.app(target=main)\n</code></pre> <p></p> <p></p>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/1.%20Aplicacions%20clients%20amb%20Flet/#811-card","title":"8.11. Card","text":"<p>El control de targeta \u00e9s un panell amb vore lleugerament arrodonides i una ombra d'elevaci\u00f3.</p> <p>Exemple de <code>card</code></p> Python<pre><code>import flet as ft\n\ndef main(page):\n    page.title = \"Card Example\"\n    page.add(\n        ft.Card(\n            content=ft.Container(\n                content=ft.Column(\n                    [\n                        ft.ListTile(\n                            leading=ft.Icon(ft.icons.ALBUM),\n                            title=ft.Text(\"The Enchanted Nightingale\"),\n                            subtitle=ft.Text(\n                                \"Music by Julie Gable. Lyrics by Sidney Stein.\"\n                            ),\n                        ),\n                        ft.Row(\n                            [ft.TextButton(\"Buy tickets\"), ft.TextButton(\"Listen\")],\n                            alignment=ft.MainAxisAlignment.END,\n                        ),\n                    ]\n                ),\n                width=400,\n                padding=10,\n            )\n        )\n    )\n\nft.app(target=main)\n</code></pre> <p> <p></p> <p></p>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/1.%20Aplicacions%20clients%20amb%20Flet/#812-divisor-horitzontal-o-vertical","title":"8.12. Divisor (horitzontal o vertical)","text":"<p>Una l\u00ednia horitzontal fina, amb encoixinat a banda i banda.</p> <p>Poden ser: - Horitzontals: <code>Divider</code> - Verticals: <code>VerticalDivider</code></p> <p>Exemple de <code>Divisor</code></p> Python<pre><code>import flet as ft\n\ndef main(page: ft.Page):\n\n    page.add(\n        ft.Column(\n            [\n                ft.Container(\n                    bgcolor=ft.colors.AMBER,\n                    alignment=ft.alignment.center,\n                    expand=True,\n                ),\n                ft.Divider(),\n                ft.Container(bgcolor=ft.colors.PINK, alignment=ft.alignment.center, expand=True),\n                ft.Divider(height=1, color=\"white\"),\n                ft.Container(\n                    bgcolor=ft.colors.BLUE_300,\n                    alignment=ft.alignment.center,\n                    expand=True,\n                ),\n                ft.Divider(height=9, thickness=3),\n                ft.Container(\n                    bgcolor=ft.colors.DEEP_PURPLE_200,\n                    alignment=ft.alignment.center,\n                    expand=True,\n                ),\n            ],\n            spacing=0,\n            expand=True,\n        ),\n    )\n\nft.app(target=main)\n</code></pre> <p> <p></p> <p></p>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/1.%20Aplicacions%20clients%20amb%20Flet/#9-creacio-de-nous-controls-per-codi","title":"9. Creaci\u00f3 de nous controls per codi.","text":"<p>Els controls s\u00f3n utilitzats, entre altres coses, per amagar la complexitat del programari i transformar-la en parts m\u00e9s manejables. Cada control amaga la seva complexitat darrere d'una interf\u00edcie formada per les seves propietats i m\u00e8todes a qu\u00e8 es t\u00e9 acc\u00e9s. Poden introduir-se i eliminar-se, fins i tot ser intercanviats com a part dun tot. </p> <p>Aix\u00f2 redueix la complexitat del desenvolupament programari i millora el seu manteniment, permetent que el mateix codi puga ser reutilitzat a diferents llocs. El resultat \u00e9s un bloc de codi encapsulat en una classe independent que passa a formar part del banc de peces disponibles per formar part de desenvolupaments m\u00e9s complexos.</p>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/1.%20Aplicacions%20clients%20amb%20Flet/#10-controls-que-hereden-daltres-controls","title":"10. Controls que hereden d'altres controls","text":"<p>Per comen\u00e7ar a desenvolupar un control propi, el m\u00e9s f\u00e0cil \u00e9s buscar un control des del qual partir, de manera que se n'hereten les propietats i m\u00e8todes i aix\u00ed poder utilitzar-los en el control que volem crear. </p> <p>Per exemple, si voleu un <code>Container</code> amb un identificador centrat, podem heretar de <code>flet.Container</code> i afegir una propietat id:</p> <p>Exemple</p> Python<pre><code>import flet as ft\n\n\nclass ContainerID(ft.Container): # Heredem de Container\n    def __init__(self, id: str):\n        super().__init__()\n        self.id = id # Definim la propietat id\n\n        # Per defecte el creem amb l'identificador centrat, \n        # color de fons AMBER, tamany 150x150 i arredonit\n        self.content = ft.Text(id)\n        self.alignment=ft.alignment.center\n        self.width = 150\n        self.height = 150\n        self.border_radius = 5\n        self.bgcolor = ft.colors.AMBER\n\n\n\ndef main(page: ft.Page):\n    container_id = ContainerID(\"Identificador\")\n    container_id.on_click = container_clicked\n    page.add(container_id)\n    page.update()\n\n\ndef container_clicked(e):\n    print(e.control.id) # Accedim a la propietat que hem definit\n\n\nft.app(target=main)\n</code></pre>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/1.%20Aplicacions%20clients%20amb%20Flet/#11-controls-que-hereden-dusercontrol","title":"11. Controls que hereden d'UserControl","text":"<p>En cas que el nostre control no guarde relaci\u00f3 estreta amb altres controls o siga una composici\u00f3 de diversos controls, el m\u00e9s adequat ser\u00e0 heretar de <code>ft.UserControl</code> directament, que \u00e9s la classe base des de la qual hereta la resta de Controls d'usuari. Aix\u00f2 ens permetr\u00e0 construir components reutilitzables combinant els controls Flet existents.</p> <p>Exemple m\u00ednim de control d'usuari</p> Python<pre><code>import flet as ft\n\nclass GreeterControl(ft.UserControl):\n    def build(self):\n        return ft.Text(\"Hello!\")\n\ndef main(page):\n    page.add(GreeterControl())\n\nft.app(target=main)\n</code></pre> <p>UserControl ha d'implementar el m\u00e8tode build() que es crida per crear la interf\u00edcie d'usuari del control i ha de retornar una \u00fanic objecte Control o una Llista de controls. UserControls hereda d'Stack, de manera que hi haur\u00e0 diversos fills els uns sobre els altres. Si necessiteu organitzar la interf\u00edcie d'usuari del control de manera diferent, podeu utilitzar Layouts  com Row o Column.</p> <p>Exemple</p> Python<pre><code>class GreeterControl(ft.UserControl):\n    def build(self):\n        return ft.Column([\n            ft.TextField(label=\"Your name\"),\n            ft.ElevatedButton(\"Login\")\n        ])\n</code></pre> <p>Actualitzaci\u00f3 d'UserControl a la interf\u00edcie</p> <p>Quan es crida al m\u00e8tode update() del control principal, els canvis dins del UserControl no s'apliquen, i per tant, la seua vista no es refresca. UserControl hauria de cridar self.update() per enviar els seus canvis a una p\u00e0gina de Flet.</p> Python<pre><code>import flet as ft\n\n\nclass Counter(ft.UserControl):\n    def __init__(self):\n        super().__init__()\n        self.counter = 0\n        self.text = ft.Text(str(self.counter))\n\n    def add_click(self, e):\n        self.counter += 1\n        self.text.value = str(self.counter)\n        self.update() # Actualitzem la vista\n\n    def subtract_click(self, e):\n        self.counter -= 1\n        self.text.value = str(self.counter)\n        self.update() # Actualitzem la vista\n\n    def build(self):\n        return ft.Row([ft.IconButton(ft.icons.REMOVE, on_click=self.subtract_click), self.text, ft.IconButton(ft.icons.ADD, on_click=self.add_click)])\n\n\ndef main(page):\n    page.add(Counter())\n\n\nft.app(target=main)\n</code></pre> <p>Fixeu-se que a les l\u00ednies 13 i 18, el control s'actualitza a ell mateix. Proveu a canviar per e.page.update() i comproveu el funcionament.</p>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/2.%20Contenidors%20de%20BBDD%20amb%20Docker/","title":"2. Contenidors. Bases de Dades","text":""},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/2.%20Contenidors%20de%20BBDD%20amb%20Docker/#que-es-docker","title":"Qu\u00e8 \u00e9s <code>Docker</code>","text":"<p><code>Docker</code> (segons la wikip\u00e8dia) \u00e9s un projecte de codi obert que automatitza el desplegment d\u2019aplicacions dins de contenidors de programari, i proporciona una capa addicional d\u2019abstracci\u00f3 i automatitzaci\u00f3 de virtualitzaci\u00f3 d\u2019aplicacions en m\u00faltiples sistemes operatius. Docker fa \u00fas de les caracter\u00edstiques d\u2019a\u00efllament de recursos del nucli de Linux, tals com els cgroups i els namespaces que permeten que contenidors independents s\u2019executen dins una mateixa inst\u00e0ncia de Linux, evitant la sobrec\u00e0rrega d\u2019iniciar i mantenir m\u00e0quines virtuals.</p> <p>Els principals avantatges de l\u2019\u00fas de contenidors s\u00f3n:</p> <ul> <li>La flexibilitat, ja que fins i tot les aplicacions m\u00e9s complexes poden incloure\u2019s als contenidors.</li> <li>La poca c\u00e0rrega que suposen per al sistema,al compartir el mateix kernel que l\u2019amfitri\u00f3.</li> <li>La possibilitat de desplegar actualitzacions en calent.</li> <li>La portabilitat, ja que es poden desenvolupar localment, desplegar al n\u00favol i llan\u00e7ar-los en qualsevol lloc.</li> <li>L\u2019escalabilitat, ja que permet incrementar autom\u00e0ticament r\u00e8pliques dels contenidors,</li> <li>Els serveis en contenidors poden apilar-se <code>on the fly</code></li> </ul> <p>Al llarg del document parlarem sobre imatges i contenidors, pel que conv\u00e9 aclarir aquests conceptes.</p> <ul> <li>Una imatge \u00e9s un paquet executable que inclou tot all\u00f2 necessari per executar una aplicaci\u00f3: el codi, l\u2019entorn d\u2019execuci\u00f3, llibreries, variables d\u2019entorn i fitxers de configuraci\u00f3. Aquesta imatge sempre roman fixa i immutable, a menys que la creem de nou.</li> <li>Un contenidor, per la seua banda \u00e9s una inst\u00e0ncia d\u2019una imatge en execuci\u00f3: all\u00f2 que es crea quan posem en marxa una imatge. Podr\u00edem dir que un contenidor \u00e9s a una imatge el que un proc\u00e9s a un programa. El contenidor varia al llarg de la seua vida.</li> </ul> Recordatori <p>Si <code>proc\u00e9s==programa en execuci\u00f3</code> llavors <code>contenidor==imatge en execuci\u00f3</code></p>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/2.%20Contenidors%20de%20BBDD%20amb%20Docker/#installacio","title":"Instal\u00b7laci\u00f3","text":"<p>No anem a entrar en detall per\u00f2 cal tenir instal\u00b7la el subsistema Docker a la nosta m\u00e0quina nativa (anomenat Docker engine) i podeu trobar tota la documentaci\u00f3 ac\u00ed https://docs.docker.com/engine/install/. Consideracions:</p> <ul> <li>Hem de configurar el sistema per a que el dimoni o servei de Docker arranque amb el sistema, o l'hem d'arrancar cada cop que ho necessitem.</li> <li>Podem afegir eines gr\u00e0fiques per a la gesti\u00f3 de contenidors ja creats.</li> </ul>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/2.%20Contenidors%20de%20BBDD%20amb%20Docker/#contenidors-individuals","title":"Contenidors Individuals","text":"<p>Les imatges precreades de Docker estan emmagatzemades al que es coneix com el <code>Docker-hub</code> accessible desde https://hub.docker.com. Les imatges estan alli emmagatzemades, i per a fer-les servir, \u00f2bviament hem de descarregar-les.</p> <p>Un cop descarregades (el que es coneix com fer un <code>pull</code>) les imatges es guardaran a la cache del nostre equip, per si es necessiten m\u00e9s endavant per a fer nous contenidors.</p> Quan i com baixar les imatges <p>Realment no cal baixar les imatges per a despr\u00e8s fer un contenidor, ja que <code>docker</code>, si no troba la imatge en local, autom\u00e0ticament far\u00e0 el pull i la descarregar\u00e0.</p>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/2.%20Contenidors%20de%20BBDD%20amb%20Docker/#creant-contenidors","title":"Creant contenidors","text":"<p>Per a crear i arrancar un contenidor a partir d'una imatge el comandament \u00e9s <code>docker run nom_imatge</code>.</p> <p></p> <p>Pot observar-se que primer es descarrega i despr\u00e8s l'executa. Si ho executem varies vegades, podem observar que est\u00e0 creant-se cada cop un contenidor distint.</p> <p></p> <p>Aix\u00f2 si \u00e9s per a algo solt no \u00e9s problema, per\u00f2 pensem en un contenidor que el posem en marxa, guardem certa informaci\u00f3 (com un SGBD) i l'aturem. Si el tornem a arrancar (amb <code>docker run</code>) es perdr\u00e0 tot el que teniem, ja que es crea de nou.</p> <p>La millor soluci\u00f3 \u00e9s assignar-li un nom:</p> Bash<pre><code>docker run --name nom_contenidor [opcions] -d nom_imatge\n</code></pre> <p>i per a seg\u00fcents vegades que l'executem, simplement arrancar-lo, amb start:</p> Bash<pre><code>docker start nom_contenidor\n</code></pre> <p>Podem veure els contenidors que tenim en marxa amb <code>docker ps</code>. Quan vullguem aturar-lo podem fer-ho amb.</p> Bash<pre><code>docker stop nom_contenidor\n</code></pre> <p>Podeu trobar m\u00e9s informaci\u00f3 a la documentaci\u00f3 oficial, aix\u00ed com a la documentaci\u00f3 adjunta que us facilitem.</p> <p>Per acabar amb aquest apartat, podem veure una crida m\u00e9s complexa:</p> Bash<pre><code>docker run --name mysql-srv\n  -p 3308:3306\n  -v /srv/mysql:/var/lib/mysql\n  -e MYSQL_ROOT_PASSWORD=\"root\"\n  -d mysql\n</code></pre> <p>Que realitza: - un servei en segon pla (<code>-d</code>) de la imatge de <code>mysql</code>. Si no es diu res, agafar\u00e0 la \u00faltima versi\u00f3 (<code>mysql:lately</code>) - Un contenidor de nom  <code>mysql-srv</code> - Amb una redirecci\u00f3 de ports  (<code>-p</code>) del port 3308 de la m\u00e0quina amfitriona al port 3306 del contenidor, on escoltar\u00e0 mysql. - Munta un volum (<code>-v</code>) on la ruta <code>/srv/mysql</code> es muntar\u00e0 en <code>/var/lib/mysql</code>. - S'assigna una variable d'entorn (<code>-e</code>), amb el password del administrador de mysql.</p>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/2.%20Contenidors%20de%20BBDD%20amb%20Docker/#crear-els-nostres-contenidors-dockerfile-i-docker-compose","title":"Crear els nostres contenidors <code>Dockerfile</code> i <code>docker-compose</code>","text":"<p>Per a crear un contenidor personalitzat, hi han diverses maneres de fer-ho. La complicada \u00e9s: creem un contenidor amb la imatge buida, l'arranquem, transferim dins d'ell els arxius que necessitem, actualitzem els paquets que calguen, ja el tenim a punt. Com podeu intuir, podem fer-ho millor i m\u00e9s f\u00e0cil.</p>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/2.%20Contenidors%20de%20BBDD%20amb%20Docker/#dockerfile","title":"<code>Dockerfile</code>","text":"<p>L'opci\u00f3 \u00e9s automatitzar tota aquesta tasca en el que es coneix com un <code>Dockerfile</code>. Un <code>Dockerfile</code> \u00e9s un fitxer de text que cont\u00e9 un script amb una sintaxi concreta per a indicar totes les seq\u00fcencies per a muntar un contenidor. Ah\u00ed per exemple \u00e9s on podrem muntar un contenidor \"net\" i afegir-li tot el contingut que necessitem per a desplegar-lo on calga.</p> <p>Anem a estudiar-ho amb un exemple b\u00e0sic. Suposem que volem crear un contenidor amb una distribuci\u00f3 d'Ubuntu, a la qual li instal\u00b7larem l'editor <code>nano</code> (que no ve per defecte)</p> Docker<pre><code>FROM ubuntu:latest          # base\nRUN apt update              # RUN s'executa en la m\u00e0quina\nRUN apt install -y nano     # RUN s'executa en la m\u00e0quina\nWORKDIR /usr/src/app        # Carpeta de treball al contenidor\nCMD /bin/bash               # Programa que s'executa a l'arrancar\n</code></pre> <p>Aquest fitxer el guardarem amb el nom <code>Dockerfile</code>. Llavors per crear la imatge i llan\u00e7ar el contenidor amb el nom que vullguem (<code>ubuntunano</code> en aquest cas) podem fer:</p> Bash<pre><code># crear la imatge\ndocker build -f nom_arxiu -t nom_container .\n\n# llan\u00e7a el contenidor interactivament\ndocker run -it nom_container\n</code></pre> <p>Aix\u00f2 crea una imatge i llan\u00e7a el contenidor.</p> <p>Ara et toca a tu</p> <p>Implementa el contenidor anterior amb el nano fent-ho amb els seg\u00fcents passos:</p> <ol> <li>Crea el contenidor sense el nano </li> <li>Llan\u00e7'l i entra a la seua consola. Comprova que no te l'editor nano</li> <li>Crea'l de nou amb el nano</li> <li>Llan\u00e7a'l, entra i comprova que ara si tenim el nano.</li> </ol>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/2.%20Contenidors%20de%20BBDD%20amb%20Docker/#docker-compose","title":"<code>docker-compose</code>","text":"<p>Cas de necessitar llan\u00e7ar diversos contenidor per a treballar junts, com per exemple un per a una aplicaci\u00f3 i altre per a la BBDD, donat que s'han de comunicar, podem rec\u00f2rrer a docker-compose, que ens permet, junt a els Dockerfile, crear i orquestrar contenidors.</p> <p>Aquesta orquestraci\u00f3 s'indicar\u00e0 en un fitxer anomenat <code>docker-compose.yml</code>. </p> Note <p>El format aquest, anomenat <code>YAML</code> \u00e9s un nou estandar o variant de formats del tipus atribut-valor com poden ser els fitxers de properties o formats json</p> <p>La manera habitual de treball \u00e9s crear aquest fitxer a l'arrel de la carpeta de treball. En ell a banda de informaci\u00f3 de versi\u00f3 i dem\u00e9s, s'especificaran els serveis que anem a muntar, deixant i/o creant una subcarpeta per cada servei que anem a fer. En l'arrel de cada carpeta dels serveis, crearem un <code>Dockerfile</code> amb la configuraci\u00f3 personalitzada i pr\u00f2pia de cada servei. Al <code>docker-compose.yml</code> indicarem els mecanismes de comunicaci\u00f3 entre contenidors.</p> <p></p> Dockerfile per a la BBDD Text Only<pre><code>FROM mysql_latest\nENV MYSQL_ROOT_PASSWORD toor\n</code></pre> <p>Carrega la \u00faltima versi\u00f3 de mysql i li assigna el password a l'administrador</p> Dockerfile per aplicaci\u00f3 web Python Text Only<pre><code>FROM python:3\nWORKDIR /usr/src/app\nCOPY requirements.txt ./\nRUN pip install --no-cache-dir -r requirements.txt\nCOPY . .\nCMD [ \"python\", \"app.py\" ]\n</code></pre> <p>On l'anterior:</p> <ul> <li>Carrega la versi\u00f3 3 de python</li> <li>Establix la carpeta de treball dins del contenidor</li> <li>Copia el fitxer de text <code>requirements.txt</code>. Aquest fitxer cont\u00e9 les depend\u00e8ncies de l'aplicaci\u00f3 python.</li> <li>Instal\u00b7la dits requeriments</li> <li>Aquest copy copia TOT el de l'arrel de la carpeta de treball (el projecte) a la carpeta de treball dins del contenidor (<code>/usr/src/app</code>)</li> <li>Per \u00faltim, arranca l'aplicaci\u00f3</li> </ul> docker-compose.yml que munta els dos anteriors Text Only<pre><code>version: '3'\nservices:\n  web:\n    build: ./web\n    ports:\n      - \"5000:5000\"\n    links:\n      - db\n  db:\n    build: ./db\n</code></pre> <p>Respecte a l'anterior:</p> <ul> <li>La versi\u00f3 \u00e9s opcional</li> <li>Es defineixen dos serveis:</li> <li><code>web</code>:<ul> <li>S'indica que dins de la subcarpeta <code>/web</code> estar\u00e0 el dockerfile</li> <li>Aquest contenidor deixar\u00e0 exposat el port 5000</li> <li>Aquest contenidor tindr\u00e0 un enlla\u00e7 per a comunicar-se directament amb el contenidor <code>db</code>. Aix\u00f2 vol dir que, dins del contenidor <code>web</code>, on posem <code>db</code> est\u00e0 referint-se a l'adre\u00e7a interna del contenidor de la base de dades. Aix\u00f2 tamb\u00e9 passar\u00e0 dins del programa</li> </ul> </li> <li><code>db</code><ul> <li>S'indica que dins de la subcarpeta <code>/web</code> estar\u00e0 el dockerfile</li> </ul> </li> </ul> <p>I un cop fet?</p> <p>Un cop creada la estructura de carpetes, i dem\u00e9s:</p> <ul> <li>Per a crear el pack de contenidors, farem un <code>docker-compose build</code></li> <li>Per a llan\u00e7ar el pack de contenidors, farem un <code>docker-compose up</code></li> </ul>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/2.%20Contenidors%20de%20BBDD%20amb%20Docker/#contenidors-de-bbdd-amb-mongodb","title":"Contenidors de BBDD amb <code>mongoDB</code>","text":"<p>Per a treballar amb la base de dades, ens la instal\u00b7larem dins d'un contenidor, deixant exposat el seu port per defecte 27017. De mongo podriem estar treballant molt de temps, per\u00f2 estudiarem el m\u00e9s b\u00e0sic per treballar, com \u00e9s connectar-se, importar/exportar col\u00b7leccions de documents i les operacions CRUD (Create, Read, Update i Delete).</p> <p>Per crear el nostre servidor de BBDD mongo ho farem amb el comandament:</p> Bash<pre><code>docker run --name mongodb-srv \n    -e MONGO_INITDB_ROOT_USERNAME=\"root\" \n    -e MONGO_INITDB_ROOT_PASSWORD=\"toor\" \n    -p 27017:27017 \n    -d mongo\n</code></pre> Atenci\u00f3 <ul> <li>Les dades de connexi\u00f3 son <code>root</code> amb password <code>toor</code></li> <li>El port 27017 de la m\u00e0quina amfitriona es redirigeix al port per defecte dins del contenidor</li> <li>Per a aturar i arrancar de nou el mateix contenidor ho farem amb <code>docker start|stop mongodb-srv</code></li> </ul>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/2.%20Contenidors%20de%20BBDD%20amb%20Docker/#mongodb","title":"mongoDB","text":"<p>MongoDB \u00e9s una base de dades orientada a documents, basada en l'emmagatzemament de les seues estructures de dades en documents de tipus <code>JSON</code> amb un esquema din\u00e0mic. Tot i que comen\u00e7\u00e0 el desenvolupament per l'empresa 10gen, avui en dia \u00e9s un projecte de codi obert, amb una gran comunitat d'usuaris.</p> <p>Un servidor MongoDB pot tindre diverses bases de dades, i cadascuna d'elles t\u00e9 un conjunt de col\u00b7lecions, que podr\u00edem equiparar a les taules d'una BD relacional. Cada col\u00b7lecci\u00f3 emmagatzema un conjunt de documents JSON, format per atributs clau-valor, que vindr\u00eden a ser els registres d'una base de dades relacional.</p> <p>A grans trets, podr\u00edem establir les seg\u00fcents relacions:</p> Model relacional MongoDB BD Relacional BD Orientada a documents Taula Col\u00b7lecci\u00f3 Registre/Fila Document JSON Atributs/Columnes Claus del document JSON <p>Veiem un xicotet exemple de la col\u00b7leci\u00f3 Pelis amb dos documents:</p> JSON<pre><code>[\n{\n    _id: 1,\n    episodi: \"IV\",\n    titol: \"A new Hope\",\n    year: 1977,\n    director: {\n        nom: \"George\",\n        cognoms:  \"Lucas\",\n        any_naixement: 1944\n    }\n},\n{\n     _id: 5,\n    titol: \"Rogue One. A Star Wars Story.\",\n    year: 2016,\n    director: {\n        nom: \"Gareth\",\n        cognoms:  \"Edwards\",\n        any_naixement: 1975,\n        nacionalitat: \"brit\u00e0nica\"\n    }\n}]\n</code></pre> <p>Com veiem, cada document, de tipus pel\u00b7l\u00edcula t\u00e9 els seus propis atributs, els quals no tenen per qu\u00e8 coincidir entre ells. Una altra caracter\u00edstica, es que, com podem vore, tenim la informaci\u00f3 sobre el director dins el propi document, i no en un altre document i relacionada amb aquest, com ser\u00eda el cas de les taules.</p>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/2.%20Contenidors%20de%20BBDD%20amb%20Docker/#json-i-bson","title":"JSON i BSON","text":"<p>Com ja sabem, la unitat b\u00e0sica d'informaci\u00f3 amb qu\u00e8 treballa MongoDB \u00e9s el document, que seria l'equivalent a un registre en un model relacional. Es tracta de documents JSON, formats per parells clau-valor i que representen la informaci\u00f3 d'una manera for\u00e7a intu\u00eftiva. Els servidors MongoDB, per la seva banda, emmagatzemaran aquestes dades en format BSON (JSON binari), un format de serialitzaci\u00f3 binari.</p> <p>Pel que fa als documents JSON per a MongoDB, cal tenir en compte alguns aspectes:</p> <ul> <li>Pel que fa a les claus:</li> <li>No poden ser nules.</li> <li>Poden contenir en qualsevol car\u00e0cter UTF-8, excepte els car\u00e0cters <code>.</code> o <code>$</code>.</li> <li>Distingeixen entre maj\u00fascules i min\u00fascules.</li> <li>Han de ser \u00fanics dins del mateix document.</li> <li>Pel que fa als teus valors:</li> <li>Poden ser de qualsevol tipus permesos: enter, real, text, boole\u00e0, NULL, Objecte o Array</li> <li>Pel que fa al document:</li> <li>Ha de tenir un camp <code>_id</code>, amb un valor \u00fanic, que actuar\u00e0 com a identificador del document.</li> <li>Si no especifiquem aquesta clau, MongoDB la generar\u00e0 autom\u00e0ticament, amb un objecte de tipus <code>ObjectId</code>.</li> </ul> <p></p> <p>i respecte als identificadors que insereix mongo autom\u00e0ticament:</p> <p></p>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/2.%20Contenidors%20de%20BBDD%20amb%20Docker/#importar-i-exportar-colleccions","title":"Importar i exportar col\u00b7leccions","text":"<p>Un cop tenim instal\u00b7lat el servidor, necessitem accedir a ell per a crear, manipular i consultar informaci\u00f3. Per poder fer-ho necessite un client per a la base de dades. Mongo ens ofereix ferramentes per a connectar-se per consola, que les <code>database-tools</code> i podeu trobar documentaci\u00f3 ac\u00ed https://www.mongodb.com/docs/database-tools/ de com fer-les servir. B\u00e0sicament aquestes eines ens permeten el importar col\u00b7leccions a la BBDD (mongoimport), extreure les cole\u00b7leccions (mongoexport) i connectar-se al servidor amb un shell interactio (mongo).</p> <p>Per a importar una col\u00b7lecci\u00f3 de documents, farem servir el comandament <code>mongoimport</code>, amb la sintaxis Text Only<pre><code>mongoimport &lt;options&gt; &lt;connection-string&gt; &lt;file&gt;\n\n#     m\u00e9s detallat\n\nmongoimport --uri 'mongodb://servidor:port' \\\n  --username='XXX' --password='YYY' --authenticationDatabase=admin \\\n  --db nom_db --collection nom_col --file restaurants.json [--drop]\n</code></pre></p> <p>Tenir en compte:</p> <ul> <li>Si la BBDD no existeix, es crear\u00e0.</li> <li>Si la col\u00b7lecci\u00f3 no existeix la crear\u00e0</li> <li>Si la col\u00b7lexi\u00f3 existeix, afegira els elements del fitxer, a menys que posem l'opci\u00f3  <code>--drop</code>, que elimina la col\u00b7lecci\u00f3 abans de refer-la</li> </ul> <p>Si volem exportar una col\u00b7lecci\u00f3, l'equivalen seria: Bash<pre><code>mongoexport --uri 'mongodb://servidor:port' \\\n  --username='XXX' --password='YYY' --authenticationDatabase=admin \\\n  --db nom_db --collection nom_col --out nou_arxiu.json \n</code></pre></p>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/2.%20Contenidors%20de%20BBDD%20amb%20Docker/#inserir-documents","title":"Inserir documents","text":"<p>El comandament per a inserir un document pot ser:</p> JavaScript<pre><code>db.collection.insertOne({document})\ndb.collection.insertMany([{doc1},{doc2}])\n</code></pre> <p>Es retornen els ObjectID dels elements inserits. Espai que com mongo no te estructura es permet qualssevol inserci\u00f3 com a v\u00e0lida.</p>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/2.%20Contenidors%20de%20BBDD%20amb%20Docker/#consultes-de-documents","title":"Consultes de documents","text":"<p>Per a fer consultes farem servir la sintaxi: JavaScript<pre><code>db.colleccio.find({criteri_en_format_JSON}[{camps_a_mostrar}]);\n</code></pre></p> <p>on:</p> <ul> <li>El criteri \u00e9s un json on especifiquem els valors de la b\u00fasqueda, com un json</li> <li>Els camps a mostrar indiquem tots aquells camps que volem mostrar com <code>camp:1</code> o <code>camp:0</code>. Aquest camp \u00e9s opcional, i es mostren tots cas de no posar-ho</li> </ul> Exemples autoexplicats de consultes <p>Imaginem que tenim una col\u00b7lecci\u00f3 de pel\u00b7l\u00edcules amb l'estructura vista anteriorment JavaScript<pre><code>// Ho mostra tot de totes les pelis\ndb.pelis.find()   \n\n// pelis de l'any 1977\ndb.pelis.find({year:1977})\n\n// pelis de l'any 1977, sols el nom de la peli\ndb.pelis.find({year:1977},{name:1})\n\n// pelis de l'any 1977, sols el nom de la peli (sense el _id)\ndb.pelis.find({year:1977},{name:1,_id:0})\n\n// pelis de l'any 1977, dirigides per directors de nom \"George\"\n// atributs dins d'objectes entre cometes\ndb.pelis.find({year:1977,\"director.nom\":\"George\"}})\n</code></pre></p> <p>Per a fer consultes m\u00e9s complexes podem fer servir els operadors de comparaci\u00f3:</p> Operador Descripci\u00f3 <code>$eq</code> Igual <code>$neq</code> Distint <code>$lt</code> Menor que <code>$lte</code> Menor o igual que <code>$gt</code> Major que <code>$gte</code> Major o igual que <p>i llavors</p> JavaScript<pre><code>// per a fer clar operador valor s'escriur\u00e0\ndb.colleccio.find({clau: {$operador:valor} });\n\n// pelis anterios al  1980, sols el nom de la peli\ndb.pelis.find({year:{$leq:1980}},{name:1})\n\n// pelis que no son de \"George\"\ndb.pelis.find({\"director.nom\":{$neq:\"George\"}})\n</code></pre> <p>No entrarem en m\u00e9s detall en consultes m\u00e9s complexes, ja que no correspon al curs.</p>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/2.%20Contenidors%20de%20BBDD%20amb%20Docker/#ordenacio","title":"Ordenaci\u00f3","text":"<p>El resultat d'una consulta sempre ser\u00e0 un array de documents, o un sol en cas de que sol se'n retorne un. Moltes vegades voldrem ordenar-ho per veure els resultat d'alguna manera. Per a fer-ho, no existeixen ferramentes dins de la consulta, per\u00f2 podem rec\u00f2rrer al llenguatge <code>javascript</code>, que \u00e9s el que enten mongoDB, i invocar al m\u00e8tode <code>sort()</code> que tenen les col\u00b7leccions. </p> <p>La funci\u00f3 <code>llista.sort({criteri_ordenaci\u00f3})</code> aplica el criteri d'ordenaci\u00f3 a la llista. Aquest criteri \u00e9s un objecte amb la estructura <code>{clau_ord:[1|-1]}</code>. El que fa es ordenar la llista per l'atribut <code>clau_ord</code>, sent ascendent si posem un 1 o descendent si posem un -1. Si posem m\u00e9s d'un atribut, s'ordenar\u00e0 pel primer, i en cas d'empat pel segon, i aix\u00ed.</p> Examples d'ordenaci\u00f3 JavaScript<pre><code>// totes les pel\u00edcules, primer la m\u00e9s recent\ndb.pelis.find().sort({year:-1})\n\n// les pel\u00edcules ordenades per director. Per al mateix director les mostra\n// en ordre ascendent\ndb.pelis.find().sort({director:1,year:1})\n\n// comandes ordenades de menys a m\u00e9s preu\ndb.comandes.find().sort({preu:1})\n</code></pre>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/2.%20Contenidors%20de%20BBDD%20amb%20Docker/#actualitzacions","title":"Actualitzaci\u00f3ns","text":"<p>Per a modificar algun registre que existeix pr\u00e8viament en la BBDD, es far\u00e0 amb el <code>update</code>:</p> JavaScript<pre><code>db.colection.update({criteri_busqueda},{operaci\u00f3 actualitzaci\u00f3})\n</code></pre> <p>Cosideracions:</p> <ul> <li>Si no posem el criteri de b\u00fasqueda, deixant-lo en blanc (<code>{}</code>) s'actualitzar\u00e0n tots els documents.</li> <li> <p>La operaci\u00f3 d'actualitzaci\u00f3 pot ser de varios tipus: </p> </li> <li> <p><code>$set</code> estableix un valor a un atribut. Si existeix el modifica, i si no existeix l'afig</p> </li> <li><code>$unset</code> slimina un atribut del document</li> <li><code>$inc</code> incrementa l'atribut tant com indiquem. Sols per a n\u00fameros</li> <li><code>$push</code> afig un element a l'atribut, cas de ser un vector</li> <li><code>$pull</code> elimina un element(s) de l'atribut, cas de ser un vector</li> </ul> Exemple de modificacions JavaScript<pre><code>// incrementa en 1 la edat d'una persona\ndb.persona.update({\"name\":\"Pepe\"},{$inc:{edad:1}})\n\n// Modifica el sou\ndb.empleat.update({\"name\":\"Pepe\"},{$set:{salari:1500}})\n\n// El puja un 10% (a tots els Pepe)\ndb.empleat.update({\"name\":\"Pepe\"},{$set:{salari:salari+salari*0.1}})\n\n// afig un actor a una peli\ndb.peli.update({\"title\":\"Rogue one\"},{$push:{actors:\"Diego Luna\"}})\n</code></pre> <p>Com hem comentat, podriem aporfondir molt m\u00e9s, per\u00f2 per al curs \u00e9s suficient. En els m\u00f2dus de dades (BD i BDA) segur que aprofundiu molt m\u00e9s</p>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/2.%20Contenidors%20de%20BBDD%20amb%20Docker/#eliminar-bases-de-dades","title":"Eliminar bases de dades","text":"<p>Si volem eliminar elements d'una col\u00b7lecci\u00f3, disposem del comandament <code>deleteXXX</code>:</p> Exemples d'esborrats <p>```js // esborra el primer usuari de 39 anys db.usuaris.deleteOne({edat:39})</p> <p>// esborra tots els usuaris de 39 anys db.usuaris.deleteMany({edat:39})</p> <p>// esborra tots els usuaris db.usuaris.deleteMany({})</p> <p>// elimina tota la col\u00b7lecci\u00f3 (documents i estructura) db.usuaris.drop()</p> <p>Si per a lgun motiu volem eliminar una BBDD sencera amb totes les col\u00b7leccions que cont\u00e9, podem fer-ho amb el comandament:</p> JavaScript<pre><code>db.dropDatabase()\n</code></pre> <p>Recordar que si no has seleccionat cap base de dades, eliminar\u00e0 la base de dades de test (la que est\u00e0 seleccionada per defecte).</p>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/2.%20Contenidors%20de%20BBDD%20amb%20Docker/#mongodb-i-python","title":"<code>mongoDB</code> i <code>Python</code>","text":"<p>Per a accedir a mongoDB desde programes es fa servir la estructura <code>mongoclient</code>, i \u00e9s <code>pymongo</code> la llibreria encarregada de proporcionar-nos dita funcionalitat. Sempre que ens connectem a una BBDD, independentment del llenguatge de programaci\u00f3, el fluxe de treball ser\u00e0:</p> <ol> <li>Carregar el driver (mongoclient)</li> <li>Crear la cadena de connexi\u00f3, on indicarem on est\u00e0 el servidor, usuari i contrassenya, i si escau la BBDD</li> <li>Seleccionar la BBDD per defecte</li> <li>Crear la consulta|modificaci\u00f3 que volem llan\u00e7ar</li> <li>Executar-la</li> <li>Recuperar i processar els resultats, si \u00e9s que hi han</li> <li>Tancar la connexi\u00f3 abans d'eixir del programa.</li> </ol> <p>La documentaci\u00f3 completa la podeu trobar a la p\u00e0gina oficial https://pymongo.readthedocs.io/en/stable/</p> <p>Anem a veure ara pas a pas com es faria: Python<pre><code># 1. Carregar el driver\nfrom pymongo import MongoClient\n\n# 2. Crear la cadena de connexi\u00f3, on indicarem on est\u00e0 el servidor, usuari i contrassenya,\n# i si escau la BBDD\n\n## Per defecte sense credencials\nclient = MongoClient()\n\n## Per defecte sense credencials\nclient = MongoClient(\"localhost\", 27017)\n\n## Amb cadena, sense credencials\nuri=\"mongodb://localhost:27017/\"\nclient = MongoClient(uri)\n\n## Amb cadena, amb credencials\nuri = \"mongodb://user:password@localhost:27017/default_db?authSource=admin\"\nclient = MongoClient(uri)\n\n## Amb cadena i variables\nuser=\"root\"\npasswd=\"toor\"\nddbb=\"pelis\"\nserver=\"localhost\"\nport=\"27017\"\nuri = 'mongodb://%s:%s@%s:%s/%s?authSource=admin'%(user,passwd,server,port,ddbb)\nclient = MongoClient(uri)\n\n# 2.1 Seleccionar o canviar la BBDD per defecte.\n# En aquestes ordres seleccionem la BBDD\ndb=client[\"pelis\"]\n\ndb=client[\"restaurants\"]\n\n# 3. Operem sobre la BBDD\n\n# Seleccionem amb quina colecci\u00f3 dins de la BBDD anem a treballar\ncollection=db.nom_coleccio\n\n# 4. i 5. Fem la consulta i/o operaci\u00f3 i la executem\n# tota la col\u00b7lecci\u00f3\ncursor=collection.find()\nfor doc in cursor:\n  print(doc)\n\n#\u00a0o be el primer document que te 24 anys\nfiltre={\"edat\":24}\ndoc=collection.find_one(filtre)\nprint(doc)\n\n# o be aplicar un descompte\nfiltre={\"edat\":24}\nmodifica={$set:{\"descompte\":0.1}}\ncollection.update(filtre,modifica)\n</code></pre></p>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/2.%20Contenidors%20de%20BBDD%20amb%20Docker/#conclusio","title":"Conclusi\u00f3","text":"<p>En aquest tema hem vist els continguts principals de com desenvolupar una aplicaci\u00f3 completa amb Python. Des de crear una interf\u00edcie gr\u00e0fica amb Flet, connectar amb un servidor per a demanar-li coses, o fins i tot crear el nostre propi servidor.</p> <p>A partir d'ara ens quedar\u00e0 integrar totes les eines d'IA dins de les nostres aplicacions, important conceptes estudiats als altres m\u00f2duls del curs.</p>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/3.%20Peticions%20HTTP.%20API-REST/","title":"3. Peticions HTTP. API REST","text":""},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/3.%20Peticions%20HTTP.%20API-REST/#el-protocol-htpp","title":"El protocol HTPP","text":"<p>Hui en dia tot el n\u00favol d'aplicacions i la web est\u00e0 gestionat, entre altres pel protocol HTTP i altres serveis que permeten estar interconnectats.</p> <p>HTTP (Hiper Text Transfer Protocol) es basa en senzilles operacions de sol\u00b7licitud/resposta:</p> <ol> <li>Un client estableix una connexi\u00f3 amb un servidor i envia un missatge amb les dades de la sol\u00b7licitud. Aquesta petici\u00f3 s'anomena <code>request</code> i destaquen 4 tipus de peticions:</li> <li>GET, per a demanar algun recurs al servidor</li> <li>POST, per a desar algun recurs al servidor</li> <li>PUT, per a modificar algun recurs ja existent al resvidor</li> <li>DELETE, per a esborrar algun recurs</li> <li>El servidor respon amb un missatge similar, que cont\u00e9 l'estat de l'operaci\u00f3 i el seu possible resultat. Aquesta resposta s'anomena <code>response</code>, formada, com hem dit per:</li> <li>Els possibles estat son un codi que indica el resultat de la petici\u00f3. Infomraci\u00f3 m\u00e9s detallada a la wikipedia<ol> <li>1XX Respostes informatives</li> <li>2XX Peticions correctes</li> <li>3XX Redireccions</li> <li>4XX Errors provocats pel client</li> <li>5XX Errors provocats dins del servidor</li> </ol> </li> <li>El recurs sol\u00b7licitad. Habitualmente ser\u00e0 una p\u00e0gina web (HTML m\u00e9s la hiperm\u00e8dia), un arxiu JSON amb dades, un arxiu PDF, etc.</li> </ol>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/3.%20Peticions%20HTTP.%20API-REST/#serveis-api-rest","title":"Serveis API REST","text":"<p>Anem a definir una API REST de manera molt b\u00e0sica per a poder-ho entendre r\u00e0pidament:</p> <ul> <li>S'anomena un servei tot all\u00f2 que ens pot donar un servidor. Dades, p\u00e0gines, arxius, l'hora, etc.</li> <li> <p>API \u00e9s l'acr\u00f2nim de Application Programming Interfaces i indica tot all\u00f2 que ens pot oferir un servidor, aix\u00ed com la sintaxi que hem de fer sevir per a demana-li les coses</p> <p>Dins del llenguatges de programaci\u00f3, la API son les llibreries que disposa i com hem de invocar a les funcions de dites llibreries. </p> </li> <li> <p>Una API REST (Representational State Transfer) \u00e9s un conjunt de regles i convencions arquitect\u00f2niques per dissenyar serveis web basats en el protocol HTTP. Cap destacar que REST implica:</p> </li> <li>Fer servir HTTP, i per tant identificar la seua API mitjan\u00e7ant:<ul> <li>Les URL on es demana la petici\u00f3 (ruta al servidor)</li> <li>El tipus o m\u00e8tode de la petici\u00f3 (GET, POST, etc.)</li> </ul> </li> <li>Que siga Stateless o sense mem\u00f2ria. Una petici\u00f3 ser\u00e0 atesa per ella mateixa, sense recordar res de les anteriors peticions.</li> <li>Estat Representacional: es refereix a l'estat del recurs demanat en el moment de la petici\u00f3, i ve expresat en XML o actualment en JSON</li> <li>Seguretat (amb JWT) i hiperm\u00e8dia (HAETOAS, amb enlla\u00e7os als recursos relacionats)</li> </ul>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/3.%20Peticions%20HTTP.%20API-REST/#consumint-recursos-de-internet-la-llibreria-request","title":"Consumint recursos de internet. La llibreria <code>request</code>","text":"<p>\u00c9s en aquest apartat on anem a estudiar com fer peticions a recursos de internet, mitjan\u00e7ant les peticions vistes anteriorment amb http. Aquestes peticinos s'engloben dins de la llibreria <code>request</code>. Els recursos poden ser be:</p> <ul> <li>Una p\u00e0gina web</li> <li>Una imatge o arxiu ubicat en algun lloc</li> <li>Una API rest a la que demanarem/enviarem algun recurs</li> </ul> <p>El fluxe de treball ser\u00e0:</p> <ol> <li>Composar la URL de dest\u00ed </li> <li>Afegir a la petici\u00f3 arguments o par\u00e0metres</li> <li>Llan\u00e7ar la petici\u00f3</li> <li>Arreplegar la resposta (response)</li> <li>Avaluar el codi d'estat per saber com ha anat</li> <li>Recuperar el cos de la resposta (JSON, Arxius, HTML, etc..)</li> </ol> Petici\u00f3 b\u00e0sica amb request Python<pre><code>import requests\n\nresposta=requests.get('https://swapi.dev/api/films/1/')\n\nprint(type(resposta))\nprint(resposta.status_code)\nprint(resposta.headers)\nprint(resposta.json())\n</code></pre> <p>Com pot observar-se:</p> <ul> <li>Es crea tot a partir del objecte <code>requests</code>. Aquest m\u00e8tode te tants m\u00e8todes com tipus de peticions http, encara que sols veurem les 4 b\u00e0siques. Rep com a par\u00e0metre la url que volem fer la petici\u00f3.</li> <li>Ens retorna un objecte de tipus <code>Response</code>, el qual encapsula la resposta del servidor:</li> <li><code>Response.status_code</code> amb el codi html de com ha anat la petici\u00f3</li> <li><code>Response.headers</code> la cap\u00e7alera en la metainformaci\u00f3 de la resposta. Per exemple:   JSON<pre><code>{\n    'Server': 'nginx/1.16.1', \n    'Date': 'Mon, 18 Sep 2023 08:11:28 GMT', \n    'Content-Type': 'application/json', \n    'Transfer-Encoding': 'chunked', '\n    Connection': 'keep-alive', \n    'Vary': 'Accept, Cookie', \n    'X-Frame-Options': 'SAMEORIGIN', \n    'ETag': '\"5af12d8e740a258e0c502b480ae78f2f\"', \n    'Allow': 'GET, HEAD, OPTIONS', 'Strict-Transport-Security': \n    'max-age=15768000'\n }\n</code></pre></li> <li><code>Response.content</code> el contingut de la resposta, directament en bytes. Si la resposta es text, s'interpreta directament.</li> <li><code>Response.text</code> la resposta en format text.</li> <li><code>Response.json()</code>, quan la resposta cont\u00e9 un json, ens permet parsejar-la directament i guarda-la dins d'un objecte:    JSON<pre><code>{\n   'title': 'A New Hope', \n   'episode_id': 4, \n   'opening_crawl': \"It is a period of civil war.\\r\\nRebel spaceships, striking\\r\\nfrom a hidden base, have won\\r\\ntheir first victory against\\r\\nthe evil Galactic Empire.\\r\\n\\r\\nDuring the battle, Rebel\\r\\nspies managed to steal secret\\r\\nplans to the Empire's\\r\\nultimate weapon, the DEATH\\r\\nSTAR, an armored space\\r\\nstation with enough power\\r\\nto destroy an entire planet.\\r\\n\\r\\nPursued by the Empire's\\r\\nsinister agents, Princess\\r\\nLeia races home aboard her\\r\\nstarship, custodian of the\\r\\nstolen plans that can save her\\r\\npeople and restore\\r\\nfreedom to the galaxy....\", \n   'director': 'George Lucas', \n   ...\n   }\n</code></pre></li> </ul> Descarregant una imatge de la web Python<pre><code>from PIL import Image\nfrom io import BytesIO\nimport requests\n\nr=requests.get('https://upload.wikimedia.org/wikipedia/commons/thumb/c/c3/Python-logo-notext.svg/701px-Python-logo-notext.svg.png')\n\n# print(r.json()) Donaria error\nimatge = Image.open(BytesIO(r.content))\nimatge.show()\nimatge.save(\"Python.png\")\n</code></pre> <p>A l'anterior exemple:</p> <ul> <li>La petici\u00f3 <code>get()</code> \u00e9s a un recurs gr\u00e0fic.</li> <li>El content es passem per la classe <code>BytesIO</code> que ens permet tractar-lo com un stream de bytes, el que ens permet passar-ho a:</li> <li>el m\u00e8tode <code>open()</code> de la classe <code>Image</code> de la llibreria <code>PIL</code> (Python Image Library), dedicada a la manipulaci\u00f3 d'imatges.</li> <li>La imatge la podem obrir e incl\u00f2s guardar-la a un fitxer al nostre sistema. </li> </ul> Repte <p>Busca a la documentaci\u00f3 com implementaries la descarrega d'un fitxer de qualssevol tipus, un pdf o un zip, i implementa-ho</p>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/3.%20Peticions%20HTTP.%20API-REST/#afegint-parametres-i-recursos","title":"Afegint par\u00e0metres i recursos","text":"<p>De vegades (i molt sovint) voldrem enviar dades  al servidor que ens aten la petici\u00f3, per exemple identificar-nos, penjar un arxiu, marcar una compra a la cistella, etc. Existeixen dos maneres b\u00e0siques de enviar eixa informaci\u00f3, per par\u00e0metres o amb el cos de la petici\u00f3</p>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/3.%20Peticions%20HTTP.%20API-REST/#enviar-parametres","title":"Enviar par\u00e0metres","text":"<p>Les dades dins dels par\u00e0metres s'envien afegint al recurs que volem les dades a enviar de la forma <code>parametre=valor</code> darrere d'un s\u00edmbol d'interrogaci\u00f3 (<code>?</code>). Cas d'haver m\u00e9s par\u00e0metres, es concatenen amb l'ampersand (<code>&amp;</code>). Per exemple si volem fer un login, la petici\u00f3 seria algo com <code>http://www.elmeuservidor.com/login?user=pepito&amp;password=123456</code>.</p> <p>La primera soluci\u00f3 per a fer-ho aix\u00ed seria composar la url de manera artesanal:</p> Python<pre><code>user=\"Pepito\"\npassword=\"123456\"\nurl=\"http://www.elmeuservidor.com/login?user=\"+user+\"&amp;password=\"+password\n\nresposta=request.get(url)\n</code></pre> <p>La segona soluci\u00f3, recomanable. \u00e9s fer servir eines pr\u00f2pies de la llibreria per a elaborar-ho m\u00e9s f\u00e0cil:</p> Python<pre><code>dades={\n   \"user\":\"Pepito\"\n   \"password\":\"123456\"\n}\nurl=\"http://www.elmeuservidor.com/login\"\n\nresponse = requests.get(url, params=dades)\n</code></pre> <p>Si volem afegir dades, al cos de la petici\u00f3, de la mateixa manera que es fa amb postman o similar, s'ha de fer canviant la crida:</p> Python<pre><code>dades={\n   \"user\":\"Pepito\"\n   \"password\":\"123456\"\n}\nurl=\"http://www.elmeuservidor.com/login\"\n\nresponse = requests.get(url, json=dades)\n</code></pre> <p>Teniu m\u00e9s informaci\u00f3 disponible a la p\u00e0gina ofical https://requests.readthedocs.io/en/latest/.</p>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/3.%20Peticions%20HTTP.%20API-REST/#web-scraping","title":"Web Scraping","text":"<p>El web scraping, o rascat web en catal\u00e0, \u00e9s una t\u00e8cnica utilitzada per extreure informaci\u00f3 de llocs web de manera automatitzada. En altres paraules, es tracta de processos automatitzats que naveguen per p\u00e0gines web, descarreguen el seu contingut i extreuen dades espec\u00edfiques d'inter\u00e8s. Aquestes dades poden incloure text, imatges, enlla\u00e7os, preus, puntuacions i molt m\u00e9s, depenent de la naturalesa del lloc web i de la informaci\u00f3 que es vulgui obtenir.</p> <p>El web scraping \u00e9s una eina valuosa per recopilar dades de la web quan no es disposa d'un acc\u00e9s directe a una API (Interf\u00edcie de Programaci\u00f3 d'Aplicacions) o quan es necessita automatitzar la recopilaci\u00f3 d'informaci\u00f3. Tot i aix\u00f2, \u00e9s important fer servir aquesta t\u00e8cnica amb responsabilitat i respectar els termes d'\u00fas dels llocs web, ja que alguns llocs poden prohibir o limitar l'\u00fas del web scraping per tal de protegir les seves dades i continguts.</p> <p>Com que necessitem descarregar contingut web, la llibreria request estudiat anteriorment casa perfectament per a descarregar els arxius HTML.</p>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/3.%20Peticions%20HTTP.%20API-REST/#beautifulsoup","title":"BeautifulSoup","text":"<p>Beautiful Soup \u00e9s una biblioteca de Python que facilita l'extracci\u00f3 de dades de documents HTML i XML. Aquesta biblioteca proporciona eines per analitzar i \"navegar\" pels elements d'un document web, facilitant la tasca d'extreure informaci\u00f3 espec\u00edfica. \u00c9s especialment \u00fatil en conjunci\u00f3 amb t\u00e8cniques de web scraping, ja que permet accedir als diferents components d'una p\u00e0gina web i extraure el contingut desitjat de manera m\u00e9s eficient.</p> <p>Per a fer servir aquiesta llibreria, hem de instal\u00b7lar-la amb <code>pip install beautifulsoup4</code> o mitjan\u00e7ant <code>conda</code>. L'estrctura b\u00e0sica d'un programa de scrapping \u00e9s la seg\u00fcent:</p> Obtenir la sopa Python<pre><code>    import requests\n    from bs4 import BeautifulSoup\n\n    # URL de la p\u00e0gina a estudiar\n    url = 'https://www.la_meua_web.es'\n\n    # Fer la sol\u00b7licitud HTTP i obtenir el contingut de la p\u00e0gina\n    response = requests.get(url)\n    content = response.content\n\n    # Crear un objecte BeautifulSoup per analitzar el contingut HTML\n    soup = BeautifulSoup(content, 'html.parser')\n</code></pre> <p>Consideracions:</p> <ul> <li>La dificultat del Scraping \u00e9s el veure en quina part de la p\u00e0gina est\u00e0 el contingut a extreure</li> <li>Moltes p\u00e0gines tenen mecanismes d'intentar detectar bots o programes de scraping, per aix\u00f2 \u00e9s bona idea el aplicar un user agent (navegador) distint.</li> </ul> Canviar navegador d'orige Python<pre><code>import requests\nfrom fake_useragent import UserAgent\n\n# Instanciar un objeto UserAgent\nua = UserAgent()\n\n# Realizar varias solicitudes con User-Agents aleatorios\nfor _ in range(5):\n      headers = {'User-Agent': ua.random}\n      print(f\"User-Agent: {headers['User-Agent']}\")\n\n      # Petici\u00f3 des d'aquest user-agent\n      response = requests.get(url, headers=headers)\n</code></pre> <p>Aix\u00f2 generar\u00e0 alguna cosa com:</p> Bash<pre><code>User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/112.0.0.0 Safari/537.36\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:109.0) Gecko/20100101 Firefox/116.0\nUser-Agent: Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:109.0) Gecko/20100101 Firefox/116.0\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.0 Safari/605.1.15\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36\n</code></pre> <p>Tot i que podem trobar tota la documentaci\u00f3 a https://www.crummy.com/software/BeautifulSoup/bs4/doc/, anem a veure els principals elements que podem trobar per a accedir a les etiquetes d'una p\u00e0gina.</p> <p>Atenci\u00f3</p> <p>El m\u00e9s important \u00e9s recordar:</p> Text Only<pre><code>- La estructura del DOM (**Documento Object Model**), fortament jerarquitzada (elements que contenen elements, amb estructura de pares-fills i germans)\n- Cada element \u00e9s d'un tipus, definit per la etiqueta del mateix. A banda de la etiqueta, podem veure de quina classe \u00e9s (atribut `class=xxx`)\n- Pot identificar-se elements accedint amb l'identificador del mateix, que si es compleix la especificaic\u00f3 del HTML, deu ser \u00fanic (`id=yyy`).\n</code></pre> <p>Atenci\u00f3</p> <p>Hem partit d'un exemple al qual ens baixem l'HTML de la p\u00e0gina web a fer scrapping, per\u00f2 ara tenim que tindre en consideraci\u00f3 el seg\u00fcent. El que mostra el navegador no sempre \u00e9s el HTML, sin\u00f2 que moltes vegades aquest HTML font s'amplia amb l'execuci\u00f3 de JAvascript</p> <p>Si descarreguem amb <code>request</code> la p\u00e0gina web tindrem el HTML pre-javascript. i a nosaltres ens interessa el HTML post-javascript, ja que molta informaci\u00f3 pot ser el resultat de l'execuci\u00f3 de javascript, amb consultes a BBDD o similar</p>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/3.%20Peticions%20HTTP.%20API-REST/#selenuim","title":"Selenuim","text":"<p>Sel\u00e8nium https://www.selenium.dev \u00e9s una potent suite d'eines per a la automatitzaci\u00f3 de navegadors web. Dissenyat inicialment per a testing automatitzat de p\u00e0gines web, Selenium s'ha convertit en una eina essencial per als desenvolupadors i testers que necessiten interactuar amb navegadors web mitjan\u00e7ant codi.</p> <p>Amb Selenium, els usuaris poden escriure scripts en diversos llenguatges de programaci\u00f3 com Python, Java, C#, entre d'altres, per a realitzar tasques automatitzades a trav\u00e9s de l'interf\u00edcie gr\u00e0fica d'un navegador web. Aix\u00f2 inclou clicar en enlla\u00e7os, emplenar formularis, navegar entre p\u00e0gines i molt m\u00e9s.</p> <p>Selenium suporta diversos navegadors com Chrome, Firefox, Safari i Edge, el que fa que sigui una eina vers\u00e0til per a la creaci\u00f3 de proves automatitzades o per a la realitzaci\u00f3 de tasques repetitives en l'entorn web.</p> <p>A m\u00e9s de la seva utilitzaci\u00f3 en testing, Selenium tamb\u00e9 \u00e9s \u00e0mpliament utilitzat en web scraping, monitoratge de p\u00e0gines web, i altres tasques d'automatitzaci\u00f3 relacionades amb la interacci\u00f3 amb navegadors. La seva naturalesa flexible i la capacitat de controlar navegadors en temps real fan de Selenium una eina imprescindible per als desenvolupadors i professionals del control de qualitat que treballen amb aplicacions web.</p> <p>Per fer la instal\u00b7laci\u00f3 de selenium <code>conda install -c conda-forge selenium</code>.</p> <p>Si recordes hem arribat ac\u00ed perqu\u00e8 volem la versi\u00f3 definitiva del HTML (post javascript). Llavors no ens queda altra que navegar per aquella p\u00e0gina que volem scrapejar, i Selenium ens permet emular dita navegaci\u00f3. </p> <p>Selecci\u00f3 del navegador</p> Python<pre><code>from selenium import webdriver\n\n\ndef getBrowser():\n   browser=random.randint(1,3)\n   if browser==1:\n      driver = webdriver.Edge()\n   elif browser==2:\n      driver=webdriver.Chrome()\n   elif browser==3:\n      driver = webdriver.Safari()\n\n   return driver\n</code></pre> <p>Aquest codi ens permet seleccionar un navegador distint (o no) cada cop que el demanem. Aix\u00f2 \u00e9s adequat per a evitar mecanismes anti-scrapping. Tamb\u00e9 podrien ser canviar les IP d'orige, per a semblar consexions de llocs distints.</p> <p>Un cop sel\u00b7leccionat el navegador, simplement deurem d'al\u00e7ar la inst\u00e0ncia del mateix, dir-li la p\u00e0gina on volem a nar i revisar-la tota (anant de dalt a baix...)</p> <p>Navegaci\u00f3 per la p\u00e0gina www.marca.com</p> Python<pre><code>driver = getBrowser()         # seleccionem un navegador\ndriver.get(\"www.marca.com\")   # indiquem la web a visitar\ndriver.maximize_window()      # (opcional) maximitzem\ntime.sleep(0.5)               # esperem mig segon\n\n# anem fent scroll fins al final de la web\niter=1\nwhile True:\n   # Qu\u00e8 ens queda fins arribar baix de tot?\n   scrollHeight = driver.execute_script(\"return document.documentElement.scrollHeight\")\n   # aleatori el bot cap avall, multiplicat per la iteraci\u00f3 actual\n   height=random.randint(300,400)*iter\n   # Ens situem en dita posici\u00f3\n   driver.execute_script(\"window.scrollTo(0, \" + str(Height) + \");\")\n\n   # Si ja hem arribat al final trenquem el bucle i eixim\n   if height &gt; scrollHeight:\n      print('End of page')\n      break\n   time.sleep(0.5)\n   iter+=1\n\n\n# recuperem el interior del cos, quedant-nos amb el HTML\nbody = driver.execute_script(\"return document.body\")\nsource = body.get_attribute('innerHTML')\n\n# creem el DOM per a processar-lo amb BeautifulSoup\nsoup = BeautifulSoup(source, \"html.parser\")\n\n# Fer scraping amb la \"sopa\"\n</code></pre>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/3.%20Peticions%20HTTP.%20API-REST/#beautifulsoup_1","title":"BeautifulSoup","text":"<p>Anem a veure els m\u00e8todes m\u00e9s important que farem servir de la llibreria BeautifulSoup un cop recuperat l'HTML i parsejat. Partim una mica del seg\u00fcent DOM per a l'explicaci\u00f3</p> HTML<pre><code>&lt;body&gt;\n    &lt;h1&gt;Just testing&lt;/h1&gt;\n    &lt;div class=\"block\"&gt;\n      &lt;h2&gt;Some links&lt;/h2&gt;\n      &lt;p&gt;Hi there!&lt;/p&gt;\n      &lt;ul id=\"data\"&gt;\n        &lt;li class=\"blue\"&gt;&lt;a href=\"https://example1.com\"&gt;Example 1&lt;/a&gt;&lt;/li&gt;\n        &lt;li class=\"red\"&gt;&lt;a href=\"https://example2.com\"&gt;Example 2&lt;/a&gt;&lt;/li&gt;\n        &lt;li class=\"gold\"&gt;&lt;a href=\"https://example3.com\"&gt;Example 3&lt;/a&gt;&lt;/li&gt;\n      &lt;/ul&gt;\n    &lt;/div&gt;\n    &lt;div class=\"block\"&gt;\n      &lt;h2&gt;Formulario&lt;/h2&gt;\n      &lt;form action=\"\" method=\"post\"&gt;\n        &lt;label for=\"POST-name\"&gt;Nombre:&lt;/label&gt;\n        &lt;input id=\"POST-name\" type=\"text\" name=\"name\"&gt;\n        &lt;input type=\"submit\" value=\"Save\"&gt;\n      &lt;/form&gt;\n    &lt;/div&gt;\n    &lt;div class=\"footer\"&gt;\n      This is the footer\n      &lt;span class=\"inline\"&gt;&lt;p&gt;This is span 1&lt;/p&gt;&lt;/span&gt;\n      &lt;span class=\"inline\"&gt;&lt;p&gt;This is span 2&lt;/p&gt;&lt;/span&gt;\n      &lt;span class=\"inline\"&gt;&lt;p&gt;This is span 2&lt;/p&gt;&lt;/span&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n</code></pre> <p>Observem que cada element cont\u00e9: HTML<pre><code>&lt;etiqueta class=\"classe\" id=\"idETQ\" atr1=valor1 atr2=valor2 &gt; text &lt;/etiqueta&gt;\n</code></pre></p> <p>i podem buscar-los com segueix:</p> <ul> <li>Localitazar elements <code>soup.find_all('etiqueta')</code>. Retorna tots els elements del tipus d'etiqueta indicat. Per exemple <code>soup.find_all('li')</code> tornar\u00e0 tots els elements de la llista.</li> <li> <p>Localitazar elements d'una classe:</p> </li> <li> <p><code>soup.find_all('etiqueta',class_='classe')</code>. Torna els elements de les etiquetes indicades d'una certa classe</p> </li> <li><code>soup.find_all(class_='classe')</code>. Torna els elements indicades d'una certa classe, podent ser de distint tipus d'etiqueta</li> <li>Localitzar un element identificat <code>soup.find_all('etiqueta',id='identificacor')</code></li> </ul> <p>Atenci\u00f3</p> <p>Tenir en compte:</p> <ul> <li>Els m\u00e8todes <code>find_all()</code> retornent un conjunt d'elements (buit o no) </li> <li>Els m\u00e8tode <code>find</code> retorna:<ul> <li>None si no troba res (no existeix)</li> <li>Un element, quan per exemple busquem per identificador, i el troba</li> <li>El primer element en cas de trobar-ne diversos.</li> </ul> </li> </ul> <p>Espai a les b\u00fasquede</p> <p>Tenir en compte que els m\u00e8todes <code>find</code> i <code>find_all()</code> efectuen la b\u00fasqueda a l'interior del element des del qual busquem:</p> <ul> <li><code>soup.find_all('li')</code> retornar\u00e0 tots els elements que hi han al document, ja que busquem desde l'inici del DOM</li> <li><code>element.find_all('div')</code> buscar\u00e0 sols dins de cada element.</li> </ul> <p>Un cop ja tenim localitzat un element podem accedir, des d'ell a tot el seg\u00fcent. Suposem que el tenim referenciat amb la variable <code>elem</code>:</p> <ul> <li>Tipus d'element o tag \u2192 <code>elem.name</code> Python<pre><code>elem = soup.find('ul', id='data')\nelem.name\n'ul'\n</code></pre></li> <li>Accedir a caracter\u00edstiques o atributs d'ell \u2192 Una etiqueta pot tenir un llistat d'atributs o caracter\u00edstiques. Podem accedir a ells com si d'un diccionari es tratara <code>elem[atribut]</code>:</li> </ul> Python<pre><code>elem = soup.find('input', id='POST-name')\n\n# elem \u00e9s &lt;input id=\"POST-name\" name=\"melibea\" type=\"json\"/&gt;\n\nelem['id']     # retorna 'POST-name'\n\nelem['name']   # retorna 'melibea'\n\nelem['type']   # retorn 'json'\n</code></pre> <p>Tamb\u00e9 podem recuperar-los tots amb <code>elem.attrs</code>:</p> Python<pre><code>elem.attrs\n{'id': 'POST-name', 'type': 'json', 'name': 'melibea'}\n</code></pre>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/3.%20Peticions%20HTTP.%20API-REST/#accedir-al-contingut-com-a-text","title":"Accedir al contingut com a text","text":"<p>El contingut textual, per entendre-ho, ha de diferenciar-se que podem diferenciar entre els seg\u00fcents tipus d'elements:</p> <ul> <li>Elements que contenen sols una l\u00ednea de text  XML<pre><code>&lt;elem&gt;Contingut textual&lt;/eleme&gt;\n</code></pre></li> <li> <p>Elements que contenen altres elements:  XML<pre><code>&lt;div class=\"footer\"&gt;\nPeu de la p\u00e0gina\n   &lt;span class=\"inline\"&gt;&lt;p&gt;This is span 1&lt;/p&gt;&lt;/span&gt;\n   &lt;span class=\"inline\"&gt;&lt;p&gt;This is span 2&lt;/p&gt;&lt;/span&gt;\n   &lt;span class=\"inline\"&gt;&lt;p&gt;This is span 2&lt;/p&gt;&lt;/span&gt;\n&lt;/div&gt;\n</code></pre> Tenim diverses opcions per a recuperar contingut:</p> </li> <li> <p><code>elem.text</code> \u2192 retorna un string amb tot el contingut textual. Apareixeran els bots de linia si els elements d'on extraguem el text estan en linies diferents, incl\u00f2s sagnats. Segons els tipus anteriors tindriem:</p> <p><code>Contingut textual</code></p> <p>o be </p> <p><code>'\\n      Peu de la p\u00e0gina\\n      This is span 1\\nThis is span 2\\nThis is span 2\\n'</code></p> </li> <li> <p><code>elem.strings</code> \u2192 Retorna un llistat (array) amb els elements textuals, incloses bots de linia i blancs. Segons els tipus anteriors tindriem:</p> <p><code>['Contingut textual']</code></p> <p>o be</p> <p><code>['\\n      This is the footer\\n      ',    'This is span 1',    '\\n',    'This is span 2',    '\\n',    'This is span 2',    '\\n']</code></p> </li> <li> <p><code>elem.stripped_strings</code>  \u2192 Retorna un llistat (array) amb els elements textuals, sense bots de linia i blancs. Segons els tipus anteriors tindriem:</p> <p><code>['Contingut textual']</code></p> <p>o be</p> <p><code>['This is the footer','This is span 1','This is span 2','This is span 2']</code> </p> </li> <li> <p><code>elem.string</code> \u2192 retorna sols una cadena, quan l'element cont\u00e9 sols un \u00fanic element textual. Cas contrari (buida o m\u00e9s d'una) no retorna res</p> </li> </ul>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/3.%20Peticions%20HTTP.%20API-REST/#navegacio-a-partir-dun-element","title":"Navegaci\u00f3 a partir d'un element","text":"<p> Acci\u00f3 funci\u00f3 Contigut <code>elem.contents</code> Contingut iterable <code>elem.children</code> Accedir al pare del element <code>elem.parent</code> Llista amb tots els pares <code>elem.parents</code> El seg\u00fcent germa (dins d'element) <code>elem.next_sibling</code> Iterable amb els seg\u00fcents germans <code>elem.next_siblings</code> L'anterior germa (dins d'element) <code>elem.previous_sibling</code> Iterable amb els anteriors germans <code>elem.previous_siblings</code> Seg\u00fcent element (germ\u00e0 o no) <code>elem.next_element</code> Anterior element (germ\u00e0 o no) <code>elem.previous</code> <p></p>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/3.%20Peticions%20HTTP.%20API-REST/#exemple-de-scraping","title":"Exemple de scraping","text":"<p>Primer que res hem d'analitzar el contingut de la p\u00e0gina web. A l'exemple anem a estudiar la web <code>whatcar.com</code>, que fa an\u00e0lisi de cotxes. Dins de la web, podem accedir a la pestanya de reviews, i ens trobem aix\u00f2:</p> <p></p> <p>Sembla que hi ha un enlla\u00e7 per a cada marca. Per veure el  tipus d'element, hem de fer una tasca d'an\u00e0lisi del codi font, mitjan\u00e7ant les eines de desenvolupador. Llavors ens trobem que:</p> <p></p> <ul> <li>Per a cada marca que s'analitza est\u00e0 dins d'etiquetes <code>&lt;a class=\"FragmentReviewsMake-makeContainer-d9f354b1\" ...&gt;</code></li> <li>Dins de cada marka hi ha un link a la p\u00e0gina de cada marca <code>&lt;a href='...'&gt;</code></li> </ul> <p>Arreplegant els links de les marques</p> Python<pre><code>base_url=\"https://www.whatcar.com\"\npage=\"/reviews\"\n\nsoup=get_soup_from_webPage(base_url+page)\n\nclass_marca='FragmentReviewsMake-makeContainer-d9f354b1'\n\nsoup=\nmarques=soup.find_all('a',class_=class_marca)\n\nfile = open(\"Brands.txt\",\"w\", encoding='utf-8')\nfor marca in marques:\n     link_marca= marca['href']\n     file.write(base_url+link_marca+\"\\n\")\n</code></pre> <p>el resultat \u00e9s un arxiu de text amb el seg\u00fcent contingut:</p> Text Only<pre><code>https://www.whatcar.com/make/abarth\nhttps://www.whatcar.com/make/alfa-romeo\nhttps://www.whatcar.com/make/alpine\nhttps://www.whatcar.com/make/aston-martin\nhttps://www.whatcar.com/make/audi\n</code></pre> <p>Ara, de manera recursiva hauriem d'analitzar cadascuna de les marques, vegem primer la estructura de cada marca:</p> <p></p> <p>i si explorem cadascuna de les targetes de cada model:</p> <p></p> <p>podem trobar que dins mateix tenim un link <code>&lt;a href=\"/bmw/2-series/hatchback/review/n78\" ...&gt; &lt;/a&gt;</code>, del qual sols ens interessa el href..</p> <p>Posteriorment hauriem de veure com accedir a la p\u00e0gina de cada model i buscar els elements amb informaci\u00f3 interessant per veure com extreure-la.</p> <p>Enlla\u00e7os</p> <p>Refer\u00e8ncies:</p> <ul> <li>https://verneacademy.com/blog/articulos-data/web-scraping-paginas-dinamicas-selenium-python-y-beautifulsoup/</li> <li>https://medium.com/@repopkukato/web-scraping-en-python-con-selenium-y-beautiful-soup-19fccb62908e</li> <li>https://pypi.org/project/selenium/</li> </ul>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/4.%20Servidors%20amb%20Flask/","title":"4. Servidors amb Flask","text":""},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/4.%20Servidors%20amb%20Flask/#primer-programa-en-flask","title":"Primer programa en <code>Flask</code>","text":"<p>Per comen\u00e7ar crearem un nou entorn per a tota la programaci\u00f3 en <code>flask</code></p> Preparant l'entorn Text Only<pre><code>conda create -n flask python=3.10\nconda list env\nconda activate flask\n</code></pre> <p>a continuaci\u00f3:</p> <ol> <li>Instal\u00b7lem flask amb <code>conda install flask</code></li> <li>Creem el programa principal, amb nom <code>app.py</code> (per exemple)</li> <li>(Linux) Exportem el nom de l'aplicaci\u00f3 <code>export FLASK_APP=app.py</code></li> <li>(Windows) <code>set FLASK_APP=app.py</code></li> <li>S'executa amb <code>flask run</code></li> </ol> <p>Un cop executat, ens apareixer\u00e0 una cosa com: Text Only<pre><code> * Serving Flask app 'app.py'\n * Debug mode: off\nWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.\n * Running on http://127.0.0.1:5000\n</code></pre></p> <p>El que ens diu que tenim un servidor escoltant al port 5000, i podem obrir-lo al navegador. Vegem el primer programa com quedar\u00e0</p> Hola m\u00f3n amb <code>Flask</code> Python<pre><code>from flask import Flask\napp=Flask(__name__)\n\n@app.route('/')\ndef hola_mon():\n    return \"Hola m\u00f3n\"\n\nif __name__==\"__main__\":\n    app.run()   # localhost at 5000   \n</code></pre> <p>A comentar:</p> <ul> <li>A la primera l\u00ednia importem el framework, creant a continuaci\u00f3 amb el constructor el nostre servidor.</li> <li>Es defineix un primer recurs a oferir (la <code>/</code> o tamb\u00e9 el recurs arrel) dins dels nostre servidor, que ens retornar\u00e0 un string amb la salutaci\u00f3 <code>Hola m\u00f3n</code>.</li> <li>La ruta s'indica amb l'anotaci\u00f3 <code>@app.route(ruta)</code>, i si no es posa res m\u00e9s s'enten que la petici\u00f3 \u00e9s <code>GET</code> </li> <li>Aquesta servidor ser\u00e0 llan\u00e7at desde el programa principal (aquell que s'anomena main)</li> </ul> <p>Llavors ja podem accedit des del navegador a dit recurs: </p>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/4.%20Servidors%20amb%20Flask/#mapejant-noves-rutes-i-metodes","title":"Mapejant noves rutes i m\u00e8todes","text":"<p>Si volem podeer mapejar altre tipus de peticions, hem d'indicar quin m\u00e8tode \u00e9s. Podem fer-ho indicant-ho com a par\u00e0metre del <code>app.route()</code>. Adem\u00e9s hem d'extreure el JSON que ens ha enviat el client dins del cos, cosa que podem fer amb el m\u00e8tode <code>request.get_json()</code>, que ens retorna el json del body de la petici\u00f3 dins d'un diccionari python.</p> Primer exemple de POST Python<pre><code>@app.route(\"/saluda\",methods=[\"POST\"])\ndef saluda():\n    body=request.get_json();\n    resp=\"Hola &lt;b&gt;\" + body[\"name\"]+\"&lt;/b&gt;\"\n    ret={\n        \"resposta\":resp\n    }\n\n    return jsonify(ret),201\n</code></pre> <ul> <li>Comentar que hem d'afegir noves importacions, amb la l\u00ednia <code>from flask import Flask, jsonify,request</code>.</li> <li>Adem\u00e9s podem afegir a la resposta, el codi HTTP per a que el client s\u00e0piga quin \u00e9s l'estat de la seua petici\u00f3.</li> </ul> Un POST m\u00e9s complexe i amb control d'errors Python<pre><code>@app.post(\"/suma\")\ndef suma():\n    body=request.get_json()\n    if not all(param in body for param in (\"x\",\"y\")):\n        return \"Error de format al body\", 400\n    x=body[\"x\"]\n    y=body[\"y\"]\n    suma=x+y\n    ret={\n        \"suma\":suma\n    }\n\n    return jsonify(ret),200\n</code></pre> <p>Ac\u00ed observem que:</p> <ul> <li>dins de l'anotaci\u00f3 <code>@app</code>, en compte de la combinaci\u00f3 <code>route</code> i <code>method</code> podem programar directament <code>app.post</code>, <code>app.get</code> (per defecte), <code>app.delete</code>, etc. Aix\u00f2 facilita la lectura del nostre programa</li> <li>Un cop recuperat el json que ens envia el client, podem comprovar els elements necessaris, a la condici\u00f3 de la l\u00ednia 4. Cas de faltar-ne algun retornem un error 400 (petici\u00f3 mal formada)</li> </ul>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/4.%20Servidors%20amb%20Flask/#recuperant-dades-dels-parametres-o-de-la-ruta","title":"Recuperant dades dels par\u00e0metres o de la ruta","text":"<p>Com sabem hi han 3 maneres b\u00e0siques de passar dades a la nostra API, que son mitjan\u00e7ant par\u00e0metres, variables de ruta i al cos de la petici\u00f3:</p> <ul> <li>Par\u00e0metres \u2192 un cop escrita la ruta, s'afig un s\u00edmbol d'interrogaci\u00f3 (<code>?</code>) i es confecciona una llista de par\u00e0metres amb <code>nom=valor</code>. Per exemple <code>localhost:5000/cliente?username=Pepe&amp;password=1234</code>. Per a aconseguir-ho els valors del par\u00e0metres farem servir els m\u00e8tode <code>request.args.get(nom_par\u00e0metre)</code></li> </ul> Recuperaci\u00f3 de par\u00e0metres Python<pre><code># /cliente?username=Pepe&amp;password=1234\n@app.route('/cliente')\ndef get_cliente():\n    username = request.args.get('username')\n    password = request.args.get('password')\n\n    return f'He demanat el client {username} &amp; {password}'\n</code></pre> <ul> <li>Variables de ruta \u2192 dins de la propia ruta apareix un codi o valor que simbolitza una dada. Per exemple <code>localhost:5000/cliente/12</code> on s'arreplegaria les dades del client de codi 12. Per a aconseguir-ho caldr\u00e0 afegir a la funci\u00f3 que mapeja la ruta un par\u00e0metre amb el mateix nom que podem dins de ladefinici\u00f3 de la ruta.</li> </ul> Recuperaci\u00f3 de par\u00e0metres Python<pre><code># /cliente/12\n@app.route('/cliente/&lt;id_Cliente&gt;')\ndef get_cliente_by_Id(id_Cliente):\n    return f'He demanat el client {id_Cliente}'\n</code></pre> <ul> <li>Cos de la petici\u00f3 \u2192 les dades es passen al cos de la petici\u00f3 dins d'un JSON. Ja ho hem vist anteriorment, amb el m\u00e8tode <code>body=request.get_json()</code></li> </ul>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/4.%20Servidors%20amb%20Flask/#creant-apis-amb-flask","title":"Creant API's amb flask","text":"<p>Flask incopora unes llibreries a traves del paquet flask-restful per a facilitar la construcci\u00f3 de API. Per aix\u00f2 necessitem:</p> <ul> <li><code>conda install flask-restful</code></li> <li><code>from flask_restful import Api,Resource</code></li> <li><code>Api</code> definir\u00e0 una Api dins de la nostra app</li> <li><code>Resource</code> definir\u00e0 cadascun dels recursos o rutes dins de la nostra API</li> </ul> <p>La classe <code>Resource</code> \u00e9s una interf\u00edcie, que cont\u00e9 els m\u00e8todes post(),get(), delete(), etc... Si volem crear una API que atenga a dits m\u00e8todes, deurem crear una classe que implemente dita interf\u00edcie, i implementar cadascun dels m\u00e8todes.</p> <p>Per afegir despr\u00e8s la ruta a cadascun dels m\u00e8todes anteriors, ho podem fer amb el m\u00e0tode <code>api.add_resource(classe, ruta)</code>.</p> Exemple de implementaci\u00f3 de <code>Resource</code> Python<pre><code>class Sumar(Resource):\n    def post(self):\n        return \"He fet un POST a add\"\n    def get(self):\n        return \"He fet un GET a add\"\n    def delete(self):\n        return \"He fet un DELETE a add\"\n    def put(self):\n        return \"He fet un PUT a add\"\n\napi.add_resource(Sumar, \"/add\")\n</code></pre> <p>Amb aix\u00f2 hem definit els 4 m\u00e8todes (post, get, delete i put) per a la ruta <code>/add</code> </p>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/4.%20Servidors%20amb%20Flask/#projecte","title":"Projecte","text":"<p>Crear una xicoteta api en Flask que:</p> <ul> <li>Tinga una petici\u00f3 de benvinguda a l\u00b4'index que retorne <code>Hola</code> seguit de la data actual</li> <li>Una petici\u00f3 de <code>/register</code> que reb al cos un username, password i icono, i ho emmagatzeme en una BBDD mongoDB que haurem creat per a l'ocasi\u00f3. El icono servir\u00e0 per a l'avatar. Recorda de guardar el password encriptat (llibreria <code>bcrypt</code>). Hi haur\u00e0 un contador de tokens, iniciat a 10, que son les consultes que pot fer-nos l'usuari. Retornar\u00e0 un missatge \"Hola nom, et queden 10 tokens\"</li> <li>Una petici\u00f3 de <code>/login</code>, que reb al cos el username i password. Cas d'estar tot be, retornar\u00e0 un <code>200 OK</code> i el avatar de l'usuari.</li> <li>Una petici\u00f3 de <code>/consulta</code>, amb un <code>username i password</code>. </li> <li>Cas d'estar tot be retorna un missatge de <code>Consulta efectuada. Et qeden X tokens</code>.</li> <li>Cas de no quedar tokens un codi d'error i un missatge de <code>Efectua rec\u00e0rrega</code></li> <li>Una petici\u00f3 de <code>/refill</code>, amb un <code>username</code>, <code>admin_pw</code> (un password de administrador) i <code>amount</code>, que augmentar\u00e0 la quantitat de tokens. Retornar\u00e0:</li> <li>Un <code>200 ok</code> i un missatge amb la quantitat de tokens actualitzada</li> <li>Un codi i missatge d'error si l'usuari no existeix o que el password d'administrador \u00e9s incorrecte. Aquest password ser\u00e0 fixe (<code>S3g1r0</code>)</li> <li>A mode de administraci\u00f3, implementar un <code>GET /login</code> que retorne tots els usuaris de la BBDD, passant-li com a par\u00e0metre el password de l'adminstrador</li> </ul> <p>Warning</p> Text Only<pre><code>- Discutirem m\u00e9s endavant com protegir algunes rutes amb privilegis, ja que el refill no pot fer-ho tot el mon, sin\u00f2 sols un usuari adminstrador.\n- La part dels iconos deixa-la per al final, com ampliaci\u00f3 de l'exercici, un cop ho tingues tota la funcionalitat b\u00e0sica implementada.\n</code></pre>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/5.%20Practiques/","title":"5. Pr\u00e0ctiques","text":""},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/5.%20Practiques/#practica-1-contenidors","title":"Pr\u00e0ctica 1. Contenidors","text":"<p>Es tracta de crear i orquestrar un parell de contenidors, amb les seg\u00fcents caracter\u00edstiques:</p> <p>Base de dades, amb les seg\u00fcents caracter\u00edstiques:</p> <ol> <li>Contindr\u00e0 un servidor de bases de dades mysql, escoltant al port 3306</li> <li>Deu crear una base de dades amb nom <code>alumnes</code></li> <li>L'usuari administrador tindr\u00e0 com a password <code>toor</code></li> <li>Es carregar\u00e0 el seg\u00fcent script     SQL<pre><code>use alumnes;\n\nCREATE TABLE students(\n    StudentID int not null AUTO_INCREMENT,\n    FirstName varchar(100) NOT NULL,\n    Surname varchar(100) NOT NULL,\n    PRIMARY KEY (StudentID)\n);\n\nINSERT INTO students (FirstName, Surname) VALUES ('Tony', 'Stark');\nINSERT INTO students (FirstName, Surname) VALUES ('Steve', 'Rogers');\nINSERT INTO students (FirstName, Surname) VALUES ('Bruce', 'Banner');\nINSERT INTO students (FirstName, Surname) VALUES ('Natasha', 'Romanoff');\nINSERT INTO students (FirstName, Surname) VALUES ('Thor', 'Odinson');\nINSERT INTO students (FirstName, Surname) VALUES ('Peter', 'Parker');\nINSERT INTO students (FirstName, Surname) VALUES ('Wanda', 'Maximoff');\nINSERT INTO students (FirstName, Surname) VALUES ('Scott', 'Lang');\nINSERT INTO students (FirstName, Surname) VALUES ('Carol', 'Danvers');\nINSERT INTO students (FirstName, Surname) VALUES ('T''Challa', 'Wakanda');\n</code></pre>     Aix\u00f2 es fa afegint al Dockerfile corresponent aquesta linia <code>COPY ./init.sql /docker-entrypoint-initdb.d/</code></li> </ol> <p>Programa en Python, amb les seg\u00fcents caracter\u00edstiques</p> <ol> <li>Es deu de crear un contenidor que requereix python</li> <li> <p>Es copiar\u00e0 el programa seg\u00fcent dins del contenidor     Python<pre><code>import mysql.connector\n\nconnection = mysql.connector.connect(\n    user='root', password='toor', host='db', port=\"3306\", database='alumnes')\nprint(\"DB connected\")\n\ncursor = connection.cursor()\n\ndef show_students():\n\n    # Execute the query\n    cursor.execute('SELECT * FROM students')\n\n    # Fetch the results\n    students = cursor.fetchall()\n\n    # Print the results\n    for student in students:\n        print(student)\n\nshow_students()\n\nconnection.close()\n</code></pre></p> </li> <li> <p>S'executar\u00e0 el programa nom\u00e9s arrancar el contenidor. El programa mostrar\u00e0 els registres que s'han inserit al crear la base de dades.</p> </li> </ol>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/5.%20Practiques/#practica-2-scraping-de-tiempoes","title":"Pr\u00e0ctica 2. Scraping de tiempo.es","text":"<p>Revisant els continguts creats es tracta de crear un projecte que realitze un scrapping de una part de tiempo.es. Volem concretament saber l'oratge de les principals ciutats de la prov\u00edncia de Val\u00e8ncia, i per aix\u00f2 revisarem els continguts que ens ofereix https://www.tiempo.es/valencia-es2509951.html</p> <p>Es demana docs, crear un dataset on tindr\u00e0s per a cada ciutat la previsi\u00f3 del dia actual. Les zones a capturar son les que segueixen:</p> <p></p>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/5.%20Practiques/#practica-3-app-per-a-dissenyar-xxnn","title":"Pr\u00e0ctica 3. App per a dissenyar XXNN","text":"<p>Anem a fer en aquest cas pr\u00e0ctic una aplicaci\u00f3 que ens permetr\u00e0 dissenyar una XXNN. El programa presentar\u00e0 a la seua interf\u00edcie un formulari en el qual li indicarem:</p> <ul> <li>Dimensi\u00f3 de la entrada de la xarxa</li> <li>Per a cada capa:</li> <li>N\u00famero de neurones de la mateixa</li> <li>Tipus de capa</li> <li>Funci\u00f3 d'activaci\u00f3  </li> <li>Funci\u00f3 de callback de parada, amb els par\u00e0metres de delta, paciencia i guardat de m\u00ednims. </li> </ul> <p>Disseny</p> <ul> <li>Pensa que el n\u00famero de capes pot variar, aix\u00ed que a la pantalla podrem afegir o llevar files segons el n\u00famero de capes.</li> <li>Fixa't tamb\u00e9 que no totes les capes tenen el mateix n\u00famero d'atributs</li> </ul> <p>El programa generar\u00e0 un JSON, similar a aquest:</p> JSON<pre><code>{\n  \"input\":4,\n  \"layers\":[\n    {\n      \"layer\":'Dense',\n      \"neurons\":8,\n      \"act\":'relu'\n    },\n    {\n      \"layer\":'Dense',\n      \"neurons\":32,\n      \"act\":'selu'\n    },\n         {\n      \"layer\":'BatchNormalization'\n    }\n    {\n      \"layer\":'Dense',\n      \"neurons\":2,\n      \"act\":'relu'\n    }\n    \"stop\":{\n      \"min_delta\":0.001,\n      \"patience\":5, \n      \"restore_best_weights\":True\n    }\n  ]\n}\n</code></pre> <p>Ademes:</p> <ul> <li>Fer una funci\u00f3 que a partir del json anterior, cree el model.</li> <li>Un cop creat el model, entrenara amb un \u00fanic DataFrame ja preparat i netejat, per a no complicar m\u00e9s el disseny.</li> <li>En acabar l'entrenament es guardar\u00e0 a disc el model entrenat i el json en la configuraci\u00f3 del mateix.</li> <li>Un cop entrenat, dibuixar\u00e0 el gr\u00e0fic de les funcions de p\u00e8rdua. </li> <li>Ha de permetre tamb\u00e9 modificar el disseny de la xarxa, tornar-la a entrenar i dibuixar un nou gr\u00e0fic (sense perdre el primer ni els anteriors) per veure l'evoluci\u00f3 del mateix.</li> </ul>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/5.%20Practiques/#practica-4-consum-de-api","title":"Pr\u00e0ctica 4. Consum de API","text":"<p>Per a concloure, anem a fer una aplicaci\u00f3 client d'una API del temps https://www.el-tiempo.net/api. A la qual es presentaran 2 quadres de selecci\u00f3 desplegable, un per a provincia i altre per a municipi.</p> <p>En obrir el programa es consumir\u00e0 la API per a seleccionar les provincies. Amb aquesta informaci\u00f3 s'omplir\u00e0 el quadre de l'esquerre (Provincia).</p> <p>En seleccionar la provincia, es consumir\u00e0 la API i s'ompliran tots els municipis al seleccionable de la dreta. </p> <p>When the municipality is selected, the API will be consumed and the weather forecast for that municipality will be retrieved. General information for the day will be presented, and graphs with temperature, wind speed, and precipitation forecasts should be displayed.</p>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/Continguts/","title":"Continguts","text":"<p>S'estudiar\u00e0 en aquesta unitat:</p> <p>1 - Frontend. Programaci\u00f3 amb <code>Flet</code>   - Calculadora   - To do App   - Introducci\u00f3 a m\u00e0 al\u00e7ada de car\u00e0cters i entrenament de xarxa neuronal 2 - Docker. Contenidors amb BBDD (MONGO)   - EXPORTAR DATASET A BBDD 3 - API-Rest. Peticions HTTP.   - Xicotet client 4 - Backend. Programaci\u00f3 amb <code>Flask</code>   - FER UN SERVEI SOBRE LA BBDD 5 - Projecte integrador   - FER CLIENT I SERVIDOR ATACANT AL QUE HEM FET</p>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/code/flet/basic/","title":"Basic","text":"In\u00a0[\u00a0]: Copied! <pre>import flet as ft\n</pre> import flet as ft In\u00a0[\u00a0]: Copied! <pre>def main(page: ft.Page):\n    # add/update controls on Page\n    pass\n</pre> def main(page: ft.Page):     # add/update controls on Page     pass In\u00a0[\u00a0]: Copied! <pre>ft.app(target=main)\n</pre> ft.app(target=main)"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/code/flet/dropdown/","title":"Dropdown","text":"In\u00a0[\u00a0]: Copied! <pre>import flet as ft\n</pre> import flet as ft In\u00a0[\u00a0]: Copied! <pre>def main(page: ft.Page):\n    def change_color_text(e):\n        output_text.color = f\"{color_dropdown.value}\"\n        page.update()\n\n    output_text = ft.Text(\"Text amb color\")\n    # submit_btn = ft.ElevatedButton(text=\"Submit\", on_click=button_clicked)\n    color_dropdown = ft.Dropdown(\n        width=200,\n        options=[\n            ft.dropdown.Option(\"Red\"),\n            ft.dropdown.Option(\"Green\"),\n            ft.dropdown.Option(\"Blue\"),\n        ],\n        on_change=change_color_text\n    )\n    page.add(ft.Row([color_dropdown]), output_text)\n</pre> def main(page: ft.Page):     def change_color_text(e):         output_text.color = f\"{color_dropdown.value}\"         page.update()      output_text = ft.Text(\"Text amb color\")     # submit_btn = ft.ElevatedButton(text=\"Submit\", on_click=button_clicked)     color_dropdown = ft.Dropdown(         width=200,         options=[             ft.dropdown.Option(\"Red\"),             ft.dropdown.Option(\"Green\"),             ft.dropdown.Option(\"Blue\"),         ],         on_change=change_color_text     )     page.add(ft.Row([color_dropdown]), output_text) In\u00a0[\u00a0]: Copied! <pre>ft.app(target=main)\n</pre> ft.app(target=main)"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/code/flet/hello_world/","title":"Hello world","text":"In\u00a0[\u00a0]: Copied! <pre>import flet as ft\nimport time\n</pre> import flet as ft import time In\u00a0[\u00a0]: Copied! <pre>def main(page: ft.Page):\n    page.title = \"Hello world with Flet!!\"\n    page.vertical_alignment = ft.MainAxisAlignment.CENTER\n    page.horizontal_alignment = ft.CrossAxisAlignment.CENTER\n\n    \n    text = ft.Text()\n    page.add(text) # \u00e9s una abreviatura de page.controls.append(t) i page.update()\n\n    for i in range(10):\n        text.value = f\"Pas n\u00famero {i}\"\n        page.update()\n        time.sleep(1)\n</pre> def main(page: ft.Page):     page.title = \"Hello world with Flet!!\"     page.vertical_alignment = ft.MainAxisAlignment.CENTER     page.horizontal_alignment = ft.CrossAxisAlignment.CENTER           text = ft.Text()     page.add(text) # \u00e9s una abreviatura de page.controls.append(t) i page.update()      for i in range(10):         text.value = f\"Pas n\u00famero {i}\"         page.update()         time.sleep(1) In\u00a0[\u00a0]: Copied! <pre>ft.app(target=main)\n</pre> ft.app(target=main)"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/code/flet/row/","title":"Row","text":"In\u00a0[\u00a0]: Copied! <pre>import flet as ft\n</pre> import flet as ft In\u00a0[\u00a0]: Copied! <pre>def main(page: ft.Page):\n    page.add(\n    ft.Row(controls=[\n        ft.TextField(label=\"Your name\"),\n        ft.ElevatedButton(text=\"Send\")\n    ])\n)\n</pre> def main(page: ft.Page):     page.add(     ft.Row(controls=[         ft.TextField(label=\"Your name\"),         ft.ElevatedButton(text=\"Send\")     ]) ) In\u00a0[\u00a0]: Copied! <pre>ft.app(target=main)\n</pre> ft.app(target=main)"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/code/flet/task/","title":"Task","text":"In\u00a0[\u00a0]: Copied! <pre>import flet as ft\n</pre> import flet as ft In\u00a0[\u00a0]: Copied! <pre>def main(page):\n    def add_task(e):\n        page.add(ft.Checkbox(label=new_task.value))\n        new_task.value = \"\"\n        new_task.focus()\n        new_task.on_submit = set_focus_on_textfield\n        button.disabled = True\n        page.update()\n\n    def set_focus_on_textfield(e):\n        new_task.focus()\n        page.update()\n\n    def check_value(e):\n        if new_task.value != \"\":\n            button.disabled = False\n            new_task.on_submit = add_task\n        else:\n            button.disabled = True\n            new_task.on_submit = set_focus_on_textfield\n        button.update()\n\n    new_task = ft.TextField(hint_text=\"Tasca pendent\", width=300,\n                            on_change=check_value, on_submit = set_focus_on_textfield)\n    button = ft.ElevatedButton(\"Afegir\", disabled=True, on_click=add_task)\n    page.add(ft.Row([new_task, button]))\n</pre> def main(page):     def add_task(e):         page.add(ft.Checkbox(label=new_task.value))         new_task.value = \"\"         new_task.focus()         new_task.on_submit = set_focus_on_textfield         button.disabled = True         page.update()      def set_focus_on_textfield(e):         new_task.focus()         page.update()      def check_value(e):         if new_task.value != \"\":             button.disabled = False             new_task.on_submit = add_task         else:             button.disabled = True             new_task.on_submit = set_focus_on_textfield         button.update()      new_task = ft.TextField(hint_text=\"Tasca pendent\", width=300,                             on_change=check_value, on_submit = set_focus_on_textfield)     button = ft.ElevatedButton(\"Afegir\", disabled=True, on_click=add_task)     page.add(ft.Row([new_task, button])) In\u00a0[\u00a0]: Copied! <pre>ft.app(target=main)\n</pre> ft.app(target=main)"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/exercicis/03_Request/","title":"03 Request","text":"In\u00a0[10]: Copied! <pre>import requests\n\nr=requests.get('https://swapi.dev/api/films/1/')\n\nprint(type(r))\nprint(r.status_code)\nprint(r.headers)\nprint(r.text)\nprint(r.json())\nprint(r.content)\n</pre> import requests  r=requests.get('https://swapi.dev/api/films/1/')  print(type(r)) print(r.status_code) print(r.headers) print(r.text) print(r.json()) print(r.content) <pre>&lt;class 'requests.models.Response'&gt;\n200\n{'Server': 'nginx/1.16.1', 'Date': 'Mon, 18 Sep 2023 08:35:55 GMT', 'Content-Type': 'application/json', 'Transfer-Encoding': 'chunked', 'Connection': 'keep-alive', 'Vary': 'Accept, Cookie', 'X-Frame-Options': 'SAMEORIGIN', 'ETag': '\"5af12d8e740a258e0c502b480ae78f2f\"', 'Allow': 'GET, HEAD, OPTIONS', 'Strict-Transport-Security': 'max-age=15768000'}\n{\"title\":\"A New Hope\",\"episode_id\":4,\"opening_crawl\":\"It is a period of civil war.\\r\\nRebel spaceships, striking\\r\\nfrom a hidden base, have won\\r\\ntheir first victory against\\r\\nthe evil Galactic Empire.\\r\\n\\r\\nDuring the battle, Rebel\\r\\nspies managed to steal secret\\r\\nplans to the Empire's\\r\\nultimate weapon, the DEATH\\r\\nSTAR, an armored space\\r\\nstation with enough power\\r\\nto destroy an entire planet.\\r\\n\\r\\nPursued by the Empire's\\r\\nsinister agents, Princess\\r\\nLeia races home aboard her\\r\\nstarship, custodian of the\\r\\nstolen plans that can save her\\r\\npeople and restore\\r\\nfreedom to the galaxy....\",\"director\":\"George Lucas\",\"producer\":\"Gary Kurtz, Rick McCallum\",\"release_date\":\"1977-05-25\",\"characters\":[\"https://swapi.dev/api/people/1/\",\"https://swapi.dev/api/people/2/\",\"https://swapi.dev/api/people/3/\",\"https://swapi.dev/api/people/4/\",\"https://swapi.dev/api/people/5/\",\"https://swapi.dev/api/people/6/\",\"https://swapi.dev/api/people/7/\",\"https://swapi.dev/api/people/8/\",\"https://swapi.dev/api/people/9/\",\"https://swapi.dev/api/people/10/\",\"https://swapi.dev/api/people/12/\",\"https://swapi.dev/api/people/13/\",\"https://swapi.dev/api/people/14/\",\"https://swapi.dev/api/people/15/\",\"https://swapi.dev/api/people/16/\",\"https://swapi.dev/api/people/18/\",\"https://swapi.dev/api/people/19/\",\"https://swapi.dev/api/people/81/\"],\"planets\":[\"https://swapi.dev/api/planets/1/\",\"https://swapi.dev/api/planets/2/\",\"https://swapi.dev/api/planets/3/\"],\"starships\":[\"https://swapi.dev/api/starships/2/\",\"https://swapi.dev/api/starships/3/\",\"https://swapi.dev/api/starships/5/\",\"https://swapi.dev/api/starships/9/\",\"https://swapi.dev/api/starships/10/\",\"https://swapi.dev/api/starships/11/\",\"https://swapi.dev/api/starships/12/\",\"https://swapi.dev/api/starships/13/\"],\"vehicles\":[\"https://swapi.dev/api/vehicles/4/\",\"https://swapi.dev/api/vehicles/6/\",\"https://swapi.dev/api/vehicles/7/\",\"https://swapi.dev/api/vehicles/8/\"],\"species\":[\"https://swapi.dev/api/species/1/\",\"https://swapi.dev/api/species/2/\",\"https://swapi.dev/api/species/3/\",\"https://swapi.dev/api/species/4/\",\"https://swapi.dev/api/species/5/\"],\"created\":\"2014-12-10T14:23:31.880000Z\",\"edited\":\"2014-12-20T19:49:45.256000Z\",\"url\":\"https://swapi.dev/api/films/1/\"}\n{'title': 'A New Hope', 'episode_id': 4, 'opening_crawl': \"It is a period of civil war.\\r\\nRebel spaceships, striking\\r\\nfrom a hidden base, have won\\r\\ntheir first victory against\\r\\nthe evil Galactic Empire.\\r\\n\\r\\nDuring the battle, Rebel\\r\\nspies managed to steal secret\\r\\nplans to the Empire's\\r\\nultimate weapon, the DEATH\\r\\nSTAR, an armored space\\r\\nstation with enough power\\r\\nto destroy an entire planet.\\r\\n\\r\\nPursued by the Empire's\\r\\nsinister agents, Princess\\r\\nLeia races home aboard her\\r\\nstarship, custodian of the\\r\\nstolen plans that can save her\\r\\npeople and restore\\r\\nfreedom to the galaxy....\", 'director': 'George Lucas', 'producer': 'Gary Kurtz, Rick McCallum', 'release_date': '1977-05-25', 'characters': ['https://swapi.dev/api/people/1/', 'https://swapi.dev/api/people/2/', 'https://swapi.dev/api/people/3/', 'https://swapi.dev/api/people/4/', 'https://swapi.dev/api/people/5/', 'https://swapi.dev/api/people/6/', 'https://swapi.dev/api/people/7/', 'https://swapi.dev/api/people/8/', 'https://swapi.dev/api/people/9/', 'https://swapi.dev/api/people/10/', 'https://swapi.dev/api/people/12/', 'https://swapi.dev/api/people/13/', 'https://swapi.dev/api/people/14/', 'https://swapi.dev/api/people/15/', 'https://swapi.dev/api/people/16/', 'https://swapi.dev/api/people/18/', 'https://swapi.dev/api/people/19/', 'https://swapi.dev/api/people/81/'], 'planets': ['https://swapi.dev/api/planets/1/', 'https://swapi.dev/api/planets/2/', 'https://swapi.dev/api/planets/3/'], 'starships': ['https://swapi.dev/api/starships/2/', 'https://swapi.dev/api/starships/3/', 'https://swapi.dev/api/starships/5/', 'https://swapi.dev/api/starships/9/', 'https://swapi.dev/api/starships/10/', 'https://swapi.dev/api/starships/11/', 'https://swapi.dev/api/starships/12/', 'https://swapi.dev/api/starships/13/'], 'vehicles': ['https://swapi.dev/api/vehicles/4/', 'https://swapi.dev/api/vehicles/6/', 'https://swapi.dev/api/vehicles/7/', 'https://swapi.dev/api/vehicles/8/'], 'species': ['https://swapi.dev/api/species/1/', 'https://swapi.dev/api/species/2/', 'https://swapi.dev/api/species/3/', 'https://swapi.dev/api/species/4/', 'https://swapi.dev/api/species/5/'], 'created': '2014-12-10T14:23:31.880000Z', 'edited': '2014-12-20T19:49:45.256000Z', 'url': 'https://swapi.dev/api/films/1/'}\nb'{\"title\":\"A New Hope\",\"episode_id\":4,\"opening_crawl\":\"It is a period of civil war.\\\\r\\\\nRebel spaceships, striking\\\\r\\\\nfrom a hidden base, have won\\\\r\\\\ntheir first victory against\\\\r\\\\nthe evil Galactic Empire.\\\\r\\\\n\\\\r\\\\nDuring the battle, Rebel\\\\r\\\\nspies managed to steal secret\\\\r\\\\nplans to the Empire\\'s\\\\r\\\\nultimate weapon, the DEATH\\\\r\\\\nSTAR, an armored space\\\\r\\\\nstation with enough power\\\\r\\\\nto destroy an entire planet.\\\\r\\\\n\\\\r\\\\nPursued by the Empire\\'s\\\\r\\\\nsinister agents, Princess\\\\r\\\\nLeia races home aboard her\\\\r\\\\nstarship, custodian of the\\\\r\\\\nstolen plans that can save her\\\\r\\\\npeople and restore\\\\r\\\\nfreedom to the galaxy....\",\"director\":\"George Lucas\",\"producer\":\"Gary Kurtz, Rick McCallum\",\"release_date\":\"1977-05-25\",\"characters\":[\"https://swapi.dev/api/people/1/\",\"https://swapi.dev/api/people/2/\",\"https://swapi.dev/api/people/3/\",\"https://swapi.dev/api/people/4/\",\"https://swapi.dev/api/people/5/\",\"https://swapi.dev/api/people/6/\",\"https://swapi.dev/api/people/7/\",\"https://swapi.dev/api/people/8/\",\"https://swapi.dev/api/people/9/\",\"https://swapi.dev/api/people/10/\",\"https://swapi.dev/api/people/12/\",\"https://swapi.dev/api/people/13/\",\"https://swapi.dev/api/people/14/\",\"https://swapi.dev/api/people/15/\",\"https://swapi.dev/api/people/16/\",\"https://swapi.dev/api/people/18/\",\"https://swapi.dev/api/people/19/\",\"https://swapi.dev/api/people/81/\"],\"planets\":[\"https://swapi.dev/api/planets/1/\",\"https://swapi.dev/api/planets/2/\",\"https://swapi.dev/api/planets/3/\"],\"starships\":[\"https://swapi.dev/api/starships/2/\",\"https://swapi.dev/api/starships/3/\",\"https://swapi.dev/api/starships/5/\",\"https://swapi.dev/api/starships/9/\",\"https://swapi.dev/api/starships/10/\",\"https://swapi.dev/api/starships/11/\",\"https://swapi.dev/api/starships/12/\",\"https://swapi.dev/api/starships/13/\"],\"vehicles\":[\"https://swapi.dev/api/vehicles/4/\",\"https://swapi.dev/api/vehicles/6/\",\"https://swapi.dev/api/vehicles/7/\",\"https://swapi.dev/api/vehicles/8/\"],\"species\":[\"https://swapi.dev/api/species/1/\",\"https://swapi.dev/api/species/2/\",\"https://swapi.dev/api/species/3/\",\"https://swapi.dev/api/species/4/\",\"https://swapi.dev/api/species/5/\"],\"created\":\"2014-12-10T14:23:31.880000Z\",\"edited\":\"2014-12-20T19:49:45.256000Z\",\"url\":\"https://swapi.dev/api/films/1/\"}'\n</pre> In\u00a0[8]: Copied! <pre>from PIL import Image\nfrom io import BytesIO\nimport requests\n\nr=requests.get('https://upload.wikimedia.org/wikipedia/commons/thumb/c/c3/Python-logo-notext.svg/701px-Python-logo-notext.svg.png')\n\nprint(type(r))\nprint(r.status_code)\nprint(r.headers)\n# print(r.json()) Donaria error\nprint(r.content)\nimatge = Image.open(BytesIO(r.content))\nimatge.show()\nimatge.save(\"python.png\")\n</pre> from PIL import Image from io import BytesIO import requests  r=requests.get('https://upload.wikimedia.org/wikipedia/commons/thumb/c/c3/Python-logo-notext.svg/701px-Python-logo-notext.svg.png')  print(type(r)) print(r.status_code) print(r.headers) # print(r.json()) Donaria error print(r.content) imatge = Image.open(BytesIO(r.content)) imatge.show() imatge.save(\"python.png\") <pre>&lt;class 'requests.models.Response'&gt;\n200\n{'date': 'Mon, 18 Sep 2023 05:46:21 GMT', 'content-type': 'image/png', 'content-length': '41009', 'content-disposition': \"inline;filename*=UTF-8''Python-logo-notext.svg.png\", 'last-modified': 'Mon, 07 Nov 2022 20:41:02 GMT', 'etag': 'c3ca29ff124e4ccfa922dcea9a41bf68', 'server': 'ATS/9.1.4', 'age': '31960', 'x-cache': 'cp6004 hit, cp6001 hit/1', 'x-cache-status': 'hit-front', 'server-timing': 'cache;desc=\"hit-front\", host;desc=\"cp6001\"', 'strict-transport-security': 'max-age=106384710; includeSubDomains; preload', 'report-to': '{ \"group\": \"wm_nel\", \"max_age\": 604800, \"endpoints\": [{ \"url\": \"https://intake-logging.wikimedia.org/v1/events?stream=w3c.reportingapi.network_error&amp;schema_uri=/w3c/reportingapi/network_error/1.0.0\" }] }', 'nel': '{ \"report_to\": \"wm_nel\", \"max_age\": 604800, \"failure_fraction\": 0.05, \"success_fraction\": 0.0}', 'x-client-ip': '47.63.144.59', 'x-content-type-options': 'nosniff', 'access-control-allow-origin': '*', 'access-control-expose-headers': 'Age, Date, Content-Length, Content-Range, X-Content-Duration, X-Cache', 'timing-allow-origin': '*', 'accept-ranges': 'bytes'}\nb'\\x89PNG\\r\\n\\x1a\\n\\x00\\x00\\x00\\rIHDR\\x00\\x00\\x02\\xbd\\x00\\x00\\x03\\x00\\x08\\x06\\x00\\x00\\x00)\\x07\\xdf\\xc7\\x00\\x00\\x00\\x04gAMA\\x00\\x00\\xb1\\x8f\\x0b\\xfca\\x05\\x00\\x00\\x00 cHRM\\x00\\x00z&amp;\\x00\\x00\\x80\\x84\\x00\\x00\\xfa\\x00\\x00\\x00\\x80\\xe8\\x00\\x00u0\\x00\\x00\\xea`\\x00\\x00:\\x98\\x00\\x00\\x17p\\x9c\\xbaQ&lt;\\x00\\x00\\x00\\x06bKGD\\x00\\xff\\x00\\xff\\x00\\xff\\xa0\\xbd\\xa7\\x93\\x00\\x00\\x80\\x00IDATx\\xda\\xed\\x9dw\\xb8]U\\xb5\\xb7\\x7fs\\x9d\\x92^\\xe8\\x82\\x82\\x80\\xa2@@DP\\x8a\\xa0\\x80\\x14C\\x17I(*v\\x10\\xac\\xd8\\xb0\\xdc\\xfby\\xbc*\\xbd\\xa8\\xa8\\xd8\\xaf\\xe5\\xda\\x88\\xed^\\x91&amp;\\x90\\x10R@\\x89\\xd2B\\x95fB\\x1a=\\xa4\\x9es\\xf6\\x1a\\xdf\\x1fI09\\xd9e\\xf5\\xfa\\xbe\\xcfs\\x9f+9\\xfb\\xac\\xbd\\xce\\x9ak\\xaf\\xf9\\x8e1\\xc7\\x98\\xdb\\t\\x00\\xa0\\xc4L\\xba\\xf2\\xca\\xae\\x15\\x0f\\x8f\\x1c;0\\xd83\\xde\\xf5\\xd8\\xd8\\xc6\\xa0\\x8dq\\x9e\\xc6:\\xdf\\xc6\\xc8\\xb9q\\xe6\\xdcx\\xf9\\x1a%\\xa7a\\x9eltC\\xeaqNc\\xe4[\\xb7\\xa4qN\\xe6\\x99\\xf3613\\xe7\\xa4\\xf1C\\x0e\\xbf\\xc9\\x9a\\xffg\\x92I\\x92\\xf5\\x98\\xdc\\xe86\\xa7\\xb3B\\xb2\\xd5\\xeb~e=|I\\xcf\\xaf\\xfd\\xa7\\x95NZ\\xb5\\xe6\\x1f\\xed9\\'\\x99\\x93\\xfaeZnR\\xbf\\xcc\\x96\\xcb\\xb9\\xe7en\\xa59\\xadp\\xf2\\x9f3i\\x853\\xb7\\xd2\\xa9\\xf1\\x9c/\\xad0\\xafky\\x97\\xafgW\\x8e\\xf0\\x9f\\x9dy\\xceq/p\\x17\\x00\\x00t\\xc6q\\t\\x00\\xa0(L\\xfc\\xe6\\xd5\\xc3\\x1aK\\xbb\\xb6t\\xb2\\xad\\xcd\\xb9\\xcd&lt;\\xb9\\xcdL\\xfef\\x9263\\xb9\\xcd\\x9c\\xb3\\xcdM\\xdaB\\xd2f\\x92\\xdbL\\xb2\\xf1\\x92F\\xfd[0\\xad\\xed\\xf17|\\x99\\x05&lt;+{\\xf1\\xa5\\x16\\xe4\\xb5-^h\\xed\\xfe\\xc5:\\x1f\\xd7Z\\x1flP\\xd2\\xb3\\x92=+y\\xcf\\x9a\\xfcg\\x9d\\xf4\\xac\\x93=k\\xf2\\x9e5\\xe7?m\\xe6\\x9e\\xf4\\xe4-q\\xf2\\x17\\xf5\\xf7\\x0f&gt;\\xd9\\xd5\\xbb\\xe9\\x93\\xd3\\xfa\\x0e\\x1e\\xe4\\x8e\\x03\\x00\\xa4\\x17\\x00 A&amp;\\xf5]\\xd9\\xbbl\\xe4f\\xdbj\\xb0\\xf12\\xdf\\xf3_j\\xe6\\xb6\\xf2\\x9c\\xb61s[I\\xb6\\xb5\\xa4\\xad%\\xbdD\\xd2f\\xed\\xec\\xce:\\x9bl\\xc2\\xc2+\\xc9\\xac\\xc8\\xc2\\xdb\\xf9\\x9d\\xac\\xe5\\xd3\\xffI\\x99=)\\xe7\\x9e\\x94l\\x91\\xa4%\\x92\\x16\\xa9\\xa1\\xf9\\x9es\\xf3|_\\x0bV-_\\xfd\\xaf\\xd9\\x97M^\\xc9\\x1d\\x0c\\x00H/\\x00\\x80\\xa4C\\xcf\\xff\\xcb\\xb8\\xee.\\xf7r\\xd7h\\xbc\\xdcw\\xde\\xcb\\x9d\\xb4\\x9dI\\xdb9\\xdf\\xdfNr/_+\\xb5\\xce:\\x19^J\\xc2\\xbb\\xa1\\xeb\\xa6!\\xbck_eAT4;\\xe1m-\\xbd\\x16\\xe80\\xb6\\xe6\\x0c\\x9eq\\xd2\\x02\\xc9=\\xee\\xa4\\x052\\x7f\\xbe\\xef\\xbcy]\\x9e\\xff\\xb8/\\xf7\\x884~&gt;Yc\\x00@z\\x01\\xa02\\x1cu\\xdeU\\x9b\\x0c\\xa8gGOnG\\'\\xedh\\x9e\\xdbQ\\xa6\\x1d%\\xdbQ\\xd2\\x0e\\x1b=O\\xac\\x99K\\x05\\x93\\xadR\\no\\x8b\\x17G\\xcf\\xf26\\t\\x11,[\\xe1U\\xb0 e\\xc0\\xa4yN\\xb6\\xd0I\\x0b\\xcc\\xe9\\x11g\\xee\\x113\\xff\\x91\\xc1n=2\\xa3\\xef\\x84G%g|\\x82\\x00\\x00\\xe9\\x05\\x80\\xe2`\\xe6\\x0e\\xbf\\xf8\\xfa\\xed=s\\xbb\\xc8\\xdc\\x04\\'\\xed\\xe2d\\x13|s\\xaf\\x94\\xb4i`\\x81J[xCH\\xac\\xb57\\xc0\\xd6\\xbfey\\no\\x13\\xe5-\\xa6\\xf0\\x06\\x19\\xb3\\xe7\\xe5\\xf4\\x80|\\xf7\\x80\\xcc\\xbf\\xdf\\x93= O\\xf7/\\xe9\\xf2\\x1f\\x9a\\xdb7\\xb9\\x9f\\x0f\\x1d\\x00 \\xbd\\x00\\x90*G|\\xed\\xda\\xad\\xd5\\xd5\\xf5:\\xcfy\\xbb\\xc9lW9\\xed*\\xd9.\\x92F\\x15X\\xa0\\x10\\xde \\xefT\\xc8\\xf1\\xda\\xe8\\xa7\\r\\x99\\x1e\\x95\\xb3\\xfb\\xcd\\xe9~O\\xee\\x01\\xf9\\xba\\xa7w\\xf5\\xf2\\xbb\\xaf\\xbf\\xf8\\xb4\\xe5|B\\x01\\x00\\xe9\\x05\\x80\\xd0\\x1c}\\xe9\\x8d/m4\\xf4:\\xe7\\xfb{\\x99\\xdc^\\x92^\\'i\\x9b RT\\x12\\x81JTxC)uY\\x1a\\xd7\\x02g\\xe5s\\xaf\\xbb\\xf6%\\xfb\\xa7\\x9c\\xee0_\\xb7w9\\x7f\\xf6\\xea\\x15\\x9aCC\\x1d\\x00 \\xbd\\x00\\xb0\\x01\\x87_r\\xdd\\xb6\\xdd~\\xcf\\xeb\\x9c\\xef\\xef\\xe5;\\xdbKr\\xaf\\xd3\\x9a\\x9d\\x11\\xca\\xbcD\\x1eQx\\x83\\xc9\\x16\\xc2\\x1bp\\xcc\\xf2\\xab\\xbb\\x1e\\x90\\xe9\\xef\\xf2l\\x86\\xf3u\\xe3\\xb0\\xfe\\x95\\xd3\\xc9\\x06\\x03\\x00\\xd2\\x0bP#\\x0e\\xea\\x9b\\xda=z\\x84\\xff:\\xdf\\xb3\\x03d\\xee@I\\xfbK\\xda\\xb2\\x89&gt;Uu\\x89&lt;!\\xe1Uu\\xb7&amp;KEx7\\xfc\\x87\\x1c\\xea\\xae\\xfb\\xe5\\xec6\\xf9v\\x9d\\xc9\\xfb\\xd3-\\xe7\\x9ex\\x17O\\x03\\x00@z\\x01*&amp;\\xb9#F\\xda&gt;\\xce\\xd9\\xa12\\xbdI\\xd2&gt;jR\\x83\\xcb\\x12yZ\\xc2\\xbb\\xf6U\\x15\\xdc\\x9a\\xac\\xdcu\\xd7\\xee1\\xc9\\xfe\\xe4\\xc9\\xfb\\xc3\\x96\\x0f5\\xa6O\\x992\\xb9\\xc1\\xd3\\x02\\x00\\x90^\\x80\\x921\\xf1\\xe2\\x1bvu\\xe6\\x1d*\\xd9\\xa1\\x92\\x0e\\x92iL\\x9a\\x02U\\xe1%\\xf2\\x80\\x02\\x15\\xe0z\\xd5sk\\xb2\\xc4\\xc7,\\xa5\\xba\\xeb\\x85\\xce4E\\x9e~3\\xfdk\\'\\xcef\\xbb4\\x00@z\\x01\\n\\xcaA}S\\xbb\\x87\\x8f\\xd6\\xbe\\xce\\xfc\\xa3\\x9d\\xdc\\xf1\\x92\\xbd:\\x98&lt;\\x95@x\\xdb\\x08\\x14[\\x93\\xd5Ux\\xc3\\x04)\\xa1\\xeb\\xae\\xe79\\xb9_\\x0e:\\xef\\x8aY_{\\xfb\\xe3&lt;]\\x00\\x90^\\x00\\xc8\\x99\\x89\\xdf\\xbcz\\xac\\xb7z\\xc4\\xb1\\x92N0\\xd9\\xe1z\\xb1d!\\xc6\\x12y-\\x05\\xaa\\\\;5Pw\\x1dFx\\x15\\xa7\\xee\\xba!\\xe9\\x1a9}\\xf7\\x96\\xde{\\xafQ_\\x9f\\xcfS\\x07\\x00\\xe9\\x05\\x80\\x8c8\\xa6\\xefO#m\\xd4\\xc8\\xb7Hn\\x92I\\'H\\x1a\\xc5\\x12y}\\x84\\x97\\xba\\xeb\\xb4\\x84w\\xc3\\xf1m\\xf2\\x93\\x87e\\xf6\\x83\\xc6p\\xf7\\x83\\xd9}\\x93\\x9f\\xe1I\\x04\\x80\\xf4\\x02@\\nL\\xba\\xf2\\xca\\xae\\x15\\xff\\xda\\xfcP\\xf9z\\xb7\\x9c\\x8e\\x974\"\\t\\x81b\\x89&lt;-\\x81b\\xa7\\x86\\n\\xd7]\\xbf`\\xe6\\x7f\\xd7\\xf3z.\\xbb\\xe5\\xdc\\xb7/\\xe4\\xe9\\x04\\x80\\xf4\\x02@\\x02\\x1c{\\xe9\\xd4W\\xfa\\xbe\\xdeo\\xb2w\\xc9\\xf4\\xd2\\xe2\\x0b\\x14\\xc2[[\\xe1m3f\\x15\\xad\\xbb^\\xe5L?q\\xdd\\xee\\xc2\\xe9_\\x9d\\xfc(O+\\x00\\xa4\\x17\\x00B\\xd2\\xd7\\xd7\\xe7\\xfdm\\xd4\\x9b\\x0f\\x91\\xd3\\xe9\\x92\\x9d \\xa9\\x8b%\\xf2d\\x84wC\\xcf*\\xf1\\xd6d\\x9dM\\xb2\\x82AJa\\xcbP\\x06$\\xfb\\xefF\\x97\\xf7_\\xb3\\xbf6\\xf9\\t\\x9e`\\x00H/\\x00t\\xe0\\xf0\\x8b\\xae\\x1b\\xd5\\xad\\x9e\\xf7;\\xe7&gt;*\\xe9\\x95,\\x91\\x17Dx\\xd9\\x9aL|C^\\xa0\\xf1Z)\\xe9;\\x8d\\xd5\\xee\\xdc\\xd9\\x97Q\\xf3\\x0b\\x80\\xf4\\x02\\xc0FL\\xfc\\xe6\\xd5c\\xbb\\xfaG\\xbc\\xd7\\xa4\\xcfi\\xdd\\xd7\\xfe\\x0e\\x99\\xbcK+\\xbc\\t\\n\\x14[\\x93!\\xbc\\xc1\\x86!\\xf72\\x94g%\\xbb\\xe0\\xd9\\xe1]\\x97\\xcd\\xed\\x9b\\xdc\\xcf\\x13\\x0e\\x00\\xe9\\x05\\xa8=G\\\\z\\xed\\xa6=~\\xef\\xe7L\\xeeLI\\xa3\\x9b\\xc9V@\\x15\\r,\\xb1d\\x0c\\xd9\\xa9!\\xccW\\x06[e\\x857\\xfd\\xa0\\xd2I\\xf75\\xcc\\x9d=\\xfb\\x82\\x93\\xae\\xe3i\\x07\\x80\\xf4\\x02\\xd4\\x92\\xc3/\\xbanT\\x8fz?\"\\xa7\\xcfI\\x1a\\x9f\\x8d@!\\xbc%Y\"OYx\\xdb\\x1c\\x88\\xba\\xeb\\xf6\\x7fI\\xc4\\xbaks\\xba\\xaa\\xbb\\xcb\\xce\\x9a\\xfe\\xb5S\\xe6\\xf1\\xf4\\x03@z\\x01j\\xc1\\xda\\x06\\xb5\\xf7\\xca\\xe9k\\x92\\xb6\\xcaR\\xa0X\"OK\\xa0\\xa8\\xbbNEx\\xdb\\xff\\x11-%\\xb6\\xa8u\\xd7Nz^\\xa6/\\xcc\\x18y\\xffw\\xf9\\x82\\x0b\\x00\\xa4\\x17\\xa0\\xd2\\x1cs\\xe1\\x8d\\xaf\\xf3=\\xef[\\x92\\xf6\\xab\\x86@\\x15\\x7f\\x89|C\\xd7-\\xe7\\x12y&amp;\\xc2\\x9b`\\x90B\\xddu\\xfb\\xd7;\\xd9,\\xcf\\xf7\\xdf3\\xfd\\xa2w&lt;\\xc4S\\x11\\x00\\xe9\\x05\\xa8\\x14\\xc7^0c\\x8cy\\xfd\\x17\\xf8\\xce;C2\\xaf\\x1a\\xc2\\xdb\\xe6@\\x08o\\xcc1\\xa3\\x0c\\xa5\\xfau\\xd7\\xf6\\x82s\\xde\\xa7g\\x9c\\x7f\\xd2\\x0f$g\\x02\\x00\\xa4\\x17\\xa0\\xec\\x1cs\\xd1\\x8d\\x87\\xf8\\xce\\xfb\\x91\\xa4\\xed\\xcb1\\x19\\'-\\xbc\\xc1e\\x8b%r\\x84W\\xa1\\x83\\x94\\xb2\\xd7]\\xbb?\\rx\\xab\\xdf\\xfb\\xd7\\xf3\\xde\\xfd4OK\\x00\\xa4\\x17\\xa0\\x94\\x1c\\xd47u\\xf8\\xe81\\xbaH\\xa6\\x0f[\\xa0\\xcfJ\\x06M5,\\x91\\x17\\\\x\\xa9\\xbb\\xaei\\xdd\\xf5|g:u\\xe6E\\xa7\\xdc\\xc2\\x93\\x13\\x00\\xe9\\x05(\\x15k\\xbf6\\xf8JI{\\xb2D\\x9e\\xa7@\\xb15\\x19u\\xd7\\xa5\\t*\\x07\\x9d\\xe9K3/:\\xf9&lt;\\xca\\x1d\\x00\\x90^\\x80Rp\\xcc%7\\xbd\\xdd\\xe4\\xfdXfc\\xc9\\x18\\xe6)\\xbca\\x04\\x8a\\xad\\xc9\\x10\\xde\\x82\\x04\\x95\\xce~\\xd7;\\xa2\\xfb=\\xd3\\xfa&amp;/\\xe3i\\n\\x80\\xf4\\x02\\x14\\x96\\xa3/\\xbe\\xf9\\xe3rv\\xa9\\xcc\\xbcr\\x08o\\x18\\x81b\\x89\\x9c\\xba\\xeb\\x94\\x84\\xb7\\xfd\\x1f\\xd1Rb+\\x1cT&gt;`]:~\\xf6y\\xa7\\xde\\xcfS\\x15\\x00\\xe9\\x05(\\x14\\x93\\xfa\\xe6\\xf6\\xae\\x1a\\xbd\\xe4\\xfb\\xe6\\xf4n\\x96\\xc8\\xc9\\x18f9^y\\x06)\\xd4]\\xa7\\xfa\\x19{\\xc6\\x99;\\x9e:_\\x00\\xa4\\x17\\xa08\\xc2{\\xe9\\xac\\x11+m\\xe0\\x0f\\x92\\x7f\\x04K\\xe4\\x15\\x17\\xde\\xc4\\xc7\\x8c\\xbak\\xea\\xae\\xdb\\x1eh\\x95\\xe4\\xde5\\xeb\\xc2S~\\xcb\\x93\\x16 \\x7f&lt;.\\x01\\xd4Zx\\xbf=u\\xf4*\\xeb\\xff\\xb3d\\x08o\\xc0?;\\xb0&lt;\\x05?r\\x90\\xdcc\\xcb\\xdf\\xca7cXw\\xe1U\\xb8\\xf1\\xaa\\xdfgl\\xb8\\xcc~\\xb3\\xdf\\xa7\\x7f\\xf9\\t\\x9e\\xb6\\x00\\xf9\\xd3\\xc5%\\x80\\xbar\\xf8E\\xd7\\x8d\\xf2\\x1b=\\xd7IzS\\xb8\\x8ca\\xd0\\x17f\\xbbD\\x1e\\xe7\\xb5\\x16\\xfa\\xb8A=\\x8f%\\xf2\\x96\\xbf_\\xbb\\xba\\xeb\\xda\\x06\\x95\\xce9\\xbdu\\xdb\\x03Np\\xf3f\\xfe~\\x1aO^\\x80\\xfc \\xd3\\x0b\\xb5d\\xaf\\xef\\xdd\\xde\\xd3\\xdb5l\\x8a\\x93\\xbd1\\xd2\\x12yL\\x15\\xed\\xa0O\\xa1\\xdf?O\\x81\\x8as1\\xe2.\\x91\\xe7%\\xbcJ\\xa5&amp;4\\xcc!\\xf2+C\\x89&amp;\\xbc\\x04\\x95f\\xfa\\xd2~\\x9f\\xf9\\xc5\\xb7$\\xa3\\xac\\x10\\x00\\xe9\\x05\\xc8\\x083\\xb7\\xf5\\xf2e?\\x92i\"K\\xe4\\xf9\\t\\x14K\\xe4\\x01\\xc7\\xac\\x8eu\\xd7\\xd5\\r*?\\xbc\\xdfg~y9\\xe2\\x0b\\x90\\x0f\\x947@\\xed8z\\xec!_\\x92\\xf4q\\x96\\xc8\\x8b\"\\xbc,\\x91Sw]\\xab\\xa0\\xf2\\r\\xdb\\x1dp\\xf7\\x98y3\\x7f\\x7f=Oc\\x00\\xa4\\x17 5\\x8e\\xba\\xe4\\xe6c\\x9d\\xec\\n\\xc9\\x1cK\\xe4,\\x91\\xd7\\xa5\\xee:\\xee\\x18Pw\\x9dxP\\xb9\\xdf\\xcb\\xdex\\xe2\\x98\\xf9\\xb3~\\x87\\xf8\\x02 \\xbd\\x00\\xc9s\\xec\\xd7oz\\xb5\\xcc]#\\xd9p2\\x86a&lt;\\x8c%\\xf2\\xb2\\xd7][\\x8c\\x8bA\\xddu:A\\xa53\\xed\\xbf\\xdd~\\',\\x9b7\\xfb\\xf7\\xb3y:\\x03d\\x035\\xbdP\\x0b\\x0e\\xea\\x9b\\xda\\xed7\\xbc\\x9fK\\x1a\\x8b\\xf0\\x06\\x97\\xadp\\xd38K\\xe4\\xd4]o(\\xbc\\x04\\x95\\x1d\\xfel\\xe7.\\xda\\xffS\\xbfx\\x17Oh\\x00\\xa4\\x17 1\\xc6\\x8cu_\\x96\\xf4\\xfa\\xc2-\\x91\\xc7\\x7f\\xf3P\\xaf\\xb54\\x8e[\\xf1\\x8c!u\\xd7!\\xffh\\x847L\\xe4\\xe8\\xcc\\xd9\\x0f\\xf7\\xfd\\xf4/\\x0e\\xe5)\\r\\x90&gt;t\\x90B\\xe59\\xf2\\xa2\\x9b\\xf6\\xf1&lt;o\\xa6d]\\xf9\\xd6\\x18\\xf2\\xed]|{WX\\x81\\xe2+\\xa1c\\x07\\x95\\xe5\\xf8\\x8c=\\xab\\x86\\xbda\\xf6e\\xef\\xfa\\'Ol\\x80\\xf4 \\xd3\\x0b\\x95\\xa6\\xaf\\xcf&lt;\\xcf\\xf3\\xbe\\x99\\xbf\\xf0\\xb2D\\xce\\x12yX\\xe1U.\\xe3\\x15YxU\\xc0\\xba\\xeb\\xf2|\\xc66\\xb1.\\xf7\\xa7}&gt;\\xfa?cyj\\x03 \\xbd\\x00\\x91\\xb8}\\xec\\xb4\\xb3${C\\xb9\\x9aj\\xaa*\\xbc,\\x91\\'\\xb6D\\x1eI\\'C]\\xd1\\xf0\\xc2KP\\x19\\xf73\\xb6\\xb37L?c\\x0f_\\x80\\xf4`\\xf7\\x06\\xa8,G\\\\:k\\xd3.k\\xfcQ\\xa6\\xe1\\xd5\\x14\\xa8\\xd8\\xb3\\x7f\\xaa\\xc2\\xab\\xc8\\xc2K\\xdd5\\xdf\\x90W\\xdb\\xa0r\\xe7\\x97\\xbd\\xf1\\xee\\x15\\xf3g\\xfd~&amp;Op\\x80\\xe4!\\xd3\\x0b\\x95\\xa5\\xd7V\\x7fV\\xa6\\xf1\\xd5\\x14^\\x96\\xc8Y\"Ov\\xcc(C)HP\\xe9\\xebk\\xfb\\x7f\\xfa\\x97\\xfb\\xf1\\x04\\x07H\\x1e\\x96Q\\xa0\\x92\\x1cq\\xd9\\xf4\\xad{|\\xff\\x9f2\\x1b\\xc9\\x12y\\xf8\\t\\xd9:\\x9bl@\\x81\\xaa\\xea\\x97\\x19TYx-\\xd4x\\x11TZ\\xf2\\xe3e\\xf6/g\\xc3\\xf6\\x9c}\\xd9\\xe4gx\\x9a\\x03$\\x07\\x99^\\xa8$\\xdd\\x8d\\xc1\\xcf\\x04\\x13\\xde\\xa0\\x93k\\xcc\\xc98\\xfe\\x9b\\x87z-K\\xe4\\xd1\\xc6,\\xf2\\xb0\\xc4\\x14^\\xc5\\x1c/\\xea\\xaeU\\xad\\xbak\\xa7\\xed\\xcc\\xad\\xba\\x9c\\'9@\\xb2\\x90\\xe9\\x85\\xca1\\xf1\\x9bW\\x8f\\xed\\xea\\x1f9\\xcfd\\x01:\\xa1\\xd9\\x9a\\x8c\\x8ca\\x11\\x04\\x8a\\xad\\xc9j\\xb25Y\\xa813\\xd3\\x89\\xb7]\\xfa\\xae\\xdf\\xf1T\\x07H\\x062\\xbdP\\xbd\\x9bz\\xf5\\x883\\xf3\\x13^\\xb6&amp;#c\\x18Vx\\x95\\xcbxE\\x16^\\xea\\xae3\\xfb\\x8c9OW\\x1c\\xf8\\xd1\\x1fo\\xc1S\\x1d \\x19\\xba\\xb9\\x04P%&amp;]ye\\xd7\\xca\\x7f\\xe9\\xc3y\\nT\\x9c\\x99=\\xccd\\xec\\xa4\\xc5fv\\xabL\\xf7\\xc9\\xb9\\x07$\\xf7\\x98\\xc9\\x7f\\xc1\\xc9\\x9eo\\xa8\\xdb\\xf7\\xac\\xd1k]n\\xb4\\xe7\\xfb\\x9b;\\xb9\\x1de\\xdaY\\xd2\\x04\\x93\\xf6\\x954\\xb2*;5\\x94Jxc\\xe8c\\xb8w`k\\xb2J\\x04\\x95\\xa6-\\x06{{/\\x91t\\x1aOw\\x80\\xf8P\\xde\\x00\\x95\\xe2\\xc8K\\xa7\\xbe\\xd5\\xf9\\xba&amp;/\\xe1M[\\xa0L\\xba\\xcd\\x99\\xfd\\xc6s\\xde\\rW\\x9fs\\xe8=r.\\xb41M\\xfc\\xe6\\xd5\\xc3l\\xb9\\xdb\\xcf\\xf7\\xbd\\xc3\\x9d\\xb3wH\\xda\\xae:K\\xe4a\\xc6\\x8c2\\x14\\xbe!/\\xf8x\\xb5\\xb8c\\xb2\\x18/\\xf3\\xe4\\x1d4\\xeb\\x92wL\\xe7\\t\\x0f\\x80\\xf4\\x02\\xbc\\xc8Q\\x17O\\xbdR\\xd2\\xa4\\x8a\\t\\xefR\\xc9\\xbe\\xdf\\xe5\\xbc\\x1f\\xff\\xf9\\x9c\\xc3\\xeeK\\xf2z\\xf5\\xf5\\xf5y3{\\xf69\\xd8s\\xde\\x19&amp;{\\xbb\\xd6\\x95&lt;\\x85\\x15\\xde\\x88\\x02\\xc5WB\\xe7)\\xbca\\x82\\x14\\xea\\xaes\\xae\\xbb\\xbe{\\xc4\\x98\\x97\\xbdnZ\\xdf\\xc1\\x83&lt;\\xe5\\x01\\x90^\\x00\\x1du\\xde-\\x9b\\xa8gp\\xa1\\xa4aA&amp;\\xef\\x12L\\xc6\\xcf\\xcb\\xec\\xeb6\\xcc\\xbey\\xdd\\'\\xdf\\x9a\\xfa\\xd6E\\x87^\\xf0\\x97]\\xbc\\xc6\\xe0\\x17%w\\x8aL\\x1e[\\x93!\\xbcC\\xff`vj\\xc8Ex\\xd7\\xfd\\x11g\\xdfv\\xe9i_\\xe7I\\x0f\\x80\\xf4\\x02\\xe8\\xa8\\x8b\\xa7\\xbe[\\xd2O\\xc2\\no\\xbc\\t9\\x9d\\x8c\\xa13]\\xd5\\xd5\\xf0&gt;t\\xd5\\x7f\\xbc\\xe5\\x89\\xac\\xaf\\xe3\\xa1\\xe7]\\xbd\\xa7\\xe7{\\xdf\\x95\\xec\\ri\\to\\xf5\\x04\\xaa\\xf0K\\xe4C\\\\7\\xdb2\\x94\\xd2\\xd5]\\'\\x14\\xa4$\\xbc\\xdf\\xf5s\\x9e\\xf5\\xbfb\\xf6e\\x1f`\\xef^\\x80\\x88\\xb0{\\x03T)\\x86;!\\xccd\\x98\\xc4\\x84\\x9c\\x82\\xf0.\\xf0\\x9d\\x7f\\xf85\\x9f?\\xec\\x98&lt;\\x84W\\x92n\\xf8\\xfc\\x91\\xff\\xe8\\x1f\\x18\\xf6FI\\x9f\\x954\\x10\\xd3\\xb3j \\xbc\\xc1\\x0fQ\\xd7\\xad\\xc9\\xa2\\x93\\xc3~\\xd7\\tf\\xe5\\xe3\\x9cf\\x93\\xa0r\\xbc\\xaf\\xde\\xcf\\xf0\\x9c\\x07\\x88a\\t\\\\\\x02\\xa8\\x02\\x93\\xbe=u\\xf4\\x8a\\x95zR\\xd2\\xf0\\xac\\x04\\xcaB\\xed\\xd4\\x10D\\xa0\\xdcM\\x03\\r\\x9dz\\xe3\\x17\\x0f]\\\\\\x94\\xeb\\xfa\\xd6s\\xaf\\xd9\\xcf7\\xfdF\\xd2\\xb6\\xcd=\\x8b%\\xf2\\x92-\\x91\\x87\\x0eR(C\\xc9&gt;Hi\\xf3\\x19[\\xd1\\xdd\\xdd\\xb3\\xd3\\xcc\\x0bOY\\xc0S\\x1f &lt;dz\\xa1\\x12,_\\xa5\\x83\\xb2\\x14^%.\\xbc\\xba|\\xcc\\x8e\\xcf\\x1c^$\\xe1\\x95\\xa4k\\xbf0qv\\x97\\xb3\\xbd$\\xfdu\\xe3?)\\xdb\\xad\\xc9\\x14s\\xbcj\\xbf5\\x19\\xc2\\xab\\n\\xd4]\\x8f\\x1c\\x1c\\x1c\\xf8\\x02O|\\x00\\xa4\\x17j}#\\xbb\\xc3\\xb2\\x14\\xde$\\x05\\xca\\x9c\\xbb\\xe0\\xda\\xcf\\x1d\\xf6\\xb1)\\x93\\'7\\x8axm\\xaf\\xf9\\xc2\\x91O\\xaa\\xd7;\\xc4I\\xd7\\x15kk\\xb2\\xe0\\x02\\xc7\\x129_\\t]\\x86\\xaf\\x84\\x0e\\x18T\\xbe\\x7f\\xafO\\xfc|k\\x9e\\xfa\\x00H/\\xd4\\x143\\x1dZJ\\xe1\\x95}\\xf1\\xbas\\x0e\\xfd\\\\\\xd1\\xaf\\xef\\xf5\\x9f9b\\xb97\\xc6\\x8e\\x93\\xe9\\xfab|{\\x17_f\\x10.c\\x18^x\\xa9\\xbb\\xce^x\\x03\\x06\\x95\\xc3\\xbb\\x9d}\\x8c\\xa7&gt;@x\\xa8\\xe9\\x85\\xd2s\\xec\\xd7o\\xd8\\xaa1\\xd8\\xb5\\xa8\\xd5\\xe4\\xdd~\\x8e\\xcbn2\\x1e:!;\\xd3\\xb7\\xae\\xf9\\xfca\\x1f-\\xd5\\xb5\\xbe\\xe0\\x7f\\xc7\\xac\\x18\\xe8\\x99\\xe6\\xa4\\xd7\\x05\\x15\\xa8r,\\x91\\x87\\x11(\\xb6&amp;\\xa3\\xee:%\\xe1\\rn\\xed\\xcf\\x0f\\xf6\\x0c\\x7f\\xf9\\x9c\\x0b&amp;?\\xcf\\x0c\\x00\\x10\\x1c2\\xbdPzl\\xb0k\\xbf\\xa0R\\x92\\xe7\\x12\\xf9\\x06s\\x99\\xe9\\xff\\xf6Y=\\xf3\\xe3e\\xbb\\xd6\\xffw\\xceq/\\x0c\\x0e\\xdaQr\\x9a\\x1fDxC]\\xaf\\xe2\\xd7]\\x87\\x1c\\xf6B/\\x91\\xc7\\x10\\xde0\\xa7\\x91mP\\x19\\xe7\\xb5%\\xab\\xbb\\x1e\\xd73\\xb8\\x92\\xaf&amp;\\x06@z\\xa1v\\xd2+\\xdb?m\\x81Jv\\x89\\xdc\\xe6\\x0f\\x98{___\\x9f_\\xc6\\xeb=\\xad\\xef\\xa8E\\x9e\\xf3N\\x95\\xd4\\xe8$\\xbc|{W\\xf6\\xc2\\x9bI\\xddu\\xd1\\x83\\xca gT\\xf2\\xbak\\xf3u\\xa6d\\xac\\xd6\\x02 \\xbdP+\\xe9un\\xdft\\x857\\xd1\\xa6\\x9a\\x86\\xe4N\\xb9\\xf1\\x0b\\x87&gt;]\\xe6k~\\xdd\\x17\\xdez\\x8b\\xa4\\xff\\n\\xe9\\xb15\\x11\\xde02d!~7D\\xc60\\xed\\xba\\xebB\\x07\\x95\\xd9\\no\\x8eu\\xd7\\xbb\\xec\\xfb\\x89\\x9f\\xbc\\x99\\x19\\x00\\x00\\xe9\\x85\\xda\\x18\\xaf9\\x99^S\\x9a%r\\xb3o_\\xfb\\xb9\\xc3fT\\xe1\\xd2\\x0f\\x0c\\x8e8W\\xd2=\\xcd\\xfe`\\x96\\xc8\\x93\\xbc\\xc7C\\noe\\xb7&amp;\\x0b\\x14T\\x96Tx-\\xf4\\xadh\\x92|\\xcf;\\x9dI\\x00\\x00\\xe9\\x85\\x9ap\\xcc\\xc5\\xd3\\xb7\\x97l\\\\Z\\xc2\\x9bp\\xc6p\\xc9\\xf0\\xe1=_\\xaa\\xca\\xb5\\x9f\\xd6w\\xf0\\xa0\\xc9\\x9d\\xf9ow`\\x89&lt;=\\x81JOxC\\x9bV\\x91\\x83\\xca\\xd0\\xc3^\\xf2\\xbak\\xd3q\\x07\\x9du\\xe5hf\\x02\\x00\\xa4\\x17j\\x80ip\\xb7\\x92\\x08\\xaf\\xcc\\xec\\x8b\\x7f&lt;\\xfb\\xe0\\xe7\\xaat\\xfdo\\xf8\\x8f\\x893$\\xfd\\x96%\\xf2\\xfc\\x04\\x8a\\xad\\xc9\\x02\\x8eY\\xdae(\\xf9\\xd4]\\x8f\\\\\\xd9\\xbb\\xeam\\xcc\\x04\\x00H/\\xd4Bz\\xbd]S_\"\\x0f\\xa7Z\\xcdq\\x9a7v\\xf5s?\\xab\\xe2\\x18\\xf8\\xce}5\\xf8%c\\x89\\xbchK\\xe4\\xf5\\x15\\xde\\x04\\xb7&amp;\\x0bq\\xe3%]wm\\x9e\\xbd\\x83\\x99\\x00\\x00\\xe9\\x85:H\\xaf\\xd3\\xf61T4\\x98\\xf0&amp;\\x901t\\xd2\\xa5S\\xfa&amp;\\xf7Wq\\x0cn\\xfc\\xe2\\xc4\\xbbL\\xfas\\x9e\\x02\\x15|\\xf0Y\"\\xa7\\xee:\\xde\\x13\"\\xce\\x18\\xa4Rwmz\\xcb\\x01\\x9f\\xfb\\xc5&amp;\\xcc\\x06\\x00H/T\\xfd\\x066\\xbd&lt;I\\x81Ji\\x89|y\\x8fV\\xfc\\xa8\\xe2\\xe1\\xc77\\xf2\\x12^\\x96\\xc8\\xd9\\x9a\\xac\\xe6u\\xd7\\xdd\\xab\\xfb\\x07\\x0fg6\\x00@z\\xa1\\xe2\\x98\\xfc\\xed\\x93\\x14\\xa883{\\x9b\\xc9\\xf8\\x0f\\xffw\\xceq/Ty\\x1c\\x0eh\\xdc~\\x93S\\xab/\\xac\\xa8\\xe9\\x12y$\\x9d\\x0c!\\xbc\\xa1\\xdf\\x9f\\xba\\xeb\\xaa\\xd6]{fG3\\x1b\\x00 \\xbdPi\\xe35\\'\\xb9\\xed\\x8a-P\\x92\\x99\\xf7\\x8b\\xaa\\x0fE__\\x9fo\\xe6~\\x1d\\xc3\\xe3\\x94{\\xdduh%,\\xd7\\x97\\x19\\xe4\\xbdS\\x03u\\xd7!\\xff\\xe8\\x10u\\xd7&amp;M\\x9c4\\xe9\\xca.&amp;\\x05\\x00\\xa4\\x17*\\xca\\xc4\\xf3n\\xd9\\\\\\xd2\\xa8\\xe2\\n\\xafI\\xd2\\xb2\\xa76\\x1d\\x7fc\\x1d\\xc6\\xc3I\\x7f\\x0c#%E\\xab\\xbb&amp;c\\x98\\x9e\\xf0Rw\\x1dVxC\\xd7]o\\xf6\\xe8\\xb6+_\\xc3\\xac\\x00\\x80\\xf4BE\\xe9\\xee\\xed\\xdf\\xbe\\xe0\\xc2+9\\x9b1\\xe7\\x8c\\xbd\\x07\\xea0\\x1e\\xcfl\\xb5\\xe5_%-O[\\xa0\\x10\\xde0:\\xc4\\xd6d\\xa5\\xab\\xbbV\\xb4\\xba\\xeb.\\xd3\\x9b\\x98\\x15\\x00\\x90^\\xa8(\\xa6\\xae\\x97\\x070\\x94\\xe0\\x93q8\\xd5\\n\\xf4Z\\xe7\\xbbiu\\x19\\x8f9g\\xec= \\xe7f\\xa4-P\\x91\\x87E,\\x91\\xd7SxKVw\\x1d\\xf5\\x1b\\xf2\\x90^\\x00\\xa4\\x17\\xaa\\x8b\\xefk\\xab\\xe2/\\x91\\xdb\\xdf\\xea5(\\xf6\\xb7\\xf2\\tT\\xd0C\\xb05\\x19u\\xd7!\\xcf0\\xc3\\xbak\\x93\\x1d\\xc8\\xac\\x00\\x80\\xf4Be\\xef^\\x7f\\x93\\xa8\\x13rVK\\xe4]\\x8d\\xee\\x07\\xea4$\\xce\\xd3\\x83\\xe5\\x12^\\x96\\xc8\\xa9\\xbbNv\\xccr\\xac\\xbb\\xde\\xe2\\xf5\\x9f\\xfc\\xf1\\xb6L\\x0c\\x00H/TQ\\xb0|\\x8d\\x8f*Pqf\\xf6\\x10\\x93\\xf1\\xf2\\xab\\xbex\\xc8\\x82\\x9a\\x8d\\xc9\\x83,\\x91\\x07\\xfd\\xd3\\n\\xb8D\\x9e\\xd0\\x98!\\xbc!\\xc7,\\xa92\\x14s\\xafef\\x00@z\\xa1\\x82\\x98s\\xe3\\x8b#PM\\x15p\\xbe\\x9c\\xb3Z\\x8d\\x89?8/\\xae\\n\\xb6\\x1d\\xaf\\x04\\x8f\\x1b\\xfcUlMV\\x96\\xbak\\xc5\\x1c\\xaf|\\x847hX\\x15`\\xbc|\\xb7\\x073\\x03\\x00\\xd2\\x0b\\xd5d|\\x913\\x86\\xcelY\\xdd\\x06d@\\xab\\x97\\x86R\\x10\\x0b)\\xbc,\\x91\\x07\\x12\\xde\\xea5\\xae\\x05\\xf5\\xeb\\x9a\\xd7]{\\x8em\\xcb\\x00\\x90^\\xa8&amp;\\xb6IQ\\x85w\\xedO^\\xa8\\xdb\\x88L\\xfb\\xd2\\xa4\\xe5\\x92\\xfc$\\x04\\n\\xe1\\r+PU\\x15\\xde\\x92\\xd4]\\x87\\x8eRR\\xa8\\xbb6{\\x05\\xf3\\x02\\x00\\xd2\\x0b\\xd5d\\\\\\xd0\\xc9%\\xf3%\\xf25?\\xea\\xaf\\xdd\\x88\\xac)\\xe7\\xe8OB\\xa0\"\\x0f\\x8b\\xca\\xbbD\\xae\\xc8\\xc2\\x1b?cX*\\xe1\\x8d\\xa1\\x8f\\xe1\\xde!\\x84\\xf0Z!\\xea\\xae\\x91^\\x00\\xa4\\x17*jX\\x9b\\x86\\xf6\\x93\\xb6\\xafO&lt;c8\\xb2n#rP\\xdf\\xd4nI\\xc3Y\"\\x8f&amp;\\xbc\\x91vj\\xb0\\x90\\x19\\xc3\\xc4\\xab\\xccs\\x0b*\\x83\\x0bo}\\xea\\xae\\xc7\\xedw\\xf6\\x0f7en\\x00@z\\xa1r\\xd8\\x88\\xces]\\xd0\\x8ca*K\\xe4c\\xea7&amp;\\xcf\\x8df\\x89&lt;\\x86\\xf0F\\x14\\xc3\\xe4\\xb7&amp;\\xb3\\xc0c@\\x19J\\xc8\\x08+\\xe52\\x94~\\xf3\\xb6gn\\x00@z\\xa1j\\xcak\\xea\\t5\\xc9g\\xbfD&gt;\\xaenc\\xd2\\xdb\\xd5\\x15y\\xefd\\x96\\xc8U\\x94%\\xf2\\xc0\\xa7\\x8e\\xf0\\x86\\xbcg2\\xa8\\xbb\\xf6|\\xb7%\\xb3\\x03\\x00\\xd2\\x0b\\x15\\xc3\\xa9\\x9d\\xf4\\x16b\\x89|\\xdb\\x89\\xdf\\xbczX\\x9d\\xc6\\xc4\\x97\\x17\\xb1\\xa6\\x90%r\\xb6&amp;\\x0b\\x1dT\\xe6\"\\xbc\\x8a,\\xbc\\x19\\xd5];\\xdb\\x9c\\xd9\\x01\\x00\\xe9\\x85\\xea\\xd1\\x93\\xad\\xf0\\x86^\"\\xef\\x1aX\\xd9\\xb3c\\x9d\\x06\\xc4\\xe4^\\x1dE\\xa0\\xc8\\x18\\x86\\x8c\\xb0\\xd8\\x9a,7\\xe1-z\\xdd\\xb5I[05\\x00 \\xbdP=\\xba\\x93\\x9e\\x8c\\xe3\\xbev\\xe8\\xd4\\xd6\\xdd\\x18\\xdc\\xa5N\\x03\\xe2\\xccv\\x0e/\\xbc\\xf9e\\x0cY\"/\\x92\\xf0Rw\\x9dD\\xdd\\xb5\\x93G#\\x1b\\x00\\xd2\\x0b\\xd5\\x97\\xde\\xf8K\\xe4I\\x0b\\x94y\\xee\\x8du\\x1a\\x10\\x93\\x0eLo\\x89\\xdc\\x12\\x1d\\xaf\\x80F\\x9e\\x9a@E\\x13\\xde\\x84\\xbf\\xcc c\\xe1M:\\xa8Tb\\xefP\\xa1\\xbak\\xa7\\xe1L\\r\\x00H/T\\x88\\xb5[c\\xb9h&gt;\\x93\\xe1\\x12\\xb9\\xe9\\xe0\\xba\\x8c\\xc9[\\xce\\xfd\\xfdf\\x92\\xed\\x9e\\x95@\\xb1D\\x1eM\\xe2\\xa2\\xaf\\x9c\\x17/\\xa8\\x0c3fq.F\\x99\\xea\\xaeMV\\xab&gt;\\x02\\x00\\xa4\\x17*\\xcf\\x16c\\x87\\xf5\\xb4\\x9d\\x8e\\x0b\\xb3D\\xee\\xf6\\x98x\\xee\\xd5\\xb5\\xa8\\xb1\\xb3\\x81\\xdeC^|\\xa6\\xd4m\\x89&lt;\\xc4\\x8d\\x97\\xd9\\x129;5$\\x12\\xa4\\x94\\xad\\xee\\xda!\\xbd\\x00H/T\\x8b\\xd5\\x03~w4\\xa3I&gt;c\\xd8\\xe1\\r=\\xdf\\xba\\'\\xd7bP\\x9c\\x7fr\\x16\\xc2\\x1b\\xf7\\xb5\\xa9,\\x91\\x07\\xcc\\xda\\x96wk2\\xea\\xae\\xcbSw\\xed\\x90^\\x00\\xa4\\x17\\xaa\\xc4\\xc0\\x88\\xa5.\\t\\x81\\xca\"ch\\x9e\\xbd\\xb3\\xea\\xe3q\\xc0yWm\\xe2\\xe4\\x8e\\nb\\x03,\\x91Wyk\\xb2\\xcc\\x83J\\xea\\xae7z{s\\xcc\\x10\\x00H/T\\x8e\"\\x08og\\xd9r\\xa6}&amp;\\x9e{\\xf5\\xaeU\\x1e\\x89a\\x83v\\xaa\\xa4a,\\x91w\\x12\\xde\\x90\\xf6W\\xfb\\x9d\\x1a\\xa8\\xbb\\x8e\\x191\\x00\\x00\\xd2\\x0b\\xd5P\\xde4&amp;\\x82T\\x96\\xc8\\x9d\\xef\\xbc\\xcfTu\\x1c\\x0e\\xea\\x9b\\xda-\\xd3\\xa7X\"\\x0f\"\\xbclMF\\xdduzc\\x86\\xf2\\x02 \\xbdPk\\x03.H\\xc6\\xd0\\xf4\\x8e#\\xbf\\xfa\\xe7\\x97W\\xf1\\xd2w{\\xcbN\\x95i\\x87P\\x03\\xc4\\x12y \\xc3gk\\xb2\\xa4\\x9f\\x115\\xaa\\xbb\\x06\\x00\\xa4\\x17\\x10\\xde\\x9c2\\x86=\\r\\xaf\\xebKU\\xbb\\xf4\\x07\\xf5M\\x1dn\\xa6\\xff\\x97\\xa6@\\x95\\xfe\\xcb\\x0c\\xd8\\x9a,\\xab\\xcfX\\x801KOxC\\xbdC\\xdau\\xd7\\x00\\x80\\xf4B\\x9d\\x84WE\\x9c\\x8c\\xdf\\xf3\\xd6s\\xaf\\xd9\\xafR\\x0f\\x10\\xb7\\xec\\x1cI\\xaf(\\xb6\\xf0Z\\xa4\\xfb\\x87%\\xf2R\\x05\\x95\\xb1\\x83\\x94\\xca\\xd4]\\xfbL\\x0b\\x00H/\\xd4Lx\\x0b\\xb9D\\xee|\\xb9\\xef\\xec\\xf5\\xbd\\xdb{\\xaap\\xf9\\x0f\\xf9\\xca\\xd5\\xafp\\xd29\\x81\\'\\xe3\\xc4\\xa2\\x97\\xb4\\x96\\xc8\\xd9\\xa9\\x81\\xba\\xeb\\x90\\x7ft\\xa9\\xea\\xae\\x01\\x00\\xe9\\x85Z\\xd8p\\x81\\x96\\xc8_\\xbb\\xd9\\xd3O\\xfeW\\xd9\\xaf\\xf0^\\xdf\\xbb\\xbd\\xc7\\xf9\\x8d\\x9fK\\x1a\\x11Xxk\\x971\\x8c&amp;\\xbcy\\nT\\xc9\\x83\\xcaH\\xe3\\xa5\\xc8\\xc2[\\xb0\\xbak\\x00@z\\x01\\xe1M}\\x89&lt;\\xf4&lt;\\xe7\\xce9\\xfc\\xdc\\xeb\\x8e.\\xf3U\\x1e\\xbfh\\xe1y\\x92\\xf6\\x8b\\xef3,\\x91\\xb35Y\\t\\xeb\\xaeU\\xc0\\xbak\\x0c\\x18\\x00\\xe9\\x85z\\x0bo\\xdc\\xd7\\xa6\\xf4e\\x06Nf?y\\xebW\\xaeyu\\x19\\xaf\\xf2[\\xfe\\xeb\\xaawJ\\xfad\\xe0k\\xcb\\x12yT\\x8f\\xad\\x91\\xf0Z\\n\\x9f\\xf8\\x14\\xeb\\xae\\xad,u\\xd7\\x00\\x80\\xf4Bm\\x84\\xb7\\xc0\\x02\\xb5\\x99\\xef\\xe9\\x86\\xc3\\xbfz\\xdd\\xb6\\xa5\\x12\\xde/_u\\xb0\\xcc~(\\xc9e+P\\t\\xcd\\xfe,\\x91\\xb7\\x1f\\xafj\\x04\\x95\\xe1\\xce\\xb0\\xd2\\xdf\\x90\\x07\\x00H/ \\xbc\\xf9\\n\\xef\\xba\\xff\\xf12y\\xfe\\x9f\\x8f\\xbc\\xf0\\xcf/)\\xc3U&gt;\\xa4\\xef\\xcfo\\x92\\xec\\x7f%\\r\\xcbVxY\"\\xcf\\x7f\\x89\\x9c2\\x94\\xf2\\x95\\xa1\\x00\\x00\\xd2\\x0b\\xf5\\xd0\\xe0\\x18\\x93q\\xa0\\xd9$\\xa9\\xc9\\xd8\\xb4\\xfb\\xe0\\x807\\xeb\\xb0\\xaf\\\\\\xbfS\\xa1\\x85\\xf7\\xcb\\x7f:\\xc69\\xffZIc\\x8a+\\xbc,\\x91\\xb35YX\\xe1\\xb5P\\xe3\\x85\\xf0\\x02 \\xbd\\x00y\\xeam\\x08\\x81\\nv\\x08\\xcb~2\\xde\\xc1\\xb9\\xc6\\xf4#\\xce\\xbd\\xf6\\xc0\\x02F\\x0f\\xee\\x90\\xff\\xba\\xea\\x13N\\xfa\\xbd\\xc2\\xec\\xd4\\x10C\"\\xc3\\xbe\\x96%\\xf2h\\x02\\x15yXD\\xddu\\xb1\\x85\\x17\\x1b\\x06@z\\xa1\\xe6\\xc2[\\xf0%r\\xa7\\x97\\xf8f7\\x1d\\xfe\\x95k\\xfa\\xfa\\xfa\\xfa\\n\\xf1\\xb9\\x9c\\xd8w\\xf5\\xd8C\\xbe\\xf2\\xe7_;\\xb3\\xcb$u\\x07\\x16^\\x96\\xc8\\x03\\to\\xf5\\x1a\\xd7\\x82\\x1e\\x82\\xba\\xebb\\xd4]\\x03 \\xbd\\x00\\xe5U\\xe0\\xb0\\xc2\\xdb\\xf4U\\xb9.\\x91w\\x9b\\xb3/\\xcd\\xe8\\xde\\xe7\\x86\\xc3\\xcf\\xbdn\\xe7&lt;\\xaf\\xe5\\xc1_\\xb9\\xea\\xd8~\\xafq\\x973\\x9b\\x9c\\x8c\\xcf\\xb0D\\xde\\xc1cK.\\xbc\\xd4]\\x17\\xb5\\xee\\x1a\\x00\\xfeM7\\x97\\x00*\\xae\\xc2\\x99\\x08T\\x9c9h\\xe8\\x12\\xb9\\x93\\x1dl~\\xe3\\xce\\xc3\\xbez\\xf5\\xc5\\xd6\\xdds\\xe1\\r\\x9f;\\xec\\xf9\\xac\\xae\\xd6[\\xfa\\xfe\\xfc*\\xe7\\xf9\\x17\\x99\\xd9\\xb1E^\"W\\xcc\\xf1*k\\xc6\\xb0T\\xc2[\\xbc\\xa0Ru\\xab\\xbb\\x06\\x00\\xa4\\x17\\xaa\\xa8\\xb6\\xd5[\"\\xef\\x95\\xf4\\x0578p\\xd6a_\\xb9\\xfar\\xbf\\xab\\xf7\\x1b7~\\xe1\\xd0\\xa7\\xd3\\x93\\xdd\\xabw5\\xaf\\xf1E\\xc9?\\xc9\\xa4\\xae\\xa2/\\x91[\\x8e\\xc2\\x1b)ch!3\\x86\\x16\\xe1\\xa2\\x84\\x19\\xaf\\x04\\x8f[\\xb6\\xa0R\\x89\\x8eAz\\xc2\\xcb\\xd6d\\x00H/@E\\x85\\xb7\\xe5k\\xc7\\xcb\\xe9?=\\xbf\\xff\\xb3\\x87~\\xf5\\xea\\xbf8\\xb9\\x9f=\\xb3\\xc5\\x16\\x7f\\x9cs\\xc6\\xde\\x03q\\xaf\\xdb\\xa1\\xe7\\xffe\\x9c\\xfaW\\x1dgr\\xef\\x92\\x1aoq\\xeb\\xf6\\xdee\\x89&lt;\\xc0\\xa1\\x0b\\xb6Dn!\\x85\\x97\\xba\\xeb@\\xc2K\\xe3\\x1a\\x00\\xd2\\x0bP\\t\\xe1\\r4a\\x14g\\x89|\\x98\\x93\\x8e\\x96\\xf9Go\\xbad\\xf1s\\x87\\xfe\\xd7\\x9fo\\x96\\xb3\\x1b=\\xd3\\xac~\\x7f\\xd4\\x03\\xd3\\xfa\\x0e^\\xd6\\xe9\\x00\\x13\\xcf\\xbdz\\x8b\\x81Fc\\x82/\\xef\\xcd\\xce\\xec-\\xd6\\xbfz_\\xc9\\xf5\\xb0D\\x1eRx\\x8d\\xad\\xc9\\xa8\\xbb.\\xae\\xf0\\xa2\\xc0\\x00H/\\xd4Fx\\x83\\xcf\\x0f%^\"\\x1f/\\xa7\\xe3$w\\x9c\\xef\\xa4\\xee\\xae\\x15:\\xf4+\\x7f\\x9e\\'\\xe91gZf\\xce-\\x93\\xf3_\\x90i\\x8cL\\x9b8\\xd3Xs\\xdai`\\xd0\\xdfDrr\\x91\\xa7E\\x96\\xc8\\xd9\\x9a\\xac\\xb2A\\xe5\\xd0\\xcfX\\xe4[\\xb7T;k\\x00 \\xbd\\x00%\\xe0\\x19I\\xc3CL\\xc8\\xd5_\"\\xdfV\\xd2\\xb6\\xe6$\\xc9_\\xf3\\xc2u\\x1e\\xe5\\x92\\x99\\x90\\xc9\\x18\\x86\\x8c\\xb0j\\xbe5\\x19u\\xd7E\\t*\\x01`\\x1dlY\\x06\\x15\\x82%\\xf2\\xf4\\x96\\xc8\\xf92\\x03\\xb6&amp;\\xabuP\\x19\\xe8\\xaf+^P\\t\\x00H/\\xd4KxY\"\\xcfp\\x89&lt;\\xa8@\\xb1D\\x1e\\xee\\xfe\\xa1\\xee\\x9a\\xa0\\x12\\xe1\\x05@z\\x01X\"\\x17K\\xe4\\xc9\\x0bo\\x9eK\\xe4\\x89~\\x99A\\xdch\\x8d\\xa0\\xb2@A%\\xc2\\x0b\\x80\\xf4\\x02\\xc2[\\x1a\\xe1e\\x89&lt;\\xb7%\\xf2\\x10V\\xc1\\x129Ae%\\x83J\\x00\\xa4\\x17\\xa0\\xda\\xc2\\x1b\\xde\\x16X\"Oo\\x9f\\xd0\\x1c\\x97\\xc8\\x03\\x8e\\x01u\\xd7\\x04\\x95\\xe5\\x16^\\x9f\\xa9\\x01\\x00\\xe9\\x85\\xba\\xbap\\xe5\\x97\\xc8\\x13P\\xd1\\x90W\\xac\\xe3\\xbb\\xe4)Pq.\\x06u\\xd7\\x04\\x95e\\x08*\\x8d\\xaf#\\x06@z\\x01j\\xb9D\\xce\\x97\\x19$\"P,\\x91\\x13T\\x96%\\xa8Dx\\x01\\x90^\\x80\\xc8\\xfa\\x18\\xee\\xa0,\\x91w\\xf0\\x89\\x92\\x0b/K\\xe4\\xd4]W(\\xa8\\x04\\x00\\xa4\\x17*k\\xb9\\x19\\x08Tz\\xc2\\x1b\\xd7\\xb4\\x8a\\xb7D\\x9e\\xc8\\xec\\x9f\\xaa\\xf0\\x86\\rh\\x86\\xfe\\xc1\\xd4]\\xc7\\xfa\\xa8\\x12T\\xa6\\x19T\\x02\\x00\\xd2\\x0b\\x08/K\\xe4\\xc9\\nT\\xe9\\xbf\\xcc\\x80\\xba\\xeb\\xcegD\\xddu\\xb9\\x82J\\x00@z\\x01\\xe1e\\x89\\xbc\\x88\\xc2\\x1b\\xa6i*\\xe8\\x9f\\xc6\\x129u\\xd75\\r*\\x01\\x00\\xe9\\x85j\\x0box[`\\x89\\xbc|K\\xe4\\x96\\xd8\\x18\\xb0D^f\\xe1%\\xa8L\\xe1\\x9bM\\x00\\x90^\\x80\\xb2\\x08/K\\xe4\\xe1/`\\x99\\x97\\xc8\\xa9\\xbb\\x16u\\xd7\\x04\\x95\\x00\\x80\\xf4B=\\xfd7\\xe1\\xa6\\x9a0\\xc2\\x1bq\\xd2b\\x89&lt;{\\x81b\\x89&lt;\\xe0\\x98\\x95=\\xa8T\\xbd\\x83J\\x00@z\\xa1\\xae\\xc2KSM\\xfb\\xe9\\x98%\\xf2\\xa8\\xc3P#\\xe1-YPi\\xf5\\r*\\x01\\x00\\xe9\\x05\\x847%\\x81\\x8a&amp;\\xbcy\\nT\\xf0\\xc9\\x92%\\xf2\\xc2-\\x91\\'\\x11\\xad\\x85x-Ae\\xb9\\x82J\\x00@z\\x01\\xe1\\x15K\\xe4M\\xa6c\\x96\\xc8\\x93\\xb8\\xcb:\\x9eC\\xa2K\\xe4\\xb5+C!\\xa8L,\\xce\\x01@z\\x01\\xca\\xad\\xbd\\xf9\\n/K\\xe4,\\x91\\xa77f\\x08/Ae\\xa2A%\\x00\\xd2\\x0bPu\\x1ff\\x89\\x9c%rU|\\xa7\\x86\\xaa\\n/Ae\\x16A%\\x00\\xd2\\x0b\\x80\\xf0\\xb6q]\\x96\\xc8\\xc9\\x18\\x96Q\\xa0\\x82\\x1e\\x82\\xba\\xeb\\xca\\x05\\x95\\x00\\x80\\xf4BM]8\\xc2\\xe4\\xc2\\x12y\\x99\\x85\\x97\\x8c!u\\xd75\\x0e*\\x01\\x00\\xe9\\x85\\xaa\\x9b-K\\xe4\\xca\\xbd\\x8b\\xbcl\\xc2\\x1b?cH\\xdd5A%\\xc2\\x0b\\x80\\xf4\\x02\\xe4&amp;\\xbc,\\x91+\\xf3%r\\xab\\xf4\\x12\\xb9QwMPY\\xfc\\xa0\\x12\\x00\\x90^@xY\"\\x8f*\\xbc,\\x91SwMPY\\x8a\\xa0\\x12\\x00\\x90^@x\\xcb\\xd0TS*\\xe1\\x8d\\xa1\\x8f\\xe1\\xde\\x81%r\\xea\\xae\\t*\\xe3\\x05W\\x00H/\\x00\\xc2\\xdb\\xd6u\\x0b\\xb4D\\x1e\\xe0\\xb5\\x99/\\x91\\'(PqN\\x93%\\xf2\\xf0\\xe3\\xa5\\x98\\xe3EPY\\xae\\xa0\\x12\\x00\\xe9\\x05@x\\xdb\\x1c\\xba`K\\xe4\\x16RxY\"\\x0f$\\xbc,\\x91\\x13TV&amp;\\xa8\\x04\\x00\\xa4\\x17j\\xea\\xc2\\x11&amp;\\xa28\\x19C\\x96\\xc8\\xf3\\x16^\\x96\\xc8KSwMP\\x99\\xf2g\\x0c\\x00\\x90^\\xa8\\x9d\\xe6\\x86\\x99\\x0cX\"\\x0f?\\x19\\x877r\\xbe\\xcc\\x80\\xbak\\x82J\\x84\\x17\\x00\\xe9\\x05\\x885\\x05\\xb3D.\\x96\\xc8\\x13\\x15^\\x0b\\x9a8\\ru\\x01\\xa9\\xbb&amp;\\xa8\\xcc*\\xa8\\x04\\x00\\xa4\\x17\\x10\\xde6/c\\x89\\x9c%\\xf2\\xf6\\xaf\\xa2\\x0c\\x85\\xa0\\xb2\\x0cA%\\x00 \\xbdPy\\xfd\\x8d8\\xcb\\xb2D\\x1e\\xeaz\\xb1D\\x1eEx\\x83F\\r\\xd4]\\x13T\\xc6\\x0b*\\x01\\x00\\xe9\\x05\\x84\\xb7\\x8d\\xeb\\xa6\\xb8D\\x1eK/\\x03\\xe9S\\\\\\xdb\\xceT\\xa0\\xe2\\x9c&amp;K\\xe4\\xe1\\xc7K1\\xc7\\x8b\\xa0RlM\\x06\\x80\\xf4\\x02\\x14PxCL.\\x99-\\x91\\xb3SC\"\\x02\\xc5\\x12y\\xb4\\x0f\\x06u\\xd7\\x04\\x95\\x00\\x80\\xf4B\\x15\\x857\\xe0\\x04[\\xfd%rUXxY\"\\xcf\\xad\\xee\\xba\\x88A\\xa5\\x92\\xfe\\x8c\\x957\\xa8\\xf4\\x99\\x1a\\x00\\x90^\\xa8\\xbb\\t\\'\\'\\xbcqM+\\xbb%\\xf2\\xe43\\x86,\\x91g+\\xbcq_\\x9bJ\\xdd5Ae\\xb9\\x82J\\x00@z\\xa1\\xca\\xc2\\xcb\\x12y:\\x19\\xc3\\x8a/\\x91\\'\\xa0\\xa2!\\xafX\\xc7w\\xc9S\\xa0\\x08*+\\x10T\\x02\\x00\\xd2\\x0b\\x08/K\\xe4a\\x857\\xcc\\xe4]\\xd2%r\\xea\\xae\\x13\\tR\\x08*\\x0b\\x12T\\x02\\x00\\xd2\\x0b\\xf5\\x15^E\\x16^\\x96\\xc8\\x13\\x9fVY\"\\x0fr\\xcb\\x95\\\\x\\t*\\xf3\\x0f*\\x01`}\\xba\\xb9\\x04PFzF\\x0cX\\xa31\\xec\\xd9\\xb2,\\x91K\\x92\\x8bh\\x87~\\x88\\xd7\\xb6\\xfcW\\x17\\xe2\\\\\\xfd\\xac\\x04*L,\\x13\\xf4\\xea\\xf9y-\\x91\\x8f\\x944,\\xbc\\xd1PwMP\\x89\\xba\\x02 \\xbd\\x00m\\xf8\\xbfs\\x8e{A\\xd2\\xa6\\\\\\t(\\x02\\x07\\x9c\\xf3\\xeb\\x1f\\xca\\xb9\\xf7\\xd7\\xfe\\x1b\\xf2\\xa8\\xbb\\xee|Fig\\xe5\\xd9\\xbe\\x01\\xa0%\\x947\\x00\\x00$B\\x11\\x847\\xcc\\x97U\\x04\\x95F\\xea\\xae\\xcbWw\\r\\x00H/\\x00@j\\xca\\x9b\\xfc+\\xd3[\"\\x0f\\xbaSC\\xbau\\xd7\\xa1\\xce\\x95\\xbak\\x84\\x17\\x00\\xe9\\x05\\x00(\\x98\\xf0\\xd6$c\\x18Wx\\xf3l\\\\\\x0b\\xfe\\xf7V\\xb0\\xee\\x1a\\x00\\xe9\\x05\\x00\\x80\\xe4\\r\\xb8\\xac\\xc2\\xcb\\xd6dU\\xab\\xbb\\x06@z\\x01\\x00 e\\xe1U\\x85\\x85\\x97\\xad\\xc9\\xcaPw\\r\\x00H/\\x00@\\x06\\xc2\\xcb\\xd6d\\x85\\xdb\\x9a,1\\x89\\xcc\\xbb\\xee\\x1a\\x00\\x90^\\x00\\x80\\x82\\xdap\\xed\\xb6&amp;S\\x01\\xb7&amp;\\xabI\\x19\\n\\x00 \\xbd\\x00\\x00%\\x16^K\\xe8l\\xc2)e\\xe4\\xad\\xc9\\x8c\\xad\\xc9\\x10^\\x00\\xa4\\x17\\x00\\xa06\\xc2\\x1b\\xf7\\xb5q\\x05*\\xcei\\x96uk2\\xd5\\xf4+\\xa1\\x01\\x00\\xe9\\x05\\x00\\xc8Mx\\xd9\\xa9!{\\xe1M\\xa7q-\\xe8!\\x10^\\x00\\xa4\\x17\\x00\\x00\\xe1\\x15;5\\x94Qx\\xd9\\x9a\\x0c\\x00\\xe9\\x05\\x00\\x80\\xc4\\x857\\x90\\xe8\\x14Nx\\x83V\\x1e\\xd7tk\\xb2\\xd0!Sp\\xe1E\\x89\\x01\\x90^\\x00\\x80,\\xf46\\x84@\\x05;\\x84\\xb15\\x99\\xc2\\xd6G\\x17~k\\xb2\\xb4\\xeb\\xae\\x01\\x00\\xe9\\x05\\x00(\\x86\\xf0\\x96dk\\xb2\\x88b\\x98\\xea\\xd6d\\x16Rx\\xf9\\x86&lt;\\x00@z\\x01\\x00\\n$\\xbc1\\xf41\\xdc;\\x84\\x10^ck\\xb2\\xf2\\t\\xaf\\xcf\\xc7\\x11\\x00\\xe9\\x05\\x00(\\x9e\\x1c\\xa7!P1\\\\\\x9b\\xad\\xc9\"\\x8c\\x97b\\x8eW.e(\\x00H/\\x00\\x00\\xc4V[\\xb6&amp;\\xcb\\\\x\\xf3\\xdc\\x9a,\\xcf\\xba\\xebh\\xdf\\x90\\x07\\x80\\xf4\\x02\\x00\\x00\\xc2+\\xb6&amp;ks\\xa0\\xd2\\xd7]\\x03 \\xbd\\x00\\x00\\x90\\xa3\\xf0\\x06\\x92\\x97\\n\\xee\\xd4P*\\xe1m\\xfa\\xaa2\\xd5]\\x03\\xd4\\x9bn.A\\xf19\\xa6\\xefO#\\x1b#G\\x8fUWc\\xac\\x06\\xfd\\xb1\\r\\xcf\\x1b\\xffb\\xd4\\xe2k\\xbc9\\xe76\\xfc\\x8d\\xc6\\xc6\\x07idy\\xc6\\x8d\\xceo\\xdd\\xc8\\xf6\\x1c\\xa2\\xfeJ#\\xebsH\\xe8\\xd7\\x1bi\\\\\\xe4F6\\xbf\\xd4H\\xf4\\x85\\xd9\\xdc\\xf8f\\xb6C\\xed\\x96\\xc8-\\xe4N\\r\\x89\\xbbY\\x0e[\\x93\\x95\\xba\\xee:\\xc6\\x95^\\xf8\\xa9\\x13%s\\xb5\\x9b|\\x9dV\\xcby+\\xd6&lt;J\\xdcjy\\xf6\\xac\\xba\\xbcg\\xb4l\\xe43n\\x87\\xbeU\\xd8\\t\\xd2\\x0b!9\\xf6\\x82\\x19c\\x06\\xdd\\xc0+${\\x85\\xc9\\x7f\\x85\\'\\xb7\\xbd\\xc9\\xb61\\xb9-\\x9d\\xb4\\x8d\\xa4\\xad\\x1a\\xb2\\xe1\\xa6\\xc6\\x9a\\xf9\\xdby\\xf2\\x864\\xe7\\xba\\r\\x1e|&amp;i\\xe3gS\\xf3\\xc7UZ\\x0fw\\xd7\\xe1l\\xd6\\xfdc\\x9a]\\xe4.|\\x17\\xb9\\xdb\\xf8\\'\\xae\\xfdE\\xe90\\x1d\\xbb\\x80\\xafo\\x91\\x81r\\xd1\\xc7\\xcb\\xb5\\xbe\\xf2\\xd1\\x05*\\xc0\\x98m\\xbcD\\x1ep\\x9e\\\\O\\xa0\\\\\\x8c\\xf1j9\\x82,\\x91\\x078t\\x11\\xb6&amp;c\\xa7\\x86BnM\\xe6\\xf4+\\xc9\\xd5\\xd3\\x17\\xd6\\xdd(\\xde\\xda\\xff\\xdfhH#^\\x90-\\xfa\\xd4rI\\x0b$=.\\xe91I\\x8f\\xcb\\xdc\\x83\\xb2\\xc1\\xbb\\xb5\\xf5\\xf8\\x87\\x9c\\xeb\\x1b\\xc4p\\x90\\xde\\xda2\\xe9\\xca+\\xbb^x|\\xd3\\t\\xce\\xbc\\xd7:\\xa7\\xddL\\xfek\\x9c\\xdcn\\x83Z\\xfd\\xd2u\\x0f/\\xa7u\\xa2\\xe66\\xd0\\xc6\\xb8\\xd9\\x8c&lt;\\x1f\\xee\\xd9g3\\xca\\xd6En\\x89\\x8e\\x97b\\x8eW%\\xbf\\xcc e\\xe1\\x8d\\xfbZ\\xb6&amp;\\x8b\\x1aT\\xd6]x)k\\xc8\\x99Q\\x92vZ\\xfb\\x7fk\\'q\\x93\\\\\\x97\\xb4\\xf8\\x85U\\xb6\\xf8\\x93\\xf7\\xca\\xdc\\xedr6S\\xea\\x9a\\xe9\\xb6\\xba\\xe8a.\\x19\\xd2[Y&amp;~\\xf3\\xea\\xb1]\\xab\\x87\\xbd\\xd9\\x97\\xdbO\\xce\\xed\\xbb\\xe2q{\\xbd\\'\\x8d^\\x97-s\\x013Pd3B*\\x00]\\xe4\\xb9\\to&amp;K\\xe4\\t\\xa8h\\xc8+FPY\\xea\\xa02\\xd9\\xf1*eP\\ty0\\\\\\xe6^\\'\\xe9u2w\\xba\\xe4\\xcb\\x16}j\\xa1\\xcc\\xfdE\\xd2\\x9f5|\\xf0z\\xb7\\xc9\\xd7\\x9f\\xe32!\\xbd\\xa5e\\xaf\\xef\\xdd\\xde\\xb3\\xe5\\xd2\\xe7\\x0f\\xf4\\xcc\\xbdENo\\xd1j\\xede\\xeb\\xae\\xafY\\xf3%\\xc4\\xc4\\xb2\\x19\\xc9?\\xdc\\xe9\"/\\x92\\xf0\\xe6\\xb4D\\x1e\\xe2\\xc6\\xcbl\\x89\\x9c/3 \\xa8$\\xa8d\\xc2-\\'[\\xcb\\xd9i\\x92N\\xd3\\xea\\xaeA[\\xf4\\xa9\\xe9r\\xfa\\x8d\\xfa\\xfd\\xdf\\xbam/{\\x86\\xcb\\x83\\xf4\\x16\\x9e\\xc3/\\xbanT\\xaf\\xba\\x0f\\x91s\\x93l\\xe9\\xd2c$7\\xbe}\\x19g\\xdeK\\xe4\\x89\\xcc\\xfe\\xc5\\xccf\\xb0D\\xae\\xc4\\x97\\xc8\\x03\\x8eA\\xf5\\x97\\xc8\\t*\\t*\\xcb\\x18TB\\xc1\\xdd\\xeb\\x10\\x99\\x0eQ\\x8fw\\xb9-\\xfa\\xd4\\xb5\\x92\\xffcm5\\xff*\\xe7\\xa64\\xb8&lt;Hoa\\x98t\\xe9\\xac\\x11+\\x1b\\xfd\\x87\\x9a\\xb3wIv\\x9cI\\xbd&lt;\\xdcs\\xcef\\xb0D.\\x96\\xc8\\t*\\t*\\t*\\xa1\\x8cX\\xaf\\xa4c%w\\xac\\x16o\\xfb\\xb8-\\xfa\\xd4w\\xe5\\xeb\\x87n\\x9bK\\x9e\\xe2\\xda \\xbd9\\xdd\\x93\\xe6&amp;^|\\xd3\\xc1]^\\xd7\\xfbW\\xf8\\xab\\x8f\\x93\\xd3\\xa8jg3\\xc2\\xd4\\xb7\\xe5\\x9d\\xcd`\\x89\\x9c%r\\x82J\\x82J\\x82J(\\xa5\\\\\\x0c\\xfd\\x87\\x97Kv\\x9e\\x9c\\xfal\\xd1\\xd9?\\xd5\\xe0\\xe0W\\xdc\\xcb.\\x9f\\xcfuBz3\\xe1\\xf0\\x8b\\xae\\xdb\\xb2[\\xc3\\xde\\xed.\\x99\\xf6A9o\\'\\xb3(\\xcb\\xa11&amp;\\xe3$\\x9e\\x9a\\xa9f3\\x82&gt;\\xdc\\xd3]\"\\x0fu\\xae,\\x91\\xa7 \\xbc,\\x91\\xa7\\x13TRwMP)*\\x1a\\xea#\\xbc\\xeb?S\\x87\\xc9t\\xba\\xba\\xba\\xdfm\\x0b\\xcf\\xfe\\x91\\xba\\xed\\xabn\\x8b\\xaf/\\xe4\\x9a!\\xbd\\xa9p\\xf4\\x857\\xef\\xa4.\\xfb\\x88\\x99}P\\xb2\\x11\\xb9e3*\\xf3pOWx\\xf3\\x14\\xa8\\xe0\\x7f/K\\xe4,\\x91\\xa7`0\\xd4]\\x13TB5d\\xb7\\xf9\\r;L\\xd2Y\\x1at\\xef\\xb6\\x85g\\x7fK\\xdd=_s[\\\\\\xf8\\x02\\xd7\\x10\\xe9MFv/\\xb9\\xe9-f\\xee3&amp;\\xffpY\\xab=\\xf2\\xc9f\\xb0D\\x1e_\\xa0X\"\\x8f6)\\xd4u\\x89&lt;\\xcf\\xa0R9~\\xc6\\x08*\\x11\\xdeZ\\x08o\\xc7\\xb1\\xb6Q\\x92\\xce\\xd1`\\xff;l\\xe1\\xc7?\\xe9\\xb6\\xfe\\xc6\\x14\\xae%\\xd2\\x1b\\x99c.\\x9ez\\x80\\xc9}\\xd9\\xcc\\x0e!\\x9bQ\\x82l\\x06\\xc2\\xab\\xdc\\xbf\\xcc\\x80%r\\x82J\\x82\\xca\\xe2\\x04\\x95PN\\xd9\\r&amp;\\xbc\\xeb\\xff\\xc7\\xcb$w\\xa5-\\xfc\\xc4\\x9fev\\x96\\xdb\\xe6\\x1b\\xff\\xe2\\xda\"\\xbd\\x819\\xf2\\xe2\\x1b\\xdf\\xe4\\xc9\\xfb\\x9aI\\x07t\\xce\\x03\\x91\\xcd`\\x89\\xbci\\x88\\x12\\xf7\\xcdC\\xbd\\x96\\x9d\\x1a\\x08*\\t*s\\x0e*\\x0b\\xd7\\xcc\\x0b\\xa5\\x14\\xdep\\xb2;\\xf4gG\\xc9\\xe9\\x1e[\\xf4\\x89O\\xba\\x97|\\xfd\\x87\\\\c\\xa4\\xb7\\xbd\\xec^r\\xcb\\xab\\xba4\\xf8U3M\\xe2\\xe1^\\xa6lF\\x01\\x97\\xc8k\\x971\\xa4\\xee\\x9a\\xa0\\xb2\\xe6Ae\\xd8\\xe3\\xb2S\\x03\\xc2\\x9b\\xac\\xf0\\xae\\xfb\\x1fcd\\xf6\\x03[\\xf4\\xf1#5\\xe0}\\x80/\\xb8@z7\\xe2\\x88Kgm\\xda\\xed\\xf7\\x7f\\xc5S\\xe3\\x83f\\xeaAxK\\xb6Dn,\\x91\\xe7+\\xbc\\n=^|\\xc6\\x08*\\t*\\xd3\\n*\\xa1t\\xb2\\x1bh\\x8cC\\xca\\xb0\\xaf\\xb7\\xa9\\xcb\\xdf\\xdb\\x16}t\\xb2{\\xc9\\xe5\\xb7r\\xed\\xdb\\xe3\\xd5\\xe3\\xfe3w\\xf4%7\\x9f\\xd6c\\xfd\\xf79\\xa7\\xb3\\xcc,\\xa0\\xf0\\xd68\\x9b\\xc1\\x12yL\\xa3\\xa9\\xa2\\xf0\\xb2DNPIPY\\x8c\\xa0\\x12J\\'\\xbc\\xd6i\\xde\\xb367\\x815\\x7f\\xc8\\xbc\\xf8\\\\\\xb6m\\xe5\\xbbi\\xb6\\xe0\\xe3\\x1f\\xe4\\xfa\\xd7\\\\z\\x8f\\xbbx\\xfa\\xae\\xc7\\\\z\\xf34\\xc9~*iK\\xb2\\x19e{\\xb8W9c\\x18{\\xf6Ou\\xbc\\x14YxY\"\\'\\xa8$\\xa8L5\\xa8\\x84\\x82\\xcan\\xaa\\xe5\\x0c\\x9d\\xee\\xafa\\x92}\\xdf\\x16|\\xec\\n\\xb3&gt;6)hAe/\\xcc\\xa4+\\xaf\\xecZ1o\\xabO7\\xe4\\x7fy\\xcd\\xcd@6\\x83\\x8ca\\x91\\x84\\x97%r\\x82J\\x82J\\x82J\\x84\\xb7:\\xc2\\x9b\\x81\\xec\\x06\\xbb\\xbf&gt;\\xa4\\x85O\\xbf\\xd2\\x9e\\xfe\\xe8\\xdb\\xddf\\x97/el6\\xa4\\x92\\x99\\xde\\x89\\x17\\xde\\xf8\\x8a\\x95\\xf3\\xb6\\x9c\\xead\\xe7\\x0f\\x15\\xde\\xbaf3\\xf2|\\xb8G\\x17\\xde\\xa0\\x02\\xc5\\x12y\\xb8\\x91f\\x89\\x9c\\xa0\\xb2\\xea\\xc2\\xcb\\xd6dP1\\xe1\\xdd\\xb0\\x9c\\xa1\\xcd\\xef\\x99$\\x1d\\xaa\\xd5\\xba\\xd1\\x16\\x7f|+\\xc6\\xa7\\xe2\\xd2{\\xf4\\xa5S?\\xd4\\xd5\\xd5u\\xb7\\xa4\\x03\\xc9f\\xb4|\\xf7\\xe2g3\\xd2^\"W\\xc8\\xf1J\\xf0\\xb8\\xc1_\\xc5\\x129Ae\\x9aA%\\xc2[\\xae\\xa0\\x12\\x8a\\'\\xbb\\xd6\\xe6a\\x92z9C\\xa7\\xdf\\xdb[\\r\\x7f\\xba\\xcd;\\xfb\\xa5\\x8c\\xd5\\xbf\\xa9Ly\\xc3\\xb1\\x17\\xcc\\x18\\xd3\\xe8\\x1e\\xfc\\x9eL\\xa7\\xf0p/X6#\\xa2\\x18\\xa6\\xbaDn!\\x85\\x97%\\xf2@\\xc2KPIP\\x19i\\xbc\\x08*\\xa1t\\xc2\\x1b\\xe5s\\x98\\x86\\xec\\xb6\\xfd\\xf9\\xab\\xd4\\xd5?\\xc3\\x16}\\xe4\\x10\\xf7\\x92o=\\xca\\xb8U$\\xd3{\\xcce\\xd3_g\\xdd\\x83\\xffpj&amp;\\xbc\\xf1\\x1f\\xee\\xa5\\x12\\xde\\x18\\xfa\\x98Z6\\xc3X\"\\xa7\\xee\\x9a\\xa02\\xb5\\xa0\\x92\\xba\\xeb\\x8a\\x07\\x95P,\\xd9-\\x92\\xf0\\x06)up\\xdb\\xcb\\xd7\\r\\xf6\\xc4Y\\xdb2~\\x15\\x90\\xdec.\\x9ev\\x8a\\xf9\\xfe-&amp;\\xbd\"\\x9e\\xf0Z\\n\\x0f\\xa2\\x1c\\xb2\\x19\\t&gt;\\xdc\\xb3\\xcff\\xb0D^\\xdd\\xba\\xeb\\x8a\\x04\\x95\\xd4]\\x13Tf\\xfd\\x19\\x83\\x02\\to+\\xb7\\x0c\\xb9\\xddX\\xbb\\x9f\\x99\\xa2\\x963\\xb4{P\\xed(y\\xd4\\xf8\\x96Yz\\']ye\\xd71\\x97L=\\xdf\\x9c~)idv\\xd9\\x8c\\xa0\\x0fw\\xb2\\x19,\\x91\\x87\\xf5\\xeb*/\\x91\\x1bu\\xd7\\x04\\x95\\x04\\x95\\x08o\\xf5\\x847\\xb5\\xecn\\x14\\x89n\\xf2y\\xfc\\xf7\\x7f\\xee\\xa4\\xc1\\xc1\\xeb\\xec\\xd1O\\x8cGzK\\xc6\\xc4o\\xde:v\\xe5\\xbc-\\xaf6\\xb9s\\xc8fT$\\x9b\\xc1\\x12yn\\xc2K\\xdd5A%A\\xa5\\xd8\\x9a\\x0c\\xc2\\tf1\\x9a\\xd5Z\\x9f\\xab5\\xfd\\xd9\\x1e\\xea\\xed\\x9fb\\xb7\\x9f\\xde\\x83\\xf4\\x96\\x84#.\\x9b\\xbeu\\xd7\\xc0\\xaai\\x92\\x0e\\'\\x9bQ\\xaclF\\xe4\\x87{\\xd1\\x9aj\\xa8\\xbb\\x0e$P\\x04\\x95\\x04\\x95\\x04\\x95\\xec\\xd4Pm\\xe1m\\xe5\\x96\\xa9}\\xb3Z|\\x896uXar\\x87j\\xeb\\x9e\\xef\"\\xbd%\\xe0\\xb8\\x8b\\xa7\\xef\\xda\\xe3\\xfb\\xb7J\\xda\\x93lF\\xf1\\xb2\\x19\\x91\\x9aj\\x12Z\"O\\xb4\\xa9&amp;\\x9emg*PqN\\x93%r\\x82\\xca\\xa0\\xf7\\x0f\\xcd\\xbcY\\x06\\x95\\x90\\xbf\\xec\\x96\\xadY\\xad\\xd5\\xb3\\xa7\\xe5q\\xdfg\\x0b\\xce\\xfa8\\xd2[`\\x8e\\xb9d\\xea\\xbe\\r\\xe7\\xcf\\x90\\xb4\\x1d\\xd9\\x8c\\xaad3\\xf2\\xae\\xbb&amp;c\\xc8\\x129Ae\\xb4\\x80\\x86\\xa0\\x12\\xe1\\xad\\xaa\\xf0\\xb6r\\xcb\\xc27\\xab\\x85\\xf8=\\x93L\\x97\\xd8\\x13g\\x1e\\x8a\\xf4\\x16Qx/\\x9ez\\x80\\xc9]\\'i\\x934\\xb3\\x19\\x01\\x9e\\x9ed3\\x12{\\xb8\\x17a\\x89&lt;h\\xd4\\xc0\\x129A%A%A\\xa5\\xd8\\x9a\\xac\\xae\\xc2[\\x9ef\\xb50\\xe7\\xd3%\\xb9_\\xd8\\xfc\\x8f\\xbe\\x0c\\xe9-\\x92\\xf0^z\\xd3\\x9b\\xcd\\xb9k$\\x8dM;\\x9b\\xc1\\x12yV\\xd9\\x0c\\x96\\xc8\\xa9\\xbb&amp;\\xa8$\\xa8$\\xa8\\x84\\xa2\\xc8n\\xa5\\x9a\\xd5\\xc2\\xfc\\x8d[\\xca5\\xa6\\xd8\\xdcI\\xbdHo\\x018\\xea\\xb2\\xa9\\x87\\x9ay\\xd7J\\x1aM6\\xa3*\\xd9\\x0c\\x96\\xc8+\\xbfD\\x9e@\\xb8GPIPY\\xab\\xa0\\x12r\\x14\\xdeV\\x8eX\\xe6f\\xb5P\\x12\\xbd\\xaf\\xc6o\\xfe_Ho\\xce\\x1cy\\xd1M\\xfb8\\xdf\\xfdA\\xd2\\xf0jd3\\x92\\x7f\\xb8\\xb3D^$\\xe1\\xcdi\\x89&lt;\\xc4\\x8d\\x97\\xd9\\x129;5\\x10T\\x12T\\xe2\\x93\\x85\\x97\\xdd\\xca7\\xab\\x05\\xfb\\xd9\\x9aC|\\xc6\\xe6\\x9fu0\\xd2\\x9b\\x97\\xf0^z\\xf3\\xee\\x9e\\xe7]\\xadN\\x19\\xdeRe3\\x92\\x7f\\xb8\\xb3D\\x9e\\xedd\\x1c\\xf7\\xb5\\xa9,\\x91\\x07\\x1c\\x83\\xea/\\x91\\x13T\\x12T\\xb25\\x19\\xc4x\\x9aV\\xb1Y\\xad\\xd3\\xcfl}\\x17\\xf4\\x7ff\\x8f\\x9f\\xb9\\t\\xd2\\x9b1\\x13/\\xbc\\xf1\\x15\\x9e\\xd9_$mZ\\xcflFI\\x1e\\xee5\\\\\"\\xcfS\\xa0\\xe2\\\\\\x8cz,\\x91\\x13T\\x12T\\xa6\\x10T\\x86\\x15^vj(\\xaf\\xf0V\\xb3Y\\xad\\xf5\\xb3z\\xe3\\x97\\xbdL]v\\x19\\xd2\\x9b!G\\\\:k\\xd3.\\xaf\\xeb\\xcf\\x92\\xb6\"\\x9b\\xd1i\\xee\\x0fZ\\xdf\\xc6\\x12y8\\x9fa\\x89\\x9c\\xa0\\x92\\xbak\\x82J\\xb15Y\\xe5d\\xb7\\xb6\\xcdj\\x01\\xc4\\xe9\\xc5\\x7f|\\xb7\\xcd;\\xe3\\xadHo\\x06L\\xea\\x9b\\xdb\\xdb\\xa3\\xfe)rz5\\xd9\\x8ct\\xb2\\x19\\x01f\\xd9\\x14\\x1e\\xee,\\x91\\xb3D^\\xc6\\xa02\\xc1\\xf1\"\\xa8$\\xa8\\x84\\x9c\\x85\\xb7\\x95#\\xd6\\xa6Y\\xad\\xc5i5\\xf9G\\xe7\\xbegO\\xbeo\\x0c\\xd2\\x9b\\xea=in\\xe5\\x98\\'\\xff[\\xa6C\\x12\\x7f\\xb8\\x93\\xcd\\x08\\xf8pOOx\\xe3\\x9a\\x16K\\xe41fY\\x96\\xc8\\t*\\t*\\x8b\\x15TB\\x86\\xb2K\\xb3Z\\x84\\xc9\\x7f;\\xf5\\xf7~\\x15\\xe9M\\x91\\xa3.\\x9d\\xfeYI\\xa7\\x16\\xff\\xe1N6#\\x8a\\xf0\\x921\\xcc^xY\"\\'\\xa8$\\xa8\\x14[\\x93\\xd5Zx[\\xb9em\\x9b\\xd5\\x82\\x1f\\xd7\\xec\\xc3\\xf6\\xaf\\x0f\\xed\\x86\\xf4\\xa6\\xc0\\xd1\\x97\\xdc\\xf4\\x16\\'\\xfbj\\xd1\\x1f\\xeed3\\xc2\\n\\x14\\xc2\\x1bn_\\xd1\\xa0\\x7f\\x1aK\\xe4\\x04\\x95\\x04\\x95\\xa5\\x0c*!\\x7f\\xe1\\xad}\\xb3Z\\xe0s\\xed\\x92g_Gz\\x13\\xe6\\x98o\\xcc\\xd8N\\xf2~%\\xa9\\xbb\\xe8\\x0fw\\xb2\\x19,\\x91\\xa7\\xb7Dn\\x89\\x8d\\x01K\\xe4\\x04\\x95\\x04\\x95*`\\xdd5d#\\xbbQ\\x9a\\xd5\"\\x94\\x0f\\x94\\xbbY-\\xe8\\xcf\\xdeb\\xf3\\xce8\\x12\\xe9M\\x88\\xbd\\xbew{\\x8f\\r\\x0e\\xfeV\\xd2\\x16d3*\\x94\\xcd`\\x89\\\\,\\x91\\x13T\\x12T\\x16)\\xa8Ln\\x0c\\xd8\\xa9\\xa1\\xc8\\xc2\\xdb\\xca\\x11\\x13\\x12\\xd3\\r\\xfe\\xa9\\xe4\\xcdj\\xc1%\\xfa\\x12\\xbb\\xfd\\xf4\\x1e\\xa47\\x01\\xb6^\\xb6\\xec\\xab\\x92^O6#F6#\\xf2\\xf4\\xc1\\x129K\\xe4\\x04\\x95\\xa5\\x0c*i\\xe6-YP\\t\\xe9\\xcb.\\xcdj\\xd1n\\xee\\x8eu\\xbd\\x92\\xb4\\xb3\\xb6\\xd2\\x99HoL\\x8e\\xb9\\xf4\\xa67K\\xfaT\\xa9\\xb2\\x19\\td(\\x12\\xcff\\xf0e\\x06\\xedG\\x8c%\\xf2\\xa8\\xc3@PY\\xd4\\xa0\\x92f\\xde\\x12\\x05\\x95\\x90\\xbe\\xf0\\xb6rK\\x9a\\xd5\\xe2\\t\\xef\\x06\\xff\\xd0g\\x0bN\\xdf\\x1c\\xe9\\x8d*\\xbc\\x17O\\xdd\\xdc\\xcc\\xfb\\xa5\\xa4\\xaeRe3j\\xf7p\\x8f&amp;\\xbc\\xd4]g;^\\xc1\\xb3\\x1a\\x04\\x95\\x04\\x95\\x04\\x95\\x99\\x06\\x95\\x90\\x8f\\xf0\\xd2\\xac\\x16]\\xf8\\xad\\xe9sf\\x13\\r\\xea\\x0bHoD|\\xb9oK\\xda\\x86lFU\\xb2\\x19,\\x91\\xb3DNPIPIP\\tY\\xc9.\\xcdj\\x01n\\xec\\xf0?k\\xf7\\x0cvv\\x86-\\xfa\\xd0\\x96HoH\\x8e\\xbet\\xda1\\xceir\\x91\\xb3\\x19\\xca1\\x9b\\x91\\xe7\\xc3\\x9d%\\xf28\\xc2\\xcb\\x129A%A%A%\\xa4/\\xbc\\xad\\x1c\\x91f\\xb5\\xc8\\x12m\\x16\\xe4\\x19&lt;R\\x03\\x8dO\"\\xbd!8\\xfe\\xb2\\xa9\\xe3e\\xba\\xa2\\x9e\\x0f\\xf7\\xa0~\\xcd\\x129K\\xe4!\\xcf\\xb0\\xd2;5TUx\\t*\\xab\\x1bTB:\\xb2K\\xb3Z\\x80\\x87P\\xf8\\x9fY(Q\\xfeH\\x15j{3\\x93\\xde\\x01\\xdf]&amp;\\xe9\\xa5&lt;\\xdc\\xab\\x92\\xcd`\\x89\\x9c\\x8ca\\xb9\\x82J\\xea\\xae\\t*\\xd9\\xa9\\xa1\\x8c\\xc2\\xdb\\xca\\xc9\\n\\xdc\\xac\\x16:\\xbb\\x9b{\\xb3Z\\x90\\xdf\\x1b%\\xdf\\xff\\x18\\xd2\\x1b\\x80c.\\x9ez\\x80\\x93\\xde\\x9d\\xe6\\xc3\\xbdT\\xc2\\x1bC\\x1f\\x8b\\x91\\xcd`\\x89\\x9c\\x8c!A%A%A%\\xe4$\\xbcEoVKJL[\\xbeu\\xe2\\xcdjAE\\xf9c\\xf6\\xe8{\\xc6#\\xbdm\\x98t\\xe5\\x95]\\xe6\\xdc\\xb7$\\xb9\\xf8\\xc2k\\xe1\\xb3\\x19Q\\x1e\\xeeig3\\x12|\\xb8g\\x9f\\xcd\\xa0\\xee\\xba|\\xc2[\\xb3\\xa0\\x92\\xbak\\x82\\xca\\xac?c\\x90\\xb0\\xec\\xd2\\xac\\x16\\xe0f\\x8e\"\\xad\\xd1D\\xf9\\xdf?\\x1b\\xa7\\xae\\x9e\\x8f \\xbdmX1o\\x8b\\x8fJ\\xda#\\xb7l\\x86\\x91\\xcdH.\\x9b\\xc1\\x12y\\xb5\\xeb\\xae\\x8d%r\\x82J\\x82J\\x847g\\xe1m\\xe5]4\\xab\\xa5\\xdc\\xac\\x16\\xecg\\xce&gt;a\\x8b\\xde5\\n\\xe9m\\xc2\\xb1_\\xbfa+O\\xae\\x8flFE\\xb2\\x19,\\x91\\xe7&amp;\\xbc\\x99}C^L\\x15%\\xa8$\\xa8\\xacUP\\t\\t\\xca.\\xcdj\\x01n\\xe4\\xf0?\\xb3\\x043\\xe3k\\xfey3\\xad\\x1e\\xf6\\x0e\\xa4\\xb7\\xd9\\xb5it\\x7f\\xc9\\xa4qd3DS\\x8d\\xa8\\xbb\\x8e\\xfa\\xfeq2\\x86\\x04\\x95\\x04\\x95\\x04\\x95\\xec\\xd4P|\\xe1m\\xe5d4\\xabe\\xdc\\xac\\xa6@\\xe5%\\xceJ\\xdb\\xd0\\x96\\x9a\\xf4\\x1e}\\xe1\\xcd;I\\xfa\\x00\\xd9\\x8cbe3\"5\\xd5\\xa4\\xb2D\\x1e\\xee\\x02Rw\\xcd\\x129A%Aeq\\x82JH]xiVS.\\xcdjm\\x03\\x90\\x17\\x99`\\x8f\\xbf\\xef\\x00\\xa4w}\\xba\\xed\\\\\\x93z\\xc8f\\x94=\\x9b\\x91\\xd6\\x12\\xb9\\x05\\x1e\\x032\\x86!\\'\\x11\\x82J\\x82J\\x82\\xca\\x14\\x83JHFviV\\x0b\\xf0\\xd0\\t\\xff\\xb3\\xf8\\xcdj\\xc1\\x02\\x10\\xa7\\xb3\\x90\\xde\\xb5\\x1cs\\xf1\\xb4\\xd7\\xcb\\xf4\\xf64\\xb2\\x19\\xe1\\xa2/\\xb2\\x19\\xf1\\x1e\\xee,\\x91\\xb3DNPIPIP\\tI\\x0bo+\\xef\\xa2Y\\xad\\x10\\xcdj\\x1b\\x8cG\\xcb\\xdf=\\xd1\\xfe\\xf5\\xbem\\x90^I\\xe6\\xd4\\xa7\\xa1[\\x94%\\x94\\xcdH\\xb4\\xa9\\x86lF\\xc4\\x881;\\x81\\x8a3\\xf8,\\x91\\x13T\\x12T\\x12T&amp;\\x1aTBL\\xd9\\xa5Y-\\xc0\\xcd\\x1b\\xfeg\\xc97\\xab\\x05\\xf9\\xbd\\x1e\\xc9\\xbd\\xaf\\xf6\\xd2{\\xec%7\\xef)ib\\xb1\\xb2\\x19&lt;\\xdcY\"\\x0f\\xeb\\xd7\\xf5\\\\\"\\'\\xa8$\\xa8$\\xa8\\x84t\\x84\\xb7\\x95\\x93\\xd1\\xacV\\xc8f\\xb5@\\xbfgg\\xda\\xed\\xa7\\xf7\\xd4Zz}\\xd9\\xff\\xd3\\x06Y\\xde\"d3\\xf2{\\xb8\\xb3D^$\\xe1e\\x89\\x9c\\xa0\\x92\\xa0\\x92\\xa0\\x12\\xe1-\\x8c\\xf0\\x16\\xaaY\\xcdD\\xb3Z\\xe8\\xdf\\xdbF[\\x0eN\\xac\\xad\\xf4\\x1ey\\xe9\\xcd\\xbbK:\\xae\\xbc\\xd9\\x8c\\xa0\\x0fw\\x96\\xc8\\xc3\\xb9Yv\\x93q\\xdc\\xd7\\xb2D\\x9efP\\xc9\\x129A%[\\x93\\xd5Kv\\xcb\\xd4\\xac\\xd6\\xee\\x1e\\xacz\\xb3Z\\xac\\x92\\x8dR\\xed\\xd9\\xeb%{0\\xfb\\x8c^\\xcc\\xf2\\x92\\xcd\\xa8\\xfc\\x12y\\x02*\\x1a\\xf2\\x8a\\x15Z\\xa0\\xe2\\\\\\x0c\\x96\\xc8\\t*\\xcb\\x10T\\xb25\\x19\\xc4\\x1a-\\x9a\\xd5T\\xccf\\xb5X\\x12}\\xac=\\xfa\\x9e\\xf1\\xb5\\x93\\xde#.\\x9b\\xbe\\xb5L\\'\\x91\\xcdH)\\x9b\\x11\\xe5\\xe1\\x9e\\xf6\\x129M5\\x89\\x08\\x14K\\xe4\\x04\\x95a\\x02\\x1a\\xea\\xae\\xb3\\n*!\\x9a\\xec\\xd2\\xac\\x16\\xe0!\\x13\\xfeg\\xf94\\xab\\x05\\xf9\\xd9pu\\xe9\\x84\\xdaIo\\xaf\\xef\\x9f)\\xa9\\xb7\\n\\xd9\\x8c\\xb8\\xafM%\\x9b\\x11p\\x82\\xad\\xfe\\x12\\xb9*,\\xbc,\\x91\\x13T\\xb6\\x7f\\x15AeVA%$6{\\xd1\\xac\\x96\\x80\\xf0F\\xfd\\x1b\\xb3*/q\\xa5)qHDz\\'~\\xf3\\xeaa&amp;\\x9d\\x1e)\\x9b\\x91\\x80\\x8a&amp;\\x9d\\xcd`\\x89&lt;{\\x81\\n\\xfe\\xf7&amp;\\x9f1d\\x89\\x9c\\xa0\\x92\\xa0\\x92\\xa0\\x12R\\x12^\\x9a\\xd5T\\xf2f\\xb5\\x00\\x01\\x88\\x1dd\\xf3?\\xf0\\xb2\\xdaH\\xaf78\\xeadI[\\xb1D^\\xb6l\\x86\\x911\\xa4\\xee\\x9a\\xa0\\x92\\xa0\\x92\\xa0\\x12b\\xc8.\\xcdj\\x01n\\xd6\\xf0?+V\\xb3Z\\xa7\\xf1\\xf048xJm\\xa4\\xd7\\x99\\x9dN6\\xa3\\x84\\xd9\\x0c\\x96\\xc8\\x93\\x1d\\xaf\\x107\\x1eu\\xd7\\x04\\x95\\x04\\x95bk\\xb2\\xd2\\x0bo+\\xef\\xa2Y\\xadb\\xcdj-\\xfe\\xc9\\xd6\\xb7\\xc9R\\x948\\xc4\\x96\\xdec.\\x9e\\xba\\xb3d\\xfb\\x91\\xcd`\\x89\\xbc.K\\xe4q\\xc7\\x80%r\\x82J\\x82\\xca\"\\x06\\x95\\x10\\xfc\\xc6\\xa6Y-\\xc0\\x83%\\xfc\\xcf\\x8a\\xdb\\xac\\xd6d&lt;6\\xfa\\xc0\\xefa\\x8f\\xbf{B\\xe5\\xa5\\xd7\\x9c\\xfb\\xa0l\\xcd6e&lt;\\xdcK\\x92\\xcd`\\x89&lt;E\\x81JOx\\t*\\t*\\t*\\xd9\\x9a,\\x7f\\xe1m\\xe5d5jV3\\xd5\\xb0Y-\\xc0\\xf98\\x1d_i\\xe9\\x9d\\xd47\\xb7Wf\\xa7!\\xbc9\\xef;\\xc9\\x12\\xb9X\"\\'\\xa8$\\xa8$\\xa8Dxs\\x12\\xde\\xba5\\xab\\xc5\\x95\\xfa\\r\\x9e\\xef\\xa5iV\\x0b\"\\xee\\xc7UZzW\\x8d^r\\xa4\\xa4\\xcd\\x0b\\x93\\xcdH C\\x91x6#RSM\\xbaK\\xe4\\xa1\\xae\\x01K\\xe4)\\x08/K\\xe4\\x89\\x05\\x95\\x16\\xf5SLPIP\\t\\xf1\\x85\\x97f\\xb5\\x1a5\\xab\\x059\\x9f\\xbdm\\xfe;\\n\\xbd\\x8b\\x83\\x17\\xf3cpR\\xa1\\xb2\\x19\\x95y\\xb8\\xa7+\\xbcy\\nT\\xf0\\xbf\\x97%\\xf2\\xc2-\\x91\\x171\\xa8\\x0c{\\\\\\x82J\\x82JH\\xc6\\x81iVS\\xed\\x9a\\xd5:\\x9f\\x8f\\x93\\xdfst%\\xa5\\xf7\\x98\\xbe?\\x8d4\\xe9\\xe8`\\x9f\\x0e\\xb2\\x19\\xf9f3X\"/\\xdd\\x12\\xb9\\n\\xb8DNPIPY\\xa5\\xa0\\x12\\xa2\\x0b/\\xcdj\\xd1\\x8fY\\xe6f\\xb5 \\xe7\\xea7\\n]\\xe2\\x10Yz\\xfdQ\\xa3\\x8f\\x954\\xba\\xf8\\x0fw\\xb2\\x19\\x08o\\xf4\\xc90\\xb7%rc\\x89\\x9c\\xa0\\x92\\xa0\\x92\\xad\\xc9\\n&amp;\\xbb4\\xab\\xa9\\xf6\\xcdj\\x9d~\\xe6\\xdc\\xc1\\xf6\\xd0;\\xc6VNz\\xe5ir\\xb5\\x1e\\xee\\x15\\xcdf\\xb0D.\\xbe\\xcc\\x80\\xa0\\x92\\xa0\\x92\\xa0\\xb2Fv\\x9a\\xfc\\xc50y4\\xab\\xd5\\xbdY-\\xb0D\\x0fSo\\xf7[+%\\xbd\\x93.\\x9d5B\\xa6\\xc3\\xc9f\\x14=\\x9b\\xc1\\x129\\x19C\\x82J\\x82J\\x82\\xcaz\\xe1V\\'\\xab\\xd0\\xa7\\xf7H\\xe6\\xc5\\x14\\xa1\\x90\\x9fI\\x9a\\xd5\\x8a\\xd7\\xac\\x16\\xf0\\xef0I\\xe6\\x1f[)\\xe9]\\xd1Xu\\x88\\xa4Qd3\\x8a\\x9c\\xcd`\\x89\\xbc\\\\\\x19C\\x96\\xc8\\t*\\t*\\xd9\\xa9!\\x01I\\x95\\x12\\x95^=\\xd9=,\\xb6\\x08m\\xf0O4\\xab\\x95\\xbcY-\\xc0x\\xb8#\\xcc\\xfa\\xbc\"~&gt;\"\\x9e\\x94;\\x86lF\\x91\\xb3\\x19\\xf5^\"W\\xcc\\xf1b\\x89\\x9c\\xa0\\x92\\xa0\\xb2jAe}pIK\\xef\\xeaa\\xbd\\xb1\\xa5\\x8df\\xb5x\\xe7Z\\xbe\\xbd\\x907\\xd7\\xe3\\x8f\\xecQ\\r\\xe95sr:\\x8alFQ\\xb3\\x19,\\x91\\x1bK\\xe4\\x04\\x95\\x04\\x95\\x04\\x95u\\xc5\\x92-o\\xd0p\\x1b\\x16I\\x846\\xfa\\xa7\\xb24\\xab\\xc5\\x94\\xe8:4\\xab\\xb5\\xfd\\xac\\xbf\\xf8\\x0f\\x87VBz\\'^:\\xfd\\xb5\\x92^F6\\xa3\\xa0\\x0fw2\\x86\\xb9\\t/K\\xe4\\x04\\x95\\x04\\x95bk\\xb2\\xdc\\x9d\\xd7\\x9eI\\xf4\\x80\\xbe\\x1b\\x11I\\x92J\\xdb\\xac\\x16Q\\xa2\\xeb\\xd5\\xac\\xd69\\x001;\\xac\\x12\\xd2\\xeb|;\\x94lFQ\\x857~\\xc6\\x90%\\xf2hJ\\xc9\\x129A%A\\xa5\\xd8\\x9a\\xac\\x08\\x93\\xba\\xd3S\\xc9J\\xaf\\xbf\\x19\\xcdj4\\xab\\x85./q:\\xd0\\xe6M\\x1aQz\\xe9\\xf5\\x9c\\x1dL6C%_\"\\xb7\\xf0K\\xe4\\n9^\\t\\x1e7\\xf8\\xabX\"\\'\\xa8,BPI\\xddu1\\x82\\xcazb\\xe6\\x9eN\\xf6\\x88][\\x04\\x966\\x9a\\xd5\\xe2\\x9dk\\xa9\\x9a\\xd5:\\xfe\\xdep\\xf9\\xbd\\xfb\\x97Zz\\xf7\\xfa\\xde\\xed=&amp;\\x1dH6#\\xe5lFD1Lu\\x89\\xdcB\\n/K\\xe4\\x81\\x84\\x97%\\xf2*\\x06\\x95\"\\xa8dk\\xb2\\xdcp~\\xc2\\xe5\\rjl\\x1eh\\xf0hV\\x8bw\\xae\\xe5kV\\x0bp&gt;^\\xe1\\xeazCI\\xef\\x96\\xcf/}\\x83\\x86~\\x0b[\\xd9\\x857\\x86&gt;\\xa6\\x96\\xcd0\\x96\\xc8Y\"\\'\\xa8$\\xa8$\\xa8dk\\xb2\\xf0\\xf8\\xce\\xfe\\x95\\xe8\\x01\\xcdm\\xdeV\\x92hV\\x8b\\x7f\\xae\\xe5mV\\xeb \\xcaVn\\xe9u\\x9e;8\\xd8\\xc0G\\xfete\\x9f\\xcdH\\xf0\\xe1\\x9e}6\\x83%\\xf2:~\\x99\\x01A%A%A%\\xb4\\xa0\\xff\\xce\\x97,^\\x98\\xf017\\x0f&amp;W4\\xab\\x85&gt;\\xd7\\xb27\\xabu&gt;\\xd7\\xd7\\xd9\\xbcI\\x9b\\x96Vz\\xe5\\xdc\\x81\\xe1\\xb3\\x19&lt;\\xdcY\"\\x0f+PA\\xfd:?\\xe1\\x8d\\xd4T\\x93J\\xdd5A%A%A%\\xbc\\xc8\\xe3\\xea\\xeb\\xf3\\x13~n\\xbc\\x9cf5\\x9a\\xd5\"\\x1e\\xd7\\x93\\xdf\\xfd\\xc6RJ\\xef\\xa4+\\xaf\\xecrf\\xfb\\xa4\\x97\\xcd\\xc8\\xef\\xe1\\xce\\x12y\\x91\\x84\\x97%r\\x82J\\x82J\\x82J\\x847\\xa2\\xa0&gt;\\x9e\\xf8!\\x9dvl\\xeeF4\\xab\\xd1\\xac\\x16\\xe0\\\\}\\xef\\x80\"}B\\xba\\x83\\xbep\\xf9c[\\xec\\xee&lt;\\x1b\\x97\\x7f6#\\xe8\\xc3\\x9d%\\xf2pn\\xc6\\x12y\\xb5\\x97\\xc8\\x83~\\xc6X\"\\'\\xa8,cP\\tk\\xae\\x98\\xbb/\\x85\\xc3\\xee\\x18n\\x1c\\xe3dw\\x15\\xef\\xb8\\x99fw#\\x9ck\\xaa\\xcdjI\\x8fG\\x02\\xc7]\\xf3\\xff\\x0e,\\xd2g$p\\xa6\\xd7s\\xfe\\x01d3J\\xb8D\\x1eK/\\x03\\xe9S\\\\\\xdb\\xceT\\xa0\\xe2\\x9c&amp;K\\xe4\\x04\\x95\\x04\\x95E\\x0c*a\\x1dN\\xee\\x9eD%z\\xc9Y\\xa3%mI\\xb3Z\\x02\\xe7Z\\xd5f\\xb5V?\\xfb\\xf7K\\xf6\\xb6\\x05\\xa7\\x8f,\\x9d\\xf4\\x9a\\xd3\\x1b\\xc9f\\xa4\\xf0pO{\\x89\\x9c\\xa6\\x9aD\\x04\\x8a%r\\x82\\xca0\\x13#AeVA%l \\xbd\\xbe\\xdd\\x9d\\xe8\\x01\\xfda;\\xd0\\xac\\x16\\xf3\\\\\\xab\\xdf\\xac\\xb6\\xf1xl\\xf8\\xb2\\x1e\\xf5/\\xdb\\xa7t\\xd2+s\\x016\\x19\\xcen2\\x8e\\xfb\\xdaT\\xb2\\x19\\x01\\'\\xd8\\xea/\\x91\\xab\\xc2\\xc2\\xcb\\x129u\\xd7\\xed_EP\\x99UP\\tC/coo\\xff\\xdcD\\x8f\\xd8\\xb0\\xdd\\x12\\x11\\xa1\\x96\\xf7\\x0f\\xcdj\\xa1~V\\xccf\\xb5\\xce\\xe3\\xe1\\xab0u\\xbd\\x81jz\\x8f\\xbc\\xf8\\xc6\\x97\\xcb\\xb4]\\x91\\xb2\\x19y&gt;\\xdc\\xb3\\xcff\\x94m\\x89&lt;\\xf9\\x8c!K\\xe4\\x04\\x95\\xa1\\x85\\x97\\xa0RlMV#\\xe3uz\\xe0\\xb6\\xcb?\\xb64\\xd1\\x83z\\xb6G\\xfb/a\\x88\\xfa\\xbc*\\xd2\\x17M(f&amp;6\\xca|\\x11Uv\\x13:n\\xd6\\xe3\\xe1\\x8a#\\xbd^\\xc0O\\xd3\\x1b\\xc9f\\xe4\\x95\\xcd02\\x86\\xd4]\\x13T\\x12TF\\xf8\\x8c\\xb15Y\\xbd\\xacW3\\x93?\\xa6\\xed\\x11M\\x84\\xaa\\xfe\\xcdj\\xa6|\\x9a\\xd5JZ^\\xe2\\xb4\\xbfM=\\xa8\\xbb\\x08\\x1f\\x93@\\xd2\\xeb\\xa47\\x92\\xcd`\\x89&lt;\\x1f\\xe1U\\xb2\\xe3\\x15\\xe2\\xc6\\xa3\\xee\\x9a\\xa0\\xb2\\xdc\\x9f\\xb1\\xa0~\\xcd\\xd6d\\xd5\\x90^\\x9b\\x95\\xc2Q\\xf7\\x88,mEoVK\\xbav\\xf7\\xc5\\x0fc-\\x9b\\xd5:\\xfd\\x1d\\xa3\\xb5\\xe36{\\x94Fz\\xb5\\x9e\\xf4\\xb2D\\x9ea6\\x83%\\xf2\\xe4\\'C\\xea\\xae\\t*\\t*K\\x1cTB+\\xba&lt;\\x7fv\\xa2\\x8f\\xca\\x85\\x1f\\xddB\\xd2\\xd6\\x91$\\xa9\\x0c\\xcdjIH\\xe4\\x06oW\\xebf\\xb5\\xce\\xe7\\xea[!\\xb6.\\xeb(\\xbd\\x87\\x9e\\xff\\x97q\\x92v\\xe3\\xe1\\x9eq6\\x83%\\xf2\\x14\\x05*=\\xe1\\x8dkZ\\x04\\x95\\x04\\x95\\x04\\x95\\x10\\x81\\x85\\x7f\\xff\\xceY\\xf7\\'zD_\\xfbF\\x92$\\x9a\\xd5\\xe2\\x9dkY\\x9b\\xd5:\\xff^!\\xeaz;\\xd6X\\xf4v\\xbb7\\xc8\\xd4U~\\xe1\\xb5H\\xe3\\xcc\\x12y\\xa7\\xd7\\xb3DN\\xdd5A%A\\xa5\\xd8\\x9a,OL\\xd7I.\\xe1\\x0b\\xea\\x1d(\\xf9\\xc1\\xefM\\x9a\\xd5\\x12\\x92\\xdd\\x84\\x8e\\x9b\\xfbx\\x0c\\xf9yA\\x9a\\xd9:fz\\x9du\\xbd!\\xd1lF\\x02\\x19\\x8at\\xb3\\x19A\\x9bj\\xd2]\"\\x0fu\\xae,\\x91\\xa7 \\xbc,\\x91\\x13T\\x12T\\x16#\\xa8\\x84\\x8e\\xf3\\xb4\\xec\\xba\\xe4\\x0f\\xdaxS\\xfb\\x91\\xa4Y-y\\xe1\\xad\\xf4^\\xc8[\\xd9c\\xef\\xda\\xa1\\xf0\\xd2+\\xd9\\xeb\\x13\\xcdfT\\xe6\\xe1\\x9e\\xae\\xf0\\xe6)P\\xc1\\xff^\\x96\\xc8Y\"/gPI\\xddu\\x89\\x82J\\xe8\\x84\\xef\\xf9\\xde\\rI\\x1ep\\xcd7h\\xb9=\\x03\\xddP4\\xab\\xc5;\\xd7\\xaa4\\xab\\x05\\xbav\\xfd\\xb9\\x7fIEG\\xe9\\xf5\\xa5\\xd7\\x93\\xcd\\xc8\"\\x9b\\xc1\\x12y\\xe9\\x96\\xc8\\xc5\\x129u\\xd7\\x04\\x95\\xa9\\x06\\x95\\x10\\xe4\\x9a\\xce\\x98\\xf3\\xfd3\\x9eJ\\xd6\\x0cz\\xf7\\x95\\xd4\\xdbV\\x92hV\\x8bw\\xaeUlV\\xeb\\x18,\\xb87\\xe4\\xfdqi[\\xd3{\\xf8%7o\\xeb\\xfc\\xc66\\xe9?\\xdc\\xc9f \\xbc\\xd1\\'\\xc3\\xdc\\x96\\xc8\\x8d%r\\x82J\\x82J\\xb6&amp;\\xcb\\xdbymJ\\xf2\\x07u\\x87\\x07\\xbf\\x99b\\xd4\\xd9\\xe6\\xd2\\xac\\x16\\xe1gfa&gt;&lt;\\x9d\\x7f\\x96zv7\\xe6\\xb9\\xa67\\x1e\\xc5\\xce\\xf4v7\\x1ao(\\xd6\\xc3\\xbd\\xa2\\xd9\\x8c\\xa2-\\x91\\xc7\\x7f\\xf3P\\xaf\\xe5\\xcb\\x0c\\xa2\\x08/A%Ae\\x82Ae\\xe1\\xea\\xae! \\xbe\\xd7=\\xf8\\xfb\\x14L\\xfa\\xa8\\x96\\xf7yb\\xd9DK\\'\\x9b\\x98\\xa4\\xf0\\x06\\xca\\xee\\x868WKXx\\xcbV^bz\\x9d\\xdd~zOa\\xa5\\xd7\\x9c\\xbd\\x9elF\\xda\\xd9\\x8c\\x02.\\x91\\xd7.cH\\xdd5Ae\\xcd\\x83\\xca\\xb0\\xc7e\\xa7\\x86B\\xe0\\xa4\\x99\\xff\\xf8\\xd6G\\x17$\\xea\\xbbO\\x9c\\xb5\\xad\\xa4\\xddhVKHL\\x9b&gt;\\xe7*\\xdb\\xac\\xd6i&lt;\\x86k\\xf3\\xe7w/\\xac\\xf4:\\xe7\\xbd\\x81%\\xf24\\xb3\\x19,\\x91\\xb3DNPIPIP\\t\\x91\\xad\\xf7\\xa7\\xc9\\x1f\\xd3;\\x8af5\\x9a\\xd5R+/i\\xe4[\\xe2\\xd0Rz\\xfb\\xfa\\xfa&lt;\\x99\\xbfW\\xa5\\xb2\\x19,\\x91\\xc74\\x9a*\\n/K\\xe4\\x04\\x95\\x04\\x95\\xc5\\x08*!$\\xcbW\\xac\\xea\\xb92\\xf1\\xa3\\xae_\\xda@\\xb3Z\\xbcs\\xadc\\xb3Z\\xa7g\\x9cs\\xb9Jo\\xcbF\\xb6\\xd9\\xc3\\xdf\\xb4K\\x97l,\\xd9\\x0c2\\x86,\\x91\\x8b%r\\x82J\\x82J\\xb6&amp;+\\x1aW&gt;\\xf0\\xe3\\xf7\\xbf\\x90\\xa8\\xef&gt;\\xfa\\x89\\xf1r\\x83\\x87\\x85\\xfb&lt;G\\xfd\\xb2\\x84\\x98\\xc7\\xa5Y-\\x87\\x00$\\x89\\xf1\\xb0\\\\wph\\x99\\xe9\\xed\\xf2\\xec\\xf5d3\\xc8\\x18\\xb2D\\x1e\\xf8.\\xebx\\x0e,\\x91\\x13T\\x12TBb8\\xef\\x87\\x89\\x1f\\xb3\\xb7q\\x82L\\xc3J\\x9fM\\x0c;?\\xa5\\xd2\\xac\\x96\\xd0\\xd7\\x13W\\xaf\\xbcdg{\\xf4\\xf8\\xf1\\x85\\x93^\\xf3\\xf4\\xba\\xa2g3\\xf2|\\xb8G\\x17\\xde\\xf8\\x19C\\x96\\xc8\\xa3)%K\\xe4\\x04\\x95\\x04\\x95bk\\xb2J\\x08\\xafn\\xbf\\xe3;\\xa7\\xcfJ\\xfe\\xc0vJ\"\"D\\xb3Z2\\x12]\\xda\\xf2\\x92\\xb6\\xf7\\x8e\\x93\\xdf\\xbbw\\xe1\\xa4\\xd7\\x99^[\\xf4l\\x86Uz\\x89\\xdc\\xc2/\\x91+\\xe4x%x\\xdc\\xe0\\xafb\\x89\\xbc,K\\xe4\\xd5\\x0e*\\xa9\\xbb.FP\\t\\x11\\xc7\\xea\\xe2\\xc4\\x8f\\xb9\\xf8\\xe3[I:8\\x11i\\xa3Y-\\xfe\\xb9\\x96\\xb9Y\\xad\\xf3\\xbd\\xf3\\xfabI\\xaf\\x99\\x93\\xe95d3\\x92|\\xb8g\\xb0Dn!\\x85\\x97%\\xf2@\\x1f\\xea\\xba.\\x91\\x1bu\\xd7\\xa2\\xee:\\xcd\\xa0\\x12\"\\x1a\\xef\\xfc\\xeeA\\x97\\xfc\\xde\\xbc\\r\\xff$I]4\\xab\\xd1\\xac\\x96z\\x00\\xe2\\xf4\\xda\\xbc&gt;&gt;M\\x1b\\xd9\\x8e\\xb9\\xf8\\xfa\\xed\\x1b\\xea\\x1eW\\x18\\xe1\\x8d\\xa1\\x8f\\xa9e3\\x8c%r\\x96\\xc8\\xcb(\\xbc\\x04\\x95\\xd4]\\x17!\\xa8\\x84\\xa88\\xb9\\x8b\\xe6|\\xff\\x8c\\x81\\xe4e\\xda\\x7f_l\\xb9\\xa4Y-\\xde1+\\xd3\\xac\\xd6\\xf1g\\xb9Io\\xd3L\\xaf\\xef\\xf7\\xecY\\xa8lF\\x82\\x0f\\xf7\\xec\\xb3\\x19,\\x91\\xd7q\\xa7\\x86R\\t/A%Ae\\xd6A%De\\xe1\\xf0\\x11\\xcb\\x7f\\x90\\xb8\\xef&gt;q\\xd6\\xfe\\x92\\xf6\\x88%W4\\xab\\xc5\\x0b\\x16\\xea\\xb4\\x17\\xb2\\xe9\\x956w\\xd2\\xe8\\xe2H\\xafku\\xf3\\xf3pg\\x89&lt;\\xac_\\xe7\\'\\xbc\\x91\\x9ajR\\xa9\\xbb\\x0ew\\x01\\t*\\t*+]w\\r\\x91q\\xe6\\xce\\x9f}\\xd9\\'W&amp;\\x7f`wz,\\xe1MB\\x84^\\xfc&lt;\\xd3\\xac\\x16\\xeb\\\\\\x8b\\xd1\\xac\\xd6i&lt;&lt;\\xf5*\\x97ofk*\\xbdN\\xfe\\x1e\\x81\\xa6c\\xb2\\x19Q\\xe7\\xd8\\x92\\x0b/K\\xe4\\xe1\\x96\\xc8-\\xf0\\x18\\x10T\\x12T\\x96%\\xa8Dx3W\\xde\\x05\\xe3V\\xf5~?\\xf10\\xfb\\xd1O\\x8c\\x97iRhi\\xa3Y-\\xfe\\xb9V\\xbbY\\xad\\xfdxx\\xf9\\x948\\xb4\\xf8r\\n\\xb7\\'\\xd9\\x8c\\x98\\x0f\\xf7\\xa25\\xd5\\xb0D\\x1eH\\xa0X\"\\'\\xa8$\\xa8d\\xa7\\x86\"b\\xb2\\xff\\x98\\xf6\\x93\\xf7\\xaeJ\\xfc\\xc0=\\x03\\xef\\x9342\\x94$e&amp;W\\x11\\x8f\\x9b[v7\\xea\\xfc]\\xa4\\xad\\xe1\\x94N\\xf3\\xe0F?s{\\xe4\\xf19\\xda(\\xd3{\\xfceS\\xc7K\\xda\\x96l\\xc6\\xd0\\xb1\\xca~\\x89&lt;\\xd1\\xa6\\x9ax\\xb6\\x9d\\xa9@\\xc59M\\x96\\xc8\\t*C\\xcfc\\x04\\x95\\x19\\x04\\x95\\x10\\x93;\\xef\\xdcj\\xd1O\\x13\\x17\\xe9\\xdbO\\xef\\x91\\xd3\\xc7\\xff=\\xb2E\\xcb&amp;F)gH\\xa8\\xce61\\xe1mW\\xceP\\xe7\\xbd\\x90\\xed\\xb5\\x85\\x90\\xde\\x81\\xfe\\xc6\\x9e\\x92\\x1c\\xd9\\x8c\\xb2.\\x91\\x931d\\x89\\x9c\\xa02Z@CP\\x89\\xf0\\x16\\x13\\'\\xef\\xd3\\xea\\xeb\\xf3\\x13?\\xf0K\\xba\\xdf!i;\\x9a\\xd5hVKo&lt;Z\\xfe\\x1d\\xbb\\x9bM\\xea\\xca]z\\xcd\\xf3v\\'\\x9bQ\\xe6%\\xf2\\xfc2\\x86,\\x91\\x17Ix\\t*\\t*\\x8b\\x10TB\\xfc\\x10\\xcb\\xfd\\xee\\x1fW\\x9c~C\\xe2\\xc759\\xc9\\xfb\\x14\\xcdj4\\xab\\xa5\\xd4\\xac\\xd6\\xe9\\xf7F\\xea1\\x7f\\xa7\\xdc\\xa5W\\xa6]\\xc9fD\\x17\\xde\\xb8\\xa6\\x95\\xdd\\x12yP\\x81b\\x89&lt;\\xdc\\xfd\\x93\\x9d\\xf0\\xc6}-A%A%;5\\x14\\x9e\\xa52\\xff\\xe3\\xa9\\x1c\\xf9\\x89\\x0f\\x1f%\\xe7\\xef\\xd6VvhV\\x8b\\x7f\\xaeunV\\xebt\\xdc\\x86{m\\xfe\\xd2+\\xdb\\x99l\\x86X\"\\x0f\\xed\\xd7\\x15_\"O@EC^\\xb1B\\x7f\\xc6\\x08*\\t*!\\x0b\\xdc\\x17\\xee\\xfc\\xee\\x99O$}T399\\xfbR\\xd8\\xcfO\\xe1\\xb2\\x89|\\xb3\\x9aJ]^\\xe2,\\xf3f\\xb6f\\xbb7\\xecL6#\\xac@UUxsZ\"\\x0fq\\xe3e\\xb6D\\xceN\\r\\x04\\x95\\x04\\x958h\\x86\\x98t\\xeb\\x9d[-\\xbc\"\\x95\\x83/\\xfc\\xf0\\xf1\\x92\\xed\\x1d\\xee\\xf3\\xc07\\xabE\\x0b\\x88+\\xfd\\xcdj\\x01\\x9d\\xa9\\xd5\\xcf\\xbc\\tY\\x7f\\xae6\\xc8\\xf4\\xae\\xd9\\xb9\\xc1\\xb6J&gt;\\x9b\\x91\\xc8\\xec_\\xccl\\x06K\\xe4J|\\x89&lt;\\xe0\\x18\\xb0DNPIPY\\xc4\\xa0\\x12\\x12`\\xb9&lt;\\xef\\xddi4\\xaf\\x99\\xf5y2\\xffK-?;4\\xabE?W\\x9a\\xd5B\\xfe\\x8d\\xfe\\xce\\xb9J\\xef\\xc0j\\x7f\\xd7Z7\\xd5\\xb0D\\x9e\\xa9@\\xc5\\xb9\\x18,\\x91\\x13T\\x12T\\x161\\xa8\\x84dp\\x9f\\xbc\\xf3\\xdb\\xa7?\\x98\\xca\\xa1\\x17.&gt;y\\xc3=RiVKD\\xa2iV\\x8b\\xf2\\xf7\\xefh\\x0fM\\x1c\\x96\\x9b\\xf4\\xfa\\xdez\\xd6\\x9d\\x8b\\xf0\\x06\\xadoc\\x89&lt;\\xdcg\\x8c%\\xf2j/\\x91\\x07\\xfd\\x8cQwMP\\x99fP\\t\\tq\\xd5\\x1dW\\x9c\\xfe\\x834\\x0el\\x0f}t\\x98\\xa4\\xff\\xda@v*\\x9dM\\x8c+\\xbcQ\\x92\\x174\\xab\\x85\\xf8Y\\x97\\xbc\\xd1\\xaf\\xcaMz%\\xedR\\xb6lF\\xdc\\x8c\\x12K\\xe4e\\x16^\\x96\\xc8\\xa9\\xbb&amp;\\xa8,FP\\tI\\xe0\\xa4y]\\r\\xf7^\\xc9\\xa5s\\xf5G\\r~R\\xe6^Q\\x9fl\"\\xcdj\\x85//\\xf1-\\xd3\\x12\\x87\\r\\xa4\\xd7\\x99\\xdb\\xa5l\\xd9\\x8c\\xd0\\x9f\\xd9\\x84\\x847\\xaei\\xb1D\\x1ec\\x96e\\x89\\x9c\\xa0\\x92\\xa0\\xb2XA%$\\xc1\\x80\\x99\\x9d2\\xe7\\xfbg&lt;\\x95\\xc6\\xc1m\\xc9Y/\\x91\\xe9s5\\xcc&amp;\\x86\\xf8\\x0c\\xa4\\xf1\\xcdj\\x01\\xff\\x8e\\xba\\x96\\x97\\xb8l\\xebz7\\xd8\\xbd\\xc1\\x9cv&amp;\\x9b\\x11Lx\\xc9\\x18f/\\xbc,\\x91\\x13T\\x12T\\x8a\\xad\\xc9*\\x8a\\x99}\\xf2\\xce\\xef\\x9e93\\xb57\\xe8\\xb7\\x8b\\xe446Y\\xb9R\\xccm\\xc32\\x94+%\\xb4\\xe3C\\xee\\xb5\\xbb\\x9d\\x9e\\xffe\\x19\\x8f\\x17%{\\x97,?g/fz\\'~\\xf3\\xeaa2mO6#\\xe2=Z\\x1b\\xe1\\xb5h\\x9f\\xc3\\xc8\\x0f\\x9b\\xa1\\xaf`\\x89\\x9c\\xa0\\x92\\xa0\\xb20A%$\\x82s\\xee\\xc7w~\\xf7\\xcco\\xa5&amp;\\xd4O\\x9c\\xb5\\xbf\\x9c\\xdeA\\xb3Z\\xccs\\xa5Y-\\xc1\\xf1X\\xfb\\x1f\\xce\\xcbGzm\\xe5\\xf0\\xed%u\\x91\\xcdho\\xf8\\x85Y\"\\x8f\\xff\\xe6\\xa1^ki\\x1c\\xb7\\xe2\\x19C\\x96\\xc8\\t*\\xab\\x1dTB2F\\xaa\\xe9/t\\xad&gt;+\\xb5\\xc3\\xcf\\x9d\\xd4+\\xd9\\xf7er\\x89\\x88\\xd0\\xba\\x9b\\x9df\\xb5x\\x12My\\xc9\\xba\\xf7y\\x95Y\\x9f\\x97\\xb9\\xf4z\\xce\\xdf\\x81lF\\x12\\xca\\x97\\xd1\\x12y\\xed2\\x86\\xd1\\x847O\\x81\\n&gt;\\xf8\\x04\\x95\\x04\\x95i\\x05\\x95lMVp\\x1e\\xee\\xf2\\xdd\\xdb\\xffy\\xf9\\xc7V\\xa7\\xf6\\x0e\\xe3\\xb6\\xf8\\x0f\\x99&amp;$\"B4\\xab\\x89f\\xb5\\xc4\\xf7B\\x1e\\xa9\\xc7\\xee\\xd8.s\\xe9\\x95\\xb9\\xed\\x0b\\x91\\xcd\\x88\\xfc\\x98Oq\\x89\\xdcX\"\\xcfWx\\x15z\\xbc\\xf2\\x16^\\x96\\xc8\\t*\\xab[w\\r\\xc9\\xe0\\x16\\xf8]]\\x87\\xa5\\xd5\\xb8&amp;I6\\xef#\\xbbKvNl\\x11\\x1a\\xf2l\\x8d-\\xa6\\x1b\\xdcw4\\xabE\\x1f\\x8f\\x8a\\x94\\x974\\x94Y\\x89\\xc3\\xbf\\xcb\\x1b\\x9c\\xedP\\x88l\\x06_f\\x10\\xd3h\\xaa(\\xbc,\\x91\\x13T\\x12T\\x16#\\xa8\\x84\\x84x\\xce\\xf9v\\xe4]\\xdf\\xfa\\xe0\\xa3\\xa9\\t\\xafM\\xea\\x92k\\xfc@Roli\\xe3\\x9b\\xd5\\xe2It\\xe5\\xbfY\\xcd\\xda\\xfcS\\x90\\xf3q;e\\xf5\\xc1{q\\xf7\\x06g\\xda\\xa1\\xd3\\xa4E\\xc6\\xb0*\\x02\\x15{\\xf6Ou\\xbc\\x82G\\x9d\\xcd\\xff`\\x96\\xc8\\t*\\x83\\xdf\\xc2\\x04\\x95Xo\\xe6,\\xf3=\\xf7\\xd6\\xbb\\xae8\\xe3\\xceT\\xdfe\\xc1\\xe6_\\x94\\xb4OliKR\\xae\\x02\\xddsE\\xaa\\xddM\\xe0\\xb8\\x85\\xa8\\xdd\\xed\\x948\\xc9y&lt;\\x9c^\\x9e\\xb9\\xf4\\x9a\\xb4C\\xf5\\x85\\x97\\x8c!K\\xe4\\xed_\\xc5\\x12y\\xbd\\x82J\\xa5\\xf2\\x19\\xabhP\\tI\\xf0\\xbc\\x9cw\\xe4]\\xdf&gt;\\xfd\\xb64\\xdf\\xc4\\xfeu\\xd6\\xebe\\xf6\\x1f\\xd5\\xd9\\xfa*\\x0f\\xe1M(c\\x9c\\xbb\\xf0F\\x1d\\xe3\\x0c\\x03\\x10\\xd3\\x0e\\x99K\\xaf\\xd4\\xfaM\\xe3L\\xc6y&gt;\\xdc\\xa3\\x0boP\\x81b\\x89&lt;\\xdcH\\xb3DNPY\\x1c\\xe1%\\xa8Dx3\\xe69\\xdfsoM]x\\x97\\x9c5Z\\xfd\\xf6\\x0b\\xc9z\\xb2\\x95\\xab\\xb4\\x847\\r\\xd9\\xed\\xf4\\xbc(RvW5\\xd8\\x0b\\xd9\\xb6\\xcf\\xeaC\\xe8I\\xd2\\xb1\\x17\\xcc\\x18#i\\xb34\\xb2\\x19\\xc6\\x12yh\\x81c\\x89\\x9c\\xba\\xebj\\x07\\x95\\x08o\\xb9\\x82JH\\x80%r\\xde\\xc1w}\\xfb\\x8c\\xdbR\\x7f\\xa7~\\xbbB\\xb2\\x9d\\xb2\\x15^\\x9a\\xd5hV\\x8bS\\xa3\\x9d]\\xa6\\xd7\\x93\\xa4~o\\xd5\\x0ed3\\xc2NG\\x11\\x97\\xc8-\\xa4\\xf0\\xb2D\\x1e\\xe8\\x01]\\xd7\\xbak\\x82\\xca\\x98\\xe3EP\\t\\xe9\\xf3\\x88y\\xde\\x81w|\\xe7\\xf4;\\xd2~#\\x9b\\x7f\\xc6\\x87${g$i\\xa3Y-\\x9eD\\xd3\\xac\\x16\\xe7\\\\\\xc7\\xdb\\xa3\\xc7\\x8f\\xcfLz]\\xa3\\xf1\\xf2\\xd8\\xc2\\x1bC\\x1f\\x8b\\x91\\xcd`\\x89\\x9c\\x8caQ\\x84\\x97\\xa0\\x92\\xba\\xeb\"\\x04\\x95\\x10[B\\xa5[]w\\xef\\xbew~\\xfb\\xf4\\x07S\\x7f\\xafy\\x1fz\\x83\\xe4\\xbe\\x1eI&lt;\\xf8f\\xb5x\\xe7\\xca7\\xab\\xc5;W\\x934\\x10\\xee\\x1b\\x81cI\\xaf\\xa9k\\x9b\\xd8:\\x9a\\xe0\\xc3=\\xfbl\\x06K\\xe4\\xd5\\xad\\xbbVj\\xe3\\xc5\\x129A%;5@+\\x9c\\xf4\\x9b\\xee\\x86{\\xcb?.\\x7f\\xdf\\x93\\xa9\\x0b\\xef\\xfc\\x0fo&amp;\\xa7\\xdfH\\x1a\\x16\\xee\\x1e\\xe5\\x9b\\xd5\\xf8f\\xb5\\x82\\x94\\x97x\\x96I\\x89C\\xb7$y\\xce\\xb6\\xb6\\xdaf3X\"\\xaf\\xf6\\x12\\xb9QwMPIP\\x89\\xf0fI\\xc3\\xa4/\\xdeq\\xc5\\x19\\x17J.\\xf5\\x8bn\\xd6\\xd7\\xad\\'\\x16])\\r\\xcd\\x94\\xd1\\xacV\\x9ef5\\x8bQ\\x17Y\\x96f\\xb5\\x0e\\xe3a\\xd9H\\xef\\x9aL\\xaf\\xd3\\x96\\xb5\\xcdf\\xb0D\\x9e\\x9b\\xf0F\\xce\\x18\\x8a\\xbak\\x82J\\x82J\\xb6&amp;+$O\\x99sG\\xdey\\xc5\\x87.\\xc8Bx%IO,\\xfa\\x86\\xa4C\\xd2\\x17^\\x9a\\xd5\\xf2\\xc9\\xeeV\\xbd\\xbcd\\xed\\xcf\\x9c\\xcbd\\xaf\\xde\\xee\\xb5\\xef\\xb9u\\x99\\xb3\\x19\\x91\\x1f\\xeeu[\"\\x8f\\xa1\\x8f\\xe1\\xde!\\x84\\xf0\\x1aK\\xe4\\x04\\x95\\x04\\x95\\xc5\\t*!\\x06\\xd3\\xcc\\xec\\x9dw^\\xf1\\xa1\\'\\xb2zC\\x9bw\\xe69\\x92\\x9d\\x15\\xfc\\x01V\\xf5\\xad\\xaf:=\\x1f\\xb2\\xce\\xeevz\\xbe\\x97e&lt;\\x12&lt;\\xae\\xb5\\x1c\\xab\\xec2\\xbd\\x92^R\\xe6lF\\xa4\\xa6\\x9aT\\x96\\xc8\\xc3]\\xc0\\xcc\\x97\\xc8\\xa9\\xbbf\\x89\\x9c\\xa0\\x92\\xa0\\x12\\x92fP\\xce\\xbe\\xbc\\xd3S\\x9b\\x1ez\\xe7w\\xcf\\xccNx\\xe7\\x9f9I\\xce\\xce\\r,\\x1e4\\xabe,\\xbc4\\xab\\x85\\xdb-\\xc3\\xbd4\\x8b\\xcfM\\xf7\\xda\\xe7\\xe2V\\xf5\\xcaf\\xa4\\xb5DN\\xc6\\x90%\\xf2\\xb0\\x02EPIPY\\x84\\xa0\\x12\\xa2\\xe0Lw\\xcb\\xf4\\xbe\\x7f|\\xef\\xcc\\xdb\\xef\\xc8\\xf0}m\\xc1\\xe9\\x07\\xc8\\xb7\\x9f\\xe9\\xc5\\xc4\\x15\\xd9\\xc4T\\x8f\\xc97\\xab\\xa5?\\x1e\\xce\\xb6\\xce\\xe2\\xb3\\xf3b\\xa6\\xb7&gt;\\xd9\\x8c\",\\x91\\xe7\\x971d\\x89\\xbcH\\xc2KPIPY\\x84\\xa0\\x12\"0\\xe0\\xa4\\x0b^\\xe8\\xe9\\x7f\\xfd?\\xbe\\xf7\\xa1\\xdb\\xb3|c\\x9b\\x7f\\xc6\\x1e\\xf2\\xbd\\xff\\x934\\x9clb\\x93\\x0f_\\x92\\xc2\\x1bz\\xef\\xdd\\x00\\xe3\\xc1^\\xc8\\xad\\xc4fK\\xb3I]i\\x7f~\\xba\\x0f=\\xff/\\xe3$\\x8d\\xa8G6\\xa3lK\\xe4A\\x05\\x8a%\\xf2p\\xf7\\x0fK\\xe4\\x04\\x95U\\x17^\\xac7-\\x9ct\\x93\\xefy\\x1f\\xbb\\xe3\\xdb\\xa7\\xcf\\xcd\\xfa\\xbdm\\xfe\\x07_%\\xb9\\xeb$mB61\\x8d\\xecn\\xa7,K\\x91\\xb2\\xbbi\\x06 Y\\x8e\\xc7\\x8b?\\xef\\xd2\\xa3\\xab7\\x97\\xb48U\\xe9\\xf5|\\x7fky^\\r\\xb2\\x19,\\x91W~\\x89&lt;^\\x1c\\x15D\\x9f\\xe2Gk\\x04\\x95\\x05\\n*\\x93\\x15\\xdeR\\x06\\x95\\x10\\xe6\\xf6\\x9e\\xef&lt;}\\xf1\\x1f\\xdf\\xf9\\xd0\\xcfry\\xfb\\x05\\xa7o\\'\\xdf\\xfb\\x8bd[E\\xb8\\x89\\xa3\\x0b\\r\\xcdj\\xa2Y-\\xa3\\x00d\\xc0\\x7fI\\xda\\xd2\\xeby\\x9e\\xb7y-\\xb2\\x19,\\x91\\';^!\\xac\"\\xb3%rvj \\xa8$\\xa8DN\\x93\\xe7\\x19g\\xee\\xf3#F\\xacxUn\\xc2\\xfb\\xf8\\x99;\\xca\\xf7n\\x96l\\xbb\\xf6\\x9fA\\x9a\\xd5\\xb2\\x15^\\xcaK\\x12-/\\xf1\\xba^\\x92\\xf6g\\xa9\\xdb\\xc9\\xdf\\xc4\\xe4%5\\xfb\\x173\\x9bQ\\xf2%\\xf2\\xb8\\xafMe\\x89&lt;\\xe0\\x18Pw]f\\xe1%\\xa8dk\\xb2Z\\xb3\\xdcI\\xdf\\xb2a\\xc3\\xce\\xff\\xc7\\xd7\\xdf\\xfb\\\\^\\'aO\\x9c\\xf9j\\x99\\xdd \\xd9\\xcbB&gt;p\\xa2\\x8b \\xcdj\\xf1\\x8fKyI\\x84\\xbf\\xd1O\\xbd\\x99\\xad[\\xaekl\\xdb\\x8d\\xa5Y\"\\x8f9\\x9d\\xc4_\"\\xcfS\\xa0\\xe2\\\\\\x0c\\xea\\xae\\xa3\\x0e;A%u\\xd7i\\x06\\x95\\xd0\\x81\\xa7\\xe4\\xec\\xdb]\\x83\\xde\\xb7\\xe6|\\xff\\x8c\\xa7\\xf2&lt;\\x11[x\\xc6\\xaej4\\xfe\"\\xb9m\\x92\\x95\\xab&lt;\\x84\\x97oV\\xa3\\xbc\\xa4\\xc3\\xcf\\x9c\\xd2\\xcf\\xf4\\x9a4\\x8e%\\xf2\\xf4\\x04\\x8a%\\xf2\\x90\\nP\\xfb\\x8c!Ae\\xd6Ae\\xf8lD\\x99\\x83Jh\\xc3\\xc3N\\xfaFc\\xd4\\xc8\\x1f\\xdfu\\xf1i\\xcb\\xf3&gt;\\x19\\x9b\\xf7\\xa17\\xa8a\\xd7Hn\\xd3d\\x85\\x97f5\\x9a\\xd5rkV\\xeb0\\x1e\\x96\\x81\\xf4\\x9a?\\xde\\xa5\\x9c\\xcd\\x88&gt;\\xa0q\\x1e\\xee,\\x91\\xb3D^6\\xe1%\\xa8$\\xa8L3\\xa8\\x84&amp;4$\\x9b*y\\xdf\\xdf\\xe9\\xa9M~?e\\xca\\xe4F\\x11N\\xca\\xfe\\xf5\\xa1#\\xe4l\\x8a\\xa41\\xe1\\xe5\\x94lb\\xf2\\xb2\\x1b\\'X\\xa0\\xbc$\\xc4\\x18o\\x95\\xba\\xf4\\xcail\\xd3s\\xca\\xec\\xe1\\x9e\\x9e\\xf0\\xc65-\\x96\\xc8c\\xcc\\xb2\\xd4]\\x87z-A%A%[\\x93e\\xe7\\x94\\x92\\xfe*\\xb9_\\xf7\\xb8\\xc1_\\xff\\xed;\\x1f^$Iw\\x14\\xe5\\xe4\\xe6\\x9f~\\xa6d\\x97K\\xea\\n7\\xb7\\x91M,V9\\x03\\xe5%\\xa1\\xc7\\xc3\\\\\\xfa\\xd2\\xebI\\xe3\\xacR\\xd9\\x0c\\x96\\xc8so\\xaa\\xa1\\xee\\xba@\\x02EPIP\\tZ\\x93\\xd1\\xbd\\xcd\\x99\\xf7\\xa7F\\xb7\\xf7\\x9b\\xbb\\xbe\\xf5\\xc1G\\x0bg\\xe2&amp;\\xa7\\x05g\\x9c\\'\\xd39!\\x1e2\\xd1\\xc5\\x83f\\xb5\\x9c\\x847\\x8d\\x8cq\\xd1\\x02\\x90\\x88\\xe5%N\\xe3S\\x97\\xde55\\xbd\\x15\\xcaf \\xbc\\n\\xb7\\xafh\\xd0?\\x8d%r\\x96\\xc8\\t*K\\x19T\\xd6\\x16\\xf7\\xb8d7;\\xb3k\\xfa\\x07z\\xae\\x9f\\xfb\\xa3\\x0f&lt;S\\xd43\\xb5\\'\\xdf7FO\\xf4\\xfcD\\xd2\\t\\xc9\\xc9U\\x1e\\xc2K\\xb3\\x1a\\xe5%\\xb1\\xc6#}\\xe9\\xd5\\xfa\\xd2\\xcb\\x12y\\x84(1\\xb9\\xc98\\xeek-\\x8d\\xe3\\xb2D\\x1e\\xe4\\x96+\\xb9\\xf0\\x12T\\xa6\\x13T\\x16\\xa1\\xee\\xba6,\\x95t\\xb7\\xa4;$7\\xcb\\xef\\xf6\\xa6\\xdfu\\xf9\\x07\\xe7\\x97\\xe1\\xc4m\\xde\\x19;i\\x95\\xfe(\\xa7]\\x93\\x13^\\x9a\\xd5hV+ey\\xc9\\xb8\\xec\\xa4\\x97%\\xf2\\x98\\xd3\\tK\\xe4,\\x91\\x87\\x1dv\\x82J\\xea\\xae\\xd3\\x0c*+\\x85I\\xf6\\x94\\xe4\\x9e\\x94\\xf4\\xa8I\\x8f\\xc8\\xd9\\xa3\\x9e\\xd9\\xc3\\x8d\\xae\\x9e\\xbb\\xef\\xfa\\xd6\\x07\\x1e\\x93\\\\\\xe9.\\x8e\\xcd?\\xfd(I\\xff\\xa3\\x8d2\\\\d\\x13iV\\xcb\\xb9\\xbc$\\xe9\\xf1\\x086&amp;c\\xcd\\xe4\\x9cK/\\xb2\\xef\\x96id\\xe8lF\\xe4\\xe9\\x83%r\\x96\\xc87|\\xa0\\xb3D\\x9e\\xcax-\\x93\\xf4\\x98\\xa4\\xa7\\xe4\\xdc\\x93\\xce\\xb4\\xc4\\x97\\xff\\xb4\\x93\\xf7\\x94\\xc9V\\xcb\\xdc\\xa0\\xc9\\x7fA\\x92\\xe4\\xb9\\x15^\\xc3_\\x1dt\\xe4\\x82\\xb7\\xb6;)\\xc8\\xb60\\xf27\\xf8\\x95\\x00G\\xfd7\\x83\\x81_\\x19\\xe9_\\xd7\\xff\\xd1`\\xe77\\x0c\\xfc7l|\\xfe.\\xc4a\\xc3\\xbcA\\x89\\r\\xd7\\xe9y\\xcf\\x06\\xfdAiYO\\xa3\\xeb\\xe99\\xdf?\\xfd\\xe9\\xf6R\\xfb\\xc1r\\xfd}\\xd6\\xd7\\xad\\xf9\\x8b\\xfeC\\xb2\\xff\\x94\\x86~;\\x14\\xd9\\xc4\\xd8\\x12M\\xb3Z\\xbcs\\xcd/\\x00\\xe9\\xd6\\xbd\\x93FIS\\x96\\xa5\\'\\xbdRoh}\\xe4\\xcb\\x0c\\xda\\xe9\\x13K\\xe4\\xd1\\x87\\xa1F\\xc2\\x1b;\\xa8\\xf4Mz\\xc8IwJ\\xba\\xcb\\xc9\\x1e1g\\x8fx\\xd2\\xa3\\xb3.&gt;m\\x89\\x00*\\xc5\\x19\\xd5\\x11\\xfa\\x85\\x1f\\xda^O,\\xfc\\x95\\x9c\\xf6\\r\\xf1p\\x11\\xcdj4\\xab\\xd5\\xa2\\xbc\\xa4{\\xe5\\xb8\\xb5\\x89\\x9b\\x94\\xa4\\xd7\\xd4S,\\x81\\x8a&amp;\\xbcy\\nT\\xf0\\xfb\\x80%\\xf2\\xc2-\\x91\\'\\x11\\xad\\x85xm\\xd4\\xcf\\x98\\x93\\xe6\\xc9\\xd9t\\xdfw\\xb3\\xba\\x9c\\xf7\\x8fe\\x1a\\xbc\\xab\\x08\\x1b\\xe8\\x03@\\x88\\xa7\\xc4\\xfc3NS\\xc3\\xbe-it2r\\x95\\x87\\xf0\\xd2\\xacFyI\\x8a\\xe3\\xe1y\\xe3%=\\x91\\x9e\\xf4\\xae\\xcd\\xf4\\xb2D\\x9e\\x80@\\xd1E\\x9e\\x84\\xf2u&lt;\\x87D\\xeb\\xae\\x0b[\\x86\\xe2\\x9ep\\xce\\xae\\x91\\xef\\xa6K\\x9a&gt;\\xeb\\x92w&lt;\\x8e2\\x00\\x94Tv\\x17\\x7f`+\\rx\\xdf\\x96\\xf4\\xf6p\\x82E\\xb3Z\\xd4\\xb9\\x9df\\xb5\\xb2\\x96\\x97\\xd8\\xd84?\\x8b\\xeb\\x957\\xb0D^\\xc3%\\xf2HJ\\x19\\xb9\\xee\\xda\\xa8\\xbbn\\x83\\xefL\\xff\\xf0\\xa5\\x1b\\xcc\\xdcU\\xb7]r\\xca\\xcc26\\xe6\\x00\\xc0\\x90\\xc7\\xc0\\xfc\\xd3\\'i\\xc0]!i\\xb3\\xe0r\\x15Qh\\xc8&amp;\\x8af\\xb5\\x1c\\xc7#\\x89\\x00\\xc4o\\x8cO[z{\\x8c%r\\xd5a\\x89&lt;\\x89\\xd3\\xac\\xc7N\\r\\x99\\n\\xef\\xbd\\xce\\xe9g]\\xfd\\xfe\\xcfn\\xf9\\xfa\\xbb\\x16\\xfe\\xfb\\x9fO\\xc5\\x16\\x00\\xca,\\xbb\\x8b&gt;\\xb0\\x83\\x1a]W\\xc8tD\\xb8g\"\\xd9D\\x9a\\xd5\\xea\\\\^\\xe2\\xa5\\xbamY\\xb79\\xf5\\x04?/\\x96\\xc8\\xcb\\xb5D\\x9e\\xec\\x98Q\\x86\\x125v\\xd9\\xe8\\x1f\\x1er\\xd2\\xcf\\xa4\\xae_\\xcd\\xba\\xe8\\xe4\\x87\\xd1\\x03\\x80\\n\\xc9\\xee\\xbc\\xb3GH+&gt;\\xa6A\\xfd\\xa7\\xa4Q\\xe1\\x1e(4\\xabE\\x13\\xb6&lt;\\x84\\x97f\\xb5T\\x02\\x10g\\xc3S\\x95^\\x99\\xf5FS?\\xc5\\xb8P,\\x91\\x97[x)C\\x89Pw\\xdd\\x904\\xd5\\xcc}\\xf3\\xd6\\x8bO\\xb9\\x8a\\xd2\\x05\\x80\\n\\n\\xef\\x13g\\x1c#\\x7f\\xc57\\xe4\\xb4Crr\\x95\\x87\\xf0\\xd2\\xacFyI\\xd6\\xe3\\xb1v\\xc2u\\xae7\\xcd\\xcfh\\xb7\\xf4\\xef\\xdd\\x1b\\xa2G|\\xe1\\xfc\\x95%\\xf2\\xf0\\xc2\\x1b\\xde\\xc8\\x8b \\xbcA\\xb3\\xf2\\x95\\xae\\xbb^\"\\xb9o{\\xce\\xfdp\\xe6\\x85\\xa7,X\\xf3\\x13J\\x17\\x00*%\\xbb\\xf3N\\xdfG\\xce\\x9d\\'\\xd3\\xc1\\xcd\\xb7R\\xa6Y-\\xb6D\\xd3\\xac\\x96\\xd1x\\xe4\\x1c\\x80\\x98\\x9f\\x93\\xf4\\xb2D\\x9e\\x91@\\x05\\xbd_\\xa9\\xbb.Y\\xdd\\xf5\\xc3&amp;\\xbb\\xc4\\r\\xf6\\xfcd\\xf6e\\x93W\\xa2\\x05\\x00\\x15\\x94\\xdd\\x05g\\xed\"\\xdf\\xff\\xb2d\\'\\xaa\\xe97\\x87\\x90M\\xa4Y\\x8df\\xb5p\\x01H\\xfa\\x99\\xde\\x86\\xa4\\xae\\xec\\x85\\x97%\\xf2\\xd2lM\\x16Q\\x0ckYwm\\xba\\xd3\\x97\\xce\\xdd\\xf6\\xf1\\xee\\xdfM\\x992\\xb9!\\x00\\xa8\\xa0\\xec\\x9e\\xbe\\xb3\\xfc\\xae\\xcf\\xcbo\\xbcc\\xa3\\xf93\\x90\\xf0\\x92M\\xa4Y-\\xeb\\xf1\\xc8#\\x00\\x894\\x1e\\x19Ko\\x053\\x86\\xa5\\x12\\xde\\x18\\xfa\\x18\\xee\\x1dB\\x08\\xafQw\\x1d@x\\x1f\\x93\\xb3\\xf3^\\xfaX\\xcf\\x8f\\xa6L\\x99\\xdc\\xb8\\x15/\\x00\\xa8\\x9e\\xec\\xce?\\xeb\\xb5\\x92\\xffI\\xf9:U\\xf2\\xbb:\\xcd[\\x89\\t/\\xd9\\xc4\\x9c\\x84\\x97f\\xb5\\x1c\\x02\\x90\\xd4\\xa5w\\xf0E\\xb3.\\xdaN\\r\\x162c\\x98xkP\\x0eK\\xe4\\t6\\xae\\xc59M\\xea\\xae\\x03\\x8f\\xd7|\\x93]\\xbctT\\xcf\\x15s\\xfb&amp;\\xf7\\xa3\\x05\\x00\\x15\\x13]\\xeb\\xf34\\x7f\\xe1[\\xe5\\xdc\\xa7$\\xff\\x10\\xb2\\x89)\\x0b/\\xcdj\\xc5\\n@\\xd2hVk?^\\x99Ho\\x8d\\x96\\xc8\\x83\\n\\x14[\\x93Qw\\xdd\\x96\\x95\\xf2\\xdd7{Gw}uZ\\xdf\\xe4e\\x02\\x80j\\xc9\\xee\\xa2\\x0fm\\xa9\\x01\\xf7^\\xcd_|\\x86\\x9c\\xdb!\\x9e`\\x91M\\x8c:\\'\\xd0\\xacV\\xb3\\xf2\\x12\\xaf\\xcd\\xe6\\n\\tIoC\\x91oU\\x96\\xc8\\xd9\\x9a,\\xc0g\\xa4\\xd4\\xc2\\xdb\\xec\\x07\\xee\\xaan\\x7f\\xe0c\\xd3/&gt;\\xedQ\\xd4\\x00\\xa0B\\xa2k}\\xdd\\x9a\\xbf\\xf809;M\\x83:A\\xce\\x02|c)\\xd9\\xc4\\xd2e\\x13\\x0b3\\x1e\\t\\x1d\\xb7Z\\xe5%\\xc3\\xd2\\x96\\xde\\x01\\x96\\xc8\\xc3DOA\\x1e\\x9c\\xd1\\x857\\xbc\\x91Sw\\x9d\\x9d\\xf0\\xba\\x7f\\xfa\\xbe\\x7f\\xe6\\xad\\x17\\x9fz\\x03z\\x00P!\\xd9]p\\xe6^2;MO,:IN[\\xa54\\x99\\x87\\x98\\x0f\\xc8&amp;f W\\x05\\x0e@*\\xdf\\xac\\xd6\\xe6\\xfa\\xb8\\x943\\xbd\\xb6~\\xa6\\x97%\\xf2:oMF\\xddu\\xcb\\xd7\\xfa\\x92\\xfb\\xe1h\\x7f\\xe0\\x93\\xd7_|\\xdar\\x14\\x01\\xa0\\xe4\\x92\\xfb\\xe8{\\x86\\xabk\\xf8\\x9b\\xe5\\xec\\x189w\\xb4|{yx9%\\x9b\\x98\\xfc1\\xf3\\x10^\\xcaK\\n\\x15\\x80\\xb8\\x86KWz\\xd7\\xd5\\xf4\\xb2D.\\xb6&amp;\\x8b&amp;\\x86\\xf9\\xd5]gR\\x862\\xd7\\xf3\\xdd\\xfbg\\\\|\\xcam\\xa8\\x02@\\x89Ew\\xcd\\x9e\\xbao\\x92\\xb9\\xb7\\xca\\xe90\\xc9FI.C\\xb9\\xcaCxiV\\xa3\\xbc\\xa4d\\xe5%\\xe6\\x063\\x90^\\xbe\\xcc \\xae\\xf0\\xc6}-[\\x93E\\x11\\xde\\xa0QC$\\xe1\\xf5M\\xbad\\xe9\\xc8\\xee\\xff`W\\x06\\x80\\x92\\t\\xee\\xa3\\xef\\x19\\xae\\xe1#w\\x97o\\xfb\\xca\\xecM\\x92{\\x93|\\xdbRrk=\\x97lb\\xe0\\x9f\\xd1\\xac\\x96s\\x00R\\xbb\\xf2\\x92\\xb4\\xa5\\xd7V\\')\\xbc\\x99,\\x91\\'\\xa0\\xa2\\x1d\\xf4)\\xf4\\xfb\\xe7\\xd9\\xb8\\x16\\xe7bPw\\xdd\\xf4 \\x0b}\\xdfN\\xbb\\xf5\\xe2wP\\xbb\\x0bPd\\xb9}\\xe8\\xa3\\xc34\\xcav\\x90\\xdfx\\x85\\x9c\\xdbE\\xd2k%{\\xad\\xa4W\\xaba\\xddk^\\xe5R\\x9e\\xcc#\\x1e\\x97l\\xa2hV+\\xdax\\x14 \\x00qn e\\xe9\\xd5\\x0b\\xc1n\\xb1\\x02-\\x91\\xb3SC\"A\\nu\\xd7Mpv\\xfd\\x80\\xdf\\xf3\\xee\\xbf]&lt;yQ%%\\xc1N\\xef\\xd1\\xbf6\\x1d-I\\xea\\xb11\\xea\\xea\\xefF\\x9d {V\\xb5\\xfeQC\\x9b\\xac\\x9d\\x9eF\\xca4L\\xceFK\\xdarM\\xa6\\xd66\\x97\\xd3\\xe62\\xbdLN;J\\x8d\\x97\\xc9\\xe4\\xe4\\\\\\x8a\\x82E61\\xb6D\\xd3\\xac\\x96\\xe0x\\x14-\\x00I8 \\xb4\\xd43\\xbdZ\\xda\\xd9\\xf3X\"\\x0f\\x17l\\xb25Y\\t\\xeb\\xae\\x1bN\\xfa\\xfc\\xcc\\x0bN\\xbdXr\\xa6\\x12b\\x0f}t\\x98\\xc6\\xf6\\xec,y;J\\xb6\\xa3\\xa4\\x1dez\\xb9\\xa4\\xcd%m)i\\x0b-\\xd6h\\r[/\\x906\\x0f\\xff\\xaaF8S\\xa0\\xc9&lt;\\xc8q\\xbb\\x02L\\xe6\\xfe\\x86\\xff\\xb4\\xfe\\xc7\\xd2%5\\x99wz^\\x93ML\\xfe\\x98E\\x0b@(/)\\xd4x\\xf8~\\xea\\xd2\\xfbB\\xe4k\\x98\\x80\\xf0\\xc65\\xad\\xec\\x96\\xc8\\x93\\xdf\\xa9\\xa1\\x8e[\\x93)\\xe6x\\xa5Tw\\xfd\\xb4\\x93N\\x99y\\xe1\\xa9\\x7f\\x91N-\\x87\\xe2X_\\xb7\\x16=\\xff:\\xb9\\xae\\xfde\\xdaS\\xce^+i\\x17\\x99zR\\xd8\"\\x03\\xca&amp;\\xbb\\xb9\\t/\\xd9D\\xb2\\x894\\xab\\xc5\\xbe\\x97\\x0b?\\x1e)\\x06\\x84.\\xfdL\\xef\\x0b,\\x91+\\x87\\x9d\\x1a*\\xbe5Y\\x02*\\x1a\\xf2\\x8au|\\x97\\x16Y\\xf9;\\xba\\xfd\\xc1\\x13\\x8a\\xfeE\\x13frZx\\xf6^\\xf2\\xbc\\xb7Jz\\xb3\\x16\\xbf\\xb0\\x9f\\x9c7j\\xedC\\x02\\x10\\xde\\x0c&amp;\\xf3&lt;\\x84\\x97l\"\\xd9D\\xcaKj\\x15\\x10:K\\xbd\\xa6wi2\\xc2\\xcb\\x12yn[\\x93\\x85PJ\\xea\\xae7x\\xe5\\xef\\xfbG\\x8ey\\xd7\\xac\\xbecV\\x14Ri\\x1e\\xfa\\xe80\\x8d\\xe99Br\\xc7h\\xb1\\x8e\\x92\\xa7\\xad\\x11=\\xc8Gx\\xd9\\xfa\\x8al\"\\xcdj\\xa9\\x07\\x84uiVk7\\xc6~\\xca\\x99^\\x93\\xbd\\xb0A\\xaa\\x88%\\xf2\\xb0o\\x1e\\xea\\xb5q\\xb6&amp;\\x8b;\\x06\\xd4]o\\xf0\\xc9\\xfa\\xe6\\xec\\x91\\x0f\\x9d\\xad\\xbe&gt;\\xbfP*c}\\x9e\\x9e|a\\x7f\\xf96I\\xf2N\\x91l\\x0b\\x04\\x0f\"M\\x1eq30d\\x13cN\\xe6E\\x0b@\\xc8&amp;R^R\\x82\\x80\\xd0\\xb9\\xb4\\xa5\\xd7\\xbd\\xe0\"\\x08/K\\xe4a\\x1e|!\\x847rYCz\\xc2\\x1b\\xea\\x1d\\x8a_w\\xdd\\x90\\xf4\\xc9Y\\x17\\xbe\\xe3\\x9b\\x85R\\x99\\xc5\\x1f\\xdfJ~\\xcf{\\xb4\\xf8\\x85\\x0fI\\xda~M Jm.\\x14u2\\x0fq\\xdc\\xdc\\'\\xf3\\xb4\\x82\\x05\\xb2\\x89\\xd1\\'\\'\\xcaK\\xea\\x1d\\x10\\xb6\\xfdY\\xaa+\\xaf\\xdd\\x9e\\xd3R\\x0b\\xb9\\x07,K\\xe4E\\x13^\\xea\\xae\\x03\\n\\xefj\\'w\\xea\\xcc\\x0bO\\xfe}a4f\\xd1\\xa7\\xf7\\x91\\xec\\x132\\x9d g\\xbd\\x88\\x1d\\x84\\x7f\\xc6\\x90M\\xccv2/Z\\x00B6\\x91\\x80\\xb0B\\xe5%^\\x93\\x92\\xdb$\\xa5W\\xbe\\x96\\xfe;\\xa9\\x94\\xee\\x12y\\xa8\\x07&lt;[\\x93\\xa5 \\xbc\\xb5\\xae\\xbb^if\\'\\xcc\\xba\\xe8\\x94k\\x0b\\xa11K&gt;u\\x80|\\x9d#\\xd9\\xd1H\\x1d\\x14g2O\\xe8\\xb8d\\x13\\xe3K4\\xd9\\xc4\\x14\\xc7\\x83\\x80\\xb0\\xb8\\x01\\xa1\\xa5+\\xbd\\xe6\\xdc3A\\x056\\xae\\xf0\\xe6)P\\xc1\\xc7\\x8c\\xad\\xc9\\xaaVwm\\xd2rI\\xc7\\xcd\\xbe\\xe8\\xd4\\x1bsW\\x98\\x85\\x9f\\x9a(\\xe9k\\xf2\\xb5\\'B\\x07\\xc5\\x12^\\x9a\\xd5\\xc8&amp;\\xd2\\xacV\\xba\\x800\\xe9r\\x9f\\xdc\\x03\\xc2\\x94\\xa5\\xd7s\\xfeb\\xdf:\\xd7\\x0f\\xb2D\\x1e\\xe6\\x03\\x17\\xd5\\xc7\\x0b\\xb05\\x99*Ww\\xfd\\xbc\\xf3m\\xe2\\xac\\x8bO\\x9d\\x9d\\xab\\xbe\\xac)c8O\\xd2\\xc1\\xc8\\x1cD\\x9e\\x90\\xc8&amp;\\x8af5\\xb2\\x89\\x94\\x97T8 \\xf4\\xf5|\\xaa\\xd2;\\xe8\\xba\\x17{\\x1dv\\x88`\\x89&lt;\\x8e\\xf0F\\xd3\\xbf\\xdc\\xb6&amp;\\xb3J\\xd5]\\xafp\\xa6cf\\xe6(\\xbc\\xb6\\xe0\\x9c\\xed\\xd45x\\x89\\xccND\\xe6 \\xf2\\'\\x9fl\\xa2\\xc8&amp;\\xe68\\x1e\\xa5\\x08@\\x08\\x08+Q^b\\xbd\\xe9fz\\x07Wu/\\xe9\\xed\\t\\xb0CD\\xd9\\x97\\xc8\\xe3\\xbfy\\xa8\\xd7\\xc6\\xad\\xe3\\x8ds\\x9a\\xf5\\xd8\\xa9\\xa1\\xe3gl\\xa5\\x93w\\xf4\\xcc\\x8bN\\xba%\\x17u\\xb1\\xd3{\\xb4x\\xccY\\xd2\\xe0We\\x1a\\x8d\\xccA\\xe4\\x0f7\\xd9D\\x91M$\\x9bH@X\\x93\\x80p\\xc4\\x8aT3\\xbd\\xde\\xb4\\xbe\\x83WI\\xad\\xbb\\xe5*\\xb3D\\xceN\\r\\x81\\x1eD\\x15\\xc9\\xca\\x0f\\x98\\xb9\\xc93/&lt;ij.\\xfa\\xb2\\xe03\\x07j\\xf1\\x98\\xb9\\x92\\xbe.!\\xbc\\x10\\xf1\\x19h\\xebnlk\\xf3{!~f\\t\\x0b\\x96)d\\xf6*\\xc0\\xb9\\x16&amp;{em\\x04!\\xcax\\xe4\\x15\\x80\\xc4&lt;\\xd7L\\xc7\\xc3\\x12\\x1e\\x8f4\\x03\\x90\\x80\\xe7j1\\xef\\x8f\\xd4\\xc7#\\xc1{9\\x99\\x00\\xc4\\xb4\\xfd\\x16/\\xa4\\xf9\\xb4\\xed^\\xfbf\\x8b%7\\xb6\\xf5\\xe9\\xd5z\\x89\\xbc\\xa4\\xc2k\\xa1\\xc6\\xabB\\xc2\\xeb\\x9b\\xb9w\\xcc\\xbe\\xe8\\xe4\\xab2W\\x97yg\\x8fP\\xaf\\xfb\\x92\\xcc\\xff\\xb4\\xa4.d\\x0eb\\t/\\xcdj)\\xc8U\\xc4\\xe3\\x92M\\x14\\xe5%e\\x1a\\x8f4\\x03\\xc2\\xa4\\xc7x\\x83\\x9f/wnJ#\\x03\\xe9uK$\\xed\\xd4\\xfc3Y\\xeb%\\xf2\\x8a\\x0b\\xaf*Xwm\\x9f\\x9d}\\xd1)S2W\\x975\\x8dj\\xff#\\xd3+\\x119\\x88,\\xbb\\xc9M\\x1e\\t\\n/\\xcdj\\x94\\x97P^\\x12\\xdd9\\x08\\x08C\\xfc,\\xd5z\\xde\\x17\\xa5\\xd7\\xa4\\xc5.J\\x10\\xda\\xe2bV\\xafq-\\xe8!\\xd8\\x9a,\\xe7\\xba\\xeb\\xef\\xcf\\xba\\xf0\\xd4K2U\\x17\\x93\\xd3\\xe2O}L\\xb2\\x0b%\\xf1\\xe5\\x12\\x10\\xfd^&amp;\\x9b(\\xb2\\x89E\\x1b\\x8f\\xa2\\x05 \\x04\\x84\\x95\\xde\\x0bYZ\\x92\\x89\\xf4:\\xb9\\xc5\\x1b\\xe5)\\xd9\\xa9!\\xc0\\x031\\xd4\\xe9\\xa5&amp;\\xbc\\xd4]K\\x92\\xbb\\xbaw\\xe4V\\x1f\\xceT]\\x16}zK-\\xf6\\x7f.\\xe9pD\\x0eb\\x05nd\\x13E6\\x91l\"\\xe5&gt;5\\x0f\\x08M\\x0b3\\x91^\\xc9\\x96\\xc4\\x13\\xde\\xf8\\x19C\\xb6&amp;\\x8b\\xa6\\x94\\xd4]K\\x92\\xee\\xe9\\x1d\\xe9\\x9d4\\xad\\xef\\xe0Ae\\x84-\\xf9\\xcck\\xe5\\xfb\\x7f\\x90\\xdc\\xf6\\xc8\\x1cD\\xfe\\xa4\\xb3\\xf5UN\\xc2K6\\x91oV# ,\\\\@\\xe8\\xb9\\x05\\x99H\\xaf\\xc9\\xcdw\\x1b\\\\\\xf0\\xb4\\x84\\xd7\\xc2/\\x91\\x07x-[\\x93\\xd5\\xb9\\xee\\xda=g\\x9e\\xf7\\xb6i}\\x93\\x97e\\xa6/\\x8b&gt;}\\xb2\\xfc\\xc6\\x8f$7\\x12\\x99\\x83\\xe2\\t/\\xd9D\\x9a\\xd5\\xc8&amp;\\x96. \\xacO\\xb3Z\\xeb\\xcf\\x88o\\xa9gz=Irr\\x8fG\\xce\\x18*\\xe5%r\\x0b)\\xbclM\\x16\\xe8CP\\x95\\x9d\\x1a\\xe4\\xec\\x9d\\xb3\\xcf\\x9f\\xfc\\xcfL\\xd4\\xc5\\xe4l\\xd1\\xa7\\xbf*\\xd9\\xaf\\x10^\\x08\\xf6\\xccc\\xeb\\xabl\\x85\\x97\\xad\\xaf\\xd8\\xfa\\xaa\\xd3xX\\xc2\\xe3\\x91W\\x00b\\xed\\xc7#I\\xe1\\xb5\\xb8AM\\xab\\xed\\x13\\x87\\xfe\\xcc-J\\xfb\\xa9\\xbc&amp;\\xd3\\xeb\\xbb\\xc7\\xe4)R\\xc6\\x90\\xad\\xc9\\xf2\\x16\\xde\\xfa\\xd6]\\x9b\\xd47\\xfb\\x82S\\xfe\\x9c\\x8d\\xf0\\xf6uk\\xf1\\xd2\\xefH\\xf6Ad\\x0e\"\\x07\\xf9d\\x13E6\\xb1L\\xe3\\x117\\x00\\x89\\xf03\\xcaKT\\xe3\\xf2\\x92l\\xca\\x1b\\xba\\xc7\\r\\xfekp\\xa9|\\xad\\xcd\\xfc\\x06\\x15\\xde\\xb8\\xa6U\\xd6\\xad\\xc9\\xc2\\x1by5vj(X\\xdd\\xf5\\xcd\\xb3G&gt;\\xf0\\xb5L\\xf4e\\xc9Y\\xa3\\xb5x\\xe9\\xef$G\\xc3\\x1aD\\x9f\\x00hV\\x13\\xcdj\\x94\\x97\\xd0\\xacF@\\xd8\\xf2w\\x9d\\x9fz\\xa6\\xd7\\x93\\xa4k&gt;v\\xe4jI\\x8b\\xc3\\no]\\xb7&amp;\\xb3\\x1c\\x857\\xd2N\\r\\xa9\\xd4]\\x87\\xbb\\x80\\t\\xd7]?\\xdb=\\xa8w\\xa9\\xaf\\xcfO]a\\x9e9g\\x9c\\xfc\\x11\\xd7#\\xbc\\x10\\xf9\\xde\\xe5\\x9b\\xd5r\\x12^\\xcaK(/IhI\\xbe\\x92\\xe5%\\xa6\\xc2\\x95\\x97\\xf8\\xee\\x89\\xb4\\x9f\\xd2\\xdd/\\n\\xb6\\xe91s\\xda:\\x86\\xc7\\x96\\\\xK\\xb25Y\\x08}]\\xff\\xb5\\xc9\\xd7][\\xe01H\\xbc\\x0c\\xc5\\xb9\\xf7N\\xbf\\xf4\\xe4y\\x99\\x08o\\xff\\xe0\\xb5\\x92\\xf6E\\xe8 \\xb2\\xf0\\x92MLA\\xae\"\\x1e\\x97\\xf2\\x12Q^R\\xa6\\xf1\\xe8\\xf0\\xf3\\xa4\\xc7#\\xd61c?\\xb3L\\xbd=\\x01\\x93\\xaf\\xd1\\xf1\\xd6{\\xcb\\xc7;?\\xd7\\x0b\\xf6e\\x06i\\x0bo\\x0c}\\x0c\\xf7\\x0e!\\x84\\xb7\\xeeu\\xd7\\xa6+f]p\\xf2\\xff\\xa6\\xae0\\xcf~b\\xbc\\x06\\x06oDx\\xa1\\xf3\\x1dN61[\\xe1\\xa5Y\\x8df5\\x9a\\xd5R\\t@2iVk\\xf9{\\xcf\\xb8\\x9d\\xaeY\\x9d\\xf6\\x13\\xbb{\\xbd\\xff\\xfdxr\\xc2kA\\x13\\xa7\\xa1&amp;\\x97\\xcc\\xb7&amp;K\\xb0q-\\xcei\\xb25\\xd9\\x8b&lt;\\xd6;\\xaa\\xeb\\xb3\\xa9k\\xcc\\x82\\xbe\\x91\\xea_\\xfa\\x7f2\\xed\\x85\\xd4A\\xb1&amp;s\\xc5?.\\xd9\\xc4\\x84\\xc6#\\xa1\\xe3\\xd2\\xac\\x16\\xff\\\\iVKq&lt;\\xd2\\x0c\\x087\\xe0\\x91,\\x9e\\xda\\xdd\\xeb\\xbd\\xfd\\xe3\\xae\\xc3\\xc9\\xe5\\xb7D\\xceN\\r|%\\xb4\\xcc\\xc9NO{?^\\x9b\\xdb\\xd7\\xab\\xae\\x17~+s\\x07\"u\\x10-P\\xa6Y-\\xdb\\xc9\\xbch\\x01\\x08\\xe5%4\\xab\\x11\\x10\\x86?\\xae\\xcbd\\xeb\\xd1\\x17\\xa5\\xd7\\xf3\\xf4XK1\\xcc}\\x89&lt;\\xbf\\x9d\\x1a\\xd8\\x9a\\xac\\x10\\xc2+I?\\x98y\\xe1\\xa9\\x7fIUe\\xac\\xcf\\xd3\\x92\\x17~!\\xd3D\\xc4\\x0e\\xca;yd0\\x99\\x17Fx\\xc9&amp;\\x92M$ \\xacD\\x80n\\xfe\\xc3\\x99Jo\\xc3\\xd9\\xc3\\x9e\\xb9\\x90\\x91^6\\x02\\x15\\xfc\\xf3\\x9f\\xfcN\\ru\\xdc\\x9aL1\\xc7+\\x8e\\xf0\\xb6`ao\\xff\\xaasR\\xff4,y\\xe1|\\x99ND\\xec\\xa0\\x18\\xc2K6\\x91f5\\xb2\\x89\\xa5\\x0b\\x08iV\\x8bv\\xae.\\xe3Lo\\xa3\\x7f\\xe4#^\\xf7\\xca~I\\xbdC\\x1fF\\xf5\\xdd\\xa9\\xa1\\xe2[\\x93\\xc5U\\xd1N\\xe3\\x15\\xe1\\xfd[\\x8c\\xd9\\xc7\\xa6}\\xfd\\xbd\\xcf\\xa5\\xaa3\\x0b?\\xfd^\\x99}\\x06\\xb1\\x83\\xd2O\\x1e\\x89\\x0bB\\x1e\\xc2K6\\x91\\xf2\\x12\\x02\\xc2Z\\x95\\x97x.\\x93L\\xef\\x8b\\xbb7L\\xeb;xP\\xd2\\xc3\\x81\\xc6\\xb0\\x16\\xc2\\x1b\\xe63n!~\\xb7@[\\x93\\x95\\xe1\\x1b\\xf2\\xccn\\x9au\\xe1)\\xbfMYx\\x0f\\x92\\xb3\\xef!w\\x10\\xeay\\x91y\\xa7s\\x88\\xc9%\\xf4\\xde\\xbb\\x1d\\xce\\xd5Z}\\xc0#v\\xf4\\xe7\\xf25\\xa9\\x15\\xda\\x0b9\\xf4x\\xa4\\x19\\x80\\xb0{I\\xf6\\x01H\\x05\\xf7Bn\\xac\\xceVz%\\xc9\\x9c\\x1eX\\xdf&gt;*\\xb6D\\xae\\\\\\xb7&amp;\\x0b\\x98\\xb5-\\xef\\xd6d\\xa9\\xd4]7\\xcc\\xf3?\\x91\\xaa\\xd2,\\xf9\\xccK\\xe4\\xec\\x97\\x92z\\x10&lt;\\x086y\\xe4\\x95-a\\xeb\\xab\\xec\\xc7\\xa3&amp;[_e\\x1e\\x80$\\x1d\\x10\\x86\\xb8w\\x08\\x08\\x8b\\x18\\x10.\\xd3.\\xb7\\xa4\\xfeml\\xd2\\x86[\\x96\\xc93\\xbb\\xdf\\x02gx\\xdb\\xbf\\xaaxK\\xe4lMV\\xbe\\xbak\\xfb\\xf6\\xec\\x0b\\xdeywjZc\\xa7\\xf7h\\x91?EA\\xbe\\x94\\x05j&amp;\\xbcY\\xcaU\\x82\\x93G\\xear\\x15Wx\\x13&gt;&amp;\\xe5%\\xa2\\xbc\\x84f\\xb5\\xf6?*Ay\\x89\\xd3\\xc3\\xce%\\xff]\\xb0\\x1d\\xa5\\xd7\\x9c\\x1e\\xa8\\xdc\\x97\\x19d(\\xbclM\\x96\\xa8\\xf0&gt;\\xeby\\xeaK\\xf5\\xee_&lt;\\xe6\"9\\x1d\\x80\\xe4A~\\xc2Km\"[_\\xd1\\xacV\\x8d\\x80\\x90f\\xb5\\xc8\\xcf,\\xb3LJ\\x1b6\\x92^\\xbf\\xe1?\\xe09/G\\xe1ek2\\xb6&amp;[{\\\\\\xa7\\x0bg\\x9c\\xff\\x8egSS\\x9b\\x85\\x9f\\x9a(\\xe9cH\\x1eTj\\xf2 \\x9b(\\xb2\\x894\\xab\\x11\\x10\\x96, 4{0\\x17\\xe9m\\xf8\\x83\\xf7\\xb9\\xae\\xde\\xdc\\x04*\\xf85dk\\xb2\\x8a\\xd7]/\\x196\\xa2\\xfb[\\xa9\\xe9\\xcd\\x82Om.\\xa7\\x1fIr\\xc8\\x1e\\xb0\\xf5\\x15\\xd9D\\xb2\\x89\\x94\\x97D\\x9f\\x17\\t\\x08c\\x8f\\x87\\xd3\\x1dY=\\xed7H\\xebN\\xeb{\\xdbs\\x92\\x96\\xe4!\\xbc\\x95\\xda\\xa9\\x81\\xad\\xc9:\\xbeK\\xbb\\xac\\xbc\\x93}%\\xd5o^\\xf3\\xec\\xfb\\x12u\\xbc@\\xb3\\x1a\\xcdj5jVK:\\x00\\xa9M\\xb3\\x9aj\\xdc\\xac\\x96\\xd1n2\\xd6\\x95Z\\xef\\xceP\\xba\\x9b\\x9c\\xe6\\xfdN\\xda\\xb2^\\xc2\\x9b\\xf0N\\ra\\x847\\xf4\\xfbWtk\\xb2\\x7f\\xbf\\xf6\\xf1\\xe7F\\xf6|?5\\xcdY\\xf4\\xa9S$\\xbd\\r\\xe1Cx\\xb3\\x95\\xab\\x84\\x8e[\\xf4l\"\\xcdj\\xf1\\xcf\\x95lbF\\xe3\\x91W@\\x98\\xf4x\\xe4\\x15\\xa0G\\x19\\x8f\\xa6\\xff\\xb0R\\xbbn\\xfa@VO\\xfe\\x8d\\nx\\x9ds\\xf7\\xc7\\xf0\\xb8x\\xc2\\x1bS\"\\xc3\\xbe\\x96\\x9d\\x1a\\xa2\\x08o\\xbau\\xd7Nv\\xf1\\xdc\\xbe\\xc9\\xfd\\xa9h\\xce\\xbc\\xb37\\x95t\\x19\\xc2\\x87\\xf0f?y\\xb0\\xf5U\\xa4\\xf1`\\xeb+\\xb1\\xf5UE\\xf6B\\xb6\\xb4\\x02\\x90\\x92\\xef\\x85\\xec\\xec\\x1e\\xe7\\xa64\\xb2z\\xfawo\\xfc\\xfev\\x97\\x85\\xf8#\\x13]\"\\xaf\\xddN\\r\\xd1\\x847\\xcf\\xc6\\xb5\\xe0\\x83\\x1f\\xa9\\xee\\xfa\\xe9Q~\\xe3\\xbfS\\xbb\\xdb{\\xbc\\x8b$m\\x85\\xf4!\\xbb\\xe1nN\\xb2\\x89d\\x13\\xc9&amp;\\xd2\\xacF\\xb3Z\\xe0\\xfb\\xdcB\\xdd[wf9\\x0bl\\\\\\xde\\xe0\\xbc;e~\\xea\\x02\\x85\\xf0\\x86\\x9c\\xack\\xf1\\ry\\xee\\xf2\\xeb/&gt;my*\\xba\\xb3\\xe03\\x07J\\xfe{\\x11?\\x847\\xff\\xc9#\\xc4qiVKh&lt;\\x12:.\\xcdj\\x15\\r\\x08iV\\xcb- 4\\xbb+\\xcb\\x99`\\xa3\\xf2\\x86\\x9eA\\xbbk\\xa3Od\\xae\\x19\\xc3\\xaa\\n/[\\x93\\r\\xd9\\xa8oEo\\xc3\\xbe\\x9d\\x8a\\xeeX\\x9f\\'\\xcf.\\x15\\xbb5\\xd4Tv\\x8b\\xf6\\xb5\\x9c4\\xabe\\x1f\\x80\\xd0\\xac\\x16i&lt;hV\\x13\\xcdj\\xa9\\x97\\x97\\xdc\\x91\\xab\\xf4^\\xd3w\\xe4RI\\x8f\\x95O\\xa0\\x82\\x1e\\x82\\xad\\xc9\\x8aXw\\xed\\xcc\\xfd|\\xda%\\xa7&gt;\\x95\\xca]\\xbeh\\xd9\\xbb%\\xdb\\x1b\\x01\\xac\\xa3\\xf0f9y$\\x98i*rmb\\xac\\xecU\\x94\\x00\\xa4$\\xb5\\x89a\\xce5\\xd3l\\xa2%&lt;\\x1e\\xcai&lt;\\xaa\\x1e\\x10Ve7\\x99P\\xe7c\\xeaw\\x99\\xed\\xdc\\xd0Tz\\xd7\\xde\\xf0w\\x95Kx+\\xba5\\x99\\n\\xb85YJe(~\\x97\\xfb^*\\xda\\xb3\\xe4\\xac\\xd1r\\xf6U\\x04\\x10\\xe1M\\x7f\\xf2\\xa0Y-\\x9d\\x00$\\xc4\\xb9\\xd2\\xac\\x96\\xc1x\\x10\\x10f6\\x1e\\xd5\\x0f\\x08\\x1fw{N{.w\\xe95\\xe9N\\xb6&amp;\\x0b\\xfa\\xa7\\xa5\\xb85Y}\\xbe\\x12z\\xf6\\xec\\xf3O\\xf9G*w\\xb8?\\xf2\\xa3\\x92\\xb6A\\x02\\xeb$\\xbbd\\x13\\xa3\\x0bo\\xfb\\xe7Q\"\"\\x14h&lt;$\\xb2\\x89U\\xca&amp;R^B@\\xd8\\xf4\\xdf\\xff\\x9a\\xf5\\x0c\\xd1\\xdd\\xec\\x1f\\x9dk.\\xbdae\\xaf\\xa5\\xf0&amp;x\\xdc\\xe0\\xafbk\\xb2\\xa2\\xd6]\\x9b\\xd9wS\\xd1\\x9f%g\\x8d\\x96\\xaf\\xb3\\x11\\xc1:\\to\\xd6\\x93\\xb9\\xe2\\x1f\\x97f\\xb5\\x84\\xc6#\\xa1\\xe3\\xd2\\xac\\x16\\xff\\\\iVKq&lt;\\xf2\\n\\x08\\xa3\\xfaR\\xbb\\x9f\\xbb\\xd9\\x85\\x90\\xde\\xaeF\\xe3\\xae\\x86\\xd7\\x15\\xfc\\xb6\\xb7\\x90\\xc2\\xcbN\\r\\x81&gt;@\\xd5k\\\\k\\xca3\\x1a\\xec\\x99\\x92\\x8e\\x03\\x8d\\xf8\\xa4d[ \\x835\\x95\\xddZM\\x1eE\\xda\\xfa\\xaah\\x01\\x08[_\\xd5b\\xeb+\\x02\\xc2\\x12\\x06\\xe8\\xfe\\xac\\xacg\\x8b\\xa6\\xe5\\r\\xd7}\\xe9\\xd8\\x87%-MB\\xa0\\x10\\xde\\x90\\xd6[\\x8b\\x9d\\x1a\\xd6\\x7f\\xbd]9\\xfb\\xb2\\xc9+\\x13\\xd7\\xa0\\'?;FF\\x96\\xb7\\xb6\\xc2Km\\xa2hV\\x8b\\x1b\\x80P^\\x92\\xfdxP^\\x92\\xfdx\\xe4V^\\xb2Rz\\xe6\\x8eBH\\xaf\\x9c3g\\xba\\'\\t\\x81\\n\\x15\\xe0%(\\xbc\\xe1\\x8d\\xbc\\x1a;5\\x94\\xaa\\xeeZ\\x92\\xf3\\xf5\\xabT\\xee\\xecF\\xe3\\x03\\x92\\xc6#\\x855\\x15^j\\x13\\xa3Ot4\\xab\\xc5;W\\x9a\\xd5\\xaa\\x1d\\x10\\xa66\\x1eU\\x0f\\x08m\\xe83\\xebon\\xc2\\xdcT\\xbe}5\\xbc\\xf4J2\\xa7;\\xca\\xbc5\\x99\\xe5(\\xbc\\x91vj\\xb0\\x90;5X\\xd2\\xb7B\\x0eu\\xd7\\xa6\\xf9\\xb3\\xc6&lt;4#\\xf1\\xbf\\xc4&amp;uI\\xfa\\x08RXe\\xd9%\\x9b\\x18]x\\xa3&lt;W\\xc8&amp;\\x92M$ ,\\xde\\xde\\xd4e\\xde\\x0b\\xd92/m\\x90Z\\xd4\\xf4J\\x92ov\\xbbs\\xae`\\xc2[\\x92\\xad\\xc9\"\\x8aa\\xf2[\\x93Y\\xe01\\xc8\\xa3\\x0c\\xc5L\\xbfR_\\x9f\\x9f\\xf8]\\xbdx\\xdb\\x13%\\xed\\x88\\x1cVUx\\xb3\\x9e\\xcc\\xa3\\x06\\x7f\\xd4&amp;&amp;?\\x1e\\t\\x1d\\x97f\\xb5\\xf8\\xe7J\\xb3Z\\x8a\\xe3\\x91W@\\x98\\xf4x\\xb4\\xfd\\x8cd\\xde\\xc4\\xd6Vz\\xcd\\xd9_\\xdd\\x8b_`U\\xec%\\xf2\\xa8\\xfa\\x18\\xee\\x1dB\\x08\\xaf\\xb15Y\\x902\\x14g^:\\rlN\\x1fN&gt;\\x13\\x0e\\x85\\x94\\xddJM\\x1ey\\x08/\\xcdj4\\xab\\x11\\x10V# ,\\xd5n2\\xa6\\xc1\\xc1[\\xf3\\x98IZ\\x967\\xbc\\xd9\\xff\\xfb}\\x92^\\x08;1\\xe5\\xb0D\\x1eNx\\xd9\\x9a,\\xe4\\x84\\x10\\xe5y\\x10`\\xbc\\x9c\\x16\\xce\\xba\\xe4\\xa4\\xdb\\x13W\\xa3\\'&gt;\\xfbj\\x99;\\x00I\\xac\\x81\\xf0R\\x9b(\\x9a\\xd5\\xe2\\x06 \\x89\\xd4&amp;f\\x14\\x80P^\\x92}\\x00B\\xb3ZJ\\xe3\\xf1O\\xb7\\xc7\\xac%\\x85\\x92\\xde\\xbe\\xbe&gt;\\xdf\\xe4\\xfe\\xceN\\r\\x9d\\x8f\\xcb\\xd6d\\x91\\xdc\\xe5*\\xc9%\\x9f\\x8f\\xf5\\xfc\\xd3%9D\\xb1\\x06\\xc2Kmb\\xf4\\x89\\x8ef\\xb5\\xf8\\xe3Q\\xcbf\\xb5\\x84$\\x9af\\xb5z\\x07\\x84N\\xb9\\xd4\\xf3\\xb6\\x95\\xde5?\\xb4\\xbf\\x05\\x17\\xde\\xfcvj`k\\xb2\"\\to\\xb0\\xbak\\xf9\\xf6\\xe7\\xc4\\xf5hn_\\xaf\\x9c\\x9d\\x86(VEviV\\x8b.\\xbc\\x9d\\x83\\xed\\xd8\"\\x14h&lt;$\\xb2\\x89d\\x13iV# \\xdc\\xf0=\\xed\\x86\\xbcf\\x96\\xee\\xf6?\\xf6\\xff&amp;\\xb9\\x84\\x97\\xc8\\x83\\n\\x14[\\x93\\x85\\x0b JUw\\xbd\\xda\\xf3V\\xdd\\x94\\xf8\\xdd\\xbc\\xd9\\xd2\\xb7Jns\\x84\\xb1\\n\\xc2[\\xa4\\xc9&lt;\\xea\\xe7\\x8e\\xda\\xc4h\\xe3\\x91\\xd0qiV\\x8b\\x7f\\xae4\\xab\\xa58\\x1ey\\x05\\x84I\\x8fG\\xe8\\xcf\\x88\\xc9\\xe9\\xc6BJ\\xaf\\xe7\\xf4\\xb7F\\xc7\\xdez\\xb6&amp;Kuk\\xb2Xz\\x19`\\xbc\\xe2\\xdbv\\xa8 eM\\xbcg\\xb3f^\\xf8\\xfe\\x17\\x92\\xbf\\x9d\\xddd\\x84\\xb1\\x82\\xb2[\\xa9\\xc9#\\x0f\\xe1Mc2/Z\\x00B\\xb3\\x1a\\x01!\\xcdj%\\t\\x08\\xefq\\xbb\\xde\\xb20\\xafY\\xa6my\\xc3\\xf5\\xffy\\xec\\xa3\\x92\\x96d/\\xbc9mM\\x16B\\xf62\\xdb\\x9a\\xac\";5\\xac\\xff\\xd7{N\\xd3\\x13\\xd7\\xa5G\\xfb\\x86K:\\x06q\\xac\\x98\\xf0\\xd2\\xac\\xa6B\\xd5&amp;\\xbe\\xf8\\x10\\xa061\\x9d\\x00\\x84\\xf2\\x92\\xec\\x03\\x10\\xcaK2\\x1e\\x8f\\xbf\\xe49\\xd3x\\x9d^\\xe0\\x9cnOCx\\xe3\\xbe6\\x95\\xad\\xc9\\x02fm\\xcb\\xbb5YA\\xea\\xae}\\x97\\xb8\\xf4j\\xc4\\xb2#$\\x8dE\\x1e+&amp;\\xbc4\\xabE\\x9f\\xe8\\xd2\\xc8^\\xd1\\xac&amp;\\x9a\\xd5\\x08\\x08\\xdb\\x8f\\x07\\x01a\\x87q.\\xb6\\xf4\\xca\\xf4\\xb7\\x00\\xfa\\x14z@\\xf2l\\\\\\x8b\\xe3\\xe5\\xf5\\xd8\\x9a,\\xf92\\x94\\xf5\\xfea`\\x99\\x06oKA\\x9c\\x8eF\\x1e\\xcb(\\xbb4\\xabE\\x9f&lt;\\xa2&lt;o\\xc8&amp;\\x92M\\xa4Y\\x8df\\xb5\\xdc\\x02\\xc2~\\r\\x8e\\xbc%\\xcfY\\xa7\\xbb\\xf3K\\xdc\\xdf:\\x96\\x06\\xb05Y\\xa0\\t\\xa8\\xae;5l\\xf8\\xee\\xf6\\xf7\\xbb.&gt;my\\n\\x02u8;\\x95\\x95Mx\\x8b4\\x99\\x07&lt;Wj\\x13\\x13\\x1a\\x8f\\x84\\x8eK\\xb3Z\\xfcs\\xa5Y-\\xc5\\xf1\\xc8+ Lz&lt;\\x92zf\\xd9L\\xb7\\xc7\\xf5)\\xcc\\xff\\tJ\\xef\\xaa^\\xcd\\x1a\\xd6/_k\\xb3\\xc2lM\\x16\\xf2\\x8f\\xae\\xbd\\xf0n\\x14D%\\xfe-,\\xb6\\xe8\\xec\\xdd%\\xb7\\x1d\"Yb\\xd9\\xad\\xd4\\xe4\\x91\\x87\\xf0\\xd2\\xacF\\xb3\\x1a\\x01a5\\x02\\xc2J4\\xab\\xb5\\xf8\\xb9\\xcb\\xb5\\xb4A\\nP\\xde0\\xe3\\xf3G?+\\xe9\\x81\\x80F\\x13Q\\xa0\\x82\\x1e\\x82\\xad\\xc9\\xb2\\x14\\xde\\xb8\\xafm\\xf6\\xd7;\\xe7\\xeeL\\xfc.v\\xee\\x08d\\xb2\\xc4\\xc2K\\xb3\\x9ahV\\x8b\\x1b\\x80\\xd0\\xac\\x96\\xfdxP^\\x92\\xfdx\\x94\\xbc\\xbc\\xc4\\xbc\\xdc\\xf6\\xe7\\r,\\xbdkO\\x7fF\\xe5vj`k\\xb2\\x8e\\xef\\x92FV\\xde\\x06\\xdd\\x1d\\xc9\\xbb\\x94;\\x10\\xa1,\\xb1\\xf0\\xd2\\xac\\x16}\\xa2\\xa3Y-\\xfex\\xd0\\xacF@\\x18z&lt;\\x08\\x08\\xc3\\x9f\\xab-\\xd6\\x84\\x9b\\xe7\\x94Bz\\x9d\\xfc\\x99\\xf9\\x0b\\xafE\\xbb\\xe7#\\xca\\xe6\\xc6\\xaf`k\\xb2\\x04\\xcaP\\xfa\\xc7\\x0f\\x8c\\xbb7Q\\x9529\\xc9\\xed\\x87T\\x16YviVKv\\xf2\\x90\\xc8&amp;\\x92M$\\x9bH\\xb3Z\\xb9\\x02B\\xfd\\xafs\\xea\\xf8\\xcd\\x0fi\\xd3\\x1d\\xe4E\\x9e\\xe7\\xcdj\\xf8A\\x8aS\\x8b\\xb05Y\\xd0\\x9d\\x1a\\xd8\\x9a\\xac]p\\x9c\\x82\\xf0J\\xd2\\xfd\\xd7\\\\~\\xe4\\xeaD\\xef\\xe0\\x85\\x9fz\\xb5&lt;\\xdb\\x02\\xb9,\\xaa\\xf0\\x16i2\\x0fx\\xae\\xd4&amp;&amp;4\\x1e\\t\\x1d\\xb7n\\xcdj\\x96\\xe0\\xbd\\x9cY@\\x98\\xf4\\x18\\xa7\\x19\\x10&amp;=\\xc6y\\x05\\x84I\\x8fG\\xca\\x01\\xbag\\xff[\\x84Y)P\\xa6\\xf7/\\xffy\\xccC\\x92\\x16E\\x19\\xf4\\xe26\\xae\\xa5\\'\\xbc\\xa1\\xde\\xa1\\xba[\\x93m\\x8c\\xb3\\xfb\\x13\\xbf\\x83\\x9d\\xed\\x8b\\\\\\x16Qv\\xc9&amp;\\xa63y\\x94)\\x9bX\\xe7\\xf2\\x12\\xb2\\x89\\x94\\x97\\x14\\xb1\\xbc\\xa4\\xc3\\xdf\\x91^y\\xc92\\x8d\\xe8\\xb9\\xa94\\xd2\\xbb\\xf6\\xecg\\xb35Y0\\xe1e\\xa7\\x86\\x164\\xf4H\\xf2\\xd2\\xab=\\x91\\xcc\\xa2\\to\\x96\\x93G\\x82\\x99&amp;\\x9a\\xd5\\xe2\\x9d+\\xcdj\\xf1\\xee\\x9d\\xca\\x04\\x84y\\x95\\xfbP^R\\xe0\\x80\\xf0\\x1a\\xb7\\xc3\\xb4U\\xa5\\x92^\\'\\xcd\\x0c5\\xf5\\xb15Y\\r\\x85\\xd7:\\xdcC\\xee\\xd1\\xe4oa\\xf7\\x1aD\\xb3(\\xb2K61\\x83\\xc9#\\xfe\\xb9\\xd2\\xac&amp;\\xb2\\x89R\\x05\\xb3\\x89\\t\\x8fG\\x82\\x12]\\xf7\\x80\\xd0\\x15\\xa3\\xb4A\\nX\\xd3+I\\rs3\\xbd\\xd8\\x02\\x15\\xf4\\xfa\\xb15Y,\\xe1\\x8d\\xff\\xe6\\xa1^\\x1b4H\\xf1]\\n\\x99^iw\\x84\\xb3\\x08\\xc2\\x1b*\\xfa\\rx\\x7fQ\\x9bHmb\\xccse/\\xe4\\x04\\xc7#\\xaf\\x800\\xe9\\xf1\\xe8\\x94\\xcc\\xa1\\xdf \\xe1\\xf1\\x18P\\xc3]]\\x94\\xd9*p\\xa6w\\x0b\\xad\\xfa\\xbb\\xa4\\x95\\xd1\\x85\\xb7\\xa2[\\x93\\xa9\\x80[\\x93\\x15\\xb4\\x0c\\xc5s]\\x89fz\\xed\\xc9\\xcfn#i3\\xa4\\xb3\\x80\\xc2K6Qd\\x13%\\xcaK\\xd8\\xfa\\x8a\\xf2\\x92\\xba\\x94\\x97\\xb4\\xfa\\x99?\\xdd\\xbdf\\xc6\\xb3\\xa5\\x93\\xde)}\\x93\\xfb%\\xfd-}\\xe1\\x8d\\xa6\\x7f\\xb9mMflM\\x168H\\x1d\\xf4\\x16$z\\xf7\\x0e\\xd8+\\x90\\xce&lt;e\\x97f\\xb5t&amp;\\x0fj\\x13\\xb3\\x1f\\x0f\\x9a\\xd5\\x08\\x08\\xab\\x12\\x10\\xaaX\\x01\\xa1s\\x7f,\\xd2\\xcc\\xe5\\x85y\\xf1\\x9a/\\xa9\\x88 \\x86\\x81_\\x15\\xbd\\xac!\\xc6[\\xd7d\\xa7\\x86|\\x85W\\xb2\\x15\\xb3/\\x9b\\xbc2\\xd1\\xbb\\xb7\\xcb\\xdf\\x1e\\xf9\\xccKx\\xb3\\x9c&lt;\\x12\\x926\\x9a\\xd5\\xe2\\x9f+\\xd9\\xc4x\\xf7\\x0e\\xd9D\\x02\\xc2z\\x05\\x84&amp;\\xbf\\xab0\\xf5\\xbc\\xa1\\xa5\\xb7K\\xfeTvj\\xd8\\xf0aX\\xbd\\xc6\\xb5\\xa0\\x87\\x089^\\xa6%)\\xdc\\xbf; \\xa0Y\\xcb.\\xcdj\\xd9N\\x1e\\x11\\xcf\\x95\\xf2\\x12\\x91M\\x94hV\\xcb\\xa8Y-\\xe9\\x00\\xbd:\\x01\\xe1,\\xb7\\xfb\\xf4y\\xa5\\x95\\xdeA\\x8d\\x9b\\xa1\\x8d\\xeaz\\xd9\\xa9\\xa1:\\xc2\\x9bb\\xdd\\xb5sO%\\xef`\\xb6\\x1d\"\\x9a\\xa5\\xf0\\xb6\\x99\\x90\\xc8&amp;\\xa64y\\xf0\\xcdj\\xe9\\x04 \\x8a\\x10\\x80\\x90M\\xa4\\xbc$\\x8d\\x00\\xbdL\\x01\\xa1\\x85\\x0b@\\xcc\\xae,\\xdaL\\x16Jz\\xa7\\xf5\\x1d\\xbc\\xca\\x86l]\\x16Gx\\x03)T\\xe1\\x847\\xfeN\\rU\\xdf\\x9a\\xac\\xc5\\x81\\x92\\x97^\\xb9\\xad\\x90\\xd1\\x1c\\x85\\x97l\\xa2\\xc8&amp;J\\x94\\x97\\xd0\\xacFyI\\xdd\\x9b\\xd5\\x9a\\x9e\\x8f\\xaf\\x1e\\xf7\\xdbRK\\xaf$9\\xd9\\x8d\\x9d\\x05*\\xe8\\xe7\\xad\\xca[\\x93Ym\\xb7&amp;k\\xf6\\x1f&amp;\\xb7&lt;\\x85\\xfbws\\x844m\\xd9%\\x9b\\x98\\xce\\xe4A61\\xfb\\xf1\\xa0Y\\x8d\\x80\\xb0*\\x01\\xa1\\xca\\x10\\x10Ns;\\xcfL\\xb6y=\\x0f\\xe9\\xf5\\xe5nh/\\xbc%\\xd9\\x9a,\\xa2\\x18\\xb25Y\\xb41\\x93l5\\xd2[6\\xe1\\xcdr\\xf2HH\\xdahV\\x8b\\x7f\\xaed\\x13\\xe3\\xdd;d\\x13\\t\\x08\\t\\x08%\\xe7~S\\xc4\\x99-\\xb4\\xf4\\x1e\\xa4\\x7f\\xfc\\xddLO\\xc5Q\\xbaBlMflM\\x96m\\xdd\\xb5KCz7EN\\xd3\\x90]\\x9a\\xd5\\xb2\\x9d&lt;\"\\x9e+\\xe5%\"\\x9b(\\xd1\\xacF\\xb3Z\\xf1\\xbe\\xfcC\\x03\\xea\\xee\\xfe}%\\xa4\\xb7\\xaf\\xaf\\xcfw\\xd2\\xb4\\xbc\\x04*\\x86k\\xb35Y\\x84\\xf1R\\xcc\\xf1\\xb2\\x17\\xff\\xbf\\xf5\\xa7p\\xff\\x8eBR\\x93\\x16\\xdev7\\x11\\xd9\\xc4t&amp;\\x0f\\x9a\\xd5\\xd2\\t@\\x14!\\x00!\\x9bHy\\t\\xcdj\\xd1\\x03\\x90\\x17\\xb9\\xc1\\xbdzZ\\n}&lt;9H\\xaf$\\xf9f7\\xe4!\\xbclM\\xa6\\xcc\\xb7&amp;K\\xaa\\xee\\xda\\x99\\xd2\\x90\\xde\\x1eD5e\\xe1%\\x9b(\\xb2\\x89\\x12\\xe5%4\\xabQ^B\\xb3Z\\x08\\x81*di\\x83$uG\\xfa%\\xaf\\xfb/\\rk\\x94Tx\\xd9\\x9a,\\x8f\\xbaksj$\\xaahvz\\x8f\\x16G\\x0b\\xda \\x84 D\\xfd\\xdd\\\\&amp;\\xf3\\x98\\xe7Z\\x98\\xc9\\xbc\\xdd\\x8f\\xac$\\xe3\\x91P\\x00\\x92\\xfbxtz^\\x16i&lt;:\\xcd/e\\x19\\x8f\\x18\\x01H\\xe6\\xe3\\x112 \\xccu&lt;\\xe2&lt;\\xefCe\\xcfVk\\xa0\\xa7P_H\\xb1&gt;\\x91\\xa4\\xe1\\x86\\xbe\\xa3\\x1f\\x91tW\\x19\\xb6&amp;\\x0b\\xfe\\x81h~\\x03\\xc4\\xd9\\x9a,\\xdc\\x07 g\\xe1m\\xfa\\xaa4\\xea\\xae\\x13b\\xf1\\xd8^\\x845%\\xe1\\xa5YMd\\x13\\xe3\\x06 d\\x13\\xb3\\x1f\\x8f\\xaag\\x13)/)^yIS\\xaer{N{\\xaeR\\xd2\\xbb\\xf63\\xff\\xfb\\xe0\\xcf\\xc3\\xfc\\x84\\xd7R\\x17^\\x0b\\x9a8\\r%#\\x99oM\\x96v\\xdd\\xb5\\x9f\\xf0\\x9d\\xdb\\xb3\\xba\\x0bi\\x8d#\\xbb4\\xab\\x15k\\xf2`\\xeb\\xab\\xd6oMy\\t\\xcdj4\\xab\\x15\\xb0Y\\xad9N?+\\xf2\\xec\\x17Yz}\\xb3\\xdf\\x87\\x1e\\xef&lt;\\x847\\xa2\\x18&amp;\\xbf5Y\\x9dvjH\\xcc\\xfe!\\x15\\xe1m\\x17\\xec\\x91M\\xccv\\xf2 \\x9bH\\xb3\\x1a\\xd9D\\x9a\\xd5J\\xd9\\xac\\xd6\\x8c\\xa7\\xa5\\xe7\\xae\\xad\\xa4\\xf4N\\xff\\xca\\xf1w\\xcb\\xe9\\x81\\xa4\\xf41\\xdc%\\xaf\\xf2\\xd6dA\\xa3\\x86\\xb2\\t\\xaf/(\\xa8\\xf0\\xd2\\xac&amp;\\xb2\\x89\\x12\\xd9\\xc4\\x8c\\xb2\\x89\\x04\\x84\\x04\\x84\\xb9\\x07\\x84\\x8ax&gt;\\x1d\\xa7\\x98_\\xba\\ts\\xd3hZ\\xcf_z\\xd7\\xdew\\x7fHK\\xa0\\xe2\\x04\\x1flM\\x16\\xd5\\x81r\\xae\\xbb\\x86\\x14e\\x97\\xad\\xaf\\xd2\\x99&lt;\\xc8&amp;f?\\x1e%\\xcf&amp;\\xd6&amp; 4\\x02\\xc2\\xca\\x04\\x84\\x01q\\xf6\\xf3\\xa2\\xcf\\x86\\xb1\\xa4\\xd7s\\xf6\\x874\\x84\\x97\\xad\\xc9\\x94\\xc3N\\r\\x08ou\\x85\\xb7\\x0e\\x93\\x07\\xcdj\\xe9\\x04 \\x8a\\x10\\x80\\x90M$\\x9bX\\xf7f\\xb5\\xbc\\x02\\xf4\\xcc\\x9a\\xd5\\x9a\\xf1\\xa0\\xdbm\\xd6\\xdf*-\\xbd7\\xf5\\x1d\\xff7I\\xffbk2\\xb6&amp;K-r\\x84\\x18\\xb2K6\\xb1X\\x93\\x07\\xcdj\\xad\\xdf\\x9a\\xf2\\x12\\xb2\\x89UjV\\x8by\\xef\\x14\\xbdY\\xad\\xf9\\xa1~Z\\x86\\x991\\xe6&gt;\\xa7\\xce\\x9c\\xd9\\x1fB]D\\xb6&amp;KTx\\xe3\\xbe6\\x95\\xbakK\\xf8\\xc3\\x04I\\x8d\\x0c\\xd9\\xc4\\\\&amp;\\x0f\\xb2\\x89\\x94\\x97\\x10\\x10\\xd2\\xacV\\x99f\\xb5\\xe6\\x07\\xebn\\xfc\\xb2\\x06\\xd2+\\x99\\xb9_\\xb5\\xd0\\xb7L\\x857\\x93\\xad\\xc9\\x12\\xbfu\\xe2oM\\x96g\\xe3Z\\xfa\\x9f#HLxiV\\x13\\xd9D\\x89l\"[_\\x11\\x10R^\\x92\\xc2D=\\xd5\\xedr\\xebc\\xb5\\x90\\xde\\xa9_9\\xfe6\\'\\xdd\\x1d\\xb6G+\\xb8\\'\\x15hk\\xb2\\xc4wj\\x08\\xfa\\xa7\\x96m\\xa7\\x06\\xcc7\\x1f\\xd9\\xa5Y-\\x9d\\xc9\\x83lb\\xf6\\xe3A6\\xb1\\x1c\\x01!\\xcdj\\xb5kVk~\\xdc\\x1f\\x94e\\xa6L\\xe4k\\\\}\\xd9O\\x13_z\\x0f\\x98\\xb5\\xad\\xfe\\xd6dBx!\\xda\\xe7\\x89f5\\xd1\\xac\\x16\\xf2gd\\x13K\\x1a\\x10\\xd2\\xacF\\xb3Z&amp;\\xcdj\\xcdxZ\\xc3\\xc6\\xfd\\xa1V\\xd2\\xdb\\xeb\\xd9\\xcf%\\r$/P\\xe9\\to\\xa8w\\xc8uk\\xb20\\x8dkA\\x0f\\x81\\xf0VGv\\xc9&amp;\\x16k\\xf2\\xa0Y\\xad\\xf5[S^B6\\x91f\\xb5R7\\xab5\\xc3\\xe9\\xbf\\xddN\\xd7\\xac\\xae\\x95\\xf4^\\xdfw\\xc2\\x12\\xc9\\xae\\xcaR\\xa0\\xd8\\x9a,\\xccd\\x1b\\xd5\\xc7\\x11\\xdeb\\x0bo\\xd2\\x93G\\\\\\xe1\\x8d:y\\x90M\\xcc~&lt;hV# \\xacJ@\\xd8n&lt;(/I\\x1d\\xbf\\xf1\\xe32\\xcd\\x9c^\\x82G\\xfaq&gt;\\xc2\\xcb\\xd6d\\xe1\\x847\\x9fo\\xc8\\x83\\x8c\\x84\\x97l\\xa2\\xc8&amp;\\x92ML&gt; \\xa4Y-\\xfb\\x800\\xaf\\x00\\x9df\\xb5\\x10Ls\\xbb\\xdfz_=\\xa5W\\x9b\\\\k\\xd2\\x82\\xb4\\x857\\xf8\\x04\\xdf\\xdc\\x18\\x0b\\xb35Yb\\x12\\x99\\xe0\\xd6d\\x91vj\\xb0D\\xff\\x1a\\xe8t%iVKg\\xf2 \\x9b\\x98\\xfdx\\x90M,G@\\x98W\\xb3Z\\xd2\\x01:\\x01a\\xf2\\xb8\\xef\\x97m\\x16MLz\\xa7\\xf5\\x1d&lt;\\xe8\\x9c\\xfbY\\xda\\xc2\\x1bik2\\x15pk\\xb2\\xca\\xec\\xd4\\x80\\xf0f\\'\\xbcQ\\'\\x0f\\x9a\\xd5\\x92\\x9f&lt;2\\xca&amp;&amp;\\x16\\x80(B\\x00By\\t\\xd9D\\x9a\\xd5hVk\\xc9\\xd3\\x1a\\xd5]\\x9a\\x06\\xb6\\xc4\\xa5W\\x92\\xba]\\xe3\\x07\\x92\\x1a\\xd1\\x04(\\xc5\\xad\\xc9\\x8c\\xad\\xc9\\xd2\\x11\\xde4\\xea\\xae\\xa1\\x9a\\x93G\\x02\\xe7Z\\xc7lbm\\xcaK\\xd8\\xfa\\x8a\\xf2\\x92\\x9c\\xcbK\\x92\\x0e\\xd0\\x0b\\x13\\x10\\xa6\\x85\\xfb\\xa9\\xdba\\xda\\xaaZK\\xef\\r}o\\x7f\\xc4\\x99\\xfb}\\xa8\\x81`\\xa7\\x86\\xf6\\xbf]\\t\\xe1\\xc5z\\xa3\\x0bo\\xd2\\x93G\\\\\\xe1\\x8dr\\x9f\\x93M$\\x9bH6\\xb1\\x1e\\xd9\\xc4\\x12\\x97\\x97$\\x1d\\xa0W\\xa9Ym#\\xdfUC\\xe6\\x7f\\xa7\\x8c\\xb3\\xaa\\x97\\xf4\\x01\\xcdw\\x17\\xa6+P\\xe1\\x85\\xb7z\\x8dkA\\x0fQ\\xb2\\xaf\\x84\\x86\\x0c&amp;\\x0f\\x9a\\xd5\\xc8&amp;\\xc6\\xb8w\\xc8&amp;\\xa6\\x10\\x10\\xc6\\xbcwhV# \\xcc~z\\xfa_\\xb7\\xfb\\xac\\x87\\x91^I\\xd3\\xbev\\xdc\\xed\\x92\\xdd\\x9c\\x8e\\xf0Z\\xe0\\x11a\\xa7\\x860NU\\x84\\xbak\\x887y\\xc4\\xcd\\x96\\xd4a\\xf2\\xa0Y-v\\x00\\x92\\x94\\x08\\xd1\\xac&amp;\\xcaK\\xea\\xde\\xac\\x96V\\x80\\x9e\\x01\\xce]V\\xd6\\x19\\xd6K\\xe7z\\xd8E\\xf9\\t\\xaf\\x10\\xde\\x18\\x1f\\x8a|\\xea\\xae!\\xfe\\xe4A61\\xf9\\xc9\\x83\\xad\\xaf(/!\\x9bHyIY\\x02\\xf4\\xac\\x84Ws\\xdc\\x84\\x193\\x90\\xde\\xf5\\x98\\xfa_\\'\\\\-i.[\\x93%\\xf2\\xe6\\xa1^\\x9b\\xde\\xd6d!^f\\x08ox\\xd9%\\x9b\\x18}\\xf2 \\x9b\\x98N\\x00\"\\x9a\\xd5\\x08\\x08\\xab\\x15\\x10\\xd2\\xac\\x96\\x84\\xf5^Z\\xe6\\xd9\\xd6K\\xe9\\xa2\\x98/]\\x1aGx\\xd9\\x9a,\\xe8C+9\\xe1e\\xa7\\x86\\xbc\\x847\\xe9\\xc9#\\xae\\xf0\\x06\\xfc\\x19\\xd9\\xc4\\x8c\\x02\\x90\\x80\\xe7J6\\xb1\\xc0\\x01!\\xcdj4\\xab\\x95\\xacY\\xad9\\x0b\\xa4g\\x7f\\x8b\\xf46a\\xd4s\\xc3\\x7f\\xa1\\xf5\\xbf\\xac\"\\xc4\\xe0\\xb15Y\\x99\\x85\\x17\\xebMDxiV\\x13\\xcdjd\\x13\\x93\\x0f\\x08iV\\xa3Y\\x8df\\xb5\\xc88w\\xb9\\x9b0\\xb7\\x1f\\xe9m\\xc25\\x97\\x1f\\xb9Zf\\xe7\\x87\\xf5W\\xb6&amp;\\x0b/\\xbc\\xe1\\x8d\\x9c\\x9d\\x1a\\xf2\\x97]\\xb2\\x89\\xe9L\\x1e4\\xab\\xc5\\x0e@\\x92\\x12!\\xcaKDy\\t\\xcdj\\xa5mV\\xdb\\x98eR\\xa3t\\xdf\\xc0\\x96\\x99\\xf4J\\xd2\\xb2%O}W\\xb2\\x7f\\xb25Y\\x87w\\x8a\\xb95\\x99\\xe5(\\xbc\\xec\\xd4\\xa0x\\x83\\x17j\\xf2 \\x9b\\x98\\xfc\\xe4A\\xb3\\x1a\\xe5%d\\x13)/\\xa1Y-\\xc0\\xdc\\xf5m7a\\xf63Ho\\x1b\\xe6|\\xff\\x8c\\x01\\xf9\\xde\\xff\\x0b/\\xbc\\xec\\xd4P\\x9a\\xad\\xc9\\x8a\\x19\\x91\\x16Tv\\xc9&amp;F\\x9f&lt;\\xc8&amp;\\xa6\\x13\\x80\\x88f5\\x02\\xc2j\\x05\\x844\\xab\\xa5\\xc1r5T\\xea\\x06\\xb6L\\xa4W\\x92n\\xfe\\xda\\xf1\\xbf\\x96lNp\\x81\\xcdv\\xa7\\x86R\\to\\xd3W\\xe5\\xbc5\\x19;5D\\xbf\\xda4\\xab\\xe54y\\x90M$\\x9bH\\xb3Z5\\x02\\xc2\\x0c\\x02\\xf4\\xfa5\\xab5;\\xb7o\\xb9=f-Az\\x03\\xe1\\xcc\\xe4\\x7f!\\x98\\xeb\\xa6%\\xbc\\x96\\xc2\\xfd\\x94\\xc3\\xd6d\\t6\\xae\\xc59\\xcdh\\xc2\\xeb#\\xbc\\x89N\\x1e4\\xab\\x91M\\x8cq\\xef\\x90ML! \\x8cy\\xef\\xd0\\xacV\\x80\\x00\\xbdh\\x01a!\\xa8L\\x967#\\xe9\\x95\\xa6\\x7fu\\xd2\\xf5\\x92nh\\x7f\\x9b\\x14ak2vjH\\xad\\xee\\xbav\\xceK6\\x91f5\\xcaK(/\\xa1Y\\x8df\\xb5\\xb2fw\\xd7\\xe1\\xbe]\\x95,of\\xd2+I\\x9es\\x9f\\xd6\\x10\\xf5\\x89\\xb3SC\\xbe[\\x93\\x05-\\xacek\\xb2\\xd2|\\xae\\x13\\x17\\xde\\xa8\\x93\\x07\\xd9\\xc4\\xe4\\'\\x0f\\x9a\\xd5\\xc8&amp;R^By\\t\\xcdj\\x11X\\xae\\x86\\x7fI\\x95f\\xe7\\xcc\\xa4w\\xeaWN\\xb8S\\xd2/\\x92\\x10\\xdeP\\xe2\\xc1\\xd6d\\x89\\x08o\\xf0\\x87`\\xf3?\\xb8\\x1e\\x89^\\xb2\\x89d\\x13\\xc9&amp;\\x92M,S6\\x91f5\\x9a\\xd5\\xda\\xe0\\xf4\\x9d*ey3\\x95^I\\xea\\xf6\\xbb?#\\xe99\\xb6&amp;\\x0b\\xe7\\xed-\\xde=S\\xe1M\\xbf\\xee\\xba\\n\\xc2\\x9b\\xf4\\xe4\\x11Wx\\xa3\\x04n4\\xab\\x91M$\\x9bX\\x8fl\"\\xcdj\\xc5\\n\\x08\\x0b\\xc7\\xb3\\xf2\\x06.\\xa8\\xdaL\\x9d\\xa9\\xf4\\xdex\\xeeq\\x8bM\\xee?\\x82}\\xb0B&lt;/J-\\xbcU\\xdd\\x9a\\x0c\\xe1\\xa5Y-\\xaf\\xc9\\x83\\xf2\\x12\\xcaK\\xc8&amp;&amp;\\x1f\\x10\\xd2\\xacV\\xe1f\\xb5\\x8dq\\xf6%\\xb7\\xcb_\\x9fFzc\\xb2\\xd5\\x03\\x83\\xdf\\x95\\xe9\\xf6\\xac\\xb7&amp;\\xeb\\xf8pKQx\\xe3\\xbe\\xb6|[\\x93Y:\\x1bf\\x14Rv\\xc9&amp;\\x16g\\xf2 \\x9bHyI\\x82\\x01aR\\xf7re\\x02\\xc2\\xa4\\x03\\xf42\\x05\\x84UoV\\xdb\\x88\\xfb\\xb5r\\xf5w\\xab8kg.\\xbdS\\xa6Ln\\x98\\xd9\\xfb%\\x05\\xfb\\xfefKk\\xa7\\x86\\xe0b\\x13wk\\xb2&lt;\\x1b\\xd7\\xe2\\\\\\x8c\\xf4\\xeb\\xae\\xcb.\\xbcQ\\'\\x0f\\xb2\\x89\\xc9O\\x1el}E6\\x91\\x80\\x90\\x80\\x90f\\xb5Dp\\xfa\\xa4\\xdb{\\xce\\x00\\xd2\\x9b\\x10\\xb7\\x9c{\\xe2]2wnP\\xb1\\xc8w\\xa7\\x86\\xa0\\xf7?[\\x93\\x85\\xab\\xbb.\\xb3\\xec\\xd2\\xac\\x16}\\xf2 \\x9b\\x98N\\x00\"\\xb2\\x89\\xa5\\x0f\\x08iVK\\xb5\\xbc\\xc4D\\xb3Z\\xb09\\xeeF7a\\xe65U\\x9d\\xc1\\xbd\\xdc\\xde\\xb8w\\xd3\\xaf9\\xb99\\x9dn\\xa8rlM\\xa6\\n\\x0bo\\x1au\\xd7e\\x16\\xde\\x0c&amp;\\x8fP\\xc2\\x1b\\xf0g4\\xabe\\x14\\x80\\x04&lt;W\\xb2\\x89\\x05\\x0e\\x08iV\\xabd\\xb3ZR\\xf7r\\xb5\\x9a\\xd56\\xc4\\xa9!O\\x9fP\\x85\\xc9Mz\\xa7\\xf5\\x1d&lt;\\xe8\\x9b\\xbdO\\xd2\\xaap\\x0f\\xddl\\x847\\\\\\'Y\\xf2;5\\x94uk\\xb2Z\\no\\xd2\\x93\\x07\\xcdj\\xd1\\xcf\\x95\\xf2\\x12Q^\\x92\\xe6xP^R\\x8e\\x00\\xbdh\\x01ai\\xa6\\xb9+\\xdc\\xae\\xb3\\xeeAzS\\xe2\\x96sO\\xbc\\xcbI\\xe7\\xb4\\xba\\xa9\\xd8\\xa9!{\\xe1ek\\xb2\\xa4&amp;\\x8f\\xb8\\xd9\\x92\\x04&amp;:\\xb2\\x89\\x19\\x8d\\x07\\xcdj\\xd9\\x8f\\x07\\xcdj\\xe9\\x04\\x84!\\xee\\x1d\\xcaK\\xc2\\xcc\\xdae\\xe0_\\xea\\xd6\\x17Tq\\xbc\\xbcO\\xe0\\xe6\\xaf\\xbd\\xfdrI\\x7f\\n\\xf4&lt;\\xaf\\x8d\\xf0\\x06\\xfd\\xb2\\n\\x0b\\xf1\\xb1ck\\xb2h\\xc2\\x1bu\\xf2 \\x9b\\x98\\xfc\\xe4A\\xb3\\x1a\\xd9D\\x02B\\x02B\\x9a\\xd5R\\x99\\xec\\x9c;\\xc3\\xed&lt;\\xf3\\x05\\xa47u\\x9c\\x99\\xef\\xbf_\\xa6\\xf9lM\\x96\\x82&gt;\\x06\\xcc\\xda\\xb25Y\\x15\\'\\x8f\\x04\\xce\\x95lb\\xbcs\\xa5\\xbc$\\xde\\xbdC6\\xb1\\xda\\x01!\\xcdj\\x05\\xc1\\xfd\\xd0M\\x98q\\xadj\\x80W\\x84\\x93\\xb8\\xe5\\xbc\\xc9O\\xfa\\xa6\\x13%\\xadfk\\xb2\\xa0o\\x1b\\xa6\\xac!=\\xe1MR\\xfa\\x8b#\\xbc%\\x9c&lt;BeKhV#\\x9bH6\\x91f5\\x9a\\xd5j\\xd9\\xac\\xb6\\x91\\xef\\xea\\t\\rt\\x7fV5\\xc1+\\xca\\x89\\xcc8\\xef\\xc4\\xdb\\xcc\\xb9O\\x04\\x96\\x12\\xb6&amp;\\x0b(\\xbcyoMV\\x11\\xe1%\\x9b(\\x9a\\xd5(/)e@H\\xb3Z\\xfc{\\x87f\\xb5\\x80\\xe7SJ&gt;\\xe8\\xf6\\x9c\\xf6\\x1c\\xd2\\x9b\\x03\\xb7|\\xed\\xc4\\xefJ\\xfaa\\xf6\\xc2\\xcb\\xd6dY\\x7f%t\\xf1d\\x97lbq&amp;\\x0f\\xb2\\x89\\x94\\x97\\xd0\\xacFy\\t\\xcdj\\xa9\\xe3\\xec\\xc7U\\xde\\x93\\xb7\\xf0\\xd2+I+\\x9ez\\xe6,\\x99\\xdd\\x90\\x95\\xf0\\xb25YX\\xe1M\\xa3\\xee:o\\xe1\\x8d:y\\x90ML~\\xf2\\xa0Y\\x8dl\"\\x01a\\xb4\\x800\\xaf\\x00\\x9df\\xb5\\x92\\xf2O\\xf56\\xceV\\xcd(\\x9c\\xf4\\xce\\xf9\\xfe\\x19\\x03\\xfd\\xc3\\xfa\\xdfn\\xb2{\\xb2\\x10^\\xb6&amp;Kk\\xa7\\x86\\xa2?$hV#\\x9bHy\\t\\xd9\\xc4*5\\xab%\\x1d\\xa0K\\xe5iV\\x8by\\xef\\xd4)\\xbb\\xbb\\x86\\xd5\\xf2\\xbc\\x93\\xdcN\\xb7-Ez\\x0b\\xc0m}\\xef\\\\*\\xbf\\xeb8I\\x0bk\\xbb5Yd\\x9dLqk\\xb2\\x04\\xbe!\\xaf8\\xc2\\xdbn\\xf2\\xa0Y-\\xdb\\xc9\\x83l\"\\xe5%d\\x13iV\\xcb)@\\xaf\\x9f\\xf0J\\xa6O\\xb8]o\\xf9\\xbbj\\x88W\\xd4\\x13\\x9bq\\xfe\\xdb\\x1f\\xe9R\\xd7\\xe1\\x92\\x9eN}k\\xb2\\x98\\x12\\x19\\xf6\\xb5q\\xebx\\xe3\\x9cff;5\\x94Qx\\xc9&amp;\\x8al\"\\xd9\\xc4R\\x06\\x844\\xab\\x15$ L:@/Z@X\\t~\\xe6v\\x9f\\xf9]\\xd5\\x14\\xaf\\xc8\\'7\\xed\\xdc\\x13\\xee\\x91\\xd3\\x91\\x92^H.\\x063vjH{\\xa7\\x86B&gt;/hV#\\x9bH6\\x91l\"\\x01!\\x01aM\\xb3\\xbb\\x92\\xe44[\\xc3\\xc6\\x9e\\xae\\x1a\\xe3\\x15\\xfd\\x04o\\xf9\\xda\\xe4\\xbf\\x9a\\xb9c%-o}[\\xb25Y\\x91wj\\xc8\\xff1B\\xb3\\x1a\\xcdjd\\x13\\x93\\x0f\\x08\\xc9&amp;\\xd2\\xacF\\xb3Z\\x89\\x98\\'\\xf5\\x9c\\xe0v\\xbaf5\\xd2[pf\\x9c?i\\x9adGHZ\\x9a\\xddN\\r\\xc9\\nox#/\\x82\\xf0\\x06\\xad&lt;.\\xaa\\xf0\\x92M\\xa4Y\\x8d\\xad\\xaf\\xc8&amp;\\xd2\\xacF\\xb3Z\\x8d\\xb3\\xbb\\x92\\xe4\\xdc\\xf3\\x92;\\xc6M\\x98\\xb6H5\\xc7+\\xcb\\x89\\xder\\xdeI3}\\xcf?B\\xd2sQ\\x857\\x9d\\xc6\\xb5\\xa0~\\xcd\\xd6d\\xd9\\x0bo\\xbb\\xc9\\x83\\xad\\xaf\\xb2\\x9d&lt;hV\\xa3\\xbc\\x84l\"\\xe5%4\\xabe/\\xbcZ)\\xd91n\\xb7\\x19w\\n\\xca#\\xbd\\x924\\xf3k\\'\\xdfj\\xbew\\x80\\xa4ylM\\x16\\xec\\x03\\x9b\\xe7\\xd6d\\xf9=NhVk\\xfd\\xd6d\\x13\\xc9&amp;R^B@HyI-\\x84W\\xea\\x97\\xb9\\x93\\xdc\\x84\\x99\\xb7\\xa0\\xbb%\\x94^I\\x9ay\\xc1\\x89s\\xad\\xd1\\xd8W\\xd2\\x9d\\x85\\x14\\xde\\x18\\xfa\\x18\\xee\\x1d\\x8a\\xbd5\\x99\\xe5\\xa2\\xc04\\xab\\x91M$\\x9bH6\\x91\\x80\\x90\\x80\\xb0\\xe6\\xd9\\xdd5\\x0c\\xc8\\xf3Nr\\xbb\\xcd\\xf8\\x13\\xaa[b\\xe9\\x95\\xa4\\x99\\x17\\x9e\\xb2@6x\\xb0I7\\x85\\x12\\xde\\x98\\x12\\x19\\xe8\\xb5\\t6\\xae\\xc59\\xcd&lt;\\xb7&amp;\\xcbOx\\xa3N\\x1e4\\xab%?y\\x90M$\\x9bH6\\x91f5\\x9a\\xd5r\\x13^\\xd3\\xc9n\\xd7[\\xfe\\x88\\xe6V@z%i\\xc6\\xf9\\xefxv\\x9b\\x7f\\xba\\xc3%]\\x10Xx\\xd9\\x9a,\\xd0\\xc3;\\xd9\\xc6\\xb5\\xb4\\x1f2d\\x13iV\\xa3Y\\x8dl\"\\xcdj4\\xab\\x91\\xdd]\\xcb\\ny:\\xde\\xed&gt;\\xf3\\xf7(n\\x85\\xa4W\\x92\\xa6L\\x99\\xdc\\x98q\\xfeI\\x9f3\\xa7\\xf7HZ\\xd5\\xf6\\x16gk\\xb2\\xa8\\x1e\\x9b\\x8c\\xf0\\xa6\\xf2\\xcc\\xa1Y\\x8dl\"\\xe5%\\x94\\x97P^\\x92|@H\\xb3ZIyV\\xf2\\x0ew\\xbb\\xce\\xbc\\x1a\\xbd\\xad\\xa0\\xf4\\xaec\\xe6y\\'\\xfd\\xd4\\xf3\\xedu\\x92\\xbb\\xab\\xb3`\\x04P\\xa9\\x92nM\\x16\\xfc\\x01\\xda\\xfc\\x0f\\x8e\\xb3SC\\xf6\\xc2\\x1b\\xf5o\\xa7Y\\x8dl\"\\xd9\\xc4\\xda\\x94\\x97\\x18\\x01a\\xf2\\x01:\\xcdj\\x05\\xe5A5\\xb4\\x9f\\xdb\\xed\\x96\\x99\\xa8m\\xc5\\xa5W\\x92\\xa6_x\\xf2}\\xdd\\xc3\\x97\\xef#\\xe9\\x9bu\\xdd\\x9a,\\xd2N\\r\\x16r\\xa7\\x86\"?C\\xc8&amp;\\x8al\"\\xd9D\\xb2\\x89\\x9d\\xc6\\xa3\\xce\\x01a^\\x01:\\xcdj)s\\xbd|\\xb7\\xaf\\xdbc\\xe6\\x03hmM\\xa4W\\x92\\xa6\\xf5\\xbdw\\xd5\\x8c\\xf3O\\xfa\\xb8LGJ\\x9aW\\xbb\\xad\\xc9B\\x7f\\xd8\\xd3\\xda\\x9a,\\xe3,/\\xd9D\\xd1\\xac\\x96\\xe6xP^\\x92N@\\xa8\\x1a\\x07\\x84U\\xd9M\\xa6l\\x01a\\xe5\\xf0%\\x9d\\xaf{\\xb79\\xd2\\xbdf\\xc6\\xb3(m\\xcd\\xa4w\\x1d3/8\\xf9\\x9a\\xc1\\xe1\\x83\\xbb9\\xe7\\xbe\\xb9\\xf6\\xa6\\x88\\x11\\x05\\x96hk2+\\xd8\\xd6d\\x99m\\xda@61\\xf2\\xb9\\x92M\\x8c?\\x1e\\x94\\x97\\x948 \\xa4Y\\x8df\\xb5\\xd2\\xb2D\\xce\\x1d\\xe5v\\x9b\\xf9y7yJ\\x03\\x9d\\xad\\xb1\\xf4J\\xd2m}\\xef\\\\:\\xe3\\xfc\\x93&gt;.\\xdf\\x0e\\x92tG\\xa7\\x0fF\\x9e\\x8dkq&gt;\\xbf\\x85\\xdd\\x9a,\\x13\\xe1\\xa5Y\\x8dl\"\\xd9D\\xb6\\xbe\\xa2\\xbc\\x84f\\xb5\\xda\\t\\xef\\xef\\xd4\\xef\\xed\\xe6&amp;\\xcc\\xb8\\x16\\x8dEz7`\\xe6E\\xa7\\xdc2s\\xc4\\xfd{9\\xe9\\xdd\\x92-)\\x9a\\xf0Vrk\\xb2\\xdc\\x9f?4\\xab\\x91M$\\x9b\\x98\\x88\\x98\\xa6\\x11\\x10\\xd2\\xacF@\\x98I@XI\\x16\\xc9\\xd9$\\xb7\\xdb\\xcc\\x13\\xdd\\xebny\\x12\\x85Ez\\x9b\\xd3\\xd7\\xe7\\xcf\\xb8\\xe0\\xe4\\x9f\\xf5\\x8c\\xe8z\\x85s\\xfa\\x9c\\x93\\x9e\\xaf\\x96\\xf0V}k\\xb20\\x7f\\x1c\\xcdj\\xc9O\\x1e4\\xab\\x91M\\xa4Y\\x8df5\\x9a\\xd5rd@\\xd2\\xd75\\xd0\\xb3\\x8b\\x9b0\\xeb\\xb7\\xa8+\\xd2\\x1b\\x88i}\\x93\\x97\\xcd8\\xff\\x94\\x0b\\xba\\x07\\xed\\x952\\xbb\\xc8L\\xcbB;U\\x98\\x0f]\\x05\\xb7&amp;\\x0b\\x10\\x05\\xe4(\\xbcIO\\x1e!&amp;\\x01\\xb6\\xbe\\x8aw\\xae4\\xab\\xc5?W\\xb2\\x89\\xa2\\xbc\\x84f\\xb5\\xcaa\\xbaAN{\\xba\\xddf\\x9e\\xed\\xf6\\x9c\\xf6\\x1c\\xda\\x8a\\xf4\\x86\\x97\\xdfKN}j\\xe6\\x85\\xa7~\\xb6\\xb1\\xb2\\xf1R3\\xf7\\tI\\xf3\\x83eP\\xd6\\xff\\xcf\\x8aoMV\\xaa\\xd8\\x9alb:\\x93\\x07\\xd9\\xc4\\xd6oMy\\t\\x01!\\xe5%\\xc5\\xdaM\\xa6\\x82\\xb2\\xebi?\\xb7\\xfb\\xcc\\xc3\\xdc\\x84\\x99s\\xd1U\\xa476\\xb7]\\xfe\\xce\\xa5\\xb3/:\\xf9\\x1b\\xe3V\\x8e{\\xa5\\x93\\xbd\\xc7I3C\\',\\x92\\x10\\xde\\x10\\x1f\\xe8\\xcc\\xb6&amp;K\\xb8\\xac\\xc1Rz*\\x90M$\\x9b\\xd8\\xfe\\xb3G6\\x91\\x80\\x90\\x800\\xd5\\x800\\xa9gK\\xdb\\xf1\\xa8\\x8d\\xf0\\x0e\\xc8\\xe9J\\xf9no\\xb7\\xfb\\xcc\\xc3\\xdc\\xae3oES\\x93\\xa5\\x9bK ]s\\xf9\\x91\\xab%\\xfdT\\xd2O\\xf7\\xfd\\xec\\xafw\\xf1\\xe4\\xbf_\\xd2\\xa9\\x92\\xb6\\x8e\\xa3\\x8f\\xe1\\x9c\\xb4\\xba[\\x93\\xad\\xc9\\x8a\\xbbLC\\xe4\\xe4\\xe5\\xaa\\xd3\\xdf\\\\\\xb4\\xc9\\\\\\xf1\\xce\\'\\xd3\\xc9&lt;\\x81s-\\xf4x(f&amp;6\\xcb\\xf1H0 \\xccu&lt;\\xd2\\x0c\\x08\\x93\\x1e\\xe3\\xbc\\x02\\xc2\\x98\\xe7Z\\x88\\x00\\xbd2\\xcc\\x93\\xf4\\x03y\\xde\\x0f\\xdd\\xae\\xb7,\\xc4\\xca\\x90\\xde\\xcc\\xb8\\xf5\\xc2\\x93\\xef\\x93\\xf4i\\xf5\\xf5}\\xf6\\x80\\x95\\xaf\\xda\\xdf7\\x9b$\\xb9\\xb7Kzi\\xba\\x8dk\\xe9\\to\\xa8wH\\xbcq-\\xeb\\x07\\x16\\x93G\\xf2\\x93y\\x1e\\xc2\\x9b\\xc6x\\x14-\\x00\\x89x\\xae\\xa5\\x1a\\x0f\\x02\\xc2\\xec\\xc7\\xa3.\\x01a\\xe9yN\\xce\\xfe$\\xf3\\xa6\\xe8\\xc9\\xeek\\xdc\\xc1\\xd3\\x0610\\xa47?\\xfa\\xfa\\xfc\\x19\\xd2\\x0c\\xad\\xf9\\xbf\\x8f\\x1f\\xf0\\xb9_\\xec\\xd8h\\xe8\\x18IGK:P\\xd2\\xb0\\xe4\\x84\\xb7\\xaa[\\x93Y\\x86\\x8f,\\xb2\\x89d\\x13\\xd3\\x18\\x8f\\xa2\\x05 d\\x13\\xcb3\\x1e\\x04\\x84dw7\\xe2^9]-y\\xd7J\\xcf\\xdc\\xe2&amp;\\xcc\\xedG\\xb6\\x90\\xdeB2\\xe3\\xfcw&lt;\"\\xe9\\x1b\\x92\\xbe\\xb1W\\xdf\\xf7F\\x0e{a\\xf4\\xde\\xbeg\\xfb:\\xb9\\xfd\\xe5\\xf4\\x06\\xf9\\xeb\\x97B\\xb05Y9\\x84\\x97\\xc9\\x83l\"\\xd9D\\x02B\\x02\\xc2\\xe4\\xc7#\\xcd\\xe0\\xad4\\x0c\\xca\\xec.\\xc9\\xcd\\x94s\\xb3\\xd5\\x18\\xb8\\xc5\\xedq\\xdb|l\\n\\xe9-\\x1ds\\xfa\\xceX!i\\xfa\\xda\\xff\\x93$\\xbd\\xe1\\xf3?\\xdd\\xac\\xbb\\xbf{\\x82/\\xdb\\xd5\\x93v5g\\xdbKz\\xb9/\\xb7\\x9d\\x93\\xc6G\\x9bp\\xa2\\no\\xde[\\x93e%\\xbc%\\x9c&lt;\\n#\\xbcd\\x13\\xc9&amp;\\x12\\x10\\x12\\x10\\x96) ,$&amp;i\\x91\\xa4\\x7fI\\xfa\\x97\\x9c\\x1e\\x92\\xb9{$\\xdd+\\xf7\\xec}n72\\xb9HoE\\xf9\\xeby\\xef~z\\xa8\\x08\\xaf\\xe3\\xa0\\xb3\\xae\\x1c\\xdd?\\xca\\xdfj\\xd0\\xf5o\\xe2\\xcc\\xdbTr\\x9b\\xca\\xfc\\xb1\\x92\\xe497\\xd2d\\xc3Z\\x1d\\xd7\\xf9/\\xfe\\xaf\\x80g\\xe2KN\\xf2\\x03\\x9fy\\xeb\\x17\\xbb\\x88\\x0f\\xa3\\xc6\\xd0s\\xf5%\\xcf\\xb9\\xdb\\xb3s`\\x9a\\xd5\\xc8&amp;f&lt;\\x1e\\xa6\\xdf\\xc9\\xd9\\xdf\\xda\\x7fT]\\xeb\\xcfl\\xdb\\x7f\\x0e\\xf9{\\x9d\\xde\\xd3\\xad\\xf9\\x94F\\xc3\\x0f\\xf7\\xf6Q^\\xec\"\\xfe^\\xd3\\x87Q\\xc2\\xd7.\\xf2\\xef\\xb5\\xf8]?\\xc8\\xef%0VQ\\x7f\\xd7\\xcf\\xf2=\\xc3\\xccs\\x19\\xe2l\\xb9\\xe4\\xfae\\xe6K\\xf6\\xac\\xe4\\x9e\\x91\\xb3g%\\xef\\x19\\xf5\\x8eY\\xecv\\xbaf5\\x06T\\x1e\\x1c\\x97\\x00\\xca\\x88=\\xfd\\xd1\\xb1\\xea\\xf7\\x9e\\xcf&amp;[B\\xb3\\x1a\\xd9\\xc4\\x8e\\xe3\\xf1\\x01\\xb7\\xe3\\xaf\\x7f\\xc4\\'\\x13\\x00\\xa0\\xb8\\x90\\xe9\\x85\\x92\\xdbo\\x82\"\\xd4\\xf4e\\xd4&amp;F\\x93\\xdd\\x84\\x8e[\\xeaf5\\x00\\x00@z\\x012\\x13^j\\x13\\xa9M\\xcc\\xa3\\xbc\\x04\\x00\\x00\\x90^\\x80t\\xcc7\\xfa\\xcfhV\\x8b/\\xd1\\x94\\x97\\x00\\x00\\x00\\xd2\\x0b\\x90\\xb5\\xf0\\xd2\\xe9L\\xb3Z\\x1e\\xe5%\\x00\\x00\\x80\\xf4\\x02\\xe4.\\xc2\\x9d\\x84\\x97\\xad\\xafhV\\x8b3\\x1e\\xf4\\x04\\x03\\x00 \\xbd\\x00E\\x13^\\x9a\\xd5\\x12\\x92\\xdd\\x84\\x8e[\\xf4\\x8d\\xf4\\xeb\\xf9\\xcdQ\\x00\\x00H/@ie7\\x94\\xb0\\xe5!\\xbc4\\xab\\xb1\\x91&gt;\\x00\\x00 \\xbd\\x00q\\x04\\x8bf\\xb5\\xf8\\x12M\\xb3\\x1a\\xb2\\x0b\\x00\\x80\\xf4\\x02\\x14IxiV\\xa3Y-\\x8f\\xf2\\x12\\x00\\x00@z\\x01\\xf2\\x12a\\x9a\\xd52\\x10^\\xcaK\\xa2\\x7fU,\\x00\\x00 \\xbd\\x00q\\x84\\x97f\\xb5\\x84d7\\xa1\\xe3V\\xb6Y\\x8d\\xcc/\\x00\\x00\\xd2\\x0b\\x90\\x87\\xec\\x86\\x12\\xb6&lt;\\x84\\x97f\\xb5\\xca\\x97\\x97\\x00\\x00\\x00\\xd2\\x0b\\x90\\xaa\\xf0f\"Wy\\x08/\\xcdj\\xa5)/\\x01\\x00\\x00\\xa4\\x17\\xa0\\xfc\\xc2K\\xb3\\x1a\\xcdj\\x08/\\x00\\x00\\xd2\\x0bP\\x00\\xf7\\xa5Y--\\xe1\\xa5Y\\xadm\\x00\\xc2\\x17\\xb2\\x01\\x00 \\xbd\\x00\\xd9\\xc8n\\x02\\xd2F\\xb3Z\\xbc\\xe3\\xd6\\xb1Y\\xcd\\xc8\\xfc\\x02\\x00 \\xbd\\x00\\xf9\\xd9o\\xce\\xc2K\\xb3\\x1a\\xe5%\\x00\\x00\\x80\\xf4\\x02d&amp;\\xbc4\\xab\\xd1\\xacFv\\x17\\x00\\x00\\x90^@x3\\x92\\xab\\x88\\xc7-\\\\vw\\xc8\\xcf)/\\x01\\x00\\x80\\x12A\\xfb\\x05\\x94Sw\\x9f\\xfe\\xe8X\\xad\\xf2\\x9f\\x8f,m4\\xab\\xc5;f%\\x9b\\xd5\\xac\\xc3\\x8f\\xda\\xfe\\xee\\xbd\\x92[\\xd0\\xfcg~\\xc4\\xf1\\xf0s\\x08\\x08\\xfd\\x88o\\x1d\\' T\\xf8k\\xe0\\xc7\\r\\xde\\xa2\\\\s\\x0b\\xfe\\xbb\\x96\\xf0XY\\x88su\\xde_\\xdc\\xae7_\\xc8,\\x01\\xb01dz\\xa1J*\\x9c\\xb1\\\\\\x89f\\xb5\\xa25\\xab\\xa5\\xb1\\x15Y\\xb0c\\xee*\\xd9\\xae\\xc9\\x06 .\\xe1\\x00$\\xc8\\xcf\\\\9\\x02BW\\xc4\\x80\\xd0e\\x1c\\x10\\xb6\\xb8\\x08\\xbe-`.\\x00@z\\x01\\xe1-\\xc0d\\x9e\\x87\\xf0\\xd2\\xacFy\\t\\x01a\\xb4\\xf1(c@\\xc8\\x02.\\x00\\xd2\\x0b\\xc8n\\x12b\\x1aKxiV\\xa3\\xbc\\x84\\xf2\\x92h\\xe3A@\\xc8\\x97\\xa6\\x00 \\xbd\\x80\\xf0\\x16d2\\x8fx\\\\\\xb2\\x89\\xa2\\xbc$\\xc4\\xcf(/\\xa9h@h\\x1d^\\x86\\xf0\\x02 \\xbd\\x00\\x85\\x10^\\xb2\\x89d\\x13)/! $\\xbb\\x0b\\x80\\xf4\\x02\\x94ZvE6\\x91lb\\xf8s\\xadU6\\x91\\x80\\xb0X\\x01a\\x9c]?\\x00\\x90^\\x80\\x9a\\n/\\xcdjd\\x13\\xc9&amp;V# \\xacZ\\xb3Z\\xd4`\\x01\\x00\\xe9\\x05\\xa8\\xa1\\xec\\xa6%\\xbc4\\xabQ^ByI\\xb4\\xf1  L/ \\x04\\x00\\xa4\\x17j*\\xbcd\\x13\\xc9&amp;R^\\x12Y\\xa2\\x0b5\\x1ee\\n\\x08\\xf3(/\\x01\\x00\\xa4\\x17*\\xe7\\xbd\\xe9O\\x1ed\\x13\\xc9&amp;\\x92M\\xac~\\xb9O\\x95\\x02B\\x00@z\\xa1\\xc2\\xc2K6\\x91l\"\\xcdj\\x04\\x84\\x04\\x84\\x00\\x80\\xf4B\\xbd\\x0c8\\x83\\xc9\\x83f\\xb5l\\'\\xf3\\xa2\\x05 d\\x13iV+S@\\x08\\x00H/TXv\\xd3\\x12^\\x9a\\xd5hV#\\x9b\\x18m&lt;\\x08\\x08\\xc9\\xee\\x02 \\xbd\\x00\\t\\x0b/\\xd9D\\xb2\\x89d\\x13#\\x9f+\\xcdj)\\x8c1\\xc2\\x0b\\x80\\xf4\\x02d-\\xc3d\\x13\\x0b$\\xbcd\\x13iV# L\\' \\x04\\x00\\xa4\\x17j*\\xbb\\xa2Y\\x8df\\xb5\\xf0\\xe7J6\\x91\\x800\\xcc\\xbdCv\\x17\\x00\\xe9\\x05\\xc8Wx\\xc9&amp;\\xd2\\xacF6\\xb1\\x1a\\x01!\\xe5%\\x08/\\x00\\xd2\\x0b\\x08o\\x86\\xc2K6\\x91l\"\\xe5%\\x04\\x84dw\\x01\\x90^\\x80\\xc2\\xcbn\\xc4I\\x89l\\xa2\\xc8&amp;\\xc6\\t\\x16hV# Dx\\x01\\x90^\\x80\\xa4e\\x98lb\\x81\\x84\\x97l\"\\xcdj\\x04\\x84\\xe9\\x04\\x84\\x00\\x80\\xf4B\\x8d}\\x97f\\xb5l\\'\\xf38\\xc1\\x02\\xe5%\\xd1\\xc6\\xb8h\\x01\\x08\\xcdjdw\\x01\\x90^\\x80,m\\x97l\"\\xcdj\\x19\\x8fG\\xd1\\x02\\x10\\xcaKhV\\x03\\x00\\xa4\\x17*\\xee\\xbbd\\x13\\x93\\x17\\x84\\xb4\\x84\\x97\\xf2\\x12\\xcaK\\x08\\x08\\xc9\\xee\\x02 \\xbd\\x00am\\x97l\"\\xd9\\xc4\\x14\\xc6#N\\xb0@\\xb3\\x1a\\x01!\\xc2\\x0b\\x80\\xf4\\x02\\xa4\\xe0\\xbc\\x89M\\xe6\\x1d\\x05!\\x0f\\xe1%\\x9bH6\\x91f5\\x02B\\x00@z\\xa1\\xde&lt;#ixB\\x93\\x12\\xcdj\"\\x9b\\x98V\\x00By\\t\\xcdjdw\\x01\\x90^\\x80D!\\x9bH\\xb3\\x1a\\xd9D\\xcaKhV\\x03\\x00\\xa4\\x17\\x10\\xde\\x84\\'$\\xb2\\x89d\\x13c\\x9e+\\xe5%5\\r\\x08\\x91]\\x00\\xa4\\x17 +\\xe1%\\x9b(\\xb2\\x89q\\x82\\x05\\xcaK\\xa2\\x1d\\x93\\x80\\x10\\xe1\\x05@z\\x01\\x12\\x16^\\xb2\\x89d\\x13\\xc9&amp;F\\xbaw\\x08\\x08\\x95O\\xb9\\x0f\\x00 \\xbd\\x00I\\x890\\xd9D\\xd1\\xac\\x96V\\x00By\\t\\xcdjdw\\x01\\x90^\\x80\\xbce77\\xe1%\\x9bH6\\x91\\xf2\\x12\\x02B\\x84\\x17\\x00\\xe9\\x05\\xc8Lx\\xc9&amp;\\x92M\\xac{6\\x91\\x80\\x90\\xec.\\x00 \\xbdP]\\xe1%\\x9b(\\xb2\\x89q\\x82\\x05\\xcaK\\xa2\\x8d\\x07\\x01!\\xc2\\x0b\\x80\\xf4\\x02$\\xcc3\\x92FD\\x10\\x84&lt;\\x84\\x97f5\\xb2\\x89\\x94\\x97T# \\xa4Y\\r\\x00\\xe9\\x05(\\x02d\\x13E\\xb3ZZ\\x01\\x08\\xe5%\\x94\\x97\\x90\\xdd\\x05@z\\x01j+\\xbcd\\x13\\xc9&amp;R^B@\\x88\\xf0\\x02 \\xbd\\x00\\x99\\t/\\xd9D\\xb2\\x894\\xab\\x11\\x10\\x92\\xdd\\x05\\x00\\xa4\\x17*+\\xbbE\\x9b\\xcc;\\xc9)\\xd9\\xc4\\xe4\\xc7#N\\xb0@yI\\xb4\\xf1  Dx\\x01\\x90^\\x80&lt;\\xac\\xb7 \\xc2K\\xb3\\x1a\\xd9D\\xcaK\\xaa\\x11\\x10\\xd2\\xac\\x06\\x80\\xf4\\x02TQ\\x84\\xc9&amp;\\xc6;W\\x9a\\xd5\\n\\x18\\x80T\\xb2\\xbcdP\\xd2\\x93\\x92\\x96IZ\\xba\\xf6\\xc2\\x8d\\x904J\\xa6-$\\x8d\\xca?\\x00\\x01\\x00\\xa4\\x17\\xa0\\xd4\\xc2K6\\x91l\"\\xe5%\\x19\\x07\\x84\\r\\xc9\\x9f#\\xf3n\\x94\\xa7\\xdb5\\xd8\\xb8O\\xdeV\\x0f\\xbb\\tS\\xfa[\\xbe\\xcb\\xfdo\\xdcF\\x8d\\xae\\x9d%7A\\xb2\\x83%\\xbdY\\xd2\\xa6\\xd9\\x04\\x84\\x00\\x80\\xf4\\x02\\x14Bv\\xf3\\x10^\\xb2\\x894\\xabQ^\\x122 \\xf4ev\\xb3&lt;\\xfdT\\xbd\\xdd\\x7ft\\xaf\\x98\\xfa|\\x98\\'\\x80\\xdby\\xe6\\x02I\\x0b$\\xdd$\\xe9r3y\\xba\\xe7M\\xfb\\xca\\xd3\\xbb$\\x9d$\\xd9&amp;\\xe9\\x04\\x84\\x00\\x80\\xf4\\x02\\x14Bx\\xc9&amp;\\x92M\\xa4\\xbc$\\xdaxd\\x16\\x80\\xac\\x92\\xf4#y\\x8dK\\xdc\\xce\\xd3\\x1fM\\xea\\xa9\\xe0\\x9c|i\\xfa,I\\xb3\\xec\\xa1\\x89\\x9fP\\xff\\xb2S$}^\\xd2\\xab\\x10^\\x00\\xa4\\x17\\x00\\xe1Mv2\\xcfYx\\xc9&amp;R^R\\xe8\\x80\\xb0!\\xb3+\\xe4\\x1a\\xe7\\xba]oY\\x98\\xe6S\\xc2\\xedt\\xcdjI?1\\x9b\\xf4s\\xdd\\xbb\\xf8$\\xc9\\xce\\x93l;\\x9a\\xd5\\x00\\x90^\\x80\\xea\\x890\\xd9\\xc4x\\xe7\\x9a\\xb4\\\\\\xe5\\x1a\\x80P^R\\x80\\x80\\xf0\\xef2w\\xa6\\x9b0\\xf5\\xafY&gt;\\x19\\x9c\\x9b\\xd2\\x90\\xf4K\\xbb}\\xaf?j\\xd8\\x88\\xcf\\xca\\xe9\\xf3\\x92z\\x91]\\x80\\xfa\\xe0q\\t\\x00\\xe1\\xb56?7\\x15\\xaf\\x9c\\xa1\\xcd\\xb9\\x9aE\\xf8\\xbd\\x0c\\x85\\xd7\\xd6?f\\x02\\xe7j\\t\\x0b\\xaf\\xb5\\x1ac\\x8b&gt;\\x1eI\\n\\xaf\\x05\\tjB\\x9ck\\xa0\\xf1PR\\xe3\\xd1\\x90\\xf4\\xff\\xb4\\xcb\\x9b_\\xef&amp;\\xdc\\xf4\\xd7\\xbc\\x9e\\x12n\\xef9+\\xdc\\xee3\\xfa\\xe4k\\x7fI\\x8f \\xbc\\x00H/@\\x8d\\x847\\xe0\\xcf,!\\x11*\\\\9C+\\xc12\\x15\\xaf\\x9c\\xc1\\x12\\x1e\\x0f\\xe54\\x1e\\x11\\xce5\\xb7r\\x06Kb&lt;\\x16\\xcb\\xf3\\x0es\\xbbN\\xfd\\x8as}~\\x11\\x9e\\x18\\xee53\\xe6h\\xa0{/\\x99\\xffG\\x84\\x17\\x00\\xe9\\x05(\\x89\\xecF\\xc9^U%\\x9b(\\xb2\\x89q%:\\xf4x(\\xa7\\xf1\\xb0\\x84\\xc7#\\xcd\\x80p\\x03\\x1e\\x95\\xd9\\x01n\\xe7\\x1b\\xa7\\x16\\xed\\xe9\\xe1\\xf6\\x9c\\xf6\\x9cv\\x9bu\\x82\\xe4.\\xe5Y\\n\\x80\\xf4\\x02\\x14\\\\x[\\xfdS]\\xb2\\x89\\t\\x89\\xd0\\x06oW\\x96lbB\\x01H\\x9c\\xfb#\\x91\\xf1PN\\xe3\\x91I@x\\x97\\xcc\\xf6w\\x13\\xa6\\xfd\\xb3\\xa8O\\x11\\xe7dn\\xb7\\x19\\x9f\\x92\\xb3&gt;\\x9e\\xa9\\x00H/@9\\xfc\\x97lb\\xf4s-e6\\x91\\xf2\\x92\\x82\\x07\\x84\\x0f\\xab\\xe1\\x1d\\xee&amp;L[T\\x86G\\x88\\x9b0\\xeb\\xcb\\x92\\xce\\xe7a\\n\\x80\\xf4\\x02\\x14[x\\xe3\\xc8\\x05\\xd9D\\x95&lt;\\x9b\\x18~&lt;hVK; |RjLt\\xbb\\xdf\\xb8\\xb8T\\xcf\\x92\\t3\\xbf s\\xff\\xcdC\\x15\\x00\\xe9\\x05(\\xb1\\xf0\\x06\\xfc\\x19\\xd9\\xc4\\x04\\x857\\x81s\\xa5Y-\\xa3\\xf1\\xb0$\\xc7cP\\xce\\x1d\\xefv\\x9d\\xfeP\\xd9\\x1e\\'\\xce\\xc9\\xb4z\\xe5\\x19\\x92n\\xe3\\xe1\\n\\xc6\\x16\\xeb\\x06\\x00\\x00\\x1f&lt;IDAT\\x80\\xf4\\x02\\x14LxiV\\xa3Y\\x8d\\xf2\\x92\\x024\\xab\\xadg\\x8e\\xf6\\x9fn\\x97\\x9bf\\x95\\xf5\\xb1\\xe2\\xf6\\x9e3 \\xe7&amp;Kz\\x86\\x87,\\x00\\xd2\\x0bP$\\xeb\\x8d.B-\\'s\\x9a\\xd5B\\xfd\\x8c\\xf2\\x92x\\x12]\\xad\\xf2\\x92i\\xda\\xf9\\xa0\\x0b\\xcb\\xfedq\\x13f\\xfcKr\\x1f\\xe1\\x19\\x0b\\x80\\xf4\\x02TC\\x86\\xc9&amp;\\xc6\\x93h\\x9a\\xd5\\xe2Kt\\xb5\\xcaK\\x06\\xe5\\xfc\\x8f\\x15e\\x1f\\xde\\xd8\\xe2\\xbb\\xdb\\x8c_I\\xee:\\x9e\\xa7\\x00H/@Ae\\x97lb\\xeb\\x7f\\xa6Y\\x8df\\xb54\\xc7\\xc3.u\\xbbL\\xbf\\xbbR\\x8f\\x94.}L\\xd2j\\x9e\\xad\\x00H/@\\xc1\\x847\\xe0\\xcf\\xc8&amp;&amp;(\\xbc\\t\\x9c+\\xcdj\\x19\\x8d\\x87%&lt;\\x1e\\x1b\\x08\\xefR\\xadv\\xe7U\\xed\\xa9\\xe2v\\x99\\xf1\\xa0d?\\xe5\\xf9\\n\\x80\\xf4\\x02\\x14DviVk\\xfdv4\\xabQ^\\x92B\\xb3\\xda\\xd0\\xf3q\\xfa\\x96\\xdbs\\xdas\\x95|\\xc4\\xf8\\xde\\x05\\x92\\x06y\\xd6\\x02 \\xbd\\x009\\x0bo\\xc0I\\x99f\\xb5x\\xe7J\\xb3Z&lt;\\x89\\xaevy\\xc9*\\xf5\\x0f\\xfbFU\\x9f2\\xee53\\x1e\\x91l\\n\\xcf[\\x00\\xa4\\x17\\xa0\\xd82L61\\x9eD\\xd3\\xac\\x16_\\xa2-!1\\r\\x1d\\x80d\\x16\\x10\\xfe\\xaf\\xdb\\xe3\\xfa%\\x95~\\xa4\\xb8\\xae\\x1f\\xf1\\\\\\x05@z\\x01\\xf2\\xa11\\xcc\\xc2M\\xe6\\tH\\x1b\\xd9\\xc4x\\xe7J\\xb3Z\\xbc{\\xa7\\xb0\\xe5%\\xee\\xe7\\x95\\x7f\\xde\\xecz\\xcbT\\xc9\\xcd\\xe7\\xc1\\x0b\\x80\\xf4\\x02dO\\xd7\\xa8\\xfe\\xb6\\x932\\xd9\\xc4\\x04\\x857\\x81s\\xa5Y-\\xa3\\xf1H\\xb3Y\\xad\\xe9\\xcf\\x9e\\xd2b\\xab\\xfc\\xb6^\\xce\\xc9\\x97\\xf9\\xbf)\\xc9\\xe9\\xf63A\\x00 \\xbdP%^yy\\x7f\\xd3I\\x99lb\\xbcs\\xa5Y-\\xa1\\xf1(hyI\\xe8\\xf1\\xe8p\\xaeNS\\xdd\\xc1\\xd3\\xea\\xd1\\xe4\\xe5\\xec/%9\\xd3UL\\x10\\x00H/Ti\\xfeq2\\xc9\\x06\\xc8&amp;\\xd6\"\\x9b\\x18c&lt;(/i\\xfd\\x16\\x89\\x04\\x84\\xd3j\\xf3\\xd0Y\\xd5\\x7f\\x8b\\xca\\x90E5c_a\\x00\\xa4\\x17*\\xc8\\xca\\xe6\\xf3&gt;\\xd9\\xc4\\xd2n}\\xd5\\xeag4\\xab\\xc5;\\xd7\\xb4\\x02Bg\\xb7\\xd4&amp;\\xd0\\xde{\\xce\\n9\\xcd)\\xfe\\xac\\xee\\x90^\\x00\\xa4\\x17*\\xc834\\xab\\xc5\\xfc\\xfbiVK(\\x00IH\\xa2\\xcbU^2(\\xff\\xe9\\x07j\\xf6\\xcc\\xb9\\xb7\\xf0g\\xe8\\xebY\\xa6\\x06\\x00\\xa4\\x17\\xaa\\xc7\\x92DD\\x88f\\xb5d\\xa4\\x8d\\xf2\\x92\\x8c\\xc6\\xa30\\xe5%\\x8f\\xba\\ts\\xeb\\xd54e\\xf6`\\xe1\\xcf\\xd1\\xe9I\\xa6\\x06\\x80\\xe6ts\\t\\xa0\\xbc\\x13\\xd0\\xba\\x87{\\x1e\\xd9\\xdd(r\\x15\\xf1\\xb8\\xb9\\xc8U\\x88\\xe3\\xe6\\x9em\\xef\\xf0s\\xb3\\x92\\x8cGB\\xc7Mz&lt;Z\\x8f\\xc9?\\xeb\\xf7\\xcc\\xf1\\x1e\\x92\\xb3\\x82\\x9f\\xa3{\\x9a\\xc9\\x01\\x00\\xe9\\x85\\xea\\xb1\\xa4}\\xd6+\\x80$\\x15&amp;\\xbb\\xab\\x02\\to\\x1a\\xb5\\xbbE\\x0b@\"\\x9ek\\xe1\\xc6#\\xd7\\x00\\xe4\\x99\\xfaI\\xaf{\\xa6\\xf0\\xd2\\xeb5\\x96\\x08\\x00\\x90^\\xa8\\x1c\\x8ff\\'W\\x9d\\xe4\\xb4f\\xd9\\xc44\\x8eY\\xf8\\x00$!1\\xcd=\\x00I, \\\\V\\xc3\\x19\\xf3\\x05\\xf9\\x05?\\xc7\\x01=\\xc1\\xd4\\x00\\x80\\xf4B\\xf5x8\\x1b\\xe1%\\x9bX\\xbco\\xba\\x8b2\\x1eE\\x0b@J_^R?\\xe9\\x95{\\xa1\\xe0\\'\\xb8B{\\xcc^\\xc0\\xd4\\x00\\x80\\xf4B\\xd50{X.\\xae \\xe4!\\xbcd\\x13)/\\xa9@y\\x89\\xa9\\xab\\x86\\xcf\\x9c\\x9eb;\\xb9{x\\xcd\\x1e\\xe6\\x00\\x80\\xf4B\\xc5\\xee\\xde\\xde\\x87\\xd4\\xe8\\x17\\xd9D\\x9a\\xd5hV\\xcb\\xa1\\xbc\\xc4il\\r#\\xed1\\x85&gt;=\\xdf\\x7f\\x98\\x89\\x01\\xa05lY\\x06\\xa5\\xc5m\\xfb\\xa3g$\\xff\\xb1\\xe2\\x08/[_\\xb1\\x17r\\x1a{!\\x9b2\\xf8f\\xb5\\x08\\xe7\\xe3\\x8f\\xae\\xe1S\\xa7\\xe0\\x7f\\xb3\\xbb\\x8f\\x99\\x01\\x00\\xe9\\x85\\xeaNBsZN\\xca|\\xb3Z\\xfcs\\xe5\\x9b\\xd5\\xe2\\xdd;\\xa9\\x8fG\\xae{!o]\\xbb\\xc7\\x8do\\xdb\\x14\\xfbqhs\\x04\\x00H/T\\x14\\x1b*\\xbdd\\x13\\xf9f5\\xbeY\\xad\\xe3\\xb9&amp;3\\x1e\\xaf\\xaa_\\x8c\\xed\\x17\\xfbo\\xee\\xf2\\x91^\\x00\\xa4\\x17\\xaa;\\t\\xe9\\xb6\\x8d&amp;e\\xb2\\x89\\xf1\\xce\\x95oVK0\\x00I\\xe0\\\\\\x0bQ^\\xd2\\xf4\\xc3\\xb7\\x95\\xfd\\xe3\\xa0\\xf1\\xf5z\\xde\\xb8\"K\\xef3\\xda\\xf9\\xd6\\xc7\\x99\\x14\\x00\\x90^\\xa8*]\\xabfK\\xb6\\xaa\\xb5\\x0f\\x90M,y6q\\xc3`\\xa1N\\xe5%\\xa1\\xc7#\\x87\\xf2\\x92\\x9e\\x81=k\\xf5\\xbc1+\\xf2\\xdf{\\x1b;7\\x00 \\xbdPa\\xdc\\xb6SVJ\\x9aM61\\xe6\\xb9\\x166\\x9b\\xb8^\\x00\\x12E\\x94iVS\\xaa\\x01\\xa1\\xb97\\xd7\\xc6w\\xef\\x7f\\xe36\\x92\\xdb\\xa9\\xb8\\x0fCw#3\\x02\\x00\\xd2\\x0bU\\xc7\\xb7\\x9b\\x12\\x11!\\x89l\"\\xcdj\\xa2Y-\\xccx\\xd8\\xc1\\xb5y\\xce\\x0c\\xb8\\xb7\\x14\\xfcA\\x88\\xf4\\x02 \\xbdP\\xfd\\xbb\\xd8\\xbb:\\x11i\\xabc\\xb3ZR\"\\xd4\\xf2\\xad)/\\xa9ty\\x89s\\xfb\\xda\\x03\\x07m^\\x8f\\xe7\\x8c\\x1d]\\xe0\\xb3{J\\xbb\\xce\\xba\\x8b\\xc9\\x00\\x00\\xe9\\x85\\x8a\\xe3\\xb6\\xff\\x9f\\xbfKz\\x84l\"\\xcdj\\x94\\x97d^^\\xd2\\xab\\x81\\xc1\\xc9U\\x7f\\xc6\\xd8C\\xfb\\x8c\\x95tL\\x81O\\xf1j\\xe7\\xe43\\x1b\\x00 \\xbdP\\x07\\xcc\\xfe\\x18I&lt;\\xc8&amp;\\xc6;W\\x9a\\xd52\\x1e\\x0f\\x8b0\\x1ei\\x06 \\x92\\x9c\\xbd\\xb3\\xf2\\xcf\\x97\\xfe\\xae\\x13d\\x1aQ\\xdc\\xc8\\xdf~\\xcf$\\x00\\x80\\xf4Bm\\xeed\\xffw\\xc9N\\xe6d\\x13;\\xfe\\x8cf\\xb5\\x04\\xc7C)\\x8eG\\xca\\xe5%\\xa6\\xfd\\xec\\xee7\\xee]\\xed\\xa0\\xda}\\xb8\\xc0g\\xb7L\\xcf\\xdb\\xf5L\\x02\\x00H/\\xd4\\x85\\x97\\xffz\\xb6\\xa4\\x07\\x03I\\x02\\xd9\\xc4\\xf8\\x12M\\xb3Z\\xbc\\xbf\\xbfj\\xe5%N\\x9f\\xab\\xac\\xef\\xde\\xbd\\xff\\xe1\\x92\\x8a+\\xf5NW\\xbb\\xfdg\\xafd\\x12\\x00@z\\xa1&amp;\\xac\\xdd\\x9f\\xf2\\xc74\\xab5\\x11\\xde\\xa4D\\xa8\\xe5[\\xd3\\xacFy\\x89\\xdefs\\x0f\\xdc\\xb5\\xa2O\\x97/\\x16\\xfb\\xf4\\xf4Sf\\x00\\x00\\xa4\\x17j\\xc7\\xc0O\\xe54\\xd8Z\\xb0\\x12\\x12\\xa1\\xf5\\x05\\x81f\\xb5\\xe8\\xe7JyI\\xfc\\x00$\\xd1\\xf1\\x88z\\x7f\\xac\\x9bK\\xfc\\xafW\\xed\\x89b\\xf7\\xec\\xffv9\\xbd\\xa9\\xc0\\xc6;_\\xf7ls\\x1d\\xcf~\\x00\\xa4\\x17j\\x86\\xdba\\xca\"I\\x7fl:\\x99\\x93M\\x8c~\\xae4\\xabe&lt;\\x1e\\x05lV\\x0bd\\x88:\\xcc\\xee&gt;\\xe0m\\x95\\x11\\xdeY\\xfb\\x8d\\x90\\xdc\\xc5\\x05?\\xcb\\x1f\\xbb\\xc9S\\x1a&lt;\\xfd\\x01\\x90^\\xa8#\\xe6]\\x12|2\\'\\x9b\\xd8\\xf1g4\\xab%8\\x1eRi\\x9b\\xd5\\x02G\\x9e\\xf6\\r\\xbb\\xeb\\x80M*\\xf1,\\x19\\xe3\\xbe\"i\\xfb\\x02\\x9f\\xe1\\xa0\\x9c\\xfb\\x11\\x0f}\\x00\\xa4\\x17j\\x8a\\xdb\\xe1\\x17\\xb7\\xcal&amp;\\xd9D\\x9a\\xd5hVK\\xa3\\xbc\\xa4#\\xdb\\xca\\xf3\\x7ff&amp;W\\xea\\xd8\\xf9\\x9e\\xfd\\x8e\\x90sg\\x17\\xfc4\\xaft\\x13f\\xfc\\x8b\\xa7&gt;\\x00\\xd2\\x0b\\xf5\\xe6\\xc2\\xc4D\\xe8\\xc5\\x7f\\xaeY6\\x91f\\xb5\\x0c\\x03\\x90\\x0e\\xe7Z\\x9cf\\xb5\\xa0\\xa1\\xe7\\xd1\\xbaw\\xff\\x8f\\x94Vx\\xef\\xd8\\xef\\xa5\\x92\\xf7\\xb3\\xc2\\xcf\\x8f\\xbe\\xbb\\x94G=@\\xc8\\xa7\\x13\\x97\\x00\\xaa\\x86\\x99\\x9c\\x1e=\\xf96I\\xaf\\x8f-\\x1e\\x91\\xe5*\\x88\\xf0&amp; \\x82\\x89\\xc8\\xd5\\x10\\xe1MBL_\\x14\\xde\\x04e\\xb7\\xe3x\\xc4\\r@\\xb2\\x1c\\x8f\\x10\\x01H\\xee\\xe3\\x11\\x89A\\x99{\\x9b\\xdb}\\xc6U\\xa5zv&lt;\\xb4\\xcfX\\xad\\xee\\x9e.i\\x8f\\x82\\x9f\\xeaMn\\xb7\\x99o\\xe1i\\x0f\\x10\\x0e2\\xbdP\\xbdH\\xce\\xc9$\\xfb\\x8fX\\x92@6Q\\xc5lVS\\x84\\xf3\\xa9J\\xb3Z\\xcc{\\';\\xe1\\x95\\xa4n9\\xfb\\x8d\\xdd\\xfb\\xc6}K#\\xbcs\\'\\xf4ju\\xd7\\xefK \\xbc\\x92s_\\xe2I\\x0f\\x80\\xf4\\x02\\xac\\x99\\x13v\\xfc\\xcd\\xf5\\x92n\\xa6Y\\x8df\\xb5\\xf6\\xe3Q\\xa6f\\xb5\\x88\\xf7\\x8ee.\\xbc\\xeb\\x18)s\\xd7\\xda\\xbd\\xfb\\xbf\\xa9\\xe8\\xcf\\x0b\\xbb\\xf3\\xf0Q\\xb2\\xf1\\x7f\\x92\\\\\\xf1\\xb3\\xa7\\xce\\xfd\\xd9M\\x981\\x83\\xa7&lt;\\x00\\xd2\\x0b\\xb0\\xfe\\xdd}\\xb6\\xa4F(\\xb9\\xa2YM4\\xab\\xd1\\xac\\x96\\x9cM\\xda8\\x99\\xbb\\xd6\\xee9\\xe0\\x98\\xc2\\n\\xef\\xdc\\xfd6\\x95\\xb7\\xfc\\x06I\\x87\\x97\\xe0\\xa9\\xe6\\xcb\\xf4E\\x01\\x00\\xd2\\x0b\\xb0&gt;n\\xfb_\\xffC\\xa6\\x1f\\x06\\x16^\\x9a\\xd5D\\xb3\\x1a\\xcdj\\xc9[\\xa5F\\xc8\\xd9\\x1f\\xec\\x9e7\\xfe\\xa7Y\\xb1\\xe6\\x1c\\xbb\\xeb\\x80\\xbd$\\xefv9\\x95\\xa3\\x0c\\xc3\\xdcO\\xddn3\\xee\\xe4\\xe9\\x0e\\x10\\xd1\\x0b\\xb8\\x04Pe\\xec\\x81S6W\\x8f\\xff\\xa0d\\x9b\\xb4\\x15\\x84H\\xc2\\x12Dx\\x13\\x10A\\x9a\\xd5\\x12\\x0c@\\xb2\\x1c\\x8f\\x10\\x01H\\xee\\xe3\\x91\\xd9\\x94s\\x9dl\\xe0\\xddn\\xf7\\xdb\\x16\\xe7\\xfa\\\\09\\xcd=\\xe0,\\xc9.\\x914\\xac$\\x8f\\xb3\\xe7\\xd4\\xb0W\\xbb=f-\\xe1\\xc9\\x0e\\x80\\xf4\\x024\\x9f\\xe0\\x1e&gt;\\xe9\\xbdr\\xf6\\xe3\\xe6\\x0e\\x90u\\xedn\\x88\\xe3\\x16\\xa2VT\\x11\\xe5\\xb4H\\xb5\\xbb\\t\\x1d7\\xf7\\xf1(\\xbb\\xf0\\xae\\'o\\xe6\\xfat\\xdf\\xd6\\xdf\\xca\\xe3\\xdb\\xc4\\xec\\xbe\\x03^\\xa5\\x86\\xff\\x9dR\\xd4\\xefn8[\\x7f\\xd4M\\x98\\xf9-\\x9e\\xe8\\x00H/@\\xfb\\x89\\xee\\x91\\xc9\\xd7Hzk\\xbe\\xc2K6\\xb1x\\xcd\\x83Q\\xc6\\xa3h\\x01\\x88u\\xb8\\xecV\\xd0O\\xa5\\xfb\\xab\\x9c\\xbe\\xe4&amp;\\xcc\\xb86\\x93g\\xc0\\x1d\\xfb\\xbdT]\\xde9r\\xfa\\x90\\xa4\\x9e\\x92=\\xc2\\xfe\\xa6{\\xb7\\xd9\\x8f\\xaf\\x1c\\x06@z\\x01:Ox\\x0fO\\xdaN\\xce\\xdd-\\xd3X\\xb2\\x89y\\x08/{!\\xd7\\xb3\\x9c!\\xa8\\xfc\\xfa\\x17\\xa9w\\xdc\\x9f\\xdcN\\xd7\\xacN\\xfc\\xb3?\\xf7\\x8d\\x13dv\\x96\\xe4\\xde\\xaf\\xf2\\x942\\xac\\xcf*9o/7\\xe1\\x96{y\\x92\\x03 \\xbd\\x00\\xc1&amp;\\xbfG&amp;\\xbfSf?O^x\\xc9&amp;\\x16o+\\xb2\\x04\\xce\\xb5\\xb2\\xe5%\\x85\\xe5\\x19I\\xbf\\x94\\xb9\\xdfi\\xf8\\x98\\xd9q\\x04\\xd8\\xee}\\xd3Nj\\x0cN\\x94\\xe7N\\x93i\\xaf\\x92?\\xb9\\xceq\\xbb\\xcd\\xba\\x90\\'8\\x00\\xd2\\x0b\\x10R|O\\xfc\\x89\\xcc\\xbd;\\x9c \\x90M\\xa4Y-\\xe6\\xb9\\x92\\xdd\\r\\xcb\\nI3$\\xfb\\xab\\x9cw\\x9f\\x1az@\\xe6\\xcf\\xd3r{\\xc1\\xed?{\\xa5$\\xd9\\x95\\x93\\xba\\xb4\\xf3\\xc2\\xb1\\xea\\xd1\\x16\\x1a\\xf4w\\x92\\xe7\\xed,\\xb3\\xdd$\\x1d\"i\\xbb\\x8a\\\\\\x87[t\\xef6\\x07S\\xd6\\x00\\x80\\xf4\\x02\\x84\\x97\\xde\\xb9\\x93Fk\\xb8\\xe6HzUzr\\x15\\xe2\\xb84\\xab%$\\xbb\\t\\x1d\\x97f\\xb52\\xccZ\\r\\x99VK\\x1aY\\xf1\\xbf\\xf4)5\\x06\\xf7t{\\xdc6\\x9f\\'7\\x00\\xd2\\x0b\\x10M|\\x1f}\\xfb\\xce\\xf2\\xbd[%\\x1b\\x97\\xbc\\xf0\\x92M\\xa4Y\\x8df5\\x88\\xff\\x98\\x92\\xd3\\xf1n\\xc2\\xcc\\xff\\xe3R\\x00$\\x07_N\\x01\\xf5\\x8b\\xf4v\\xf8\\xdd\\xfd2\\xbd\\xb7\\xb5I\\x95\\xec\\x9b\\xd5L|\\xb3Z\\xe2\\x01\\x08\\xdf\\xac\\x06\\xb9:\\xef\\xd7\\x10^\\x80\\x14\\xe6\\x7f.\\x01\\xd4vZy\\xf8\\xc4&gt;I_\\xcaO\\xae\\x128.\\xcdj!\\x8f\\xd9$\\x00)\\xecx\\xa8\\x8a\\xcdj\\xd0\\x99\\xdfk\\xc2\\xccI\\xce\\xc9\\xe7R\\x00$\\x0b\\x99^\\xa8/;\\xfe\\xf6\\xcb\\x92\\xfd$\\x1f\\xe1\\xadJ61jv7\\x0f\\xe1m\\xf7\\xd5\\xce\\t\\x9ck\\xe2\\xe3\\x11\\xf5\\xfe\\x80\\x12s\\x87\\x1a\\xa3NCx\\x01\\x90^\\x80DqN\\xa6g7;]\\xb2\\xeb\\x9b;EB\\xd2\\x16\\xba\\x9c\\xa1\\x83\\xb45=\\xad\\x18\\x12m\\t\\xef\\xce`\\n\\x90\\xa1\\x0cq\\xae\\xa5,/\\x89y\\xef\\xd4\\xbdY\\xad\\x9e\\xccSc\\xf0\\x18\\xb7\\xc7\\xf5\\xcb\\xb9\\x14\\x00)\\xcd\\xfb\\\\\\x02\\xa8;v\\xff\\xb1c\\xd4\\xd33U\\xd2^4\\xab\\xc5&lt;W\\x9a\\xd5D\\xb3\\x1aD\\xe0)Y\\xe3Mn\\xf7[\\xef\\xe3R\\x00 \\xbd\\x00\\xe9\\x8a\\xef\\xa3\\xc7\\x8fW\\xa3\\xebFI\\xafc\\xeb+\\xbeY-\\xd0\\xb9\\xb2\\xf7.$\\xc3\\n\\x99\\x7f\\x98\\xdb}\\xf6,.\\x05\\x00\\xd2\\x0b\\x90\\x8d\\xf8\\xfe\\xf3m[J\\x9a*\\xb9]\\x93\\x93\\xab&lt;\\x84\\x97f5\\x9a\\xd5\\xa04\\xc2+\\x1d\\xedv\\x9b9\\x95K\\x01\\x80\\xf4\\x02d+\\xbe\\x8fNz\\x89\\x1a\\x8d\\x1b$M\\x88/\\xbc|\\xb3\\x1a\\xdf\\xacFv\\x17Z\\xb2\\\\\\xe6\\x8ev\\xbb\\xcf\\x98\\xc6\\xa5\\x00@z\\x01\\xf2\\x11\\xdf\\xfb\\xde\\xb6\\x99z\\xdc\\xb5\\x92\\xf6\\xe6\\x9b\\xd5\\xf8f\\xb5h\\xe3\\x11\\'X@xk\\xc02\\x99;\\x06\\xe1\\x05@z\\x01\\xf2\\x17\\xdf\\x87&amp;\\x8e\\x95\\x1b~\\x95\\xa4\\x03;J\\t\\xcdj\\t\\t/\\xcdj\\x08o-xJ\\xce?\\xcaM\\x98\\xfdW.\\x05@\\xb6\\xb0e\\x19@\\xb3hp\\xa7k\\x96\\xcaV\\x1d&amp;\\xe9g-\\xa5\\xa4\\xb2[_\\xf1\\xcdj|\\xb3\\x1a\\xa4\\xc4\\x02\\xf9\\xfe!\\x08/@Ns;\\x97\\x00\\xa0\\x8d\\xa6\\x98\\x9c\\x1e~\\xdb\\x17$\\xfb\\xca\\x06\\x9f\\x17\\x9a\\xd5\\xe2\\x1d\\x93f\\xb5\\x10\\x7f\\'T\\x84;\\xd6\\xec\\xc3{\\xdb|.\\x05\\x00\\xd2\\x0bP\\\\\\xf9}\\xf8\\xf8\\xb7\\xcb\\xf43I#iV\\xcb[xiV\\x83\\xb2=@t\\xb5\\x86\\x0f\\x9e\\xe2v\\xbam)\\x17\\x03\\x00\\xe9\\x05(\\xfe\\xbc\\xf5\\xcf\\xe3\\xf7\\x92\\xb9\\xff\\x95\\xec\\xa5\\x89H\\x1b\\xcdj\\xf1\\x8eK\\xb3\\x1a\\x94Aw\\xa5\\x0b4a\\xe6\\x17\\xf9ja\\x00\\xa4\\x17\\xa0\\\\3\\xd8\\xfd\\xc7n#\\xcf\\xfb\\xa3\\x9c\\xbd\\xbe8\\xc2K\\xb3\\x1a\\xcdjP@\\x96J\\xf6&gt;\\xb7\\xdb\\xac\\xdfq)\\x00\\x8a\\x01\\x8dl\\x00a\\xa2\\xc4\\x9d\\xffo\\x81\\x96n\\xf9F\\xc9}Y\\x1a\\x9a\\xb9\\xa1Y\\xad&lt;\\xcdj&amp;\\x9a\\xd5 E\\xee\\x97\\xd3\\xfe\\x08/@\\xc1\\xe6p.\\x01@4\\xec\\xa1\\xe3\\x8e\\x90\\xf4SI[\\xd1\\xacF\\xb3\\x1a\\xe5\\x0c\\xb0\\xf6\\x83y\\x85V\\xad\\xfe\\x8c\\xdb{\\xce\\n.\\x07\\x00\\xd2\\x0bP!\\xf1\\x9d\\xb8\\x85\\xd4\\xf3cIG\\x17CxiV\\xa3Y\\rrb\\xb1\\xcc}\\xc0\\xed&gt;\\xe3*.\\x05\\x00\\xd2\\x0bPM\\xf159=|\\xec\\x07e\\xbaL\\xd2\\xc8\\xf4\\xe4J4\\xab\\xd1\\xac\\x06\\xc5d\\x8a\\xba\\x06\\xcet\\xbb\\xfc\\xf5i.\\x05\\x00\\xd2\\x0bP}\\xf9}\\xe0\\xe8=\\xe4y?\\x92l\\xaf\\xe4\\x857\\x8d\\xecnZ\\xc2K\\xb3\\x1a\\xc2[\\x1b\\x9e\\x95\\xdc\\x87\\xddn3~\\xc5\\xa5\\x00@z\\x01\\xea%\\xbe6\\xa9K\\x0f\\xad\\xfe\\xc8\\xda/\\xb3\\x18\\x13\\\\\\x82\\xd2\\xc8&amp;\\xa6\\x95\\xa1,R9C\\xd4\\x8cq\\x1e\\x01\\x08T\\x8c?\\xa91x\\x16_6\\x01\\x80\\xf4\\x02\\xd4[~\\xef=aku\\r\\\\ \\xa7w\\xd1\\xacF\\xb3\\x1aT\\x8a\\x87e\\xee\\x13\\xd4\\xee\\x02 \\xbd\\x00\\xb0\\xbe\\x06=x\\xcc\\xd12\\xfb\\x96\\x9c^\\x9e\\x9c\\xf0\\xd2\\xacF\\xb3\\x1a\\xe40[\\xae\\x94\\xef.\\xd4\\xe8\\xee\\xf3\\xdd\\x0e\\xd3VqA\\x00\\x90^\\x00\\x18\\xaaDs\\'\\x8dV\\xef\\xaa&gt;\\x99}TR/\\xcdjC~F\\xb3\\x1a\\x14\\xfeCl\\x7fT\\xb7\\x7f\\xb6\\xdb\\xe5\\xd6\\xc7\\xb8\\x18\\x00H/\\x00t\\x9a7\\x1f&lt;jGI_\\x95tr\\xf3\\xcf\\x1e\\xcdj4\\xabA\\xb1&gt;\\xb4\\xbaG\\x9e\\xfb\\x8c\\x9b0\\xe3Z.\\x06\\x00\\xd2\\x0b\\x00a\\xe7\\xd1\\x7f\\x1e\\xb5\\x97\\xcc](\\xb3C\\xfe\\xfd\\x8f4\\xab\\xc5&gt;&amp;\\xe5\\x0c\\x90\\x1c\\x8f\\xcb\\xb9s5w\\xeb\\x1f\\xb9\\xc9S\\x1a\\\\\\x0e\\x00\\xa4\\x17\\x00\\xe2\\xc8\\xef\\x83G\\x1d*\\xd9E2\\xbd6Q\\xe1\\xa5YM4\\xabA\\xc4)q\\xbeL\\x17k\\xf8\\x98\\xef\\xba\\x9d\\xaeY\\xcd\\xf5\\x00@z\\x01 )\\xf1\\xb5&gt;O\\x0f\\xde\\xf6N\\xc9}Q\\xd2\\xabbK\\x1b\\xcdj\"\\xbb\\x0b\\x11f\\xc2\\'e:W\\xa3z\\xbeK\\x93\\x1a\\x00\\xd2\\x0b\\x00i\\xcb\\xef\\x03\\x7f=QN\\x9f\\x93l\\xcf\\xd0\\xd2F\\xb3\\x9ahV\\x83\\x08\\xfcK\\xce\\xbe!\\xf5~\\xdfM\\x98\\xb6\\x8c\\xcb\\x01\\x80\\xf4\\x02@\\x96\\x02\\xfc\\xc0[\\x0f\\x90\\xdc9\\x92\\x8e\\x0e&amp;li\\t/\\xcdj\\x08oe\\xb9Sr\\x97j\\xd5\\xca_\\xb9\\xbd\\xe7\\x0cp9\\x00\\x90^\\x00\\xc8S~\\xef\\x9f\\xf8\\xc6\\xb5\\x99\\xdf\\xa3Z~ViV\\x13\\xe5\\x0c\\x10\\x82\\x99\\x92\\xbb@\\x13f\\\\\\xe5\\x1c\\x83\\x0c\\x80\\xf4\\x02@\\xb1\\xe4\\xf7\\xc1\\xa3v\\x91\\xf9gIv\\x9a\\xa4\\xb1\\xffv2\\x9a\\xd5\"\\x9f+\\xe5\\x0cub\\xb9\\x9c~\\xad\\x86\\xff\\r\\xf7\\x9a\\xd9ws9\\x00\\x90^\\x00(\\xba\\xfc&gt;z\\xd0p\\xf5\\x8f\\x98,\\xf3?)i\\x8f\\xe2\\x08/\\xcdjP\\xc8\\xe9\\xed&gt;I?\\x95k\\xfc\\xc0M\\x98\\xfd\\x0c\\xd7\\x03\\x00\\x90^\\x802\\n\\xf0}\\x87\\xef%\\xcf;]f\\xa7I\\x1a\\x9e\\x9e\\xec\\x868.\\xcdj\\x90?\\xab$\\xfdI\\x9e\\xfb\\xbe\\xdbu\\xc6\\r\\\\\\x0e\\x00@z\\x01\\xaa\"\\xbfw\\xbfe+\\xf5v\\x9d*\\xd3iR\\xab\\xfd~iV#\\xbb[\\xed\\x8f\\x81\\xe4f\\xcb\\xec\\xe7\\x1a&gt;\\xf8K\\xb7\\xd3mK\\xb9$\\x00\\x80\\xf4\\x02Ty\\xe6\\x7f\\xf0\\xd0]\\xd4\\xf0N\\x92\\xd3i\\x92v\\xc8GxiV\\x83\\xcc\\xb8W\\xe6\\xa6\\xc8k\\xfc\\x8f\\x9b0\\xfb\\x9f\\\\\\x0e\\x00@z\\x01\\xea&amp;\\xbf\\xd6\\xe7\\xe9\\xc1\\x19\\xfbKz\\x97\\xcc\\x9d\\xac\\r\\x9a\\xdf\\xe2\\x08d\\'9\\xa5Y\\rRg\\x9e\\x9c\\xfb\\x83\\xa4)n\\xc2\\x8c\\x19\\\\\\x0e\\x00@z\\x01`\\x8d\\xda\\xcd\\xdbo\\x84\\x96\\x8f:\\\\\\xe6\\xde&amp;\\xe9h\\xc96\\x8b%\\xa6M\\xff\\x93f5Hu\\x96z@\\xe6\\xfeW\\xbe\\xffG\\xed&gt;\\xebV\\xb6\\x1a\\x03\\x00\\xa4\\x17\\x00\\xda\\xab\\xa7M\\xea\\xd2\\x83\\xcf\\xee\\'\\xdfM\\x92\\xb3\\xb7\\xc9\\xb4mh\\xc1\\xa4Y\\r\\xd2\\xc7\\x97\\xd3?\\xe4\\xbb\\xabd\\xfa\\x93{\\xcd\\x8c9\\\\\\x12\\x00@z\\x01 \\xa2\\x00\\xcb\\xe9\\xc1\\xb7\\xec-_o\\x93\\xd3D\\x99\\xf6\\xd8\\xf8y@\\xb3\\x1ad\\xc6RIS%\\xfb\\xb3\\\\\\xef\\x9f\\xdc\\x84i\\x8b\\xb8$\\x00\\x80\\xf4\\x02@\\xf2\\x12\\xfc\\xd0\\xc4-\\xd4X}\\x90\\xcc\\x1d\\xaa5e\\x10\\xdb\\xb4\\xf6F\\x9a\\xd5 \\xf6\\xcc\\xd3\\x90t\\x87\\xccn\\x90\\xe7\\xdd {v\\xba\\x9b0\\xb7\\x9f\\x0b\\x03\\x00H/\\x00d\\'\\xc0\\xd6\\xe7\\xe9\\xfe\\x9b\\xf7\\\\#\\xc0v\\xa8\\xe4\\xde$\\xa97\\x11\\xe1\\xa5Y\\xad\\xce&lt;\"\\xd9\\rr\\xde\\rR\\xe3F\\xbe0\\x02\\x00\\x90^\\x00(\\x96\\x04?|\\xe88\\xad\\x1e&lt;X\\xce\\x1d,\\xe9\\xcd2\\xed.\\xc9\\xcbWx\\xc9\\xee\\x96`vyR\\xd2\\x0c\\xf9\\xf6\\x17y\\xf6\\x17\\xb6\\x15\\x03\\x00\\xa4\\x17\\x00\\xca%\\xc1\\xf7\\xbfq\\x8c\\xfc\\x9e}$\\xefP\\x99\\x7f\\x80\\x9c\\xde \\xa9\\'9\\xd9\\xed\\xf0s\\xb2\\xbbEe\\xa1\\xa4\\x1927S\\xa6\\x19\\xda}\\xc6\\xdf\\xd9i\\x01\\x00\\x90^\\x00\\xa8\\x8e\\x04\\xdfu\\xc0&amp;\\xea\\xea9PN\\x07I\\xb6\\xbfd{j]9\\x04\\xd9\\xdd\\xaa\\xe2\\xcb\\xb9\\xb92\\x9b.\\xb9\\x99\\x1alLw\\xaf\\x9d\\xfd\\x04\\x97\\x05\\x00\\x90^\\x00\\xa8\\x8f\\x04?4q\\x98\\x06V\\xee)\\xf9\\xfb\\xc8\\xdc\\x1b$\\xed+iG\\x84\\xb7\\xd4,\\x94s\\x7f\\x97\\xd9\\x1c\\x99\\xfdU\\xe6\\xcdr\\xaf\\x99\\xf1,\\x97\\x05\\x00\\x90^\\x00\\x80\\rD\\xf8\\xc0-\\xb4\\xca\\xf6\\x91\\xf3\\xf6\\x91\\xd3&gt;\\x92^+i\\x8b@\\xd2J9C\\xf6\\x82+\\x9b#\\xf3\\xe6\\xc8i\\x8e\\xbam\\x8e\\xdby\\xe6\\x02.\\x0b\\x00 \\xbd\\x00\\x00QD\\xf8\\xde\\x03\\xb7\\x96\\xaf\\xd7\\xc8\\xd3\\x1e2\\xbdF\\xb2=$\\xf7j\\xbdX\\x1fLv7e\\x06$=$\\xb9{\\xe5\\xfc{d\\xde\\xdf\\x11\\\\\\x00@z\\x01\\x00\\xb2\\x10\\xe1\\xb9\\x13z\\xa5\\xcd&amp;\\xc8\\x1a\\xaf\\x91\\xf3v\\x93\\xf9;I\\xeeU\\x92^\\xa1@\\xdb\\xa6A\\x93\\xa7\\xfcJ\\x99\\xee\\x97\\xec~\\x99\\xe6\\xca\\xe9~\\xf96W\\xfd\\xfd\\x0f\\xbb\\xbd\\xe7\\x0cp\\x81\\x00\\x00\\xe9\\x05\\x00(\\x8a\\x0c_9\\xa9K\\xaf^\\xbc\\x9d\\xbc\\xc1\\x9d\\xe4\\xbc\\x9d\\xe4\\xf4*\\x99\\xbdJ\\xd2+%\\xbd\\\\Mw\\x8f\\xa8\\x15K$=.\\xb9\\xc7\\xe5\\xec1I\\x8f\\xcb\\xe9\\x115\\xec\\x01\\xed6\\xebQ\\xe7\\xe4s\\x17\\x01\\x00\\xd2\\x0b\\x00Pf!69\\xddw\\xe0K\\xe47^&amp;\\xa7m$m\\'\\xd3K\\xe5\\xdcK%\\xdbV\\xe6^*\\xe9e\\x92\\x86\\x97\\xf0\\xcf\\xeb\\x97\\xf4\\x94\\xa4\\'%-\\x94\\xd3S2\\xb7@\\xe6?\\xa6.\\xf7\\xb8\\xcc{L+W&lt;\\xe6\\xf6\\x9e\\xb3\\x82;\\x01\\x00\\x00\\xe9\\x05\\x00\\x90\\xcd=h\\xb44\\xb8\\xa9\\xe4o*i\\xed\\xff\\xb9\\xcd$m*\\xdf6\\x93\\xbcM\\xe5l\\x9cLc\\xe5\\xd4%\\xa7\\xb12y\\x92\\xc6\\xc9\\xc9\\xc94~\\xed\\xa16\\xe9\\xf0T])\\xd3\\xaa\\xf5\\xfee\\xa5\\xa4\\x95rzN\\xa6\\x15\\x92[!\\xd9R\\x99[&amp;g+$[&amp;sK%{V\\xf2\\x16\\xc9\\xd3\\x93\\x1a\\xb4\\'\\xe5\\xdc\\x12vH\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\xa8\\x04\\x8eK\\x00\\x00\\x90\\xeb3\\xd2\\xb8\\xcc\\x00\\x00H/\\x00@\\xa8g\\x95\\xd9\\xc6\\x0e\\xf9\\xe5/\\x7f\\xb9R\\xcf\\xba/}\\xe9K\\x1b\\xfd\\x91\\xce\\x85\\xfa\\x13\\x11m\\x00`\"\\x01\\x00\\xc8\\xfay\\xb3\\xbe\\xa8F\\x11\\xd4\\xb9s\\xe7\\x86\\xfa\\x9dI\\x93&amp;\\x05z\\xdd\\xbd\\xf7\\xde\\x9b\\xea3r\\xd7]w\\r$\\x9fS\\xa6L\\t}\\xec\\t\\x13&amp;\\x84\\x16\\xdbu2\\x1d@\\xa0\\x91f\\x00@z\\x01\\xa0\\xde\\xcf\\x8fu\\x02\\x1bD^;\\xc9\\xea\\xfar\\x9a\\xb6\\x80\\xb6b\\xc1\\x82\\x05/\\xbe\\xef^{\\xed\\x15\\xebXs\\xe6\\xcc\\xd9\\xe0\\xbf\\xb7\\xd9f\\x9b\\xcc\\xe5q\\xa8h\\xb7\\x13\\xea\\xa0\\xe2\\x1c@\\x96\\x91d\\x00@z\\x01\\xa0\\xf8\\xcf\\x85\\xa0\"\\xdbLb\\x93\\x14\\xd7\\x05\\x0b\\x16\\xb8\\xa8\\xe2\\xb9p\\xe1\\xc2J&lt;\\xef\\xb6\\xdez\\xeb\\xc8\\x02\\xb9p\\xe1\\xc2X\\xf2\\xb9\\xbe0\\xb7\\x92\\xe5N\\xa2\\xdcA\\x90\\x91c\\x00@z\\x01 =\\xa1m\\'\\xb3\\xedD6\\x8a\\xc4\\x06\\x15\\xd70\\x92\\xba\\xeb\\xae\\xbbj\\xd1\\xa2E\\xa9&lt;\\xcf\\x9ey\\xe6\\x99T\\x8e\\xbb\\xe9\\xa6\\x9b\\xa6\"x/y\\xc9K\\xec\\xde{\\xefM\\\\\\xa4\\xe7\\xcc\\x99\\x13:3\\xbdN\\x92\\x9b\\tr;9n#\\xc6H1\\x00 \\xbd\\x00\\x10^j\\x93\\x10\\xdaN\\x12\\x1bD^7\\xddt\\xd3\\xc0\\xcf\\xa2\\xb4$\\xb4\\x1d\\xcf?\\xff|\\xcb\\xf7\\xdcv\\xdbm[\\xfe\\xde\\xbcy\\xf3Z\\xfel\\xdc\\xb8q\\x99\\n\\\\\\x18\\xc9\\x0e\"\\xce\\x9dD9LV\\xb9\\x95\\x1c\\xb7\\x12c\\xa4\\x18\\x00\\x90^\\x80\\x9a~v\\xc3\\x88\\xed\\xa4I\\x93\\x02\\x0b\\xed\\xd6[o\\xed\\xa2\\xc8l\\'\\x89\\x8d+\\xae\\xcf?\\xff\\xbck\\'\\x9b\\xedX\\xbatii\\x9f{c\\xc7\\x8e\\r-u\\xeb\\xc4;\\x8edw\\x12\\xe6N\\x92\\xdcJ\\x90\\x83f\\x8f\\xa3H1B\\x0c\\x00H/@\\xc5\\xc56L\\xa6\\xb6\\x95\\xd4\\xb6\\x12\\xdav2\\x1bVd\\x83\\x8akPI\\xddz\\xeb\\xadS\\x93\\xda\\xe5\\xcb\\x97\\'z\\xccQ\\xa3F\\xa5\"`\\xeb\\xa4x\\xe1\\xc2\\x85\\x89H\\xf4\\xbcy\\xf3B\\xcbr;An\\'\\xc7\\xcd\\xc48\\x88\\x14\\x87\\x11bd\\x18\\x80I\\x15\\x00\\n\\xf4Yl%\\xb7Q2\\xb6\\xadJ\\x0f\\x9aIm\\xbb\\xba\\xd8\\xa0B\\xdbId\\xdb\\tiXim\\'\\xa2[l\\xb1E\\xe2\\x03\\xb4l\\xd9\\xb2\\xc4\\x9e\\x97\\xa3G\\x8fNT\\xb4\\x9e|\\xf2\\xc9D\\x04{\\xec\\xd8\\xb1\\xd6I\\x98[\\x89r\\x18An\\'\\xc6\\xcf&lt;\\xf3\\x8c\\x05\\x95\\xe2N%\\x14\\xcd\\x84\\x18\\x19\\x06`\\xa2\\x05\\x80\\x1c&gt;s\\xcd\\x047\\x8a\\xdc6\\xcb\\xd86\\x13\\xdbV\\x99\\xda R\\xdbNh[\\x89\\xea\\xd6[o\\xddQb\\x9b\\xc9kPi\\r\"\\xa2\\x9bo\\xbey(a.*C\\xe5\\xf5\\xa9\\xa7\\x9eJT\\xb0\\x9b\\x89s\\'an\\'\\xc9\\xad\\xe4x\\xe9\\xd2\\xa5\\x1d\\xcf\\xa7\\x95\\x14\\xb7\\xca\\x14\\x0f\\x15\\xe2N\\x19\\xe2\\x182\\x8c\\x08\\x03 \\xbd\\x00\\xd0\\xee\\xf3\\xd5j\\xcb\\xaf\\xb0e\\tA\\xe4\\xb6U\\xc6\\xb6\\x93\\xd8\\xb6\\x92\\xdaf\\xd2\\xdaIf\\x87Je\\'\\x89m%\\xaf\\xeb\\x0bkXQ]\\xb1bE\\xe2\\xcf\\xb7U\\xabV\\xc5&gt;\\xe6\\xf0\\xe1\\xc3\\x13\\x17\\xa7\\x91#G\\x86:\\xe6:\\x99m\\'\\xce\\xeddy\\xa8 \\xb7\\x93\\xe3Vb\\x9c\\xb4\\x147\\xcb\\x10G\\x91aD\\x18\\x00\\xe9\\x05\\x80\\x90\\x92\\x1bGp\\x9b\\x95%$!\\xb7A\\xc5\\xb6\\x9d\\xd4\\x06\\x15\\xdaf\"\\x1bFb\\x83J\\xeb:\\x11\\x1d7n\\\\\\xea\\x03\\\\T\\xe9m2\\xce\\xa1\\xde\\xab\\x934\\xb7\\x93\\xe4\\xa0r\\xdcJ\\x8c\\xc3Hq\\'!\\x8e*\\xc3\\xed\\xca$\\x10a\\x00\\xa4\\x17\\x80\\xcfN\\x1b\\xc1]_r\\x93\\x10\\xdcfe\\ta\\xe5\\xb6\\x99\\xc4\\x8e\\x1a5\\xaa\\xa3\\xd8\\x06\\x95\\xdauB\\xdbNf\\xdb\\x89l\\x1cy]_F\\x83\\xfe~\\x12\\x02\\x9b\\x05a$y\\x9d\\xecF\\x95\\xeb\\xe7\\x9f\\x7f\\xbe\\xe3\\xef\\xb5\\x13\\xe4Q\\xa3FY\\x181\\xee$\\xc5\\xcd\\x848\\t\\x19nV&amp;\\x91\\xa4\\x08#\\xc1\\x00H/@e%wh\\x167L\\x89B\\x1c\\xc1\\r\"\\xb7\\xad\\xb2\\xb6\\x9d\\xc46\\xac\\xd4\\xb6\\x12\\xdaU\\xabV\\xb9(\"\\xda\\xeaw\\x82\\xc8\\xea\\xd8\\xb1cK%\\xb6q\\x85x\\xe9\\xd2\\xa5\\xb1\\xe49lf\\xb8\\x93\\x1c\\xb7\\x12\\xe3fR\\xdcI\\x88\\xd3\\x92\\xe1$E\\x18\\t\\x06@z\\x01*\\xf1\\xf9\\x88#\\xb9C\\xb3\\xb8i\\x0bn\\xb3\\xccm;\\xb9\\r#\\xb6q\\xa4\\xb6]\\x16\\xb7\\x9d\\x98\\x8e\\x1d;6\\xb2\\xb8\\x8e\\x193&amp;\\x15\\xf1]\\xbdzu\\xe4\\xe3\\r\\x1b6,Q\\xd9\\x19&gt;|\\xb8\\xbd\\xf0\\xc2\\x0b\\xa9\\x08s3\\xa9\\r#\\xc7\\xad\\xc48\\xae\\x10\\xc7\\x95\\xe10\"&lt;\\xb44\"\\x8c\\x04K\\xffn\\x94C\\x82\\x01\\x90^\\x80\\xc2~\\x1e\\xda\\x89n;\\xc9\\r\\x9b\\xc5mW\\xa20v\\xecX\\xd7Jp;eo;en7\\xdf|\\xf3D\\xc5\\xb6\\x95\\xd4\\xb6\\x12\\xce02;f\\xcc\\x98@\\xaf\\x8d*\\xa3\\xeb~o\\xf4\\xe8\\xd1\\x85\\xb8\\t\\x97-[\\x16K\\x92\\x83\\xfcNXY\\x1e&gt;|\\xb85\\x93\\xe3Vb\\xdcI\\x8a\\xc3\\x08q\\x10\\x19nW&amp;\\x11G\\x84;e\\x83\\xc9\\x04\\x03 \\xbd\\x00\\xa5\\xfb\\x0cD\\xcd\\xe6\\x86\\xcd\\xe4\\x06\\xcd\\xe2\\x86\\xc9\\xe0\\x06\\xc9\\xde\\x06\\x11\\xdc(b\\xdbLF\\x83\\nm\\'\\x99\\xed$\\xb1ad5\\xa8\\x10\\x8f\\x1a5*\\xf7\\x1br\\xf9\\xf2\\xe5\\x89\\xc9\\xed\\xb2e\\xcb\\x02\\xbd\\xae\\xddk\\x82\\x08rP)\\xee$\\xc4qd8\\x8e\\x08\\xe7)\\xc1\\x080\\x00\\xd2\\x0b\\x90\\xab\\xe8F\\xcd\\xe6\\x06\\x95\\xdc\\xb0Y\\xdc8\\x82\\xdb,{\\xdbNp\\x9b\\xfdl\\xa8\\x9c\\x06\\x11\\xdb\\x9e\\x9e\\x9e\\xd0B\\xbbz\\xf5j\\xd7Nb\\x9b\\xfd^\\x10Q\\xed\\xef\\xef\\xef\\xf8\\xac\\x1b9rd\\xe0\\x1b(\\xc8\\xf1\\xd6\\xa7\\xb7\\xb77\\xb0\\xb8\\xacX\\xb1\"\\x91\\xe3\\xb5\\x92\\xe7V\\x82\\xdbI\\x90[\\xfd\\xac\\x93\\x14\\x07\\x11\\xe2Ne\\x13\\xcdd8\\x8e\\x08\\xa7%\\xc1\\xed\\xca!Zm\\x97\\xd6.\\x0b\\x8c\\x00\\x03 \\xbd\\x00\\xb9\\x8an\\x94ln\\xbbLnT\\xc9\\r*\\xb8\\xc3\\x86\\rkY\\xb2 \\xb5\\xcf\\xdcv\\x92\\xdbVb\\x1bVj\\x87\\xbe\\xbe\\x9d\\xc86\\x13\\xce\\xa1\\xc2\\x1aVJ\\xfb\\xfb\\xfb]\\x18\\xe9M\\x9b\\xc1\\xc1\\xc1\\xd0r3T\\x84\\x9b\\xc9s+Yn&amp;\\xc8\\xcd$\\xb7\\x9d\\x187\\xfb\\xf7NB\\xdc\\xdf\\xdfo\\xadD\\xb8\\x95\\xec\\x86\\x11\\xe1\"Ip\\x90,0\\x02\\x0c\\x80\\xf4\\x02\\x14Jt\\x87\\xee\\x8f\\x1b%\\x9b;\\xb4\\\\!)\\xc9m\\x95\\xc1\\r\"\\xb8\\xbd\\xbd\\xbd\\xa1\\xe4\\xb6\\x99\\xd8\\xc6\\x91\\xda\\xa1\\xa2\\xba\\xbe\\x84v\\x92\\xd8\\xee\\xee\\xee@\\xcf\\xb2\\xb02\\\\D\\x82f\\x8d;\\x89\\xf3\\xfa\\xc7\\x19*\\xc8\\xcd\\xdec\\xa8\\x18\\x0f\\x95\\xdcVB\\x1cV\\x86\\x9be\\x86\\x87f\\x85[\\x89\\xf0\\xea\\xd5\\xab;\\x96F\\xb4\\x13\\xe1(\\x12\\xdc\\xea\\xeb\\x97\\x11`\\x00\\xa4\\x17 \\xb3{z\\xa8\\xecf-\\xbaQ\\xb2\\xb9IJn\\x14\\xc1mVg\\x1bTn\\xd7\\x7f]\\x18\\xa9m%\\xa2\\xedD6\\xa8\\xbc\\xc6\\xcd\\x00\\x07\\x15\\xe8\\x11#Fl\\xf4\\xf3\\x95+W\\x86\\x92\\xd4(\\xc2\\x1b\\xa4\\x14\\xa2\\xd39\\xb4\\x93\\xe3u\\xbf\\xb7\\xfe\\xfbt\\x12\\xe282&lt;00`AD8hiD\\xa7lp\\xd4L\\xf0\\xf2\\xe5\\xcb\\xad\\x99\\x00\\xaf\\xfd\\xdc\\xa7*\\xc0\\x1dj\\x80\\x91_\\x00\\xa4\\x17\\xear/\\xb7\\x12\\xddv\\xb2\\x1b\\xb4t!\\xae\\xe8v\\xca\\xe6\\xa6%\\xb9\\xedJ\\x14\\x86fp\\x83\\x08n\\x18\\xb9m\\'\\xb6\\xad\\xa4\\xb6\\x93\\x98v\\x92\\xe5\\xf5\\xe9\\xea\\xea\\n\\xfc\\x8c\\x1b\\x18\\x18\\xe8\\xf8\\xdafr\\x1b\\x96u2\\xdc\\x8a\\x9e\\x9e\\x1e\\x0bs\\xacNR\\xdd.\\xa3\\x1bD\\x8c[Iq\\x10!\\x0e+\\xc3C\\xff\\xbb]F\\xb8]iD\\xabl\\xf0\\xd0Lp\\x12Y\\xe0\\xb4\\x048H\\r0\\xd9_\\x00\\xa4\\x17jx\\xff\\x86\\xcd\\xea\\xb6\\xdbu!H\\x8dnV\\xa2\\x9b\\xa4\\xe4\\x06\\xc9\\xe2\\x86\\x11\\xdc8r\\xdbJX\\x83\\x08m;\\x91\\x1d*\\xae\\xad$\\xb5\\x8ce\\x0e\\xad\\xa4t}\\x89\\xee$\\xcc\\x8dF#\\xb0\\xc0\\x06y\\xfffB&lt;\\xf4XaD\\xb8Y\\xa67\\xc8k\\xdaIp+\\x01\\x8e\\x93\\x05\\x0e+\\xc0AJ \\xda\\xed\\x04A\\xf6\\x17\\x00\\xe9\\x05\\xee\\xdb\\xd0\\xb2\\x1b\\xa7|\\xa1U\\x8dn\\x1e\\xa2\\x1b\\xa4\\\\!\\x88\\xe4\\xb6\\xca\\xf4v\\x12\\xdc8r\\xdbIl[I\\xed:\\xa1\\x1d*\\xb2a\\x05v\\xc4\\x88\\x11\\x89I\\xef\\xe0\\xe0`\\xa7Z\\xe3D\\x84\\xa3\\xb7\\xb7\\xd7:e\\x88;Ij\\x109n&amp;\\xc5\\x9d\\x84\\xb8Y\\xc9\\xc5\\xd0\\x7f\\x8b*\\xc2A\\xb2\\xc1\\xcd$\\xb8S9D\\xd8,p\\x92\\x02\\x1c\\'\\xfb\\x1b\\xb3\\xf6\\x17\\xf9\\x05\\xe4\\x81K\\x00u\\x96\\xdd8Y\\xdd \\xcdhi\\x89n\\xabln\\xa7r\\x85\\xb0\\x92\\xdbJP\\x87\\nn\\xbb\\xccm\\xb3\\x9f5\\x13\\xdb8R\\xdb\\xa9\\x8ca\\x9d\\x9c\\x0e\\x1b6,\\xb6\\xc8\\xa6I\\'I^\\xbdzu\\xa0\\xd7\\x05\\x95\\xe4\\xf5\\xe5s\\xdd\\xeb\\x9b\\tqX\\x19\\x0e*\\xc2\\xadJ#\\x82Jp\\xd0r\\x88\\xf5\\xb3\\xc0Y\\x0b\\xf0\\xfaMpa\\xb3\\xbfaJ\\x1f\\xda}\\x0b\\x1c\\xf2\\x0b\\x80\\xf4\\x02\\xb2\\xdbRv\\xdbm1\\xb6\\xbe\\xec\\x86mF\\x1bZ\\xa3\\xdbl;\\xb1$E\\xb7U\\xb9B\\x1a\\x92\\xdbLp\\xfb\\xfb\\xfb\\xddP\\x89m&amp;\\xb7\\x9d\\xc4\\xb6\\x95\\xd4\\xb6\\x93\\xd9\\xa1\\xf2\\xda\\xec5A\\xeax\\x87HU\\xac\\x1by\\xd5\\xaaU\\xa1\\x7fg\\xa8\\x84\\xae\\x13\\xdfN\\xb2\\xdcI\\x90[\\x95:\\x0c\\x95\\xd002\\x1cF\\x84\\x87\\x96F\\x04\\x91\\xe0NY\\xde\\xf5\\x7f\\x9e\\x84\\x00\\x0f\\xfd\\xb7v5\\xc0a\\xe4w\\xa8\\x00w\\xca\\xfe\\x86\\x95_2\\xbf\\x00H/\\x94\\xf8\\x1e\\xcd[v\\x83\\x940\\xc4\\xc9\\xeaf-\\xbaq%\\xb7\\xd5\\xef\\r\\x95\\xd3\\xa1\\x82\\x1b\\xb6V\\xb7\\x95\\xd4\\xae/\\xb4\\xeb\\xff\\xac\\x9d\\xc46\\x13\\xd6\\xb0\\xd2\\xdbN\\xbc\\x83\\x88h\\\\\\xe1\\xed$\\xcf\\xeb\\xbf~}9n%\\xc5\\xcd\\xfe\\xbd\\x9d\\x0c\\x07\\xc9\\x0c7\\x13\\xe1\\xb8\\x12\\x1c$\\x0b\\x9c\\x94\\x00\\xc7\\xcd\\xfe6\\xdb\\x01\"\\xa9\\xd2\\x87\\xa8\\xf2;\\xb4\\xe6\\xb7\\xaf\\xafo\\xfd\\xffF~\\x01\\xe9\\x05(\\xb2\\xec\\xb6\\x12\\xde\\xa85\\xbbi\\xc8n\\x9c\\xacn\\xb3\\x1a\\xdd4E7\\t\\xc9\\r\\x93\\xc1m%\\xb8\\xeb\\x0blP\\xb1\\x1d*\\xb3\\x9dDv\\xddq{{{#\\xc9l\\x1at\\x12\\xe4\\xfe\\xfe\\xfe\\x8e\\xaf\\x1b*\\x9f\\xcd\\xc4x\\xddk\\xda\\tq3\\x19nW.\\xd1)#\\x1cE\\x82\\x83\\n\\xf0\\xfa\\x12\\x1cT\\x80;\\xd5\\x00\\xc7\\xc9\\xfev*}H[~\\xc34\\xbc\\x91\\xf5\\x05\\xa4\\x17\\xa0\\x04\\xc2\\x1b\\'\\xbb\\x1b\\xb5f7I\\xd9m\\xb7\\xf3B\\'\\xd9mW\\xa3\\x9b\\x86\\xe8\\x06\\xc9\\xe4v\\xca\\xe2\\x86\\x11\\xdcu\\xff\\xd6L\\\\\\xd7\\x97\\xdbf?o\\'\\xb3\\x9dJ\\x1d\\x82d|\\x83\\xd4\\x03\\x07\\xa1YyB\\x10\\x89\\x1d\\xfa{C\\xc5\\xb4\\x93\\x18\\xaf\\x7f\\xbc\\xa1B\\xdcI\\x86\\x9b\\x89p\\xa7\\x9d \\x9aI\\xf0\\xd0-\\xd6Z\\x95CD\\x11\\xe0f\\xf2\\xdb\\xa9\\x06x\\xa8\\x00\\xb7j\\x80KS~[\\x95=4\\xab\\xf9M\\xaa\\xe1\\r\\xf9\\x05\\xa4\\x17\\xa0@\\xf7c___\\xec\\xecn\\xd6\\xb2;Tx\\x83\\xcan\\xb3\\x12\\x86\\xa1;/\\xc4\\xc9\\xea\\xae/\\xa3C\\xbfn7\\xac\\xe8\\x06)W\\x18\\xba;B\\x90\\x0c\\xee\\xfa\\xd2\\x19Dn\\x87\\x8am\\x98r\\x87 \\xf5\\xbf\\xeb\\tV\\xe0\\x9bw\\xfdc\\x84)mX\\'\\xab\\xed\\x84\\xb6\\x9d0\\x07)ih%\\xc4aD8\\t\\tn\\x97\\x05\\x0e+\\xc0\\xedv\\x84\\xe8\\x94\\xfd\\r\\xb2\\x03D\\xd0\\xd2\\x87\\xa0\\xf2\\x1b\\xb5\\xe1\\x8d\\xac/\\x00\\xd2\\x0b\\x15\\xbd\\x17\\xf3\\xcc\\xee&amp;U\\xca\\x10\\xa6fwhf7\\xa8\\xec6\\xdb?7hV7\\r\\xd1\\x1d\\x9a\\xcdm\\x97\\xc9mU\\x9e\\x10Dp\\x9b\\xd5\\xf8\\x0e\\xfd\\xbdv\\xf5\\xbf\\xcd\\x8e\\x15Td\\xa3\\x88pT\\xb9m\\xf7\\x9a\\xf5\\x8f\\xd3\\xac4!\\xa8\\xb8\\xae;VP\\x11\\x0e#\\xc1\\xad\\xca!\\xc2\\x08p;\\xf9\\x1d\\xba\\x1bD\\x98\\xeco\\x18\\xf9M#\\xf3\\xdbI~\\x83\\x96&lt;\\x04\\xc9\\xfa\\x86\\xa9\\xf5E|\\xa1\\x0e\\xfc\\x7f@\\x0f\\xadam\\t\\x15\\xed\\x00\\x00\\x00%tEXtdate:create\\x002022-11-07T20:41:00+00:00\\xd3\\xc50\\x08\\x00\\x00\\x00%tEXtdate:modify\\x002022-11-07T20:41:00+00:00\\xa2\\x98\\x88\\xb4\\x00\\x00\\x00\\x00IEND\\xaeB`\\x82'\n</pre>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/exercicis/mongo_first/","title":"Mongo first","text":"<p>Es demana crear un contenidor i comen\u00e7ar a treballar amb mongo.</p> <ol> <li>Crear el contenidor</li> </ol> Bash<pre><code>docker run --name mongo-test \\\n    -e MONGO_INITDB_ROOT_USERNAME=\"root\" \\\n    -e MONGO_INITDB_ROOT_PASSWORD=\"toor\" \\\n    -p 27017:27017 \\\n    -d mongo\n</code></pre> <ol> <li>Un cop creat comprovem que ens podem connectar i veure quines bases de dades existeixen:</li> </ol> Bash<pre><code>mongo -u root -p toor\n\nsh dbs\n</code></pre> <ol> <li>Tanquem la connexi\u00f3 amb el comandament <code>exit</code> i anem a importar una col\u00b7lecci\u00f3. Al recursos tens l'arxiu restaurants.json per a descarregar a la carpeta de treball. </li> </ol> Bash<pre><code>mongoimport --uri 'mongodb://localhost:27017' \\\n  --username='root' --password='toor' --authenticationDatabase=admin \\\n  --db proves_pia --collection restaurant --file restaurants.json\n</code></pre> <ol> <li> <p>Entra i comprova que hi han 3772 documents a la col\u00b7lecci\u00f3 Bash<pre><code>use proves_pia\ndb.restaurant.count()\n</code></pre></p> </li> <li> <p>Ix i torna a importar-ho. </p> </li> <li>Entra i comprova que ara hi han 7544.</li> <li>Ix de nou i torna a importa-ho, per\u00f2 ara amb la opci\u00f3 <code>--drop</code></li> <li> <p>Comprova que tornen a hi haura 3772 documents.</p> </li> <li> <p>Exporta la col\u00b7lecci\u00f3 de restaurants a un arrxiu distint. </p> </li> <li>Verifica el tamany i el contingut de l'arxiu.</li> <li>S\u00f3n distints! Per qu\u00e8? Investiga-ho</li> <li>Exporta ara de la col\u00b7lecci\u00f3 de restaurants a un CSV, amb els atributs name i cuisine. Bash<pre><code>mongoexport --uri 'mongodb://localhost:27017' --username='root' --password='toor'\\\n --authenticationDatabase=admin --db proves_pia --collection restaurant \n --type=csv --out restaurants.csv --fields=borough,cuisine\n</code></pre></li> </ol>"},{"location":"U04%20Programaci%C3%B3%20d%27Aplicacions/exercicis/orquestracio/python/App/","title":"App","text":"In\u00a0[\u00a0]: Copied! <pre>import mysql.connector\n</pre> import mysql.connector In\u00a0[\u00a0]: Copied! <pre>connection = mysql.connector.connect(\n    user='root', password='toor', host='db', port=\"3306\", database='alumnes')\nprint(\"DB connected\")\n</pre> connection = mysql.connector.connect(     user='root', password='toor', host='db', port=\"3306\", database='alumnes') print(\"DB connected\") In\u00a0[\u00a0]: Copied! <pre>cursor = connection.cursor()\n</pre> cursor = connection.cursor() In\u00a0[\u00a0]: Copied! <pre>def show_students():\n    \n    # Execute the query\n    cursor.execute('SELECT * FROM students')\n\n    # Fetch the results\n    students = cursor.fetchall()\n\n    # Print the results\n    for student in students:\n        print(student)\n</pre> def show_students():          # Execute the query     cursor.execute('SELECT * FROM students')      # Fetch the results     students = cursor.fetchall()      # Print the results     for student in students:         print(student) In\u00a0[\u00a0]: Copied! <pre>show_students()\n</pre> show_students() In\u00a0[\u00a0]: Copied! <pre>connection.close()\n</pre> connection.close()"},{"location":"U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/00_Configurar_Azure/","title":"Configuraci\u00f3 de Azure","text":"<p>En aquesta pr\u00e0ctica anem a veure com configurar un compte amb Azure per a poder treballar i integrar les nostre aplicacions amb ell.</p> <p> </p> <p>Realment hi han diverses plataformes, com be Google, </p> <p> </p> <p>Realment hi han diverses plataformes, com be Amazon, </p> <p> </p> <p>i la pr\u00f2pia Azure, </p> <p> </p>"},{"location":"U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/00_Configurar_Azure/#azure-cognitive-services","title":"Azure Cognitive Services","text":""},{"location":"U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/00_Configurar_Azure/#crear-i-configurar-un-compte-dazure","title":"Crear i configurar un compte d'Azure:","text":"<p>Busquem Azure free students en Google i ens portar\u00e0 a https://azure.microsoft.com/es-es/free/students/</p> <p> </p> <ul> <li>Li diguem de Empezar aqu\u00ed</li> <li>Crear una cuents</li> </ul> <p> </p> <p> </p> <ul> <li>Ens donarem d'alta amb el compte que <code>@alu.edu.gva.es</code> que tens assignat.</li> <li>El password pot ser distint que el del correu!!</li> <li>Comprovarem el codi que ens han enviat.</li> <li>Verificarem que no som un bot</li> </ul> <p> </p> <p> </p> <ul> <li>Completarem les dades</li> </ul> <p> </p> <ul> <li>Ens donar\u00e0 finalment un enlla\u00e7 de verificaci\u00f3</li> </ul> <p> </p> <p> </p> <p> </p> <p>i finalment ja tenim disponibles aquests serveix.</p> <p> </p>"},{"location":"U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/01_AzureTextAnalytics/","title":"1. Azure Text","text":""},{"location":"U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/01_AzureTextAnalytics/#1-el-portal-dazure","title":"1. El portal d'Azure","text":"<p>Anem a treballar un concepte interessant en aquesta unitat, i \u00e9s el que s'anomena AIaaS (Intel\u00b7lig\u00e8ncia artificial as a service). Consistir\u00e0 en fer servir plataformes amb models i eines ja entrenades, preparades per a utilitzar-les.</p> <p>Comen\u00e7arem a treballar amb Azure, i podem veure la justificaci\u00f3 ac\u00ed.</p> <p>Aquests materials complementaris s\u00f3n de Javier Catal\u00e1 Jim\u00e9nez.</p>"},{"location":"U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/01_AzureTextAnalytics/#11-alta-amb-azure-amb-compte-educatiu","title":"1.1. Alta amb Azure amb compte educatiu","text":"<p>Actualment la Conselleria d'Educaci\u00f3  disposa d'un contracte amb Microsoft on disposem d'un compte corporatiu, dins del domini <code>@alu.edu.gva.es</code> i <code>@edu.gva.es</code> per a alumnes i professors, respectivament. Amb aquest compte disposem de 100$ de saldo per a les recursos que utilitzem, i acc\u00e8s a la capa gratu\u00efta dels serveis durant un any.</p> <p>Aquests  serveis tenen certes limitacions, con per exemple 5000 transaccions mensuals, suficients per a la nostra feina dins del curs.</p> <p>Podem seguir el procediment d'alta en aquesta presentaci\u00f3</p>"},{"location":"U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/01_AzureTextAnalytics/#12-alta-amb-compte-gratuit","title":"1.2. Alta amb compte gratu\u00eft","text":"<p>Suposadament amb aquesta capa gratu\u00efta tindrem prou per a les tasques del nostre curs. Aquesta funcionar\u00e0 sempre que ens quede algo de saldo.  La soluci\u00f3 \u00e9s crear-te un nou compte, amb un correu distint, obviament on tindr\u00e0s 200$ i la capa gratuita de nou durant un any. </p> <p>El problema d'aquest recurs \u00e9s que hem de posar el numero de la targeta de cr\u00e8dit, amb la qual cosa hem de tenir molta cura de aturar els serveis que puguem arrancar, si no volem tindre sorpreses a final de m\u00e9s. Per sort, sembla que Microsoft abans de carregar-nos res ens enviar\u00e0 un correu electr\u00f2nic</p> <p></p>"},{"location":"U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/01_AzureTextAnalytics/#13-configuracio-general-de-les-api-dazure","title":"1.3. Configuraci\u00f3 general de les API d'azure","text":"<p>Anem a veure com \u00e9s funcionament general d'aquest serveis d'IA:</p> <ol> <li>Haurem de crear des de la plataforma el recurs que desitjem; veu, imatge, so, etc.</li> <li>Un cop creat, haurem de veure a la seua configuraci\u00f3 els par\u00e0metres:<ol> <li>entrypoint \u2192 \u00e9s la url del recurs, on farem les peticions del mateix</li> <li>key o token \u2192 \u00e9s el identificador que ens ha assignat Azure per a fer \u00fas del recurs.</li> </ol> </li> <li>Des del nostre programa carregarem la llibreria per a connectar-nos</li> <li>Farem la petici\u00f3</li> <li>Processarem els resultats</li> </ol> <p>Pots veure el proc\u00e9s de creaci\u00f3 als seg\u00fcents passos. En auqest cas veurem el de text, que \u00e9s el primer que treballarem:</p> <ol> <li> <p>Li creem un nou recurs de An\u00e0lisi de text: </p> </li> <li> <p>Li diguem crear: </p> </li> <li> <p>Es deixen les caracter\u00edstiques per defecte, sense afegir-ne cap altra: </p> </li> <li> <p>Indiquem que el grup de recursos, o el creem si \u00e9s el primer cop (com a nom, <code>UDCognitiveServices</code> o simimlar) i un nou recurs d'An\u00e0lisi de Text, per exemple <code>TextAnalyticsDemoJoange</code> </p> </li> <li> <p>Li indiquem el pla de pagament, gratu\u00eft. Revisem i llavors acceptem els termes de lic\u00e8ncia: </p> </li> <li> <p>Finalment creem: </p> </li> <li> <p>I ja tenim el servei a punt. </p> </li> </ol> <p>Podem fer les peticions mitjan\u00e7ant request, postman o curl, per\u00f2 ens ser\u00e0 m\u00e9s complicat, sobretot per temes de seguretat:</p> <p></p> <p>La millor alternativa \u00e9s fer servir les llibreries del SDK de Azure, disponibles per als llenguatges de programaci\u00f3 m\u00e9s utilitzats:</p> <p></p> <p>Aquest eines, a banda d'oferir objectes estructurats per a enviar i arreplegar la informaci\u00f3, encripten autom\u00e0ticament les peticions (i la informaci\u00f3 que viatja amb elles), donant-li una major capa de protecci\u00f3.</p>"},{"location":"U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/01_AzureTextAnalytics/#2-llenguatge-analisi-de-sentiments","title":"2. Llenguatge - An\u00e0lisi de sentiments","text":"<p>Anem a estudiar com podem analitzar els sentiments d'un text. L'an\u00e0lisi de sentiments \u00e9s com fer un ex\u00e0men d'emocions en textos per determinar si el contingut expressa opinions positives, negatives o neutres. Els algorismes d'an\u00e0lisi de sentiments utilitzen processament del llenguatge natural (PLN) per analitzar les paraules i frases en un text i determinar la seva tonalitat emocional.</p> <p>Aix\u00f2 implica:</p> <ul> <li>identificar paraules clau, </li> <li>frases o contextos que indiquin sentiments</li> </ul> <p>Per exemple, si alg\u00fa diu estic molt content amb aquest producte, el sistema hauria de recon\u00e8ixer la paraula content i interpretar-la com una expressi\u00f3 positiva.</p> <p>Aquesta tecnologia \u00e9s molt utilitzada en:</p> <ul> <li>monitoritzaci\u00f3 de xarxes socials </li> <li>ressenyes de productes</li> <li>opinions dels clients i </li> <li>altres \u00e0mbits on es vol entendre la resposta emocional dels usuaris. </li> </ul> <p>Hi ha diverses eines i plataformes que ofereixen serveis d'an\u00e0lisi de sentiments utilitzant tecnologies de processament del llenguatge natural (PLN). Algunes d'aquestes inclouen:</p> <ol> <li> <p>IBM Watson Natural Language Understanding: Proporciona an\u00e0lisi de sentiments entre altres funcionalitats PLN.</p> </li> <li> <p>Google Cloud Natural Language API: Ofereix an\u00e0lisi de sentiments i altres funcions de PLN.</p> </li> <li> <p>Microsoft Azure Text Analytics: Proporciona an\u00e0lisi de sentiments, detecci\u00f3 d'idiomes i altres funcionalitats basades en text.</p> </li> <li> <p>AWS (Amazon Web Services) ofereix una eina anomenada Amazon Comprehend que inclou funcionalitats d'an\u00e0lisi de sentiments, que pot detectar i analitzar les emocions expressades en text. A trav\u00e9s de l'API d'Amazon Comprehend, pots enviar text i rebre informaci\u00f3 sobre les emocions associades, com ara positiu, negatiu, neutre o mixt.</p> </li> <li> <p>Aylien: Una plataforma de processament del llenguatge natural que ofereix an\u00e0lisi de sentiments i altres eines d'an\u00e0lisi de text.</p> </li> <li> <p>VADER (Valence Aware Dictionary and sEntiment Reasoner): Una eina espec\u00edfica per a l'an\u00e0lisi de sentiments en angl\u00e8s, molt utilitzada i senzilla.</p> </li> <li> <p>NLTK (Natural Language Toolkit): Una llibreria de Python que inclou m\u00f2duls per a l'an\u00e0lisi de sentiments i altres tasques de PLN.</p> </li> <li> <p>TextBlob: Una llibreria de Python que facilita l'an\u00e0lisi de sentiments i altres tasques relacionades amb el processament del llenguatge natural.</p> </li> <li> <p>Hugging Face Transformers: Una llibreria que proporciona models preentrenats per a diverses tasques, inclosa l'an\u00e0lisi de sentiments.</p> </li> </ol>"},{"location":"U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/01_AzureTextAnalytics/#21-deteccio-de-sentiments-amb-azure","title":"2.1. Detecci\u00f3 de sentiments amb Azure","text":"<p>Anem a estudiar les eines que ens ofereix el SDK de Python per a Azure</p>"},{"location":"U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/01_AzureTextAnalytics/#211-creacio-del-client","title":"2.1.1. Creaci\u00f3 del client","text":"<p>L'objecte clau per fer la crida \u00e9s el client, i aquest \u00e9s els <code>class azure.ai.textanalytics.TextAnalyticsClient</code></p> <p>Aquest classe presenta dos arguments:</p> <ul> <li><code>endpoint (str)</code> \u2192 sent la url al nostre recurs del servei del llenguatge supportat per Azure. Es del tipus <code>https://&lt;resource-name&gt;.cognitiveservices.azure.com</code>.</li> <li><code>credential (AzureKeyCredential or TokenCredential)</code> \u2192 La credencial necessaria per a validar el client al servei d'Azure. Pot ser de dos tipus:<ul> <li><code>AzureKeyCredential</code> si fem servir un token del serveis de Cognitive Services/Language API</li> <li>Un token credential de <code>azure.identity</code>.</li> </ul> </li> </ul> <p>Aquesta informaci\u00f3 la pots extreure del servei que haurem creat pr\u00e8viament. Des de les opcions del recurs:  </p> <p>I les podem veure o incl\u00f2s directament copiar-les: </p> Example de configuraci\u00f3 del client Python<pre><code>import os\nfrom azure.core.credentials import AzureKeyCredential\nfrom azure.ai.textanalytics import TextAnalyticsClient\n\n\"\"\"\"  \nSi guardem les credencials com a variables d'entorn del SO\nles podem carregar amb aquestes instruccions\nendpoint = os.environ[\"AZURE_LANGUAGE_ENDPOINT\"]\nkey = os.environ[\"AZURE_LANGUAGE_KEY\"]\n\"\"\"\n\nkey=\"XXXXXXXXXXXXXXXXXXXXXXXXXX\"\nendpoint= \"https://nom_del_teu_recurs.cognitiveservices.azure.com/\"\ntext_analytics_client = TextAnalyticsClient(endpoint, AzureKeyCredential(key))\n</code></pre>"},{"location":"U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/01_AzureTextAnalytics/#212-avaluant-el-sentiment","title":"2.1.2. Avaluant el sentiment","text":"<p>El m\u00e8tode per a fer la petici\u00f3 \u00e9s <code>analyze_sentiment</code>, amb aquesta sintaxi retallada:</p> Python<pre><code>analyze_sentiment(\n        documents: Union[List[str], \n        . . .\n         \u2192 List[Union[AnalyzeSentimentResult, DocumentError]]\n</code></pre> <p>Per simplificar:</p> <ul> <li> <p>A aquest m\u00e8tode li passarem un o m\u00e9s textos, anomentats com a documents. Ha de ser una llista: </p> <ul> <li>Poden ser un llistat de textos, com a str:</li> </ul> Python<pre><code>documents=[\"Hola m'encanta aquest modul\",\"Estic una mica cansat\",\"I'm very bored\"]\n</code></pre> <ul> <li>Un llistat del anomentat <code>TextDocumentInput</code>, en el qual podem donar-li m\u00e9s detalls:</li> </ul> Python<pre><code>  documents=[{\"id\": \"1\", \"language\": \"ca\", \"text\": \"Hola m'encanta aquest modul\"},\n            {\"id\": \"1\", \"language\": \"es\", \"text\": \"Me encuentro cansado\"},\n            {\"id\": \"1\", \"language\": \"en\", \"text\": \"I'm very bored\"}]\n</code></pre> </li> <li> <p>El retorn de la funci\u00f3 \u00e9s una llista combinada (de tuples)  de <code>AnalyzeSentimentResult</code> o <code>DocumentError</code>, amb tants elements com documents s'han passat.</p> </li> </ul> Valor real retornat Python<pre><code>AnalyzeSentimentResult(id=3, sentiment=negative, warnings=[], statistics=None,\nconfidence_scores=SentimentConfidenceScores(positive=0.0, neutral=0.01, negative=0.98), \nsentences=[\n  SentenceSentiment(\n    text=I'm very bored, \n    sentiment=negative, \n    confidence_scores=SentimentConfidenceScores(positive=0.0, neutral=0.01, negative=0.98), \n    length=14, \n    offset=0, \n    mined_opinions=[])], \n  is_error=False, \n  kind=SentimentAnalysis)\n</code></pre> <p>Com podem veure, les opcions importants del <code>AnalyzeSentimentResult</code> son:</p> <ul> <li><code>sentiment</code> \u2192 ens classifica el text avaluat en positiu, neutral o negatiu. Pot apareixer un mixed.</li> <li><code>confidence_scores</code> \u2192 ens informa de la probabilitat de cada un dels tres nivells.</li> <li><code>sentences</code> \u2192 per a cada unitat del text individual (fixa't que divideix el text en sent\u00e8ncies) ens torna a donar la informaci\u00f3 per separat.</li> </ul> Proc\u00e9s dels resultats Python<pre><code># ens quedem en aqulles que no donen error, en un llistat\ndocs = [doc for doc in result if not doc.is_error]\n\n# processem els documents\nfor idx, doc in enumerate(docs):\n  print(f\"Opini\u00f3n general del document {idx}: {doc.sentiment}\"); \n  for sentencia in doc.sentences:\n    print(f\"\\tOpinio de la frase {sentencia.text} \u00e9s &lt;{sentencia.sentiment}&gt;\")\n</code></pre>"},{"location":"U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/01_AzureTextAnalytics/#3-llenguatge-deteccio-didioma","title":"3. Llenguatge. Detecci\u00f3 d'idioma","text":"<p>Per a an\u00e0lisi de llenguatge necessitem crear un recurs de traducci\u00f3, de manera similar de com l'hem creat anteriorment.</p> <p></p> <p>Per fer una primera detecci\u00f3 del llenguatge, haurem de procedir invocant al recurs d'Azure i cridar al m\u00e8tode <code>detect_language</code> de l'analitzador de text:</p> Acc\u00e8s al recurs i identificaci\u00f3 del llenguatge Python<pre><code>from azure.core.credentials import AzureKeyCredential\nfrom azure.ai.textanalytics import TextAnalyticsClient\n\nkey=\"XXXXXX\"\nendpoint= \"https://textanalyticsdemojoange.cognitiveservices.azure.com/\"\ntext_analytics_client = TextAnalyticsClient(endpoint, AzureKeyCredential(key))\n\nTEXT1=\"En un lugar de la mancha de cuyo nombre\"\nTEXT2=\"Once upon a time\"\nTEXT3=\"Dans la deuxi\u00e8me partie (Cosette), on voit Jean Valjean s'\u00e9vader, arracher Cosette aux Th\u00e9nardier, et tenter de s'installer \u00e0 Paris\"\n\ndocuments=[TEXT1,TEXT2,TEXT3]\n\nresultats=text_analytics_client.detect_language(documents)\n</code></pre> <p>Els resultat \u00e9s un llistat (un per text enviat) de <code>DetectLanguageResult</code>, un objecte que el podem veure detallat com segueix:</p> JSON<pre><code>{ 'id': '0', \n  'primary_language':\n  DetectedLanguage(\n    name=Spanish, \n    iso6391_name=es, \n    confidence_score=1.0), \n  'warnings': [], 'statistics': None, 'is_error': False, 'kind': 'LanguageDetection'\n}\n</code></pre> <p>on l'element m\u00e9s important \u00e9s el <code>DetectedLanguage</code>, contenint com podem veure el nom del llenguatge i el grau de confian\u00e7a de la detecci\u00f3.</p>"},{"location":"U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/01_AzureTextAnalytics/#4-llenguatge-deteccio-dentitats","title":"4. Llenguatge - Detecci\u00f3 d'entitats","text":"<p>La detecci\u00f3 d'entitats en text d'Azure \u00e9s una funci\u00f3 que utilitza tecnologies de processament de llenguatge natural per identificar i extraure informaci\u00f3 rellevant o entitats d'un text. Les entitats es refereixen a elements espec\u00edfics o conceptes dins del text, com ara noms de persones, llocs, dates, quantitats, etc.</p> <p>Aix\u00f2 pot ser molt \u00fatil en diverses aplicacions, com ara l'an\u00e0lisi de sentiments (vist), la categoritzaci\u00f3 de contingut, l'extracci\u00f3 d'informaci\u00f3 clau i altres tasques de processament de llenguatge natural.</p> <p>Per fer-lo servir, haurem de fer refer\u00e8ncia a un <code>TextAnalyticsClient</code> com el que hem fet servir abans. A l'igual que abans, prepararem el text o texts dins d'un llistat de docuents, i cridarem el m\u00e8tode <code>recognize_entities</code>. Pots trobar m\u00e9s informaci\u00f3 ac\u00ed</p> Reconeixemnet d'entitats Python<pre><code>from azure.core.credentials import AzureKeyCredential\nfrom azure.ai.textanalytics import TextAnalyticsClient\n\nkey=\"XXXXXXXXXXXXXXXXXXXXXXXXXX\"\nendpoint= \"https://nom_del_teu_recurs.cognitiveservices.azure.com/\"\ntext_analytics_client = TextAnalyticsClient(endpoint, AzureKeyCredential(key))\n# iniciem els 3 text\nreviews = [TEXT1,TEXT2,TEXT3]\n\nresult = text_analytics_client.recognize_entities(reviews)\n</code></pre> <p>El resultat \u00e9s un llistat d'objectes de tipus <code>RecognizeEntitiesResult</code>, que ja deuriem de rec\u00f2rrer per treure una col\u00b7lecci\u00f3, anomenada <code>CategorizedEntity</code>, on tenim la informaci\u00f3 de les entitats detectades. Ac\u00ed podem veure un exemple de valor retornat:</p> Text Only<pre><code>RecognizeEntitiesResult(\n  id=0, \n  entities=[\n    CategorizedEntity(text=Francia, category=Location, subcategory=GPE, length=7, offset=13, confidence_score=1.0), \n    CategorizedEntity(text=verano, category=DateTime, subcategory=DateRange, length=6, offset=25, confidence_score=0.8), \n    CategorizedEntity(text=Provenza, category=Location, subcategory=GPE, length=8, offset=105, confidence_score=0.78), \n    CategorizedEntity(text=Normand\u00eda, category=Location, subcategory=GPE, length=9, offset=194, confidence_score=0.96), \n    CategorizedEntity(text=gu\u00eda, category=PersonType, subcategory=None, length=4, offset=231, confidence_score=0.92), \n    CategorizedEntity(text=Pierre Martin, category=Person, subcategory=None, length=13, offset=237, confidence_score=1.0)], \n    warnings=[], statistics=None, is_error=False, kind=EntityRecognition)\n</code></pre>"},{"location":"U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/01_AzureTextAnalytics/#41-entitats-enllacades","title":"4.1. Entitats enlla\u00e7ades","text":"<p>Investiga al voltant de les <code>Entitats enlla\u00e7ades</code>, on a banda de trobar les entitats, podem trobar enlla\u00e7os per aprofundir en les entitas trobades.</p>"},{"location":"U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/01_AzureTextAnalytics/#5-llenguatge-traduccio-de-texts","title":"5. Llenguatge -  Traducci\u00f3 de texts","text":"<p>Per a la traducci\u00f3 anem a fer una crida que no requereix d'un recurs propiament dit per\u00f2 si d'una credencial d'Azure. Com a novetat anem a fer-ho amb un request simple en compte d'eines concretes del SDK. Hem de preparar per tant la petici\u00f3 del request, amb aquestes caracter\u00edstiques:</p> Python<pre><code>request = requests.post(constructed_url, params=params, headers=headers, json=body)\n</code></pre> Preparaci\u00f3 de la url Python<pre><code>endpoint_textTranslation=\"https://api.cognitive.microsofttranslator.com/\"\npath = '/translate'\nconstructed_url = endpoint_textTranslation + path\n</code></pre> <p>Amb aix\u00f2 ja tenim el punt de conexi\u00f3 de la nosta API</p> Par\u00e0metres de la crida <p>En aquest apartat indicarem la versi\u00f3 de la api, aix\u00ed com l'idioma del text que anem a passar i una llista dels idiomes als quals volem traduir. Tenim a continuaci\u00f3 un exemple:</p> Python<pre><code>params = {\n    'api-version': '3.0',\n    'from': 'en',\n    'to': ['ca', 'es']\n}\n</code></pre> Cap\u00e7alera de la petici\u00f3 <p>Ac\u00ed hem de indicar la metainformaci\u00f3 de la petici\u00f3, en el format esperat per la API. En la primera opci\u00f3 posarem la nostra clau del recurs <code>TextAnalytic</code> que hem creat.</p> <p>L'altra opci\u00f3 important \u00e9s la localitzaci\u00f3 del servei, al nostre cas europa de l'oest</p> Python<pre><code>key=\"la_nostra_clau_de_azure\"\nlocation = \"westeurope\"\nheaders = {\n    'Ocp-Apim-Subscription-Key': key,\n    # location required if you're using a multi-service or regional (not global) resource.\n    'Ocp-Apim-Subscription-Region': location,\n    'Content-type': 'application/json',\n    'X-ClientTraceId': str(uuid.uuid4())\n}\n</code></pre> Text a traduir <p>Ens resta completar el cos de la petici\u00f3, indicant els text o textos a traduir. Ser\u00e0 una llista amb tants elements json com desitjem, encapsultas dins d'una etiqueta <code>text</code>.</p> Python<pre><code>body = [\n  {\n  'text': 'Hello, friend! What did you do today?'\n  },\n  {\n  'text': 'A long time ago in a galaxy far, far away....'\n  }\n]\n</code></pre> Crida i arreplegant el resultat <p>Finalment farem la crida i arreplegarem el resultat en un JSON. Aquest JSON conte una llista amb una col\u00b7lecci\u00f3 d'objectes, tants com texts passats:</p> <ul> <li>Objectes amb clau <code>translations</code>, que tindra tindr\u00e0 un llistat amb les traduccions als distints idiomes que hem indicat.</li> <li>Cada objecte dins del llistat contindr\u00e0:</li> <li>Una clau <code>to</code> on d'indica a quin idioma s'ha traduit</li> <li>Una clau <code>text</code> amb el text traduit a l'idioma indicat</li> </ul> Python<pre><code># crida\nrequest = requests.post(constructed_url, params=params, headers=headers, json=body)\n# extracci\u00f3 de resultats\nresponse = request.json()\n</code></pre> <p>i el contingut de la resposta \u00e9s pot veure a continuaci\u00f3: JSON<pre><code>[{\n    \"translations\": [\n        {\n            \"text\": \"Hola amic! Qu\u00e8 has fet avui?\",\n            \"to\": \"ca\"\n        },\n        {\n            \"text\": \"\u00a1Hola! \u00bfQu\u00e9 has hecho hoy?\",\n            \"to\": \"es\"\n        }\n    ]\n},\n{\n    \"translations\": [\n        {\n            \"text\": \"Fa molt de temps en una gal\u00e0xia llunyana, llunyana....\",\n            \"to\": \"ca\"\n        },\n        {\n            \"text\": \"Hace mucho tiempo en una galaxia muy, muy lejana...\",\n            \"to\": \"es\"\n        }\n    ]\n}]\n</code></pre></p>"},{"location":"U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/01_AzureTextAnalytics/#51-ampliacio","title":"5.1. Ampliaci\u00f3","text":"<p>Investiga per la teua part i intenta fer la implementaci\u00f3 anterior amb eines pr\u00f2pies del SDK d'Azure. Ens referim a <code>TextTranslationClient</code></p>"},{"location":"U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/01_AzureTextAnalytics/#52-traduccio-de-documents","title":"5.2. Traducci\u00f3 de documents","text":"<p>Respecte a la traducci\u00f3 de documents sencers, la deixarem com a opcional, ja que requereix de la creaci\u00f3 d'un recurs especial, que pots suposar un cost afegit. Tot i ser relativament barat, anar en compte per no acabar el saldo que disposem d'Azure</p> <p>La forma de treballar seria la seg\u00fcent:</p> <ol> <li>Crear un Azure Blob Storage containers, que \u00e9s un contenidor (espai) per a emmagatzemar els nostres documents a traduir.</li> <li>Crear un DocumentTranslationClient, en el qual especificarem:</li> <li>Entrades: que ser\u00e0n documents guardats al nostre contenidor</li> <li>Eixides: que es guardaran tamb\u00e9 al nostre contenidos</li> </ol> <p>Queda proposat com a exercici opcional</p>"},{"location":"U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/01_AzureTextAnalytics/#6-llenguatge-text-a-veu-i-vice-versa","title":"6. Llenguatge - Text a veu i vice-versa","text":"<p>En primer lloc hem de crear un recurs de veu, dins del nostre contenidor de recursos.</p> <p></p> <p>Recorda de posar el pla gratu\u00eft. Als noms no poden fer-se servir barres baixes.</p> <p></p> <p></p> <p></p> <p>Per \u00faltim fixar-se que el recurs no \u00e9s nostre propi, sin\u00f2 \u00e9s un entrypoint gen\u00e8ric. Ser\u00e0 amb el token com s'accedir\u00e0 al nostre recurs.</p> <p></p> <p>Al nostre programa ens caldr\u00e0 per tant la regi\u00f3 i el token d'acc\u00e8s</p>"},{"location":"U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/01_AzureTextAnalytics/#61-desenvolupant-el-programa-de-veu-a-text","title":"6.1. Desenvolupant el programa, de veu a text","text":"<p>Necessitarem crear un objecte de tipus <code>SpeechConfig</code>, al qual li indicarem el token i la regio creada</p> Creaci\u00f3 del recurs de veu Python<pre><code>import azure.cognitiveservices.speech as speechsdk\n\nspeech_key=\"XXXXXX\"\nspeech_region=\"westeurope\"\nspeech_endpoint=\"https://westeurope.api.cognitive.microsoft.com/sts/v1.0/issuetoken\"\n\nspeech_config = speechsdk.SpeechConfig(subscription=speech_key, region=speech_region)\nspeech_config.speech_recognition_language=\"es-ES\"\n</code></pre> <p>A continuaci\u00f3 necessitarem crear la configuraci\u00f3 del audio i del reconeixedor de veu, tot a partir del sdk de veu:</p> Audio i reconeixedor Python<pre><code>audio_config = speechsdk.audio.AudioConfig(use_default_microphone=True)\nspeech_recognizer = speechsdk.SpeechRecognizer(speech_config=speech_config, audio_config=audio_config)\n</code></pre> <p>Ah\u00ed indiquem:</p> <ul> <li>Que farem servir el micr\u00f2fon per defecte a la classe <code>AudioConfig</code>. Podeu trobar m\u00e9s informaci\u00f3 ac\u00ed</li> <li>Enllacem el microfon amb la configuraci\u00f3 creada anteriorment</li> </ul> <p>Finalmen farem servir el m\u00e8tode <code>recognize_once_async</code> per a transcriure blocs de fins a 30 segons  o fins detectar un silenci. Podeu trobar m\u00e9s informaci\u00f3 per a m\u00e9s coses dins de la documentaci\u00f3 de Reconeiximent de veu</p> Crida i processament del resultat Python<pre><code>speech_recognition_result = speech_recognizer.recognize_once_async().get()\n\nprint(str(speech_recognition_result))\n\nif speech_recognition_result.reason == speechsdk.ResultReason.RecognizedSpeech:\n    print(\"Text reconegut: {}\".format(speech_recognition_result.text))\nelif speech_recognition_result.reason == speechsdk.ResultReason.NoMatch:\n    print(\"No s'ha detectat text parlat: {}\".format(speech_recognition_result.no_match_details))\nelif speech_recognition_result.reason == speechsdk.ResultReason.Canceled:\n    cancellation_details = speech_recognition_result.cancellation_details\n    print(\"S'ha cancelat la parla: {}\".format(cancellation_details.reason))\n    if cancellation_details.reason == speechsdk.CancellationReason.Error:\n        print(\"Detall dels errors: {}\".format(cancellation_details.error_details))\n        print(\"Tens ben posat la clau i la zona de la parla?\")\n</code></pre> <p>El resultat obtigut despr\u00e8s de <code>speech_recognizer.recognize_once_async().get()</code> \u00e9s algo un <code>SpeechRecognitionResult</code></p> <p>que te com a contingut: JSON<pre><code>result_id=920a7d085efb4c23adf056e37df82986, \ntext=\"Bon d\u00eda com va tot?\", \nreason=ResultReason.RecognizedSpeech\n</code></pre></p>"},{"location":"U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/01_AzureTextAnalytics/#62-desenvolupant-el-programa-de-text-a-veu","title":"6.2. Desenvolupant el programa, de text a veu","text":"<p>Indiquem sols el programa d'exemple, el qual deuries de provar i analitzar.</p> Problema resolt de text a veu. Analitza'l Python<pre><code>import azure.cognitiveservices.speech as speechsdk\n\n# Creem la instancia del recurs de veu\nspeech_key, service_region = \"XXXX\", \"westeurope\"\nspeech_config = speechsdk.SpeechConfig(subscription=speech_key, region=service_region)\n\n# Establim la veu, a https://aka.ms/speech/voices/neural tens la llista completa. Espai que les neutres ja no funcionen.\nspeech_config.speech_synthesis_voice_name = \"es-ES-ElviraNeural\"\n\n# Creem el sintetitzador de veu\nspeech_synthesizer = speechsdk.SpeechSynthesizer(speech_config=speech_config)\n\n# Llegim el text de l'usuari\ntext = input(\"Escriu el text que vols narrar...\")\n\n# Fem la crida as\u00edncrona\nresult = speech_synthesizer.speak_text_async(text).get()\n\nprint(str(result))\n\n# Checks result.\nif result.reason == speechsdk.ResultReason.SynthesizingAudioCompleted:\n    print(\"Text a reproduir [{}]\".format(text))\n    stream = speechsdk.AudioDataStream(result)\n    stream.save_to_wav_file(\"sample.wav\")\nelif result.reason == speechsdk.ResultReason.Canceled:\n    cancellation_details = result.cancellation_details\n    print(\"Parla cancelada: {}\".format(cancellation_details.reason))\n    if cancellation_details.reason == speechsdk.CancellationReason.Error:\n        if cancellation_details.error_details:\n            print(\"Detalls dels errors: {}\".format(cancellation_details.error_details))\n    print(\"Tens be la informaci\u00f3 de la subscripci\u00f3?\")\n</code></pre>"},{"location":"U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/02_FaceDetection/","title":"2. Azure Face","text":""},{"location":"U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/02_FaceDetection/#1-introduccio-a-face-no-valid-amb-compte-corporatiu","title":"1. Introducci\u00f3 a <code>Face</code> - No v\u00e0lid amb compte corporatiu","text":"<p>Face \u00e9s el servei de reconeixement facial d'Azure Cognitive Services. Aquest servei ens ofereix cinc operacions relacionades amb el reconeixement de cares en imatges:</p> <ul> <li>Detecci\u00f3 (<code>Detect</code>) \u2192 \u00c9s la funcionalitat b\u00e0sica de Face, que permet detectar les cares en una imatge, i obtenir informaci\u00f3 de cadascuna de les cares detectades.</li> </ul> <p></p> <ul> <li>Cares similars (<code>Find Similar</code>) \u2192 Permet localitzar cares similars a una de donada dins d'un conjunt de cares. Per defecte se seleccionen cares que pertanyin a la mateixa persona, per\u00f2 si s'indica un nombre m\u00ednim de cares que cal obtenir, es seleccionaran les m\u00e9s semblants, encara que pertanyin a altres persones.</li> <li>Verificaci\u00f3 (<code>Verify</code>) \u2192 Aquesta opci\u00f3 permet determinar si dues cares pertanyen a la mateixa persona.</li> <li>Agrupaci\u00f3 (<code>Group</code>) \u2192 Permet agrupar un conjunt de cares per semblan\u00e7a (normalment es crea un grup per a cada persona).</li> <li>Identificaci\u00f3 (<code>Identify</code>) \u2192 Aquesta funcionalitat permet identificar una persona a partir d'una imatge amb la cara. Per utilitzar-lo cal haver associat a aquesta persona un conjunt d'imatges de la cara.</li> </ul>"},{"location":"U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/02_FaceDetection/#11-estructures-de-dades-de-les-api","title":"1.1. Estructures de dades de les API","text":"<p>Quan utilitzem les funcionalitats de l'API de Face haurem de manipular diferents estructures de dades, entre les quals hi ha les seg\u00fcents:</p> <ul> <li><code>DetectedFace</code> \u2192 representa una cara detectada en una imatge. Inclou informaci\u00f3 de la cara (a la petici\u00f3 es pot indicar quina informaci\u00f3 es vol obtenir) i per defecte t\u00e9 una vig\u00e8ncia de 24 hores.</li> <li><code>PersistedFace</code> \u2192 \u00e9s semblant a l'anterior, per\u00f2 no t\u00e9 caducitat. Quan un objecte DetectedFace s'afegeix a algun tipus de col\u00b7lecci\u00f3 de cares (FaceList o Person) es converteix en PersistedFace.</li> <li><code>FaceList</code> \u2192 llista variada d'objectes PersistedFace, que normalment pertanyen a persones diferents.</li> <li><code>Person</code> \u2192 representa una persona, i est\u00e0 format per un conjunt d'objectes PersistedFace d'aquesta persona, a m\u00e9s del nom.</li> <li><code>PersonGroup</code> \u2192 llista dobjectes Person. Un objecte Person sempre ha de pert\u00e0nyer a un PersonGroup.</li> </ul>"},{"location":"U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/02_FaceDetection/#12-informacio-de-les-cares","title":"1.2. Informaci\u00f3 de les cares","text":"<p>Quan utilitzem la funcionalitat de detecci\u00f3 de cares, per a cadascuna de les cares detectades (objecte <code>DetectedFace</code>) podrem obtenir informaci\u00f3 descriptiva de la cara. Sempre s'obtindr\u00e0 la localitzaci\u00f3 de la cara dins de la imatge (el que s'anomena el rectangle de la cara), per\u00f2 a m\u00e9s es pot sol\u00b7licitar la informaci\u00f3 seg\u00fcent:</p> <ul> <li>Punts de refer\u00e8ncia de la cara \u2192 coordenades dels diferents punts que defineixen les parts de la cara.</li> <li>Atributs de la cara  caracter\u00edstiques descriptives de la cara, entre les quals hi ha l'edat, el sexe, l'emoci\u00f3 o la pres\u00e8ncia de m\u00e0scara.</li> </ul> <p></p>"},{"location":"U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/02_FaceDetection/#13-imatges-dentrada","title":"1.3. Imatges d'entrada","text":"<p>Aquestes s\u00f3n algunes de les caracter\u00edstiques i limitacions m\u00e9s importants de Face:</p> <ul> <li>Les imatges que es processen poden estar en els formats JPEG, PNG, BMP i GIF (si \u00e9s una animaci\u00f3 es processar\u00e0 el primer fotograma).</li> <li>El servei admet processar imatges a partir d'un URL o rebent les dades bin\u00e0ries de la imatge.</li> <li>La mida m\u00e0xima de les imatges a processar \u00e9s de 6 MB.</li> <li>El nombre de m\u00e0xim de cares que es poden detectar en una mateixa imatge \u00e9s de 100. Les imatges processades no s'emmagatzemen a Azure. \u00danicament es guarden les dades descriptives de les cares detectades.</li> </ul>"},{"location":"U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/02_FaceDetection/#2-configuracio-del-servei","title":"2. Configuraci\u00f3 del servei","text":"<p>El primer que haurem de fer \u00e9s crear el recurs de <code>Face</code> des del nostre tauler de control de Azure</p> <p>Creem el recurs de Face:</p> <p></p> <p>Indiquem tots els par\u00e0metres. Revisa la opci\u00f3 Free F0</p> <p></p> <p>Verifiquem i acceptem:</p> <p></p> <p>Com sempre en Claves y productos \u00e9s on haurem de copiar el token i els entrypoint.</p> Enlla\u00e7os d'inter\u00e8s <ul> <li>Podem accedir a la documentaci\u00f3 r\u00e0pidament Inici r\u00e0pid amb Python</li> <li>Podem testejar la api desde aquesta p\u00e0gina *En aquest repositori de github podem trobar imatges de test </li> </ul> <p>Adem\u00e9s:</p> <ul> <li>Les peticions a aquests serveis, els podem fer be directament amb API request o be amb el SDK que ens ofereix Microsoft per a cada llenguatge. Escollirem aquesta \u00faltima opci\u00f3</li> </ul> <p>\u00a9 Materials basat en els de Javier Catal\u00e0 Desarrollo de aplicaciones inteligentes con Azure Cognitive Services</p>"},{"location":"U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/03_ComputerVision/","title":"3. Computer Vision","text":""},{"location":"U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/03_ComputerVision/#1-computer-vision","title":"1. Computer Vision","text":"<p>Azure t\u00e9 b\u00e0sicament 2 serveis d'an\u00e0lisi d'imatges: </p> <ul> <li>Computer Vision\u2192 Analitza el contingut d'imatges i v\u00eddeos.</li> <li>Custom Vision\u2192 Ens permet personalitzar el reconeixement d'imatges per adaptar-lo a les nostres necessitats.</li> </ul> <p>Ens centrem de moment en computer vision. Computer Vision ens permet\u2192</p> <ul> <li> <p>Detectar elements en una imatge </p> </li> <li> <p>Obtenir les coordenades d'un rectangle que delimita l'\u00e0rea principal d'inter\u00e8s</p> </li> </ul> <p> * Ens permet fer miniatures centrant-nos nom\u00e9s en una zona d'inter\u00e8s.</p> <p> * Recon\u00e8ixer text impr\u00e8s o escrit a m\u00e0 en imatges i PDFs (OCR)</p> <p></p>"},{"location":"U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/03_ComputerVision/#2-analisi-dimatges","title":"2. An\u00e0lisi d'imatges","text":"<p>Quan utilitzem la funcionalitat d'an\u00e0lisi d'imatge podrem sol\u00b7licitar al servei les caracter\u00edstiques seg\u00fcents\u2192</p> <ul> <li>Categoria \u2192 classificaci\u00f3 de la imatge dins una llista tancada de categories i subcategories.</li> <li>Etiquetes \u2192 llista de paraules rellevants per al contingut de la imatge. Es pot sol\u00b7licitar amb la funcionalitat Independent Tag Image.</li> <li>Descripci\u00f3 \u2192 genera una descripci\u00f3 de la imatge en una frase en llenguatge natural. Es pot sol\u00b7licitar amb la funcionalitat Independent Describe Image.</li> <li>Objectes \u2192 llista d'objectes trobats a la imatge, indicant per a cadascun el tipus d'objecte i les coordenades del rectangle que el delimita. Es pot sol\u00b7licitar amb la funcionalitat independent Detect Objects.</li> <li>Cares \u2192 llista de cares trobades a la imatge. Per a cada cara, se n'obt\u00e9 el rectangle associat, el g\u00e8nere i l'edat estimada.</li> <li>Color \u2192 color dominant (de primer pla i fons) i color d'\u00e8mfasi de la imatge. Tamb\u00e9 determina si la imatge \u00e9s blanc i negre.</li> <li>Marques \u2192 marques comercials reconegudes a la imatge.</li> <li>Adults \u2192 determina si el contingut de la imatge pot ser catalogat com contingut per a adults, pujat de to o violent.</li> <li>Tipus d'imatge \u2192 detecta si la imatge \u00e9s un dibuix o imatge predissenyada.</li> </ul>"},{"location":"U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/03_ComputerVision/#21-creant-peticions","title":"2.1. Creant peticions","text":"Preparant la petici\u00f3 Python<pre><code>from azure.cognitiveservices.vision.computervision import ComputerVisionClient\nfrom azure.cognitiveservices.vision.computervision.models import VisualFeatureTypes\nfrom msrest.authentication import CognitiveServicesCredentials\n\n# Add your key and endpoint\nkey_computer_vision=\"XXX\"\nendpoint_computer_vision= \"https://XXX.cognitiveservices.azure.com/\"\nregion_computer_vision=\"eastus\"\n\n# Preparem les caracter\u00edstiques que vullguem\nvisual_features=[\n        VisualFeatureTypes.image_type,  # Could use simple str \"ImageType\"\n        VisualFeatureTypes.faces,      # Could use simple str \"Faces\"\n        VisualFeatureTypes.categories,  # Could use simple str \"Categories\"\n        VisualFeatureTypes.color,      # Could use simple str \"Color\"\n        VisualFeatureTypes.tags,       # Could use simple str \"Tags\"\n        VisualFeatureTypes.description,  # Could use simple str \"Description\"\n        VisualFeatureTypes.objects,     # Could use simple str \"Objects\"\n        VisualFeatureTypes.adult,    # Could use simple str \"Adult\"\n        VisualFeatureTypes.brands # Could use simple str \"Brands\"\n    ]\ncredentials = CognitiveServicesCredentials(key_computer_vision)\nclient = ComputerVisionClient(\n  endpoint=endpoint_computer_vision,\n  credentials=credentials)\n\n# fem la petici\u00f3\nimage_analysis = client.analyze_image(url_image,visual_features=visual_features)\n</code></pre> Info <p>La petici\u00f3 que ens ha perm\u00e9s efectuar l'an\u00e0lisi \u00e9s <code>client.analyze_image(url_image,visual_features=visual_features)</code>. Com podem veure:</p> <ul> <li>li pasem la url de la imatge a estudiar</li> <li>Li indiquem les caracter\u00edstiques que volem obtenir de la mateixa</li> <li>En compte de <code>analyze_image</code> podem cridar a <code>analyze_image_in_stream</code> passant-li la imatge pr\u00f2piament dita en compte de la url de la mateixa.</li> </ul>"},{"location":"U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/03_ComputerVision/#22-processant-les-respostes","title":"2.2. Processant les respostes","text":"<p>El servei ens retornar\u00e0 un objecte del tipus <code>ImageAnalysis</code>, que contindr\u00e0, segons el demanat les seg\u00fcents claus, del tipus indicant: JSON<pre><code>{\n    'adult': AdultInfo,\n    'brands': [DetectedBrand],\n    'categories':[Category],\n    'color': ColorInfo,\n    'description': ImageDescriptionDetails,\n    'faces': [FaceDescription],\n    'imageType': ImageType,\n    'metadata': ImageMetadata,\n    'modelVersion': str,\n    'objects':[DetectedObject],\n    'requestId': str,\n    'tags': [ImageTag]\n  }\n</code></pre></p> <p>Pot consultar-se si tenim o no dits atributs:</p> <ul> <li><code>dir(objecte)</code> \u2192 Retorna una llista amb els nom i m\u00e8todes del objecte.</li> <li><code>hasattr(objecte, element)</code> \u2192  retorna <code>True</code> si l'objecte te dit element.</li> </ul> <p>Fixar-se que alguns atributs estan tancats entre claud\u00e0tors, el que significa que el valor retornat \u00e9s una llista, i tindrem per tant una col\u00b7lecci\u00f3 d'objectes, com per exemple s'han detectat diversos objectes.</p>"},{"location":"U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/03_ComputerVision/#23-dibuixant-caixes-i-arees-dinteres","title":"2.3. Dibuixant caixes i \u00c0rees d'interes","text":"<p>Podem fer servir les llibreries de <code>matplotlib</code> combinades amb la llibreria <code>PIL</code> per a representar les imatges analitzades i afegir els mecanismes de detecci\u00f3.</p> <p>Una de les coses m\u00e9s habituals ser\u00e0 tancar en una caixa (rectangle) els objectes i cares detectades. \u00c9s per aix\u00f2 que tant els objectes <code>FaceDescription</code> com <code>DetectedObject</code> inclouen un atribut <code>rectangle</code>, amb les coordenades del vertex superior esquerre i l'alt i ample.</p> Dibuix de caixes sobre objectes <p>Pr\u00e8viament:</p> <ul> <li>s'ha carregat en la variable <code>img</code> la imatge a processar.</li> <li>El servei ens ha retornat l'estudi en la variable <code>analysis</code></li> </ul> Python<pre><code>import matplotlib.pyplot as plt\nfrom PIL import Image, ImageDraw\n\nfig = plt.figure(figsize=(16, 8))\n\nif analysis.objects:\nfor object in analysis.objects:\n    r = object.rectangle\n    bounding_box = ((r.x, r.y), (r.x + r.w, r.y + r.h))  # sup-esq a inf-dret\n    draw = ImageDraw.Draw(img)                           # dibuixem imatge sencera\n    draw.rectangle(bounding_box, outline='magenta', width=5)  # dibuixem caixa\n    plt.annotate(object.object_property,(r.x, r.y), backgroundcolor='magenta')   # etiqueta de la caixa\n\nplt.axis('off')\nplt.imshow(img)\n</code></pre>"},{"location":"U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/03_ComputerVision/#24-exercici","title":"2.4 Exercici.","text":"<p>A partit d'una imatge que tinga 3 o 4 objectes ben diferenciats has de :</p> <ul> <li>P\u00e1ssala a Azure per a analitzar-la.</li> <li>A partir dels objectes que et retorna:</li> <li>Retalla cadascun dels objectes</li> <li>Guarda una imatge amb cada retall aconseguit</li> </ul>"},{"location":"U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/03_ComputerVision/#3-miniatures","title":"3. Miniatures","text":"<p>El servei de miniatures (thumbnail) no sols ens permet fer una versi\u00f3 redu\u00efda de la imatge que facilitem, sin\u00f2 el fer una miniatura del que es coneix com un retall intel\u00b7ligent o smart_croping.</p> <p>El m\u00e8tode que ens permet fer-ho \u00e9s <code>generate_thumbnail</code> o <code>generate_thumbnail_in_stream</code>:</p> <p>!!!   example \"Sint\u00e0xi del m\u00e8tode\"     Python<pre><code>def generate_thumbnail_in_stream(\n  self,\n  width: int,\n  height: int,\n  image: Any,\n  smart_cropping: bool = False,\n  ...\n</code></pre></p> Text Only<pre><code>Indicarem la dimensi\u00f3 que volem de la miniatura, passant la imatge (url o els bytes de la mateixa) i si volem fer un retall intel\u00b7ligent.\n</code></pre> <p>Aquesta operaci\u00f3 genera una imatge en miniatura amb l'amplada i l'al\u00e7ada especificades per l'usuari. Per defecte, el servei analitza la imatge, identifica la regi\u00f3 d'inter\u00e8s (ROI) i genera coordenades de retall intel\u00b7ligent basades en el ROI. El retall intel\u00b7ligent ajuda quan especifiqueu una relaci\u00f3 d'aspecte diferent de la de la imatge d'entrada. Una resposta correcta cont\u00e9 el binari de la imatge en miniatura. Si la sol\u00b7licitud ha fallat, la resposta cont\u00e9 un codi d'error i un missatge per ajudar a determinar qu\u00e8 ha fallat.</p>"},{"location":"U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/03_ComputerVision/#4-ocr-des-dimatges","title":"4. OCR des d'imatges","text":"<p>En aquesta secci\u00f3 anem a extreure text de les nostres imatges, el que \u00e9s coneix com a OCR Optical Character Recognition. El text pot ser impres o manuscrit, aix\u00ed com les imatges poden estar online o passar-li nosaltres les pr\u00f2pies imatges.</p> <p>Abans de fer l'exemple anem a veure com fer una c\u00e0rrega adequada de les credencial, per a que no estiguen hard-coded dins del nostre programa. Les claus les guaradarem en un arxius de claus, en un simple format json:</p> JSON<pre><code>{\n  \"key_computer_vision\":\"la_teua_clau\",\n  \"endpoint_computer_vision\":\"https://el_teu_usuari_compvision.cognitiveservices.azure.com/\",\n  \"region_computer_vision\":\"la_teua_zona\"\n}\n</code></pre> <p>Aquest fitxer el carregarem a un document json nom\u00e9s iniciar el programa:</p> Python<pre><code>import json\n\nclaus={}\nwith open('claus.json') as json_file:\n    claus = json.load(json_file)\n</code></pre> <p>Anem a veure com quedaria ara la carrega de les credencials i la creaci\u00f3 del client respecta als anteriors exemples</p> Carregant el client Python<pre><code># Afegim les claus i punt de connexi\u00f3\nkey_computer_vision=claus['key_computer_vision']\nendpoint_computer_vision= claus['endpoint_computer_vision']\nregion_computer_vision=claus['region_computer_vision']\n\n# Creem les credencials\ncredentials = CognitiveServicesCredentials(key_computer_vision)\n\n# Carregem el client\nclient = ComputerVisionClient(\n    endpoint=endpoint_computer_vision,\n    credentials=credentials)\n</code></pre> <p>A continuaci\u00f3 necessitem carregar la imatge que tenim en un fitxer en un stream de bytes. Aquest stream \u00e9s el que enviarem mitjan\u00e7ant el nostre client al servidor de Azure:</p> Enviem les dades i recuperem la operaci\u00f3 Python<pre><code>import BytesIO\n# obrim la imatge i transformem a stream de bytes\nwith open(img_file, \"rb\") as image_file:\n    image_stream = BytesIO(image_file.read())\n\n# fem la petici\u00f3 a Azure\nread_response = client.read_in_stream(image=image_stream, language=\"es\",raw=True)\nread_operation_location = read_response.headers[\"Operation-Location\"]\noperation_id = read_operation_location.split(\"/\")[-1]\n</code></pre> <p>Azute no ens torna directament l'an\u00e0lisi de la imatge, sin\u00f2 una nova url amb l'identificador de la operaci\u00f3 (Operation-Location). Aquesta url te un aspecte com aquest:</p> <p>https://la_teua_urscompvision.cognitiveservices.azure.com/vision/v3.2/read/analyzeResults/43ba3fb1-8670-4151-bc1d-28986c068e79</p> <p>El que ens interessa agafar \u00e9s el codi a partir de la \u00faltima barra, per a demanar-li l'an\u00e0lisi de la imatge. Anem a veure el codi, explicat entre els comentaris </p> Arreplegant els resultats Python<pre><code># Agafem els resultats de l'an\u00e0lisi\nread_result = client.get_read_result(operation_id)\n\n# Aquest objecte te tants elements com blocs de text s'hagen trobat\n# Processem els resultats de l'an\u00e0lisi\nfor text_result in read_result.analyze_result.read_results:\n        # per a cada linia del text trobat\n        for line in text_result.lines:\n            # mostrem la linia\n            print(line.text)\n\n            # mostrem el bounding box\n            print(line.bounding_box)\n</code></pre> <p>Una possible eixida seria com la que es veu. De l'objecte <code>read_result.analyze_result.read_results</code> ens trobem una col\u00b7lecci\u00f3 d'objectes <code>line</code>, que tenen els seg\u00fcents atributs:</p> <ul> <li><code>text</code> \u2192 mostra el text reconegut</li> <li><code>bounding_box</code> Mostra les coordenades d'un pol\u00edgon (habitualment un rectangle) que tanca el text detectat. No ha de ser un rectangle, ja que el text pot no estar en horizontal.</li> </ul> Bash<pre><code>You must be the change you\n(254, 268, 671, 261, 672, 306, 255, 319)\nWish to see in the world !\n(326, 343, 692, 332, 694, 368, 327, 382)\n</code></pre> <p>Aix\u00ed, a partir d'aquesta imatge:</p> <p></p> <p>obtindrem alguna cosa com:</p> <p></p>"},{"location":"U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/03_ComputerVision/#5-customvision","title":"5. CustomVision","text":"<p>Custom Vision d'Azure \u00e9s un servei de Microsoft que et permet construir, entrenar i implementar models de visi\u00f3 per computador personalitzats de manera senzilla i eficient. B\u00e0sicament, es tracta de proporcionar eines perqu\u00e8 puguis ensenyar al teu sistema a recon\u00e8ixer patrons visuals espec\u00edfics que siguin rellevants per al teu projecte o aplicaci\u00f3.</p> <p>L'aspecte personalitzat de Custom Vision significa que pots entrenar el model amb les teves pr\u00f2pies dades i requeriments, ajustant-lo al context espec\u00edfic del teu projecte. Aix\u00f2 fa que sigui una eina vers\u00e0til i aplicable a una \u00e0mplia gamma d'ind\u00fastries i casos d'\u00fas, des de la vigil\u00e0ncia fins a la classificaci\u00f3 d'imatges en comer\u00e7 electr\u00f2nic.</p> <p>Per utilitzar aquest servei haurem de fer dos passos:</p> <ol> <li>Entrenament del model</li> <li>\u00das del model per fer una predicci\u00f3.</li> </ol>"},{"location":"U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/03_ComputerVision/#51-entrenament-del-model","title":"5.1 Entrenament del model","text":"<p>Durant l\u00b4entrenament del model proporcionarem a Custom Vision imatges d\u00b4exemple amb l\u00b4etiqueta que aquestes imatges tenen associada. Com m\u00e9s exemples proporcionem dels diferents tipus d'imatges que volem recon\u00e8ixer, m\u00e9s precisi\u00f3 tindr\u00e0 el nostre model. Un cop subministrades les imatges, el model ha de ser entrenat perqu\u00e8 aprengui de les imatges aportades.</p> <p>A Custom Vision els models s'organitzen en projectes. Cada projecte s'utilitzar\u00e0 per a un domini espec\u00edfic, per\u00f2 es pot entrenar amb nous exemples i etiquetes les vegades que vulguem.   </p> <p>L'entrenament del model es pot fer des del portal https://customvision.ai o utilitzant l'API d'entrenament.</p> Molta cura <ul> <li>En Custom Vision els models s'organitzen en projectes, i en la capa gratu\u00efta sols ens permet tenir 2 projectes.</li> <li>Cada projecte pot ser entrenat amb nous exemples i etiquetes les vegades que vulguem.</li> </ul> <p>Despr\u00e9s d'entrenar el model, ens poden arribar noves fotos i podem voler incorporar aquestes imatges noves a una nova iteraci\u00f3 per millorar la predicci\u00f3. Cada cop que s'entreni el model se'n generar\u00e0 una nova versi\u00f3 (iteraci\u00f3), i a l'hora de predir es podr\u00e0 triar la iteraci\u00f3 a utilitzar.</p>"},{"location":"U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/03_ComputerVision/#52-prediccio","title":"5.2 Predicci\u00f3","text":"<p>Un cop preparat i entrenat el nostre model, podrem fer-lo servir per fer una predicci\u00f3 a partir d'una imatge nova. Per aix\u00f2 utilitzarem l'API de predicci\u00f3 (Custom Vision - Prediction).</p>"},{"location":"U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/03_ComputerVision/#53-practica-detectem-un-conjunt-de-flors","title":"5.3 Pr\u00e0ctica - Detectem un conjunt de flors","text":"<p>El primer que hem de fer \u00e9s crear el recurs de Custom Vision de la mateixa manera que creem els recursos. Sols recorda de marcar  la tarifa d\u00a1aprenentatge i previsi\u00f3 <code>Free F0</code> que ens permet 2 peticions per segon en 2 projectes.</p> <p></p> <p>Un cop creat el recurs de Custom Vision, podr\u00e0s comprovar que en realitat se n'han creat dos, amb el mateix prefixe: un \u00e9s el model d'entrenament i l'altre el model de predicci\u00f3.</p> <p></p> <p>Tenir en compte que aix\u00ed com abans sols teniem una clau i un endpoint ara en tindrem per duplicat:</p> <ul> <li><code>VISION_TRAINING_KEY</code>, la clau del recurs d'entrenament.</li> <li><code>VISION_TRAINING_ENDPOINT</code>, la url d'entrenament.</li> <li><code>VISION_PREDICTION_KEY</code>, la clau del recurs de predicci\u00f3.</li> <li><code>VISION_PREDICTION_ENDPOINT</code>, la url del recurs de predicci\u00f3</li> <li><code>VISION_PREDICTION_RESOURCE_ID</code>, el id del recurs de predicci\u00f3.</li> </ul> Protegim les nostres claus <p>Per a aquesta pr\u00e0ctica no posarem els valors de les claus hardcoded al nostre codi, sin\u00f2 mitjan\u00e7ant variables d'entorn</p> Bash<pre><code># en windows\nsetx VISION_TRAINING_KEY your-training-key\n\n# en linux/mac (atenci\u00f3 al =)\nexport VISION_TRAINING_KEY=your-training-key\n</code></pre> <p>despr\u00e8s carregarem els valors de les variables d'entorn al nostre programa:</p> Python<pre><code>import os\n\ntraining_key = os.environ[\"VISION_TRAINING_KEY\"]\n</code></pre>"},{"location":"U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/03_ComputerVision/#531-entrenament-de-les-dades","title":"5.3.1. Entrenament de les dades","text":"<p>L'entrenament el podem efectuar desde el nostre codi, fent servir les llibreries del SDK de Python. La classe involucrada en l'entrenament de les imatges \u00e9s <code>CustomVisionTrainingClient</code>, i pots trobar informaci\u00f3 en aquest enlla\u00e7 sobre dita classe.</p> <p>Nosaltres per a l'entrenament farem servir la plataforma web https://www.customvision.ai/</p> <p></p> <p>Pots trobar informaci\u00f3 de com entrenar un model etiquetant i carregant a Azure mitjan\u00e7ant codi ac\u00ed. Aix\u00f2 ho demanarem en una pr\u00e0ctica posterior.</p> <p>Despr\u00e8s haurem de crear el projecte</p> <p></p> <ul> <li>Seleccionem com a recurs el que no acaba en prediction (per a entrenament).</li> <li>Tamb\u00e9 ens pregunta el tipus de projecte i tenim 2 opcions:</li> <li>Classificaci\u00f3: A partir d'una imatge intentem que ens digui de quin tipus \u00e9s. </li> <li>Detecci\u00f3 d'objectes: A partir d'una imatge podem detectar objectes diferenciant nom\u00e9s els que m'interessin a mi.</li> </ul> <p></p>"},{"location":"U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/03_ComputerVision/#532-afegint-imatges-per-entrenar-el-model","title":"5.3.2 Afegint imatges per entrenar el model","text":"<p>Ara haurem d'afegir imatges per a entrenar el model. Resulta interessant fer el que us hauran comentat en altres moduls i tamb\u00e9 en aquest, de dividir les dades que tenim en un 80%-20% per a entrenament i per a test.</p> <p>Haurem de pujar els datasets per a cada etiqueta que volem crear</p> <p></p> <p></p> <p>Finalment tenim un boto que ens diur <code>Train</code>, que ens permet executar l'entrenament. Li direm de fer-lo r\u00e0pid (al voltant d'un hora), cas d'imatges m\u00e9s simples o avan\u00e7at, que trigar\u00e0 m\u00e9s temps (fins i tot dies). </p> <p>L'entrenament pot trigar una estona (segurament te per baix una xarxa neuronal convolucional) i en acabar moatrar\u00e0 un resum 3 mesures que normalment s'utilitzen per a l'aprenentatge autom\u00e0tic: Precision, Recall i AP. Ens diu la iteraci\u00f3 perqu\u00e8 si canvi\u00e9ssim alguna cosa (noves imatges, etiquetes,...) i torn\u00e9ssim a entrenar apareixeria una nova iteraci\u00f3.</p> <p></p> <p>Li indicarem tamb\u00e9 l'umbral que volem per a considerar com a v\u00e0lid</p> <p></p> <p>Finalment li donarem a publicar dins del nostre recurs de predicci\u00f3, i podrem veure les cap\u00e7aleres i claus per a fer-lo servir:</p> <p></p> <p>|</p>"},{"location":"U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/03_ComputerVision/#533-accedint-al-servei","title":"5.3.3 Accedint al servei","text":"<p>Ens resta el accedir al servei per a fer prediccions d'imatges, evident-ment amb les no utilitzades</p>"},{"location":"U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/04_Practiques/","title":"1 Qu\u00e8 estem escoltant?","text":"<p>Fer un programa amb una GUI dissenyada amb flet, en la qual es demana textos escrits. Amb un bot\u00f3 demanarem a Azure que ens diga en quin idioma est\u00e0 dit text. Posteriorment farem una crida per a que ens el transforme a \u00e0udio, guardant-lo en wav o mp3. El programa reproduir\u00e0 dit \u00e0udio.</p>"},{"location":"U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/04_Practiques/#2-com-de-saludables-son-elements","title":"2 Com de saludables son elements?","text":"<p>Volem a partir de la fotografia dels valors energ\u00e8tics d'un producte</p> <p></p> <p>Passar un OCR que ens busque les quantitats per calcular el fam\u00f2s nutriscore amb la f\u00f3rmula que segueix:</p> <p>:</p> <p></p>"},{"location":"U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/04_Practiques/#3-prediccio-dimatges-lliure","title":"3 Predicci\u00f3 d'imatges (Lliure)","text":"<p>Crea una aplicaci\u00f3 servidora que escoltara peticions des d'un client. El client ens enviar\u00e0 una imatge, que ser\u00e0 recollida des del nostre servidor.</p> <p>El servidor haur\u00e0 de classificar-la amb un servei creat pr\u00e8viamnet amb Azure de manera similar a l'apartat 5.3</p> <p>La informaci\u00f3 en l'element detectat ser\u00e0 retornada a l'aplicaci\u00f3 client.</p>"},{"location":"U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/04_Practiques/#4-traduccio-automatica-de-manuscrits","title":"4 Traducci\u00f3 autom\u00e0tica de manuscrits","text":"<p>Crea una aplicaci\u00f3 amb Flet que utilitze la c\u00e0mera web per capturar imatges de text manuscrit. Aquestes imatges s\u2019enviaran a AWS Textract per a la seva an\u00e0lisi i reconeixement de text. El text que ens reconega, s'enviar\u00e0 de nou a AWS Translate per a la seua traducci\u00f3a l\u2019idioma seleccionat per l\u2019usuari a trav\u00e9s de la interf\u00edcie.</p> <ul> <li>Interf\u00edcie d\u2019Usuari (UI):</li> <li>Activar la c\u00e0mera web.</li> <li>Prendre una fotografia del text manuscrit.</li> <li>Seleccionar l\u2019idioma de dest\u00ed per a la traducci\u00f3.</li> <li> <p>Visualitzar el text tradu\u00eft.</p> </li> <li> <p>Integraci\u00f3 amb AWS Textract:</p> </li> <li>Configurar una connexi\u00f3 amb AWS Textract.</li> <li>Enviar la imatge capturada a AWS Textract per a l\u2019an\u00e0lisi de text.</li> <li> <p>Recuperar el text reconegut des de AWS Textract.</p> </li> <li> <p>Traducci\u00f3:</p> </li> <li>Configurar una conexi\u00f3 amb AWS Translate.</li> <li> <p>Traduir el text reconegut a l'idioma seleccionat per l\u2019usuari.</p> </li> <li> <p>Prova i Validaci\u00f3:</p> </li> <li>Realitzar proves per assegurar-se que l\u2019aplicaci\u00f3 funciona correctament, validant la precisi\u00f3 del text reconegut i la traducci\u00f3.</li> </ul>"},{"location":"U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/04_Practiques/#entrega","title":"Entrega:","text":"<ul> <li>Codi font de l\u2019aplicaci\u00f3 Flet.</li> <li>Captures de proves i validaci\u00f3.</li> </ul>"},{"location":"U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/Continguts/","title":"Continguts","text":"<p>S'estudiar\u00e0 en aquesta unitat:</p> <ul> <li>Azure Cognitive Services</li> <li></li> <li>AWS</li> <li>IBM Watson</li> <li> <p>...</p> </li> <li> <p>Projecte</p> </li> </ul>"},{"location":"U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/Gestionant_Credencials/","title":"Gesti\u00f3 de credencials","text":"<p>Des dels nostres programes haurem d'accedir a serveis externs, al qual devem d'estar registrats i per tant tindre unes credencials, per\u00f2, com posem eixes credencials als nostres programes. </p> <p>El que no hem de posar mai son coses com:</p> Python<pre><code>usuari=\"middle\"\npassword=\"T0mm@\"\ntoken=\"rj8539cdea89_Ff\"\n</code></pre> <p>Posar les credencials directament al codi com en l'exemple que has proporcionat pot ser problem\u00e0tic per diverses raons:</p> <ol> <li> <p>Manca de Seguretat: fa que sigui f\u00e0cil per a alg\u00fa que tingui acc\u00e9s al codi veure i utilitzar aquestes credencials. </p> </li> <li> <p>Dificultat per a la Gesti\u00f3 de Credencials: \u00c9s dif\u00edcil de canviar o actualitzar-les quan sigui necessari. Si les credencials canviessin (per exemple, per raons de seguretat), hauries de modificar manualment el codi, el que pot ser propens a errors i cost\u00f3s en termes de temps (hard-coded). </p> </li> <li> <p>Problemes de Manteniment: Les credencials poden estar disperses per tot el codi i \u00e9s dif\u00edcil de seguir-les.</p> </li> <li> <p>Risc d'Exposici\u00f3 Accidental: Si el teu codi s'ha de compartir o publicar, hi ha un risc d'exposar les credencials accidentalment. Aix\u00f2 pot oc\u00f3rrer, per exemple, si compartissis el codi en un repositori p\u00fablic de GitHub sense adonar-te que les credencials estan incloses al codi.</p> </li> </ol> <p>Per evitar aquests problemes, \u00e9s millor utilitzar variables d'entorn o altres m\u00e8todes segurs.</p>"},{"location":"U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/Gestionant_Credencials/#utilitza-variables-dentorn","title":"Utilitza Variables d'Entorn:","text":"<p>La millor manera de manejar dades sensibles com ara contrasenyes en el teu codi de Python \u00e9s utilitzant variables d'entorn. Aix\u00f2 et permet emmagatzemar les dades de manera segura fora del teu codi i fer refer\u00e8ncia a elles des del codi.</p> <p>Aqu\u00ed tens una manera senzilla de fer-ho:</p> <ol> <li>Defineix les variables d'entorn amb les teves credencials:</li> </ol> Bash<pre><code>export NOM_USUARI=\"el_teu_usuari\"\nexport CONTRASENYA=\"la_teva_contrasenya\"\n</code></pre> <ol> <li>Des del teu codi de Python, pots accedir a aquestes variables d'entorn utilitzant la llibreria <code>os</code>:</li> </ol> Python<pre><code>import os\n\nnom_usuari = os.environ.get(\"NOM_USUARI\")\ncontrasenya = os.environ.get(\"CONTRASENYA\")\n\n# Ara pots utilitzar 'nom_usuari' i 'contrasenya' en el teu codi\n</code></pre> <ol> <li>Quan s'executa el codi, les variables d'entorn es carregaran i el teu codi les utilitzar\u00e0 sense haver de fer-ho hard-coded dins del teu script.</li> </ol>"},{"location":"U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/Gestionant_Credencials/#2-utilitza-la-llibreria-python-dotenv","title":"2. Utilitza la Llibreria <code>python-dotenv</code>:","text":"<p>El problema de l'anterior m\u00e8tode \u00e9s que hem de fer les exportacions de les variables d'entorn cada cop, i aix\u00f2 implica en cada execuci\u00f3, sobretot en terminals distintes. Recorda que les variables d'entorn es reinicien quan es tanca la sessi\u00f3, cosa que ocorre al tancar la terminal.</p> <p>Amb aquesta llibreria el que hem de fer \u00e9s:</p> <ul> <li>Crear a un arxiu (sempre amb el mateix nom) <code>.env</code> una col\u00b7lecci\u00f3 de l\u00ednies <code>variable=valor</code></li> <li>La llibreria transfereix dites definicions a la terminal d'execuci\u00f3.</li> <li>Ja podem carregar les variables desde l'entor an programa amb la llibreria <code>os</code> de la mateixa manera que abans</li> </ul> <p>Aix\u00f2 fa que siga molt f\u00e0cil d'utilitzar i integrar.</p> Exemple d'\u00fas d'Arxiu <code>.env</code> Bash<pre><code>NOM_USUARI=el_teu_usuari\nCONTRASENYA=la_teva_contrasenya\n</code></pre> Python<pre><code>import os\nfrom dotenv import load_dotenv\n\n# Carrega les variables d'entorn des del fitxer .env\nload_dotenv()\n\n# Obt\u00e9 les credencials dels variables d'entorn\nnom_usuari = os.getenv(\"NOM_USUARI\")\ncontrasenya = os.getenv(\"CONTRASENYA\")\n\n# Ara pots fer servir 'nom_usuari' i 'contrasenya' al teu codi\nprint(\"Nom d'usuari:\", nom_usuari)\nprint(\"Contrasenya:\", contrasenya)\n</code></pre> Molta atenci\u00f3 <ul> <li>Mant\u00e9n el fitxer <code>.env</code> fora del control de versions per evitar exposar les credencials.</li> <li>No compartisques les credencials amb altres persones i mant\u00e9n-les segures.</li> <li>Actualitza les credencials regularment per mantenir la seguretat.</li> </ul>"},{"location":"U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/exercicis/01_TascaComputerVision/","title":"01 TascaComputerVision","text":""},{"location":"U05%20Programaci%C3%B3%20d%27Apps%20d%27IA/exercicis/01_TascaComputerVision/#decripcio-de-la-imatge","title":"Decripci\u00f3 de la imatge","text":"<p>A l'activitat entregable d'aquesta pr\u00e0ctica utilitzarem el servei Computer Vision per generar una p\u00e0gina HTML relacionada amb la imatge a partir d'una imatge. La p\u00e0gina haur\u00e0 de contenir:</p> <ul> <li>La descripci\u00f3 de la imatge (\u00fanicament la frase que la descriu).</li> <li>La imatge original i dues miniatures de la imatge (una en format vertical i una altra en format horitzontal).</li> <li>Les etiquetes associades a la imatge.</li> <li>El text contingut a la imatge, en cas que n'hi hagu\u00e9s.</li> <li>El color de fons de la p\u00e0gina ser\u00e0 el color d'\u00e8mfasi de la imatge (accentColor)</li> </ul> <p>La p\u00e0gina es pot generar de dues maneres:</p> <ul> <li>Escrivint l'HTML en un fitxer des del codi de la nostra aplicaci\u00f3. </li> <li>Escrivint l'HTML a la consola, i redirigint la sortida de l'execuci\u00f3 a un fitxer (per exemple, <code>programa &gt; sortida.html</code>).</li> </ul>"},{"location":"U06%20Convergencia%20tecnologica/01_OpenCV_Basic/","title":"01 OpenCV Basic","text":""},{"location":"U06%20Convergencia%20tecnologica/01_OpenCV_Basic/#1-introduccio-a-opencv-i-pil-python-imaging-library","title":"1. Introducci\u00f3 a OpenCV i PIL (Python Imaging Library):","text":"<p>OpenCV (Open Source Computer Vision) i PIL (Python Imaging Library) s\u00f3n dues potents llibreries de processament d'imatges en Python que ofereixen funcionalitats complement\u00e0ries per a l'an\u00e0lisi, la manipulaci\u00f3 i la millora d'imatges. Aquestes eines s\u00f3n essencials en diverses aplicacions, des del desenvolupament d'algoritmes de visi\u00f3 per computadora fins a la creaci\u00f3 d'eines de processament d'imatges en projectes d'intel\u00b7lig\u00e8ncia artificial.</p> <p>OpenCV:</p> <p>OpenCV \u00e9s una llibreria de visi\u00f3 per computadora de codi obert, proporciona una \u00e0mplia varietat de funcions per al processament d'imatges i v\u00eddeo. Amb suport per a m\u00faltiples plataformes i llenguatges de programaci\u00f3, OpenCV facilita tasques com la detecci\u00f3 d'objectes, el seguiment de moviments, el reconeixement facial i la calibraci\u00f3 de c\u00e0meres. La seva flexibilitat i efici\u00e8ncia fan que sigui una elecci\u00f3 popular en el desenvolupament d'aplicacions relacionades amb la visi\u00f3 per computadora.</p> <p>PIL:</p> <p>PIL, tamb\u00e9 coneguda com a Pillow, \u00e9s una llibreria que ofereix eines robustes per a la manipulaci\u00f3 d'imatges a Python. Tot i que ha estat substitu\u00efda per Pillow en termes de desenvolupament actiu, PIL encara es menciona pel seu llegat. Pillow mant\u00e9 la compatibilitat amb el codi PIL existent i afegeix noves caracter\u00edstiques. Aquesta llibreria \u00e9s ideal per a operacions b\u00e0siques com obrir, manipular i desar imatges en diversos formats.</p> <p>Combinant OpenCV i PIL:</p> <p>La combinaci\u00f3 d'OpenCV i PIL aprofita el millor de totes dues llibreries. OpenCV ofereix algoritmes avan\u00e7ats i t\u00e8cniques de visi\u00f3 per computadora, mentre que PIL proporciona funcions addicionals per al processament b\u00e0sic i la manipulaci\u00f3 eficient d'imatges. La integraci\u00f3 d'aquestes dues eines permet als desenvolupadors abordar una \u00e0mplia gamma de reptes en el processament d'imatges, des de tasques senzilles fins a projectes m\u00e9s complexos que requereixen funcions especialitzades.</p> <p>En aquest apartat, explorar\u00e0s com aprofitar de manera sin\u00e8rgica OpenCV i PIL per a maximitzar la teva capacitat per treballar amb imatges a Python, obtenint aix\u00ed una base s\u00f2lida per abordar projectes relacionats amb el processament d'imatges i la intel\u00b7lig\u00e8ncia artificial.</p> <p>Primer, aprendr\u00e0s el seg\u00fcent:</p> <ul> <li>Llegir una imatge</li> <li>Comprovar els atributs de la imatge com ara el tipus de dades i la forma</li> <li>Representaci\u00f3 de matriu d'una imatge en <code>Numpy</code></li> <li>Imatges en color i separaci\u00f3/fusi\u00f3 de canals d'imatge</li> <li>Mostrar imatges utilitzant <code>matplotlib</code></li> <li>Desar imatges</li> </ul>"},{"location":"U06%20Convergencia%20tecnologica/01_OpenCV_Basic/#operacions-basiques-amb-imatges","title":"Operacions basiques amb imatges","text":""},{"location":"U06%20Convergencia%20tecnologica/01_OpenCV_Basic/#obrint-la-imatge","title":"Obrint la imatge","text":"<p>OpenCV permet llegir diferents tipus d'imatges (JPG, PNG, etc). Pots carregar imatges en escala de grisos, imatges en color o tamb\u00e9 pots carregar imatges amb canal Alpha. Utilitza la funci\u00f3 <code>cv2.imread()</code> que t\u00e9 la seg\u00fcent sintaxi <code>img = cv2.imread(filename[,flags] )</code>, on:</p> <ul> <li><code>img</code>: \u00c9s la imatge si es carrega amb \u00e8xit. En cas contrari, \u00e9s <code>None</code>. Aix\u00f2 pot succeir si el nom del fitxer \u00e9s incorrecte o si el fitxer est\u00e0 corrupte.</li> <li><code>filename</code>: Pot ser una ruta absoluta o relativa. Aquest \u00e9s un argument obligatori.</li> <li> <p><code>flags</code>: Aquestes banderes s'utilitzen per llegir una imatge en un format particular (per exemple, escala de grisos/color/amb canal alfa). Aquest \u00e9s un argument opcional amb un valor per defecte de <code>cv2.IMREAD_COLOR</code> o <code>1</code>, que carrega la imatge com a imatge en color. Algunes de les <code>flags</code> disponibles:</p> <ol> <li><code>cv2.IMREAD_GRAYSCALE</code>: Carrega la imatge en mode d'escala de grisos.</li> <li><code>cv2.IMREAD_COLOR</code>: Carrega una imatge en color. Qualsevol transpar\u00e8ncia de la imatge ser\u00e0 ignorada. \u00c9s la bandera per defecte.</li> <li><code>cv2.IMREAD_UNCHANGED</code>: Carrega la imatge tal com \u00e9s, incloent el canal alfa.</li> </ol> </li> </ul>"},{"location":"U06%20Convergencia%20tecnologica/01_OpenCV_Basic/#mostrant-atributs","title":"Mostrant atributs","text":"<p>Analitza el seg\u00fcent bloc de codi:</p> <p>Mostrant la imatge</p> Python<pre><code>#  mostrem les dimensions\nprint(\"Image size (H, W) is:\", img.shape)\n\n# mostrem els tipus de dades\nprint(\"Data type of image is:\", img.dtype)\n\n# imprimim la imatge\nprint(img)\n\n# La mostrem... per\u00f2\nplt.imshow(img)\n\n# En escala de grisos\nplt.imshow(img, cmap=\"gray\")\n</code></pre> <p>Les ixides seran algo com:</p> <p> </p> <p>Si la imatge llegida \u00e9s en color, aix\u00f2 ens crear\u00e0 un array de numpy tridimensional, on cada p\u00edxel \u00e9s una combinaci\u00f3 de 3 canals RGB</p> <p>Separant els canal de la imatge</p> Python<pre><code># Split the image into the B,G,R components\nimg_NZ_bgr = cv2.imread(\"New_Zealand_Lake.jpg\", cv2.IMREAD_COLOR)\n\nb, g, r = cv2.split(img_NZ_bgr)\n\n# Show the channels\nfig, axes = plt.subplots(nrows=1, ncols=4, figsize=(20, 6))\naxes = axes.flatten()\n\naxes[0].imshow(r, cmap=\"gray\");axes[0].set_title(\"Canal Red\")\naxes[1].imshow(g, cmap=\"gray\");axes[1].set_title(\"Canal Green\")\naxes[2].imshow(b, cmap=\"gray\");axes[2].set_title(\"Canal Blue\")\n\nimgMerged = cv2.merge((r, g, b))\naxes[3].imshow(imgMerged);axes[3].set_title(\"Merged Output\")\n\n# Ajustar el espaciado entre los subplots\nplt.tight_layout()\n\n# Mostrar la figura\nplt.show()\n</code></pre> <p>Quedant el resultat com segueix:</p> <p></p>"},{"location":"U06%20Convergencia%20tecnologica/01_OpenCV_Basic/#espais-de-colors","title":"Espais de colors","text":"<p>La funci\u00f3 <code>cv2.cvtColor()</code> Converteix una imatge d'un espai de colors a un altre. La funci\u00f3 converteix una imatge d'un espai de colors d'entrada a un altre. En cas d'una transformaci\u00f3 des-de l'espai de colors RGB, l'ordre dels canals s'ha d'especificar expl\u00edcitament (RGB o BGR). </p> <p>Cal tenir en compte que el format de color per defecte a OpenCV sovint es denomina RGB, per\u00f2 en realitat \u00e9s BGR (els bytes estan invertits). Per tant, el primer byte en una imatge de color est\u00e0ndard (de 24 bits) ser\u00e0 un component Blau de 8 bits, el segon byte ser\u00e0 Verd i el tercer byte ser\u00e0 Vermell. El quart, cinqu\u00e8 i sis\u00e8 bytes serien llavors el segon p\u00edxel (Blau, despr\u00e9s Verd, despr\u00e9s Vermell), i aix\u00ed successivament.</p> <p><code>dst = cv2.cvtColor(src,code)</code> on:</p> <ul> <li><code>dst</code>: \u00c9s la imatge de sortida amb la mateixa mida i profunditat que <code>src</code>.</li> <li><code>src</code>: Imatge d'entrada</li> <li><code>code</code>: Codi de conversi\u00f3 de l'espai de colors (vegeu ColorConversionCodes).</li> </ul>"},{"location":"U06%20Convergencia%20tecnologica/01_OpenCV_Basic/#guardant-imatges","title":"Guardant imatges","text":"<p>Guardar la imatge \u00e9s tan senzill com llegir una imatge a OpenCV. Utilitzem la funci\u00f3 <code>cv2.imwrite()</code> amb dos arguments. El primer \u00e9s el nom del fitxer i el segon \u00e9s l'objecte imatge.</p> <p>La funci\u00f3 imwrite guarda la imatge al fitxer especificat. El format de la imatge es tria en funci\u00f3 de l'extensi\u00f3 del nom del fitxer. En general, nom\u00e9s es poden guardar imatges de 8 bits de canal \u00fanic o de 3 canals (amb ordre de canals 'BGR') utilitzant aquesta funci\u00f3 </p> <p>La funci\u00f3 \u00e9s <code>cv2.imwrite( filename, img[, params] )</code>, on:</p> <ul> <li><code>filename</code>: \u00e9s el nom del fitxer amb l'extensi\u00f3</li> <li><code>img</code>: \u00e9s la imatge que tenim carregada en mem\u00f2ria</li> </ul>"},{"location":"U06%20Convergencia%20tecnologica/01_OpenCV_Basic/#manipulacio-basica-imatges","title":"Manipulaci\u00f3 b\u00e0sica imatges","text":""},{"location":"U06%20Convergencia%20tecnologica/01_OpenCV_Basic/#accedint-a-pixels-individuals","title":"Accedint a p\u00edxels individuals","text":"<p>Veurem com accedir a un p\u00edxel de la imatge. Donat que al carregar la imatge, \u00e9s una matriu numpy, has d'utilitzar la notaci\u00f3 de matriu com <code>img[f,c]</code>, on <code>f</code> \u00e9s el n\u00famero de fila i <code>c</code> \u00e9s el n\u00famero de columna. Tamb\u00e9 cal tenir en compte que la matriu comen\u00e7a a l'\u00edndex 0.</p> <p>Per exemple, si vols accedir al primer p\u00edxel, has de especificar img[0,0], per\u00f2:</p> <ul> <li>si la imatge \u00e9s en escala de grisos, tindr\u00e0s un valor enter entre 0 i 255</li> <li>si la imatge \u00e9s en color, tindr\u00e0s un array de 3 valors entre 0 i 255, amb els valors BGR.</li> </ul> <p>Atenci\u00f3: coordenades</p> <p></p> <p>Vigila que cada llibreria pot diferir com avalua les coordenades. En openCV el punt (0,0) \u00e9s el de dalt a l'esquerre i:</p> <ul> <li>Les x van cap a la dreta</li> <li>Les y van cap a baix</li> </ul> <p>Dibuixem diagonals</p> Python<pre><code>img_orig = cv2.imread(\"checkerboard_18x18.png\", cv2.IMREAD_GRAYSCALE)\n\nimg_mod=img_orig.copy()   #sino modifiquem les dos\n\n# dibuixem les dos diagonals\nfor i in range(img_orig.shape[0]):\n  img_mod[i,i]=128                      #diagonal principal\n  img_mod[img_orig.shape[0]-i-1,i]=128  #diagonal inversa\n\nfig, axes = plt.subplots(nrows=1, ncols=2, figsize=(12, 6))\naxes = axes.flatten()\n\naxes[0].imshow(img_orig, cmap=\"gray\");axes[0].set_title(\"Original\")\naxes[1].imshow(img_mod, cmap=\"gray\");axes[1].set_title(\"Modificada\")\n</code></pre> <p></p>"},{"location":"U06%20Convergencia%20tecnologica/01_OpenCV_Basic/#retallant-crop","title":"Retallant (crop)","text":"<p>El fet de retallar una imatge no \u00e9s me seleccionar una porci\u00f3 de la mateixa. Donat que una imatge \u00e9s una matriu Numpy, ho farem amb els rangs de selecci\u00f3 d'imatges, \u00e9s a dir l'operador dos punt.</p> <p>Seleccionem el barco</p> Python<pre><code>img_NZ_bgr = cv2.imread(\"New_Zealand_Boat.jpg\", cv2.IMREAD_COLOR)\nimg_NZ_rgb = img_NZ_bgr[:, :, ::-1]   # a RGB\n\nboat=img_NZ_rgb[200:400,200:600].copy()\n\nfig, axes = plt.subplots(nrows=1, ncols=2, figsize=(12, 6))\naxes = axes.flatten()\n\naxes[0].imshow(img_NZ_rgb);axes[0].set_title(\"Original\")\naxes[1].imshow(boat);axes[1].set_title(\"Modificada\")\n</code></pre> <p></p> Divideix una imatge en 4 porcions, 2 dalt i dos baix Python<pre><code>img_NZ_bgr = cv2.imread(\"New_Zealand_Boat.jpg\", cv2.IMREAD_COLOR)\nimg_NZ_rgb = img_NZ_bgr[:, :, ::-1]\n\n(height,width,col)=img_NZ_rgb.shape\n\nimg_0=img_NZ_rgb[:height//2,:width//2].copy()\nimg_1=img_NZ_rgb[height//2:,:width//2].copy()\nimg_2=img_NZ_rgb[:height//2,width//2:].copy()\nimg_3=img_NZ_rgb[height//2:,width//2:].copy()\n\nfig, axes = plt.subplots(nrows=2, ncols=2, figsize=(12, 12))\naxes = axes.flatten()\n\naxes[0].imshow(img_0);axes[0].set_title(\"Dalt Esquerre\")\naxes[1].imshow(img_2);axes[1].set_title(\"Dalt Dreta\")\naxes[2].imshow(img_1);axes[2].set_title(\"Baix Esquerre\")\naxes[3].imshow(img_3);axes[3].set_title(\"Baix Dreta\")\n\nplt.tight_layout()\n</code></pre> <p></p>"},{"location":"U06%20Convergencia%20tecnologica/01_OpenCV_Basic/#canviant-les-dimensions","title":"Canviant les dimensions","text":"<p>La funci\u00f3 <code>resize</code> redimensiona la imatge <code>src</code> cap avall o cap amunt fins a la mida especificada. La mida i el tipus es deriven de <code>src</code>, <code>dsize</code>, <code>fx</code> i <code>fy</code>.</p> <p>La sintaxi \u00e9s <code>dst = resize( src, dsize[, dst[, fx[, fy[, interpolation]]]] )</code>, on:</p> <ul> <li><code>dst</code>: imatge de sortida; t\u00e9 la mida <code>dsize</code> (quan \u00e9s diferent de zero) o la mida calculada a partir de <code>src.size()</code>, <code>fx</code> i <code>fy</code>.</li> <li><code>src</code>: imatge d'entrada</li> <li><code>dsize</code>: mida de la imatge de sortida</li> <li> <p>Opcionalment:</p> </li> <li> <p><code>fx</code>: factor d'escala a l'eix horitzontal; quan \u00e9s igual a 0, es calcula com <code>(\ud835\ude8d\ud835\ude98\ud835\ude9e\ud835\ude8b\ud835\ude95\ud835\ude8e)\ud835\ude9c\ud835\ude92\ud835\udea3\ud835\ude8e.\ud835\udea0\ud835\ude92\ud835\ude8d\ud835\ude9d\ud835\ude91/\ud835\ude9c\ud835\ude9b\ud835\ude8c.\ud835\ude8c\ud835\ude98\ud835\ude95\ud835\ude9c</code></p> </li> <li><code>fy</code>: factor d'escala a l'eix vertical; quan \u00e9s igual a 0, es calcula com <code>(\ud835\ude8d\ud835\ude98\ud835\ude9e\ud835\ude8b\ud835\ude95\ud835\ude8e)\ud835\ude8d\ud835\ude9c\ud835\ude92\ud835\udea3\ud835\ude8e.\ud835\ude91\ud835\ude8e\ud835\ude92\ud835\ude90\ud835\ude91\ud835\ude9d/\ud835\ude9c\ud835\ude9b\ud835\ude8c.\ud835\ude9b\ud835\ude98\ud835\udea0\ud835\ude9c</code></li> </ul> <p>Reescalem una imatge</p> Python<pre><code>img_NZ_bgr = cv2.imread(\"New_Zealand_Boat.jpg\", cv2.IMREAD_COLOR)\nimg_NZ_rgb = img_NZ_bgr[:, :, ::-1]\n\nboat=img_NZ_rgb[200:400,200:600].copy()\nboat_2x_2x=cv2.resize(boat,None,fx=2,fy=2)\nboat_2x_1x=cv2.resize(boat,None,fx=2,fy=1)\nboat_1x_2x=cv2.resize(boat,None,fx=1,fy=2)\n\nfig, axes = plt.subplots(nrows=1, ncols=4, figsize=(20, 6))\naxes = axes.flatten()\n\naxes[0].imshow(boat);axes[0].set_title(\"Original \"+str(boat.shape))\naxes[1].imshow(boat_2x_1x);axes[1].set_title(\"Doble llarg \"+str(boat_2x_1x.shape))\naxes[2].imshow(boat_1x_2x);axes[2].set_title(\"Doble alt \"+str(boat_1x_2x.shape))\naxes[3].imshow(boat_2x_2x);axes[3].set_title(\"Doble doble \"+str(boat_2x_2x.shape))\n\nplt.tight_layout()\n</code></pre> <p></p>"},{"location":"U06%20Convergencia%20tecnologica/01_OpenCV_Basic/#rotacions","title":"Rotacions","text":"<p>La funci\u00f3 <code>flip</code> inverteix l'array de tres maneres diferents (els \u00edndexs de files i columnes comencen per 0). La sintaxi \u00e9s <code>dst = cv.flip(src, flipCode)</code>:</p> <ul> <li> <p><code>dst</code>: array de sortida amb la mateixa mida i tipus que src. Els arguments s\u00f3n:</p> <ul> <li><code>src</code>: imatge d'entrada</li> <li><code>flipCode</code>: un indicador per especificar com voltejar l'array:</li> <li>Un valor de 0 significa voltejar al voltant de l'eix <code>x</code></li> <li>Un valor positiu (per exemple, 1) significa voltejar al voltant de l'eix <code>y</code>.</li> <li>Un valor negatiu (per exemple, -1) significa voltejar al voltant dels dos eixos.</li> </ul> </li> </ul> <p>Basicament hem d'entendre el flip o rotaci\u00f3 com l'invertir la imatge com un espill. \u00c9s l'efecte que ha de solventar-se quan fem una foto selfie.</p> <p>Diverses rotacions</p> Python<pre><code>cola=cv2.imread(\"coca-cola-logo.png\", cv2.IMREAD_COLOR)\ncola=cv2.cvtColor(cola,cv2.COLOR_BGR2RGB)\n\ncola_flip_H=cv2.flip(cola,1)\ncola_flip_V=cv2.flip(cola,0)\ncola_flip_HV=cv2.flip(cola,-1)\n\nfig, axes = plt.subplots(nrows=1, ncols=4, figsize=(20, 6))\naxes = axes.flatten()\n\naxes[0].imshow(cola);axes[0].set_title(\"Original \")\naxes[1].imshow(cola_flip_H);axes[1].set_title(\"Flop Horizontal\")\naxes[2].imshow(cola_flip_V);axes[2].set_title(\"Flip Vertical\")\naxes[3].imshow(cola_flip_HV);axes[3].set_title(\"Flip Horizontal i Vertical\")  \n\nplt.tight_layout()\n</code></pre> <p></p>"},{"location":"U06%20Convergencia%20tecnologica/01_OpenCV_Basic/#anotant-imatges","title":"Anotant imatges","text":"<p>Una de les operacions que mes farem \u00e9s el ressaltar parts de les imatges. Afegir algun text, enquadrar una cara, encerclar un objecte son tasques habituals a fer.</p>"},{"location":"U06%20Convergencia%20tecnologica/01_OpenCV_Basic/#linies","title":"L\u00ednies","text":"<p>Comencem dibuixant una l\u00ednia en una imatge. Utilitzarem la funci\u00f3 <code>cv2.line</code> per a aix\u00f2, la sintaxi de la qual \u00e9s <code>img_out = cv2.line(img_in, pt1, pt2, color[, thickness[, lineType[, shift]]])</code>, on:</p> <ul> <li> <p><code>img_out</code>: La imatge de sortida que contindr\u00e0 l'anotaci\u00f3, i com a par\u00e0metres:</p> </li> <li> <p><code>img_in</code>: Imatge en la qual dibuixarem una l\u00ednia.</p> </li> <li><code>pt1</code>: Primer punt, ubicaci\u00f3 (x, y) del segment de l\u00ednia.</li> <li><code>pt2</code>: Segon punt del segment de l\u00ednia.</li> <li><code>color</code>: Color de la l\u00ednia que es dibuixar\u00e0.</li> <li><code>thickness</code>: Enter que especifica l'amplada de la l\u00ednia. El valor per defecte \u00e9s 1.</li> <li><code>lineType</code>: Tipus de l\u00ednia. El valor per defecte \u00e9s 8, que representa una l\u00ednia de 8 connexions. Normalment, s'utilitza cv2.LINE_AA (l\u00ednia antialiasing o suau) per al lineType.</li> </ul> <p>M\u00e9s informaci\u00f3 a la web oficial.</p>"},{"location":"U06%20Convergencia%20tecnologica/01_OpenCV_Basic/#cercles","title":"Cercles","text":"<p>Utilitzarem la funci\u00f3 <code>cv2.circle</code> per a aix\u00f2. La sintaxi \u00e9s <code>img_out = cv2.circle(img_in, center, radius, color[, thickness[, lineType[, shift]]])</code>, on:</p> <ul> <li> <p><code>img_out</code>: La imatge de sortida que ha estat anotada, i els arguments s\u00f3n:</p> </li> <li> <p><code>img_in</code>: Imatge en la qual dibuixarem un cercle.</p> </li> <li><code>center</code>: Centre del cercle <code>(x, y)</code> .</li> <li><code>radius</code>: Radi del cercle.</li> <li><code>color</code>:  Color del cercle que es dibuixar\u00e0.</li> <li><code>thickness</code>: Gruix del contorn del cercle (si \u00e9s positiu). Si s'indica un valor negatiu per a aquest argument, es dibuixar\u00e0 un cercle ple.</li> <li><code>lineType</code>:  Tipus de l\u00ednia del contorn del cercle. </li> </ul>"},{"location":"U06%20Convergencia%20tecnologica/01_OpenCV_Basic/#rectangles","title":"Rectangles","text":"<p>Utilitzarem la funci\u00f3 <code>cv2.rectangle</code> per dibuixar un rectangle en una imatge. La sintaxi de la funci\u00f3 \u00e9s la seg\u00fcent <code>img_out = cv2.rectangle(img_in, pt1, pt2, color[, thickness[, lineType[, shift]]])</code> on:</p> <ul> <li> <p><code>img_out</code>: La imatge de sortida que ha estat anotada.</p> </li> <li> <p><code>img_in</code>: Imatge en la qual es dibuixar\u00e0 el rectangle.</p> </li> <li> <p><code>pt1</code>: V\u00e8rtex del rectangle. Normalment, utilitzem el v\u00e8rtex superior esquerra aqu\u00ed.</p> </li> <li><code>pt2</code>: V\u00e8rtex del rectangle oposat a <code>pt1</code>. Normalment, utilitzem el v\u00e8rtex inferior dret aqu\u00ed.</li> <li><code>color</code>: Color del rectangle.</li> <li><code>thickness</code>: Gruix del contorn del rectangle (si \u00e9s positiu). Si s'indica un valor negatiu per a aquest argument, es dibuixar\u00e0 un rectangle ple.</li> <li><code>lineType</code>: Tipus de l\u00ednia del contorn del rectangle. \u00c9s el mateix argument lineType que s'utilitza en cv2.line.</li> </ul>"},{"location":"U06%20Convergencia%20tecnologica/01_OpenCV_Basic/#texts","title":"Texts","text":"<p>Finalment, veurem com podem escriure text en una imatge utilitzant la funci\u00f3 cv2.putText. La sintaxi \u00e9s <code>img_out = cv2.putText(img_in, text, org, fontFace, fontScale, color[, thickness[, lineType[, bottomLeftOrigin]]])</code>, on:</p> <ul> <li><code>img_out</code>: La imatge de sortida que ha estat anotada.</li> <li><code>img_in</code>: Imatge en la qual s'ha d'escriure el text.</li> <li><code>text</code>: Cadena de text a escriure.</li> <li><code>org</code>: Cant\u00f3 inferior esquerra de la cadena de text a la imatge, com una tupla <code>(x,y)</code></li> <li><code>fontFace</code>: Tipus de font. Consultar la documentaci\u00f3 per veure els tipus v\u00e0lids (<code>cv2.FONT_</code>)</li> <li><code>fontScale</code>: Factor d'escala de la font que es multiplica per la mida base espec\u00edfica de la font.</li> <li><code>color</code>: Color de la font.</li> </ul> <p>Exercici Pintem sobre la imatge</p> <p>Sobre la imatge a continuaci\u00f3 (el enlariament de l'Apol\u00b7lo XI):</p> <p></p> <p>Apl\u00edcla-li:</p> <ul> <li>Un t\u00edtol a la part de baix, amb el text que consideres</li> <li>Un requadre que tanque el cohet</li> <li>Una cercle que tanque un objecte extrany a la dreta del cohet</li> <li>Una l\u00ednia horizontal de banda a banda de la imatgeque coincidisca amb la punta del cohet.</li> </ul> <p>Deur\u00e0 quedar alguna cosa similar a:</p> <p></p> Sol\u00b7luci\u00f3 Python<pre><code>image = cv2.imread(\"Apollo_11_Launch.jpg\", cv2.IMREAD_COLOR)\n\n(h,w,d) = image.shape   # Dimensions de la imatge\n\nimage_out = image.copy()\ntext = \"Apollo 11 Saturn V Launch, July 16, 1969\"\nfontScale = 2.3\nfontFace = cv2.FONT_HERSHEY_PLAIN\nfontColor = (0, 255, 0)\nfontThickness = 2\n\nimage_out=cv2.putText(image_out, text, (200, 700), fontFace, fontScale, fontColor, fontThickness, cv2.LINE_AA);\n\nimage_out=cv2.rectangle(image_out, (500, 100), (700, 600), (255, 0, 0), thickness=3, lineType=cv2.LINE_8)\n\nimage_out=cv2.circle(image_out, (925, 575), 50, (0, 0, 255), thickness=3, lineType=cv2.LINE_AA)\n\nimage_out=cv2.line(image_out, (0, 50), (w, 50), (255, 255, 0), thickness=2, lineType=cv2.LINE_AA)\nplt.imshow(image_out)\n</code></pre>"},{"location":"U06%20Convergencia%20tecnologica/01_OpenCV_Basic/#aplicant-filtres","title":"Aplicant filtres","text":"<p>Els filtres a les imatges poden resultar interessant per diversos motius, ja no sols el retoc fotogr\u00e0fic, sin\u00f2 per exemple l'augmentaci\u00f3 de datasets i la recerca de punts singulars a les imatges.</p>"},{"location":"U06%20Convergencia%20tecnologica/01_OpenCV_Basic/#suma-per-modifcar-la-brillantor-brigthness","title":"Suma per modifcar la brillantor (brigthness)","text":"<p>La primera operaci\u00f3 que discutim \u00e9s la simple suma d'imatges. Aix\u00f2 resulta en augmentar o disminuir la brillantor de la imatge ja que finalment estem augmentant o disminuint els valors d'intensitat de cada p\u00edxel en la mateixa quantitat. Aix\u00f2 donar\u00e0 com a resultat un augment/disminuci\u00f3 global de la brillantor.</p> <p>Recorda que com una imatge \u00e9s un numpy array, podem sumar matrius de manera molt simple, com veurem a continuaci\u00f3:</p> <p>Modificant la llum de la imatge</p> Python<pre><code>img_bgr = cv2.imread(\"coca-cola-logo.png\", cv2.IMREAD_COLOR)\nimg_rgb = cv2.cvtColor(img_bgr, cv2.COLOR_BGR2RGB)\n\n# Una matris de 50's. \u00c9s la que sumarem\nmatrix = np.ones(img_rgb.shape, dtype=\"uint8\") * 50\n\n# dos m\u00e9s fosques i dos m\u00e9s clares\nimg_rgb_brighter = cv2.add(img_rgb, matrix)\nimg_rgb_brighter_brighter = cv2.add(img_rgb_brighter, matrix)\nimg_rgb_darker   = cv2.subtract(img_rgb, matrix)\nimg_rgb_darker_darker   = cv2.subtract(img_rgb_darker, matrix)\n\n# 3 files amb dos columnes menys la primera\nfigure=plt.figure(figsize=(10, 15))\naxes1 = figure.add_subplot(3,1,1)\naxes2 = figure.add_subplot(3,2,3)\naxes3 = figure.add_subplot(3,2,4)\naxes4 = figure.add_subplot(3,2,5)\naxes5 = figure.add_subplot(3,2,6)\n\n# Plot the images in the subplots\naxes1.imshow(img_rgb)\naxes1.set_title(\"Original\")\n\naxes2.imshow(img_rgb_darker)\naxes2.set_title(\"Fosca\")\n\naxes3.imshow(img_rgb_brighter)\naxes3.set_title(\"Clara\")\n\naxes4.imshow(img_rgb_darker_darker)\naxes4.set_title(\"M\u00e9s fosca\")\n\naxes5.imshow(img_rgb_brighter_brighter)\naxes5.set_title(\"M\u00e9s clara\")\n\n\n# Adjust the spacing between subplots\nplt.tight_layout()\n</code></pre> <p></p>"},{"location":"U06%20Convergencia%20tecnologica/01_OpenCV_Basic/#multipliquem-per-modificar-el-contrast","title":"Multipliquem per modificar el contrast","text":"<p>Just com l'addici\u00f3 pot resultar en un canvi de brillantor, la multiplicaci\u00f3 es pot utilitzar per millorar el contrast de la imatge.</p> <p>El contrast \u00e9s la difer\u00e8ncia en els valors d'intensitat dels p\u00edxels d'una imatge. Multiplicar els valors d'intensitat per una constant pot fer que la difer\u00e8ncia sigui m\u00e9s gran o m\u00e9s petita (si el factor de multiplicaci\u00f3 \u00e9s &lt; 1).</p> <p>Modifiquem el contrast</p> Python<pre><code>img_bgr = cv2.imread(\"New_Zealand_Coast.jpg\", cv2.IMREAD_COLOR)\nimg_rgb = cv2.cvtColor(img_bgr, cv2.COLOR_BGR2RGB)\n\nmatrix1 = np.ones(img_rgb.shape) * 0.8\nmatrix2 = np.ones(img_rgb.shape) * 1.2\n\nimg_rgb_darker   = np.uint8(cv2.multiply(np.float64(img_rgb), matrix1))\nimg_rgb_brighter = np.uint8(cv2.multiply(np.float64(img_rgb), matrix2))\n\n# Show the images\nplt.figure(figsize=[18,5])\nplt.subplot(131); plt.imshow(img_rgb_darker);  plt.title(\"Menor contrast\");\nplt.subplot(132); plt.imshow(img_rgb);         plt.title(\"Original\");\nplt.subplot(133); plt.imshow(img_rgb_brighter);plt.title(\"Major Contrast\");\n</code></pre> <p></p> <p>Podeu veure els colors estranys en algunes \u00e0rees de la imatge despr\u00e9s de la multiplicaci\u00f3?</p> <p>El problema \u00e9s que despr\u00e9s de la multiplicaci\u00f3, els valors que ja s\u00f3n alts es tornen m\u00e9s grans que 255. Aix\u00f2 provoca un problema de desbordament. Com ho podem evitar?</p> Soluci\u00f3 amb np.clip() <p>Amb la funci\u00f3 <code>np.clip()</code>  de numpy, ens permeta ajustar qualssevol valor per baix o dalt de dos donats a els valors indicats, sobretot al multiplicar.</p> Python<pre><code>img_rgb_lower  = np.uint8(cv2.multiply(np.float64(img_rgb), matrix1))\nimg_rgb_higher = np.uint8(np.clip(cv2.multiply(np.float64(img_rgb), matrix2), 0, 255))\n</code></pre> <p></p>"},{"location":"U06%20Convergencia%20tecnologica/01_OpenCV_Basic/#umbralitzacio-dimatges","title":"Umbralitzaci\u00f3 d'imatges","text":"<p>Les imatges bin\u00e0ries (imatges en blanc i negre) tenen molts casos d'\u00fas en el processament d'imatges. Un dels casos d'\u00fas m\u00e9s comuns \u00e9s la creaci\u00f3 de m\u00e0scares o detecci\u00f3 de vores.</p> <p>Les m\u00e0scares d'imatges ens permeten processar parts espec\u00edfiques d'una imatge mantenint les altres parts intactes. La umbralitzaci\u00f3 d'imatges s'utilitza per crear imatges bin\u00e0ries a partir d'imatges en escala de grisos. Podeu utilitzar diferents valors de llindar per crear diferents imatges bin\u00e0ries a partir de la mateixa imatge original.</p> <p>La sintaxi \u00e9s <code>retval, dst = cv2.threshold(src, thresh, maxval, type[, dst])</code>, on:</p> <ul> <li><code>dst</code>: L'array de sortida del mateix tamany i tipus i el mateix nombre de canals que <code>src</code>.</li> <li><code>src</code>: array d'entrada (de m\u00faltiples canals, de 8 bits o de punt flotant de 32 bits).</li> <li><code>thresh</code>: valor de llindar. \u00c9s el l\u00edmit a partir del qual els p\u00edxels es convertiran en un valor espec\u00edfic, determinat pel par\u00e0metre type, normalment o 0 o 1.</li> <li><code>maxval</code>: valor m\u00e0xim a utilitzar amb els tipus de umbralitzaci\u00f3 <code>THRESH_BINARY</code> i <code>THRESH_BINARY_INV</code>.</li> <li><code>type</code>: \u00c9s el tipus d'operaci\u00f3 de thresholding que es vol aplicar. Pots utilitzar els seg\u00fcents valors:</li> <li><code>cv2.THRESH_BINARY</code>: Si el valor del p\u00edxel \u00e9s m\u00e9s gran que el valor de threshold, es posa al valor <code>maxval</code>; si no, es posa a 0.</li> <li><code>cv2.THRESH_BINARY_INV</code>: \u00c9s al contrari de <code>cv2.THRESH_BINARY</code>. Si el valor del p\u00edxel \u00e9s m\u00e9s gran que el valor de threshold, es posa a 0; si no, es posa a <code>maxval</code>.</li> <li><code>cv2.THRESH_TRUNC</code>: Tots els valors m\u00e9s grans que el valor de threshold es posen iguals al valor de threshold.</li> <li><code>cv2.THRESH_TOZERO</code>: Tots els valors m\u00e9s petits que el valor de threshold es posen a 0.</li> <li><code>cv2.THRESH_TOZERO_INV</code>: \u00c9s al contrari de <code>cv2.THRESH_TOZERO</code>. Tots els valors m\u00e9s grans que el valor de threshold es posen a 0.</li> </ul> <p>D'altra banda tenim la funci\u00f3 d'una umbralitzaci\u00f3 adaptativa, que t\u00e9 l'avantatge d'adaptar-se localment als canvis de la intensitat de la imatge. En lloc d'utilitzar un \u00fanic valor de threshold per a tota la imatge, l'adaptaci\u00f3 s'ajusta en funci\u00f3 de petites regions de la imatge, permetent detectar els umbrals de manera disinta segons la part de la imatge en la que estem.</p> <p>La sintaxi \u00e9s bastant semblant <code>dst = cv.adaptiveThreshold(src, maxValue, adaptiveMethod, thresholdType, blockSize, C[, dst])</code>, on:</p> <ul> <li><code>dst</code>: Imatge de destinaci\u00f3 del mateix tamany i tipus que <code>src</code>.</li> <li><code>src</code>: Imatge d'origen de 8 bits i un sol canal.</li> <li><code>maxValue</code>: Valor no nul assignat als p\u00edxels per als quals es compleix la condici\u00f3.</li> <li><code>adaptiveMethod</code>: Algorisme de umbralitzaci\u00f3 adaptativa a utilitzar. S'utilitza <code>BORDER_REPLICATE</code> o <code>BORDER_ISOLATED</code> per processar els l\u00edmits.</li> <li><code>thresholdType</code>: Tipus de umbralitzaci\u00f3 que ha de ser THRESH_BINARY o THRESH_BINARY_INV.</li> <li><code>blockSize</code>: Mida d'un ve\u00efnat de p\u00edxels que s'utilitza per calcular un valor de llindar per al p\u00edxel: 3, 5, 7, i aix\u00ed successivament.</li> <li><code>C</code>: Constant que es resta de la mitjana o mitjana ponderada. Normalment, \u00e9s positiu, per\u00f2 tamb\u00e9 pot ser zero o negatiu.</li> </ul> <p>Detectem finestres</p> <p>En aquest exemple anem a intentar detectar zones de la imatge. Apliquem 3 filtres i marquem en la m\u00e0scara resultant aquells p\u00edxels que son menors que 50, 100 i 150, respectivament:</p> Python<pre><code>img_read = cv2.imread(\"building-windows.jpg\", cv2.IMREAD_GRAYSCALE)\n\nfig, axes = plt.subplots(nrows=2, ncols=2, figsize=(14, 14))\naxes = axes.flatten()\n\nimg_read = cv2.imread(\"building-windows.jpg\", cv2.IMREAD_GRAYSCALE)\naxes[0].imshow(img_read, cmap=\"gray\");axes[0].set_title(\"Original\")\n\nfor i in range(1,4):\nretval, img_thresh = cv2.threshold(img_read, i*50, 255, cv2.THRESH_BINARY)\naxes[i].imshow(img_thresh, cmap=\"gray\");axes[i].set_title(\"Llindar &lt;\" + str(i*50))\n\nplt.tight_layout()\n</code></pre> <p></p> <p>Anem a aplicar el mateix process a altra imatge, la captura de la qual te una s\u00e8rie de ombres. El resultat del codi anterior seria el seg\u00fcent:</p> <p></p> <p>Com pots observar la detecci\u00f3 ha estat incorrecta en la zona ombrejada, degut al fons de mala qualitat. \u00c9s per aix\u00f2 que necessitem una detecci\u00f3 adaptativa, la que puja el llindar segons la zona de la imatge:</p> <p>Detecci\u00f3 adaptativa</p> Python<pre><code>img_read = cv2.imread(\"Piano_Sheet_Music.png\", cv2.IMREAD_GRAYSCALE)\n\n# Perform global thresholding\nretval, img_thresh_gbl_1 = cv2.threshold(img_read, 50, 255, cv2.THRESH_BINARY)\n\n# Perform global thresholding\nretval, img_thresh_gbl_2 = cv2.threshold(img_read, 130, 255, cv2.THRESH_BINARY)\n\n# Perform adaptive thresholding\nimg_thresh_adp = cv2.adaptiveThreshold(img_read, 255, cv2.ADAPTIVE_THRESH_MEAN_C, cv2.THRESH_BINARY, 11, 7)\n\n# Show the images\nplt.figure(figsize=[18,15])\nplt.subplot(221); plt.imshow(img_read,        cmap=\"gray\");  plt.title(\"Original\");\nplt.subplot(222); plt.imshow(img_thresh_gbl_1,cmap=\"gray\");  plt.title(\"Llindar (global: 50)\");\nplt.subplot(223); plt.imshow(img_thresh_gbl_2,cmap=\"gray\");  plt.title(\"Llindar (global: 130)\");\nplt.subplot(224); plt.imshow(img_thresh_adp,  cmap=\"gray\");  plt.title(\"Adaptatiu\");\n</code></pre> <p></p> <p>En OpenCV, per defecte, quan s'aplica una m\u00e0scara a una imatge, generalment es processen les \u00e0rees de la imatge que estan en blanc en la m\u00e0scara. Aix\u00f2 significa que les operacions es apliquen a les regions on els p\u00edxels de la m\u00e0scara tenen valors no nuls. Ara vorem com podem invertir i combinar imatges per a conseguir m\u00e1scares m\u00e9s precisses, mitjan\u00e7ant operacions a nivell de bit o bitwise</p>"},{"location":"U06%20Convergencia%20tecnologica/01_OpenCV_Basic/#operacions-a-nivell-de-bit","title":"Operacions a nivell de bit","text":"<p>Anem a veure una serie d'operacions que efectuen operacions a nivell de bit entre els p\u00edxels de les imatges. Totes tenen la mateixa sintaxi, sols canvia l'operaci\u00f3 efectuada (and,or, not, etc). </p> <p>Aquestes operacions solen aplicar-se per aplicar m\u00e0scares, combinar imatges, seleccionar regions i dem\u00e9s. Principalment es fan servir en escala de negres</p> <p>La sintaxi de les funcions \u00e9s:</p> Python<pre><code>dst = cv2.bitwise_and( src1, src2[, dst[, mask]] )\ndst = cv2.bitwise_or( src1, src2[, dst[, mask]] )\ndst = cv2.bitwise_xor( src1, src2[, dst[, mask]] )\ndst = cv2.bitwise_not( src1)\n</code></pre> <p>Com pot observar-se:</p> <ul> <li><code>src1</code> i <code>src2</code> son les imatges que es combinene donant com a resultat <code>dst</code>. </li> <li>Important \u00e9s <code>mask</code>, que \u00e9s una imatge de la mateixa dimensi\u00f3, que cas d'estar, ja que \u00e9s opcional, aplica el resultats sols als bits que estan en blanc i que tenen valor de 1 (255 en binari) als seus p\u00edxels.</li> </ul> <p>Vegem alguns exemples, partint de les seg\u00fcents imatges:</p> <p>Imatges i m\u00e0scares de partida</p> Python<pre><code>img_rec = cv2.imread(\"rectangle.jpg\", cv2.IMREAD_GRAYSCALE)\nimg_cir = cv2.imread(\"circle.jpg\", cv2.IMREAD_GRAYSCALE)\nmask=np.zeros(img_rec.shape, dtype=\"uint8\")\nmask[125:,:] = 255\n\nplt.figure(figsize=[20, 8])\nplt.subplot(131);plt.imshow(img_rec, cmap=\"gray\");plt.title(\"Rectangle\")\nplt.subplot(132);plt.imshow(img_cir, cmap=\"gray\");plt.title(\"Cercle\")\nplt.subplot(133);plt.imshow(mask, cmap=\"gray\");plt.title(\"M\u00e1scara\")\nprint(img_rec.shape)\n</code></pre> <p></p> <p>Operacions amb i sense m\u00e0scara</p> Python<pre><code>and_img = cv2.bitwise_and(img_rec, img_cir, mask=None)\nand_img_masked = cv2.bitwise_and(img_rec, img_cir, mask=mask)\n\nor_img = cv2.bitwise_or(img_rec, img_cir, mask=None)\nor_img_masked = cv2.bitwise_or(img_rec, img_cir, mask=mask)\n\nxor_img = cv2.bitwise_xor(img_rec, img_cir, mask=None)\nxor_img_masked = cv2.bitwise_xor(img_rec, img_cir, mask=mask)\n\nnot_image=cv2.bitwise_not(img_cir, mask=None) \nnot_image_masked=cv2.bitwise_not(img_cir, mask=mask) \n\nplt.figure(figsize=[8, 10])\n\nplt.subplot(421);plt.imshow(and_img, cmap='gray');plt.title('Bitwise AND')\nplt.subplot(422);plt.imshow(and_img_masked, cmap='gray');plt.title('Masked AND')\n\nplt.subplot(423);plt.imshow(or_img, cmap='gray');plt.title('Bitwise OR')\nplt.subplot(424);plt.imshow(or_img_masked, cmap='gray');plt.title('Masked OR')\n\nplt.subplot(425);plt.imshow(xor_img, cmap='gray');plt.title('Bitwise XOR')\nplt.subplot(426);  plt.imshow(xor_img_masked, cmap='gray');plt.title('Masked XOR')\n\nplt.subplot(427);plt.imshow(not_image, cmap='gray');plt.title('Bitwise NOT')\nplt.subplot(428);plt.imshow(not_image_masked, cmap='gray');plt.title('Masked NOT')\n\nplt.tight_layout()\nplt.show()\n</code></pre> <p></p>"},{"location":"U06%20Convergencia%20tecnologica/01_OpenCV_Basic/#activitat-practica","title":"Activitat pr\u00e0ctica.","text":"<p>A partir d'aquestes imatges facilitades, fes la composici\u00f3 tal i com s'indica</p> <p></p> <p></p> <p></p>"},{"location":"U06%20Convergencia%20tecnologica/01_OpenCV_Basic/#practica-resolta-nuvols-de-paraules","title":"Pr\u00e0ctica Resolta - N\u00favols de paraules","text":"<p>https://www.datacamp.com/tutorial/wordcloud-python Anem</p>"},{"location":"U06%20Convergencia%20tecnologica/01_OpenCV_Basic/#2-pil","title":"2. PIL","text":""},{"location":"U06%20Convergencia%20tecnologica/01_OpenCV_Basic/#conversio-entre-opencv-i-pil","title":"Conversi\u00f3 entre OpenCV i PIL","text":"<p>### Funcions b\u00e0siques de PIL</p> <p>https://github.com/AprendeIngenia</p> <p>https://www.youtube.com/watch?v=OArR9c_OXaY&amp;t=2s</p>"},{"location":"U06%20Convergencia%20tecnologica/01_OpenCV_OLD/","title":"01 OpenCV OLD","text":""},{"location":"U06%20Convergencia%20tecnologica/01_OpenCV_OLD/#1-introduccio-a-opencv-i-pil-python-imaging-library","title":"1. Introducci\u00f3 a OpenCV i PIL (Python Imaging Library):","text":"<p>OpenCV (Open Source Computer Vision) i PIL (Python Imaging Library) s\u00f3n dues potents llibreries de processament d'imatges en Python que ofereixen funcionalitats complement\u00e0ries per a l'an\u00e0lisi, la manipulaci\u00f3 i la millora d'imatges. Aquestes eines s\u00f3n essencials en diverses aplicacions, des del desenvolupament d'algoritmes de visi\u00f3 per computadora fins a la creaci\u00f3 d'eines de processament d'imatges en projectes d'intel\u00b7lig\u00e8ncia artificial.</p> <p>OpenCV:</p> <p>OpenCV \u00e9s una llibreria de visi\u00f3 per computadora de codi obert, proporciona una \u00e0mplia varietat de funcions per al processament d'imatges i v\u00eddeo. Amb suport per a m\u00faltiples plataformes i llenguatges de programaci\u00f3, OpenCV facilita tasques com la detecci\u00f3 d'objectes, el seguiment de moviments, el reconeixement facial i la calibraci\u00f3 de c\u00e0meres. La seva flexibilitat i efici\u00e8ncia fan que sigui una elecci\u00f3 popular en el desenvolupament d'aplicacions relacionades amb la visi\u00f3 per computadora.</p> <p>PIL:</p> <p>PIL, tamb\u00e9 coneguda com a Pillow, \u00e9s una llibreria que ofereix eines robustes per a la manipulaci\u00f3 d'imatges a Python. Tot i que ha estat substitu\u00efda per Pillow en termes de desenvolupament actiu, PIL encara es menciona pel seu llegat. Pillow mant\u00e9 la compatibilitat amb el codi PIL existent i afegeix noves caracter\u00edstiques. Aquesta llibreria \u00e9s ideal per a operacions b\u00e0siques com obrir, manipular i desar imatges en diversos formats.</p> <p>Combinant OpenCV i PIL:</p> <p>La combinaci\u00f3 d'OpenCV i PIL aprofita el millor de totes dues llibreries. OpenCV ofereix algoritmes avan\u00e7ats i t\u00e8cniques de visi\u00f3 per computadora, mentre que PIL proporciona funcions addicionals per al processament b\u00e0sic i la manipulaci\u00f3 eficient d'imatges. La integraci\u00f3 d'aquestes dues eines permet als desenvolupadors abordar una \u00e0mplia gamma de reptes en el processament d'imatges, des de tasques senzilles fins a projectes m\u00e9s complexos que requereixen funcions especialitzades.</p> <p>En aquest apartat, explorar\u00e0s com aprofitar de manera sin\u00e8rgica OpenCV i PIL per a maximitzar la teva capacitat per treballar amb imatges a Python, obtenint aix\u00ed una base s\u00f2lida per abordar projectes relacionats amb el processament d'imatges i la intel\u00b7lig\u00e8ncia artificial.</p>"},{"location":"U06%20Convergencia%20tecnologica/01_OpenCV_OLD/#1-manipulacio-basica-dimatges","title":"1 Manipulaci\u00f3 b\u00e0sica d'imatges","text":"<p>La classe m\u00e9s important de la biblioteca d'imatges de Python <code>PIL</code> \u00e9s la classe <code>Image</code>, definida al m\u00f2dul amb el mateix nom. Podeu crear inst\u00e0ncies d'aquesta classe de diverses maneres; ja sigui carregant imatges dels fitxers, processant altres imatges o creant imatges des de zero.</p>"},{"location":"U06%20Convergencia%20tecnologica/01_OpenCV_OLD/#11-obrir-i-tancar-amp-pil","title":"1.1. Obrir i tancar AMP PIL","text":"<p>La manera m\u00e9s senzilla de crear-la \u00e9s a partir d'un fitxer del sistema d'arxius, mitjan\u00e7ant <code>Image.open(ruta_a_la imatge)</code>.</p> <p>Podrem mostrar algunes caracter\u00edstiques amb els atributs:</p> <ul> <li><code>format</code> \u2192 identifica la font d'una imatge, cas de llegir-se d'un fitxer</li> <li><code>size</code> \u2192 \u00e9s una tupla de 2 que cont\u00e9 l'amplada (width) i l'al\u00e7ada (height) (en p\u00edxels). </li> <li><code>mode</code> \u2192 defineix el nom del mode de color: L per a grisos, RGB per a color, etc.</li> </ul> <p>Per a desar una imatge ja processada, ho farem mitjan\u00e7ant <code>save(nom_del_fitxer)</code>. Aix\u00f2, depenent de la extensi\u00f3 que li posem, ens permetr\u00e0 tamb\u00e9 canviar el format d'eixida.</p> C\u00e0rrega i guardat d'imatge Python<pre><code># Obrir una imatge i veure les seues caracter\u00edstiques\nfrom PIL import Image\nimport os\n\nimg_input=os.path.join(image_path,\"empire.jpg\")\nim = Image.open(img_input)\n\n# mostar les seues caracter\u00edsties\nprint(im.format, im.size, im.mode)\n\n# mostar al sistema\n#im.show()\n\n# separem del nom la extensi\u00f3\nf,e=os.path.splitext(img_input)\n\n# la canviem\nimg_output=f+\".png\"\n\n#guardem\nim.save(img_output)\n</code></pre> Intenta buscar i carregar una imatge descarregada directament desde Internet Python<pre><code>from PIL import Image\nimport requests\nfrom io import BytesIO\n\n# URL \nurl = \"https://upload.wikimedia.org/wikipedia/commons/2/25/PMSA-300.jpg\"\n\n# Fem una petici\u00f3 GET\nresponse = requests.get(url)\n# A partir de la resposta creem un stream de Bytes\nimg = Image.open(BytesIO(response.content))\n\n# Imatge a punt per a processar\nimg.show()\n</code></pre>"},{"location":"U06%20Convergencia%20tecnologica/01_OpenCV_OLD/#12-miniatures","title":"1.2. Miniatures","text":"<p>Altre metode interessant \u00e9s el de modificar la imatge per a fer minitures (<code>thumbnail</code>). Aquest m\u00e8tode rep el shape al que volem transformar, i l'adapta per a mantenir la relaci\u00f3 d'aspecte. Espai que aquest m\u00e8tode transforma la imatge original</p> Transformant el tamany Python<pre><code>new_size=(300,400)\nimg_final=im.copy()\nimg_final.thumbnail(new_size)\nimg_final.show()\n</code></pre> <p>Si vullgesim crear una nova imatge com a c\u00f2pia de la original, en compte de thumbnail podem fer servir el m\u00e8tode <code>resize</code>, de manera semblant a <code>thumbnail</code></p> <p>Exercici d'ampliaci\u00f3</p> <p>A partir d'aquesta funci\u00f3 donada, investiga que fa cadascun dels m\u00e8todes que ess criden per a transformar la imatge</p> Python<pre><code>from PIL import Image, ImageOps\nsize = (100, 150)\nwith Image.open(\"la teua imatge\") as im:\n    ImageOps.contain(im, size).save(\"imageops_contain.png\")\n    ImageOps.cover(im, size).save(\"imageops_cover.png\")\n    ImageOps.fit(im, size).save(\"imageops_fit.png\")\n    ImageOps.pad(im, size, color=\"#f00\").save(\"imageops_pad.png\")\n\n    # thumbnail() can also be used,\n    # but will modify the image object in place\n    im.thumbnail(size)\n    im.save(\"imageops_thumbnail.png\")\n</code></pre> <p>Com a ampliaci\u00f3 crear una figura amb matplotlib, que es dibuixe en una graella <code>3x2</code> les imatges generades anteriorment. Passa com a imatge original alguna que siga m\u00e9s menuda que el 100x150 que tens al codi</p>"},{"location":"U06%20Convergencia%20tecnologica/01_OpenCV_OLD/#13-retallant-i-pintant","title":"1.3. Retallant i Pintant","text":"<p>Anem a veure com podem arar pintar damunt de la imatge i retallar alguna porci\u00f3 de la mateixa. Aix\u00f2 ens resultar\u00e0 particularment \u00fatil quan vullguem marcar sobre la imatge algun punt singular de la mateixa: un conjunt de cares, un vehicle i alguna part de la mateixa.</p> <p>Amb les retalls (crop) aconseguirem crear una nova imatge amb all\u00f2 que hem seleccionat, per a seguir processant all\u00f2 que hem retallat. El m\u00e9s important per a aquestes operacions \u00e9s tindre clar el sistema de coordenades de la imatge, que depenent de la documentaci\u00f3 de la llibreria es far\u00e0 d'una manera o altra:</p> <p>En ambd\u00f3s llibreries, OpenCV i PIL l'oritge de coordenades <code>(0,0)</code> ser\u00e0 el punt superior esquerre de la imatge. A partir d'ahi:</p> <ol> <li> <p>A la imatge anterior es pot comprovar que per marcar una caixa necessitarem 4 punts, especificats com una tupla <code>(x,y,w,h)</code>, on <code>x,y</code> son les coordenades superior esquerre de la caixa, i <code>w,h</code>:  Aquesta notaci\u00f3 tamb\u00e9 ens servir\u00e0 per a dibuixar rectangles</p> </li> <li> <p>En altres casos, com a la llibreria ImageDraw, les coordenades de la caixa seran una tupla de 4 n\u00fameros, per\u00f2 atenci\u00f3 <code>(x,y,x',y')</code> ![Coordenades ImageDRwa(https://i.stack.imgur.com/UB7ho.png){width=75%} Aquesta notaci\u00f3 la farem per a fer retallar imatges amb crop</p> </li> <li> <p>Altra notaci\u00f3 especial ser\u00e0 quan volem tra\u00e7ar l\u00ednies poligonals, que llavors haurem de facilitar als m\u00e8todes una tupla amb tantes parelles de coordenades com punts volem posar, per exemple 12 n\u00fameros per a un hex\u00e0gon <code>((x, y), (x, y),...)</code> o b\u00e9 <code>(x,y,x,y,..)</code> </p> </li> </ol> <p>Com sempre revisar la documentaci\u00f3 dels m\u00e8todes a utilitzar</p> EXemple de retall d'imartge Python<pre><code>from PIL import Image,ImageDraw\n\n# Llegim la imatge\nim = Image.open(img_input)\n\n# Definim la caixa a retallar\ncaixa=(100,600,300,700)\n\n# Retallem la caixa, creant una nova imatge\nretall=im.crop(caixa)\n\n# Pintem sobre la imatge original un rectangle\n# es crea un dibuix obre la imatge original\ndraw = ImageDraw.Draw(im)\n\n# afegim un rectangle, de color roig\ndraw.rectangle(caixa, outline=\"red\", width=2) \n</code></pre> <p>El resultat seria:</p> <p></p> <p>Fixa't que la caixa que s'ha retallat te una dimensi\u00f3 de 200x100</p>"},{"location":"U06%20Convergencia%20tecnologica/01_OpenCV_OLD/#2-2-filtrat-i-kernels","title":"2. 2 Filtrat i kernels","text":""},{"location":"U06%20Convergencia%20tecnologica/01_OpenCV_OLD/#3-3-manipulacio-avancada-dimatges","title":"3. 3 Manipulaci\u00f3 avan\u00e7ada d'imatges","text":""},{"location":"U06%20Convergencia%20tecnologica/01_OpenCV_OLD/#4-4-visio-per-computador","title":"4. 4 Visi\u00f3 per computador","text":""},{"location":"U06%20Convergencia%20tecnologica/01_OpenCV_OLD/#41-deteccion-de-objetos","title":"4.1. Detecci\u00f3n de objetos","text":""},{"location":"U06%20Convergencia%20tecnologica/01_OpenCV_OLD/#reconocimiento-facial","title":"Reconocimiento facial","text":""},{"location":"U06%20Convergencia%20tecnologica/01_OpenCV_OLD/#42-seguimiento-de-objetos-en-movimiento","title":"4.2. Seguimiento de objetos en movimiento","text":""},{"location":"U06%20Convergencia%20tecnologica/01_OpenCV_OLD/#xxnn-convolucionals","title":"XXNN Convolucionals","text":""},{"location":"U06%20Convergencia%20tecnologica/01_OpenCV_OLD/#5-projecte-deteccio-democions-i-punts-caracteristics-en-rostres","title":"5. Projecte. Detecci\u00f3 d'emocions i punts caracter\u00edstics en rostres","text":""},{"location":"U06%20Convergencia%20tecnologica/01_OpenCV_OLD/#6-projecte-pasar-llista-a-partir-duna-imatge","title":"6. Projecte. Pasar llista a partir d'una imatge","text":""},{"location":"U06%20Convergencia%20tecnologica/01_OpenCV_OLD/#7-bibliografia","title":"7. Bibliografia","text":"<p>Programming Computer Vision with Python, de Jan Erik Solem</p>"},{"location":"U06%20Convergencia%20tecnologica/02_CapturarImatges/","title":"02 CapturarImatges","text":""},{"location":"U06%20Convergencia%20tecnologica/02_CapturarImatges/#capturar-imatges-des-de-la-camera-o-webcam","title":"Capturar imatges des de la c\u00e0mera o webcam","text":"<p>Amb Opencv, a banda de manipular imatges emmagatzemades en fitxers, tamb\u00e9 podem capturar imatges i videos des de la webcam o des d'altres streams de video. Anem a veure primer alguns snippets que ens ajudaran en els nostres programes.</p> <p>L'equip identifica les c\u00e0mares connectades amb un n\u00famero enter, i per a crear un objecte que connecta amb la c\u00e0mera es far\u00e0 servir <code>camera = cv2.VideoCapture(camera_index)</code>. Amb aquest objecte <code>camera</code> ja podrem fer les captures.</p> <p>Atenci\u00f3</p> <p>Amb aquest mateix m\u00e8tode tamb\u00e9 podem obri un arxiu de video (stream) i processar-lo de manera molt similar al stream que produeix una c\u00e0mera de video</p> <p>Quan s'utilitza el m\u00e8tode <code>(retorn,retorn)=cap.read()</code> a OpenCV per llegir d'una capturadora de v\u00eddeo, el que es llegeix \u00e9s un sol fotograma del v\u00eddeo en curs. El m\u00e8tode cap.read() retorna una tupla amb dos valors:</p> <ul> <li><code>retorn</code> \u2192 Aquest valor boole\u00e0 indica si la lectura del fotograma ha estat exitosa o no. </li> <li><code>frame</code>: Aquest \u00e9s el propi fotograma de v\u00eddeo que es llegeix. \u00c9s una matriu NumPy que cont\u00e9 la informaci\u00f3 de la imatge en format de p\u00edxels.</li> </ul> <p>El m\u00e8tode <code>cap.get()</code>  s'utilitza per obtenir propietats espec\u00edfiques de la c\u00e0mera, retornant el valor actual de la propietat sol\u00b7licitada. Pot tenir un o dos arguments:</p> <ol> <li> <p>Un Argument: Si es proporciona un sol argument, aquest ha de ser un identificador que representi la propietat que es vol obtenir:</p> </li> <li> <p><code>cv2.CAP_PROP_FRAME_WIDTH</code>: Ample del fotograma.</p> </li> <li><code>cv2.CAP_PROP_FRAME_HEIGHT</code>: Alt del fotograma.</li> <li><code>cv2.CAP_PROP_FPS</code>: Fotogrames per segon que permet capturar.</li> <li><code>cv2.CAP_PROP_POS_FRAMES</code>: Posici\u00f3 del fotograma actual en la seq\u00fc\u00e8ncia (v\u00eddeo).</li> <li><code>cv2.CAP_PROP_POS_MSEC</code>: Temps actual en mil\u00b7lisegons.</li> <li><code>cv2.CAP_PROP_FRAME_COUNT</code>: Nombre total de fotogrames al v\u00eddeo.</li> </ol> <p>Totes aquestes constants tenen valors enters que podem posar o trobar-nos en compte de la pr\u00f2pia constant. Pots consultar-lo a la documentaci\u00f3 de openCV</p> <ol> <li>Dos Arguments: Si es proporcionen dos arguments, el primer \u00e9s un identificador de la propietat, i el segon \u00e9s un valor per defecte que es retorna si la propietat no es pot obtenir.</li> </ol> <p>Tamb\u00e9 disposem de <code>cap.set(arg,value)</code> que s'utilitza per modificar algunes propietats, com els FPS (fotogrames per segon) i la resoluci\u00f3 del fotograma. Pot tenir dos arguments:</p> <ol> <li> <p><code>arg</code> \u2192 identificador que representa la propietat que es vol modificar, entre les vistes anteriorment.</p> </li> <li> <p><code>value</code> \u2192 El segon argument \u00e9s el valor que es vol establir per a la propietat de <code>arg</code>.</p> </li> </ol> <p>\u00c9s important tenir en compte que no totes les propietats de la capturadora es poden modificar en tots els casos. </p> <p>Posem la c\u00e0mera a 640x480 i 30FPS</p> Python<pre><code>import cv2\n\n# Obrim la c\u00e0mera\ncap = cv2.VideoCapture(0)\n\n# Ressoluci\u00f3 a 640x480\ncap.set(cv2.CAP_PROP_FRAME_WIDTH, 640)\ncap.set(cv2.CAP_PROP_FRAME_HEIGHT, 480)\n\n# Cambiem els FPS a 30\ncap.set(cv2.CAP_PROP_FPS, 30)\n\n# Alliberem la c\u00e0mera\ncap.release()\n</code></pre> <p>Quantes c\u00e0mares tinc i quina \u00e9s la seua ressoluci\u00f3</p> Python<pre><code>def list_cameras():\ncamera_list=[]\nfor camera_index in range(5):   # 5 is the maximum number of cameras that we will check\n    cap = cv2.VideoCapture(camera_index)\n    if not cap.read()[0]:\n    break\n    else:\n    cam={\n        \"index\": camera_index,\n        \"resolution\": f\"{cap.get(cv2.CAP_PROP_FRAME_WIDTH)}x{cap.get(cv2.CAP_PROP_FRAME_HEIGHT)}\"\n    }\n\n    camera_list.append(cam)\n    cap.release()\n\nreturn camera_list\n</code></pre> <p>Fes una foto i mostra-la</p> Python<pre><code>def take_picture(cam_id):\ncap = cv2.VideoCapture(cam_id)\nret, frame = cap.read()\nif ret:\n    cv2.imshow(f\"Camera {cam_id}\", frame)\n    cv2.waitKey(0)          # Fins apretar una tecla\n    cv2.destroyAllWindows()\nelse:\n    print(f\"No puc obrir la c\u00e0mera amb id:{cam_id}\")\ncap.release()\n</code></pre>"},{"location":"U06%20Convergencia%20tecnologica/02_CapturarImatges/#videos","title":"Videos","text":""},{"location":"U06%20Convergencia%20tecnologica/02_CapturarImatges/#llegint-imatges-de-video","title":"Llegint imatges de video","text":"<p>Un video no \u00e9s m\u00e9s que una seq\u00fc\u00e8ncia de frames. D'aquesta manera OpenCV representa un video de la mateixa manera que el processament d'una c\u00e0mera. Aix\u00ed doncs si volem obrir un video ho farem de manare molt similar a la c\u00e0mera:</p> Python<pre><code>source = 'el_meu_video.mp4'  # source = 0 for webcam\n\ncap = cv2.VideoCapture(source)  # igual que la c\u00e0mera\n\nif not cap.isOpened():\n    print(\"Error opening video stream or file\")\n    quit()\n\nret, frame = cap.read() # ja tenim el primer frame del video\n</code></pre>"},{"location":"U06%20Convergencia%20tecnologica/02_CapturarImatges/#escrivint-videos","title":"Escrivint videos","text":"<p>Per escriure el v\u00eddeo, necessites crear un objecte <code>VideoWriter</code> amb els par\u00e0metres adequats.</p> Python<pre><code>VideoWriter object = cv.VideoWriter(nom_del_fitxer, fourcc, fps, frameSize )\n</code></pre> <p>on els par\u00e0metres son:</p> <ol> <li> <p><code>filename</code>: Nom del fitxer de v\u00eddeo de sortida.</p> </li> <li> <p><code>fourcc</code>: Codi de 4 car\u00e0cters del codec utilitzat per comprimir els frames. Per exemple, <code>VideoWriter::fourcc('P','I','M','1')</code> \u00e9s un codec MPEG-1, <code>VideoWriter::fourcc('M','J','P','G')</code> \u00e9s un codec motion-jpeg, etc. Es pot obtenir una llista de codis a la p\u00e0gina Video Codecs by FOURCC. El backend FFMPEG amb contenidor MP4 utilitza altres valors com a codi fourcc: consulta ObjectType, per la qual cosa pot ser que rebeu un missatge d'av\u00eds d'OpenCV sobre la conversi\u00f3 del codi fourcc. Consultar aci</p> </li> <li> <p><code>fps</code>: Velocitat de fotogrames de l'stream de v\u00eddeo creat.</p> </li> <li> <p><code>frameSize</code>: Mida dels frames del v\u00eddeo.</p> </li> </ol> <p>::: example \"Example d'escriptura de videos</p> Text Only<pre><code>```python\n# mantenim les mesures d'entrada\nframe_width = int(cap.get(3))    # cv2.CAP_PROP_FRAME_WIDTH\nframe_height = int(cap.get(4))   # cv2.CAP_PROP_FRAME_HEIGHT\n\n# Define the codec and create VideoWriter object. per a dos videos distints\nout_avi = cv2.VideoWriter(\"race_car_out.avi\", cv2.VideoWriter_fourcc(\"M\", \"J\", \"P\", \"G\"), 10, (frame_width, frame_height))\n\nout_mp4 = cv2.VideoWriter(\"race_car_out.mp4\", cv2.VideoWriter_fourcc(*\"XVID\"), 10, (frame_width, frame_height))\n\n# Llegim i escrivim als nous formats\nwhile cap.isOpened():\n    # Llegim un fram\n    ret, frame = cap.read()\n\n    if ret:         # Si hi ha frame, guardem\n        out_avi.write(frame)\n        out_mp4.write(frame)\n\n    #   Si no hi ha frame... acabem\n    else:\n        break\n\ncap.release()\nout_avi.release()\nout_mp4.release()\n```\n</code></pre>"},{"location":"U06%20Convergencia%20tecnologica/02_CapturarImatges/#exercici","title":"Exercici","text":"<p>Es demana un exercici b\u00e0sic al processament d'imatges, que \u00e9s  llegir un video i guardar tots els fotogrames en una col\u00b7lecci\u00f3 d'imatges. Aix\u00f2 pot servir per a la preparaci\u00f3 de dataset o l'an\u00e0lisi de videos.</p>"},{"location":"U06%20Convergencia%20tecnologica/03_Deteccio/","title":"Detecci\u00f3 de rostres","text":"<p>En aquest apartat vas a treballar en un projecte aut\u00f2nom de detecci\u00f3 i reconeixement de rostres.</p> <p>Es tracta de que crees una aplicaci\u00f3 per a detectar cares, a partir del (seg\u00fcent tutorial)[https://www.datacamp.com/tutorial/face-detection-python-opencv&gt;].</p> <p>Implementa tot el que se demana, i afig alguna funci\u00f3 que es guarde els retalls de les cares detectades.</p>"},{"location":"U06%20Convergencia%20tecnologica/03_Deteccio/#haarcascade","title":"HaarCascade","text":"<p>La detecci\u00f3 de rostres amb <code>Haar Cascade</code>\u00e9s un m\u00e8tode efica\u00e7 utilitzat en visi\u00f3 artificial i processament d\u2019imatges. Proposat per Paul Viola i Michael Jones el 2001, aquest m\u00e8tode es basa en classificadors en cascada entrenats amb funcions de Haar:</p> <ul> <li>Es necessita un conjunt d\u2019imatges positives (rostres) i negatives (sense rostres) per entrenar el classificador.</li> <li>Les caracter\u00edstiques de Haar s\u00f3n com nuclis convolucionals que s\u2019apliquen a la imatge.</li> <li>Les imatges integrals simplifiquen el c\u00e0lcul de caracter\u00edstiques.</li> </ul> <p>Per sort podem trobar models de classificaci\u00f3 entrenats ja a https://github.com/opencv/opencv/tree/master/data/haarcascades</p>"},{"location":"U06%20Convergencia%20tecnologica/03_Deteccio/#implementacio-amb-opencv","title":"Implementaci\u00f3 amb OpenCV:","text":"<p>OpenCV proporciona un classificador preentrenat per a la detecci\u00f3 de rostres mitjan\u00e7ant Haar Cascade. Pots utilitzar-lo amb la funci\u00f3 <code>cv2.CascadeClassifier</code>.</p> Funcionament del classificador amb Python Python<pre><code>import cv2\n\n# Carrega el classificador preentrenat\nface_cascade = cv2.CascadeClassifier(cv2.data.haarcascades + 'haarcascade_frontalface_default.xml')\n\n# Llegeix la imatge\nimg = cv2.imread('imatge.jpg')\ngray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)\n\n# Detecta rostres\nfaces = face_cascade.detectMultiScale(gray, scaleFactor=1.1, minNeighbors=5)\n\n# Dibuixa rectangles al voltant dels rostres detectats\nfor (x, y, w, h) in faces:\n    cv2.rectangle(img, (x, y), (x + w, y + h), (255, 0, 0), 2)\n\n# Mostra la imatge amb els rostres detectats\ncv2.imshow('Rostres detectats', img)\ncv2.waitKey(0)\ncv2.destroyAllWindows()\n</code></pre>"},{"location":"U06%20Convergencia%20tecnologica/03_Deteccio/#reconeixement-de-rostres","title":"Reconeixement de rostres","text":"<p>Implementa un sistema de reconeixemnet de rostres i persones, seguint els tutorials que pots trobar a:</p>"},{"location":"U06%20Convergencia%20tecnologica/03_Deteccio/#sistema-de-reconocimiento-facial-y-liveness","title":"Sistema-de-reconocimiento-facial-y-Liveness","text":"<p>https://github.com/AprendeIngenia/Sistema-de-reconocimiento-facial-y-Liveness</p> <p>Video 1</p> <p>https://www.youtube.com/watch?v=ut2jSVonUbM</p>"},{"location":"U06%20Convergencia%20tecnologica/03_Deteccio/#botiga-intelligent","title":"Botiga intel\u00b7ligent","text":"<p>https://github.com/AprendeIngenia/Shopping-AI</p> <p>Models descarregables de: https://huggingface.co/AprendeIngenia</p>"},{"location":"U06%20Convergencia%20tecnologica/03_Deteccio/#deteccio-de-cara-edad-i-sexe","title":"Detecci\u00f3 de Cara, Edad i sexe","text":"<p>Aquest REPO te models entrenats ja https://github.com/smahesh29/Gender-and-Age-Detection/tree/master</p> <p>amb els datasets de  https://talhassner.github.io/home/projects/Adience/Adience-data.html</p>"},{"location":"U06%20Convergencia%20tecnologica/05_PLN_Spacy/","title":"05 PLN Spacy","text":"<p>https://course.spacy.io/es/chapter2</p>"},{"location":"U06%20Convergencia%20tecnologica/05_PLN_Spacy/#introduccio-a-spacy","title":"Introducci\u00f3 a Spacy","text":"Python<pre><code># Importa spaCy\nimport spacy\n\n# Crea un objeto nlp vac\u00edo para procesar espa\u00f1ol\nnlp = spacy.blank(\"es\")\n</code></pre> <p><code>nlp</code> se refiere al pipeline de tokenizaci\u00f3n, inicialment blanc per al espanyol.</p> Python<pre><code># Creado al procesar un string de texto con el objeto nlp\ndoc = nlp(\"\u00a1Hola Mundo!\")\n\n# Itera sobre los tokens en un Doc\nfor token in doc:\n    print(token.text)\n</code></pre> <p>\u00a1 Hola Mundo !</p> <p>Cuando procesas un string de texto con el objeto nlp, spaCy crea un objeto Doc - de \"documento\". El Doc te permite acceder a la informaci\u00f3n sobre el texto en una forma estructurada y sin perder informaci\u00f3n.</p> <p>El Doc se comporta como una secuencia normal de Python y te permite iterar sobre sus tokens u obtener un token con su \u00edndice. \u00a1Pero hablaremos de estas cosas m\u00e1s tarde!</p> Python<pre><code>doc = nlp(\"Eso cuesta \u20ac5.\")\n\nprint(\"\u00cdndice:   \", [token.i for token in doc])\nprint(\"Texto:    \", [token.text for token in doc])\n\nprint(\"is_alpha:\", [token.is_alpha for token in doc])\nprint(\"is_punct:\", [token.is_punct for token in doc])\nprint(\"like_num:\", [token.like_num for token in doc])\n</code></pre> <p>mostra: Bash<pre><code>Index:    [0, 1, 2, 3, 4]\nText:     ['Eso', 'cuesta', '\u20ac', '5', '.']\n\nis_alpha: [True, True, False, False, False]\nis_punct: [False, False, False, False, True]\nlike_num: [False, False, False, True, False]\n</code></pre></p> <p>Aqu\u00ed puedes ver algunos de los atributos disponibles de los tokens:</p> <ul> <li><code>i</code> es el \u00edndice del token dentro del documento padre.</li> <li><code>text</code> devuelve el texto del token.</li> <li><code>is_alpha</code>, <code>is_punct</code> y <code>like_num</code> devuelven valores booleanos que indican si un token est\u00e1 compuesto por caracteres alfab\u00e9ticos, si es un signo de puntuaci\u00f3n, o si parece ser un n\u00famero. Por ejemplo, el token \"10\" - uno, cero - o la palabra \"diez\".</li> </ul> <p>Estos atributos tambi\u00e9n se llaman atributos l\u00e9xicos: se refieren a una entrada en el vocabulario y no dependen del contexto del token.</p>"},{"location":"U06%20Convergencia%20tecnologica/05_PLN_Spacy/#que-son-los-pipelines-entrenados","title":"Qu\u00e9 son los pipelines entrenados?","text":"<p>Le permiten a spaCy predecir atributos ling\u00fc\u00edsticos en contexto: - Etiquetado gramatical - Dependencias sint\u00e1cticas - Entidades nombradas - Entrenados con textos de ejemplo anotados</p> <p>Pueden ser actualizados con m\u00e1s ejemplos para afinar las predicciones. Algunas de las cosas m\u00e1s interesantes que puedes analizar son espec\u00edficas al contexto: por ejemplo, si una palabra es un verbo o si un span de texto es el nombre de una persona.</p> <p>Los componentes de los pipelines entrenados tienen modelos estad\u00edsticos que le permiten a spaCy hacer predicciones en contexto. Esto normalmente incluye el etiquetado gramatical, dependencias sint\u00e1cticas y entidades nombradas.</p> <p>Los pipelines son entrenados con datasets de textos de ejemplo anotados.</p> <p>Los pipelines pueden ser actualizados con m\u00e1s ejemplos para afinar sus predicciones - por ejemplo, para que se desempe\u00f1e mejor en tus datos espec\u00edficos.</p> <p>spaCy provee varios paquetes de pipelines pre-entrenados que puedes descargar usando el comando spacy download. Por ejemplo, el paquete <code>es_core_news_sm</code> es un pipeline peque\u00f1o de espa\u00f1ol que provee soporte para todas las capacidades centrales y est\u00e1 entrenado usando textos de internet.</p> <p>El m\u00e9todo <code>spacy.load</code> carga el paquete del pipeline por su nombre y devuelve un objeto nlp.</p> <p>El paquete provee los par\u00e1metros binarios que le permiten a spaCy hacer predicciones.</p> <p>Tambi\u00e9n incluye el vocabulario y los metadatos acerca del pipeline y el archivo de configuraci\u00f3n utilizado para entrenarlo. El paquete le dice a spaCy cu\u00e1l clase de lenguaje usar y c\u00f3mo configurar el pipeline de procesamiento.</p> <p>Python<pre><code># $ python -m spacy download es_core_news_sm\nimport spacy\n\nnlp = spacy.load(\"es_core_news_sm\")\n</code></pre> Par\u00e1metros binarios Vocabulario Metadata (lenguaje, pipeline) Archivo de configuraci\u00f3n</p>"},{"location":"U06%20Convergencia%20tecnologica/05_PLN_Spacy/#prediccion-de-etiquetas-gramaticales","title":"Predicci\u00f3n de etiquetas gramaticales","text":"Python<pre><code>import spacy\n\n# Carga el pipeline peque\u00f1o de espa\u00f1ol\nnlp = spacy.load(\"es_core_news_sm\")\n\n# Procesa un texto\ndoc = nlp(\"Ella comi\u00f3 pizza\")\n\n# Itera sobre los tokens\nfor token in doc:\n    # Imprime en pantalla el texto y la etiqueta gramatical predicha\n    print(token.text, token.pos_)\n'''\nElla PRON\ncomi\u00f3 VERB\npizza NOUN\n'''\n</code></pre> <p>Revisemos las predicciones del modelo. En este ejemplo estamos usando spaCy para predecir etiquetas gramaticales, es decir, los tipos de palabras en contexto.</p> <p>Primero, cargamos el modelo peque\u00f1o de espa\u00f1ol y recibimos un objeto nlp.</p> <p>Luego, procesamos el texto \"Ella comi\u00f3 pizza\".</p> <p>Por cada token en el doc, podemos imprimir en pantalla el texto y la etiqueta gramatical predicha usando el atributo .pos_.</p> <p>En spaCy, los atributos que devuelven un string normalmente terminan con un guion bajo (_). mientras que atributos sin un guion bajo devuelven un valor ID de tipo entero.</p> <p>Aqu\u00ed el modelo predijo correctamente \"comi\u00f3\" como el verbo y \"pizza\" como el sustantivo.</p> <p>Adem\u00e1s de las etiquetas gramaticales, tambi\u00e9n podemos predecir las relaciones entre las palabras. Por ejemplo, si una palabra es el sujeto o el objeto de una oraci\u00f3n.</p> <p>El atributo <code>.dep_</code> devuelve la etiqueta de la dependencia sint\u00e1ctica predicha.</p> <p>El atributo <code>.head</code> devuelve el token de la cabeza de la dependencia sint\u00e1ctica. Otra forma de concebirlo es como el token \"padre\" al que esta palabra est\u00e1 atada.</p> Python<pre><code>for token in doc:\n    print(token.text, token.pos_, token.dep_, token.head.text)\n'''\nElla PRON nsubj comi\u00f3\ncomi\u00f3 VERB ROOT comi\u00f3\npizza NOUN obj comi\u00f3\n'''\n</code></pre> <p>spaCy usa un esquema de etiquetas est\u00e1ndar para describir dependencias sint\u00e1cticas. Aqu\u00ed ver\u00e1s un ejemplo de algunas etiquetas comunes:</p> <ul> <li>El pronombre \"Ella\" es un sujeto nominal unido al verbo - en este caso, a \"comi\u00f3\".</li> <li>El sustantivo \"pizza\" es un objeto unido al verbo \"comi\u00f3\". Este objeto est\u00e1 siendo comido por el sujeto \"ella\".</li> </ul>"},{"location":"U06%20Convergencia%20tecnologica/05_PLN_Spacy/#prediciendo-entidades-nombradas","title":"Prediciendo entidades nombradas","text":"Python<pre><code># Procesa un texto\ndoc = nlp(\n    \"Apple es la marca que m\u00e1s satisfacci\u00f3n genera en EE.UU., \"\n    \"pero el iPhone, fue superado por el Galaxy Note 9\"\n)\n\n# Itera sobre las entidades predichas\nfor ent in doc.ents:\n    # Imprime en pantalla el texto y la etiqueta de la entidad\n    print(ent.text, ent.label_)\n'''\nApple ORG\nEE.UU LOC\niPhone MISC\nGalaxy Note 9 MISC\n'''\n</code></pre> <p>Las entidades nombradas son \"objetos de la vida real\" que tienen un nombre asignado. Por ejemplo, una persona, una organizaci\u00f3n o un pa\u00eds.</p> <p>La propiedad doc.ents te permite acceder a las entidades nombradas predichas por el modelo de reconocimiento de entidades.</p> <p>La propiedad doc.ents devuelve un iterador de objetos Span, as\u00ed que podemos imprimir en pantalla el texto y la etiqueta de la entidad usando el atributo .label_.</p> <p>En este caso, el modelo predijo correctamente \"Apple\" como una organizaci\u00f3n, \"EE.UU\" como un lugar, \"iPhone\" y \"Galaxy Note 9\" con la categor\u00eda miscelanea.</p>"},{"location":"U06%20Convergencia%20tecnologica/05_PLN_Spacy/#tip-el-metodo-spacyexplain","title":"Tip: el m\u00e9todo spacy.explain","text":"<p>Obt\u00e9n definiciones r\u00e1pidas de las etiquetas m\u00e1s comunes.</p> <ul> <li><code>spacy.explain(\"LOC\")</code> 'Name of politically or geographically defined location'</li> <li><code>spacy.explain(\"NNP\")</code> 'noun, proper singular'</li> <li><code>spacy.explain(\"MISC\")</code> 'Miscellaneous entities, e.g. events, nationalities, products or works of art'</li> </ul>"},{"location":"U06%20Convergencia%20tecnologica/05_PLN_Spacy/#encontrando-patrones-basados-en-reglas","title":"Encontrando patrones basados en reglas","text":"<p>\u00bfPor qu\u00e9 no simplemente expresiones regulares?</p> <p>Buscar patrones en objetos Doc, no solamente en strings Buscar patrones en tokens y atributos de tokens Usa las predicciones del modelo Ejemplo: \"ara\u00f1a\" (verbo) vs. \"ara\u00f1a\" (sustantivo)</p> <p>Compar\u00e1ndolo con las expresiones regulares, el matcher funciona con objetos Doc y Token, en vez de \u00fanicamente strings.</p> <p>Tambi\u00e9n es m\u00e1s flexible: puedes buscar patrones en textos, pero tambi\u00e9n en otros atributos l\u00e9xicos.</p> <p>Inclusive puedes escribir reglas que usen las predicciones del modelo.</p> <p>Por ejemplo, encontrar la palabra \"ara\u00f1a\" \u00fanicamente si es un verbo y no un sustantivo.</p> <p>Los patrones del matcher son listas de diccionarios. Cada diccionario describe un token. Los keys son los nombres de los atributos del token, mapeados a sus valores esperados.</p> <p>En este ejemplo, estamos buscando dos tokens con el texto \"iPhone\" y \"X\".</p> <p>Tambi\u00e9n podemos usar otros atributos de los tokens para encontrar lo que buscamos. Aqu\u00ed estamos buscando dos tokens que en min\u00fasculas son iguales a \"iphone\" y \"x\".</p> <p>Tambi\u00e9n podemos escribir patrones que usen los atributos predichos por el modelo. Aqu\u00ed estamos buscando un token con el lemma \"comprar\", m\u00e1s un sustantivo. El lemma es la forma b\u00e1sica, as\u00ed que este patr\u00f3n encontrar\u00eda frases como \"comprando leche\" o \"compr\u00e9 flores\".</p> Python<pre><code>import spacy\n\n# Importa el Matcher\nfrom spacy.matcher import Matcher\n\n# Carga el modelo y crea un objeto nlp\nnlp = spacy.load(\"es_core_news_sm\")\n\n# Inicializa el matcher con el vocabulario compartido\nmatcher = Matcher(nlp.vocab)\n\n# A\u00f1ade el patr\u00f3n al matcher\npattern = [{\"TEXT\": \"adidas\"}, {\"TEXT\": \"zx\"}]\nmatcher.add(\"ADIDAS_PATTERN\", [pattern])\n\n# Procesa un texto\ndoc = nlp(\"Nuevos dise\u00f1os de zapatillas en la colecci\u00f3n adidas zx\")\n\n# Llama al matcher sobre el doc\nmatches = matcher(doc)\n\n# Llama al matcher sobre el doc\ndoc = nlp(\"Nuevos dise\u00f1os de zapatillas en la colecci\u00f3n adidas zx\")\nmatches = matcher(doc)\n\n# Itera sobre los resultados\nfor match_id, start, end in matches:\n    # Obt\u00e9n el span resultante\n    matched_span = doc[start:end]\n    print(matched_span.text)\n</code></pre> <p>on:</p> <ul> <li><code>match_id</code>: valor del hash del nombre del patr\u00f3n</li> <li><code>start</code>: \u00edndice de inicio del span resultante</li> <li><code>end</code>: \u00edndice del final del span resultante</li> </ul> <p>Cuando llamas el matcher sobre un doc, este devuelve una lista de tuples.</p> <p>Cada tuple consiste de tres valores: el ID del resultado, el \u00edndice de inicio y el \u00edndice del final del span resultante.</p> <p>Esto significa que podemos iterar sobre los resultados y crear un objeto Span: un slice del doc que comienza en el \u00edndice de inicio y termina en el \u00edndice del final.</p> Python<pre><code>pattern = [\n    {\"IS_DIGIT\": True},\n    {\"LOWER\": \"copa\"},\n    {\"LOWER\": \"mundial\"},\n    {\"LOWER\": \"fifa\"},\n    {\"IS_PUNCT\": True}\n]\ndoc = nlp(\"2014 Copa Mundial FIFA: Alemania gan\u00f3!\")\n\n# 2014 Copa Mundial FIFA:\n</code></pre> <p>Aqu\u00ed tenemos un ejemplo de un patr\u00f3n m\u00e1s complejo usando atributos l\u00e9xicos.</p> <p>Estamos buscando cinco tokens:</p> <p>Un token compuesto \u00fanicamente por d\u00edgitos.</p> <p>Tres tokens insensibles a may\u00fasculas/min\u00fasculas para \"copa\", \"mundial\" y \"fifa\".</p> <p>Un token que est\u00e1 compuesto por puntuaci\u00f3n.</p> <p>El patr\u00f3n encuentra los tokens \"2014 Copa Mundial FIFA:\".</p> Python<pre><code>pattern = [\n    {\"LEMMA\": \"comer\", \"POS\": \"VERB\"},\n    {\"POS\": \"NOUN\"}\n]\ndoc = nlp(\"Camila prefer\u00eda comer sushi. Pero ahora est\u00e1 comiendo pasta.\")\n'''\ncomer tacos\ncomiendo pasta\n'''\n</code></pre> <p>Los operadores y cuantificadores te permiten definir con qu\u00e9 frecuencia un token debe ser encontrado. Pueden ser a\u00f1adidos con el key \"OP\".</p> <p>Aqu\u00ed, el operador \"?\" hace que el token determinante sea opcional, as\u00ed que encontrar\u00e1 un token con el lemma \"comprar\", un art\u00edculo opcional y un sustantivo.</p> Python<pre><code>pattern = [\n    {\"LEMMA\": \"comprar\"},\n    {\"POS\": \"DET\", \"OP\": \"?\"},  # opcional: encuentra 0 o 1 ocurrencias\n    {\"POS\": \"NOUN\"}\n]\ndoc = nlp(\"Me compr\u00e9 un smartphone. Ahora le estoy comprando aplicaciones.\")\n'''\ncompr\u00e9 un smartphone\ncomprando aplicaciones\n'''\n</code></pre> Ejemplo Descripci\u00f3n {\"OP\": \"!\"} Negaci\u00f3n: busca 0 veces {\"OP\": \"?\"} Opcional: busca 0 o 1 veces {\"OP\": \"+\"} Busca 1 o m\u00e1s veces {\"OP\": \"*\"} Busca 0 o m\u00e1s veces"},{"location":"U06%20Convergencia%20tecnologica/05_PLN_Spacy/#exercici","title":"Exercici","text":"<p>Probemos el Matcher basado en reglas de spaCy. Vas a usar un ejemplo del ejercicio anterior y escribir\u00e1s un patr\u00f3n que encuentre la frase \u201cadidas zx\u201d en el texto.</p> <p>Importa el Matcher desde spacy.matcher. Inicial\u00edzalo con el vocab compartido del objeto nlp. Crea un patr\u00f3n que encuentre los valores \"TEXT\" de dos tokens: \"adidas\" y \"zx\". Usa el m\u00e9todo matcher.add para a\u00f1adir el patr\u00f3n al matcher. Llama al matcher en el doc y guarda el resultado en la variable matches. Itera sobre los resultados y obt\u00e9n el span resultante desde el \u00edndice start hasta el \u00edndice end.</p> Python<pre><code>import spacy\n\n# Importa el Matcher\nfrom spacy.matcher import Matcher\n\nnlp = spacy.load(\"es_core_news_sm\")\ndoc = nlp(\n    \"Los Ol\u00edmpicos de Tokio 2020 son la inspiraci\u00f3n para la nueva \"\n    \"colecci\u00f3n de zapatillas adidas zx.\"\n)\n\n# Inicializa el matcher con el vocabulario compartido\nmatcher = Matcher(nlp.vocab)\n\n# Crea un patr\u00f3n que encuentre dos tokens: \"adidas\" y \"zx\"\npattern = [{\"TEXT\": \"adidas\"}, {\"TEXT\": \"zx\"}]\n\n# A\u00f1ade el patr\u00f3n al matcher\nmatcher.add(\"ADIDAS_ZX_PATTERN\", [pattern])\n\n# Usa al matcher sobre el doc\nmatches = matcher(doc)\nprint(\"Resultados:\", [doc[start:end].text for match_id, start, end in matches])\n</code></pre>"},{"location":"U06%20Convergencia%20tecnologica/05_PLN_Spacy/#exercici_1","title":"Exercici","text":"<p>Escribe un patr\u00f3n que \u00fanicamente encuentre menciones de las versiones completas de iOS: \u201ciOS 7\u201d, \u201ciOS 11\u201d and \u201ciOS 10\u201d.</p> Text Only<pre><code>import spacy\nfrom spacy.matcher import Matcher\n\u200b\nnlp = spacy.load(\"es_core_news_sm\")\nmatcher = Matcher(nlp.vocab)\n\u200b\n\u200b\ndoc = nlp(\n    \"Despu\u00e9s de hacer la actualizaci\u00f3n de iOS no notar\u00e1s un redise\u00f1o \"\n    \"radical del sistema: no se compara con los cambios est\u00e9ticos que \"\n    \"tuvimos con el iOS 7. La mayor\u00eda de las funcionalidades del iOS 11 \"\n    \"siguen iguales en el iOS 10.\"\n)\n\u200b\n# Escribe un patr\u00f3n para las versiones de iOS enteras\n# (\"iOS 7\", \"iOS 11\", \"iOS 10\")\npattern = [{\"TEXT\": \"iOS\"}, {\"IS_DIGIT\": True}]\n\u200b\n# A\u00f1ade el patr\u00f3n al matcher y usa el matcher sobre el documento\nmatcher.add(\"IOS_VERSION_PATTERN\", [pattern])\nmatches = matcher(doc)\nprint(\"Total de resultados encontrados:\", len(matches))\n\u200b\n# Itera sobre los resultados e imprime el texto del span\nfor match_id, start, end in matches:\n    print(\"Resultado encontrado:\", doc[start:end].text)\n</code></pre> <p>Escribe un patr\u00f3n que \u00fanicamente encuentre formas de \u201cdescargar\u201d (tokens con el lemma \u201cdescargar\u201d) seguido por un token que tenga la etiqueta gramatical \"PROPN\" (proper noun).</p> Python<pre><code>import spacy\nfrom spacy.matcher import Matcher\n\nnlp = spacy.load(\"es_core_news_sm\")\nmatcher = Matcher(nlp.vocab)\n\ndoc = nlp(\n    \"descargu\u00e9 Fortnite en mi computadora, pero no puedo abrir el juego. \"\n    \"Ayuda? Cuando estaba descargando Minecraft, consegu\u00ed la versi\u00f3n de Windows \"\n    \"donde tiene una carpeta '.zip' y us\u00e9 el programa por defecto para \"\n    \"descomprimirlo\u2026as\u00ed que tambi\u00e9n tengo que descargar Winzip?\"\n)\n\n# Escribe un patr\u00f3n que encuentre una forma de \"descargar\" m\u00e1s un nombre propio\npattern = [{\"LEMMA\": \"descargar\"}, {\"POS\": \"PROPN\"}]\n\n# A\u00f1ade el patr\u00f3n al matcher y usa el matcher sobre el documento\nmatcher.add(\"DOWNLOAD_THINGS_PATTERN\", [pattern])\nmatches = matcher(doc)\nprint(\"Total de resultados encontrados:\", len(matches))\n\n# Itera sobre los resultados e imprime el texto del span\nfor match_id, start, end in matches:\n    print(\"Resultado encontrado:\", doc[start:end].text)\n\n'''\nTotal de resultados encontrados: 3\nResultado encontrado: descargu\u00e9 Fortnite\nResultado encontrado: descargando Minecraft\nResultado encontrado: descargar Winzip\n'''\n</code></pre> <p>Escribe un patr\u00f3n que encuentre un sustantivo \"NOUN\" seguido de uno o dos adjetivos \"ADJ\"(un adjetivo y un adjetivo opcional).</p> Python<pre><code>import spacy\nfrom spacy.matcher import Matcher\n\u200b\nnlp = spacy.load(\"es_core_news_sm\")\nmatcher = Matcher(nlp.vocab)\n\u200b\ndoc = nlp(\n    \"El gigante tecnol\u00f3gico IBM est\u00e1 ofreciendo lecciones virtuales \"\n    \"sobre tecnolog\u00edas avanzadas gratuitas en espa\u00f1ol.\"\n)\n\u200b\n# Escribe un patr\u00f3n para un sustantivo m\u00e1s uno o dos adjetivos\npattern = [{\"POS\": \"NOUN\"}, {\"POS\": \"ADJ\"}, {\"POS\": \"ADJ\", \"OP\": \"?\"}]\n\u200b\n# A\u00f1ade el patr\u00f3n al matcher y usa el matcher sobre el documento\nmatcher.add(\"NOUN_ADJ_PATTERN\", [pattern])\nmatches = matcher(doc)\nprint(\"Total de resultados encontrados:\", len(matches))\n\u200b\n# Itera sobre los resultados e imprime el texto del span\nfor match_id, start, end in matches:\n    print(\"Resultado encontrado:\", doc[start:end].text)\n\n'''\nTotal de resultados encontrados: 3\nResultado encontrado: gigante tecnol\u00f3gico\nResultado encontrado: lecciones virtuales\nResultado encontrado: tecnolog\u00edas avanzadas\n'''\n</code></pre>"},{"location":"U06%20Convergencia%20tecnologica/Continguts/","title":"Continguts","text":"<p>S'estudiar\u00e0 en aquesta unitat:</p> <ul> <li>Series temporals</li> <li>Computer Vision</li> <li>https://www.geeksforgeeks.org/python-pillow-tutorial/?ref=lbp</li> <li>https://www.tutorialspoint.com/how-to-crop-and-save-the-detected-faces-in-opencv-python</li> <li>https://www.campusmvp.es/recursos/post/reconocimiento-y-clasificacion-de-imagenes-con-deep-learning.aspx</li> <li>https://docs.opencv.org/4.9.0/d6/de2/tutorial_py_table_of_contents_ml.html</li> <li>Detecci\u00f3 de text. </li> <li>PLN</li> <li>Spacy:<ul> <li>Detecci\u00f3 de plagis</li> <li>Enmascarar Noms personals i DNI</li> <li></li> </ul> </li> <li>App de passar llista o similar</li> <li>App per a buscar en local totes les fotos on aparega una persona, un objecte, ...</li> </ul>"},{"location":"U07%20Automatitzaci%C3%B3%20Industrial/Continguts/","title":"Continguts","text":"<p>S'estudiar\u00e0 en aquesta unitat:</p> <ul> <li>Apps involucrades en automatitzaci\u00f3</li> <li>Jetracer/ Amazon Deepracer</li> </ul>"},{"location":"info/guia_didactica/","title":"Guia did\u00e0ctica","text":""},{"location":"info/guia_didactica/#1-introduccio","title":"1. Introducci\u00f3","text":"<p>El curs d'especialitzaci\u00f3 Intel\u00b7lig\u00e8ncia Artificial i Big Data  est\u00e0 dividit en 5 m\u00f2duls professionals com unitats coherents de formaci\u00f3, necessaris per obtenir el t\u00edtol. Aquests m\u00f2duls s\u00f3n:</p> <ul> <li>5071 Models d'Intel\u00b7lig\u00e8ncia Artificial</li> <li>5072 Sistemes d'Aprenentatge Autom\u00e0tic.</li> <li>5073 Programaci\u00f3 d'Intel\u00b7lig\u00e8ncia Artificial.</li> <li>5074 Sistemes de Big Data.</li> <li>5075 Big Data Aplicat.</li> </ul> <p>La duraci\u00f3 establerta per aquest curs d'especialitzaci\u00f3 \u00e9s de 600 hores.</p>"},{"location":"info/guia_didactica/#2-presentacio-del-modul","title":"2. Presentaci\u00f3 del m\u00f2dul","text":"<p>Un dels m\u00f2duls inclosos en aquest cicle formatiu \u00e9s el de ** Programaci\u00f3 d'Intel\u00b7lig\u00e8ncia Artificial, que d\u00f3na estructura a la present proposta de programaci\u00f3 did\u00e0ctica que est\u00e0 regulada pel Reial Decret del T\u00edtol 279/2021 de 20 d'abril**, i que presenta les seg\u00fcents caracter\u00edstiques:</p> <ul> <li>T\u00e9 una duraci\u00f3 aproximada de 210 hores</li> <li>S\u2019imparteix amb una freq\u00fc\u00e8ncia de 7 hores per setmana, amb una durada de 30 setmanes de classe.</li> <li>Cal dir que aquesta \u00e9s una programaci\u00f3 did\u00e0ctica oberta, flexible i adaptable, de manera que es poden afegir, llevar o modificar les unitats did\u00e0ctiques que la componen adaptant-les al temps, a l\u2019entorn, als recursos disponibles i a les necessitats.</li> </ul>"},{"location":"info/guia_didactica/#21-objectius-generals","title":"2.1. Objectius generals","text":"<p>La formaci\u00f3 del m\u00f2dul, d'acord amb el Reial Decret del T\u00edtol, contribueix a assolir els objectius generals a), b), c), d), e), j), k), m), n), \u00f1), o) y p), aix\u00ed com les compet\u00e8ncies professionals , personals i socials a), b), c), d), e), j), k), m), n), \u00f1), o), p), q), r) y s) del curs de especialitzaci\u00f3.</p> <p>Els objectius generals s\u00f3n:</p> <ul> <li>(a) Caracteritzar les interaccions en els negocis de les empreses i organitzacions per aplicar sistemes d'intel\u00b7lig\u00e8ncia artificial que incrementi la productivitat.</li> <li>(b) Seleccionar dades relevants de l'empresa/organitzaci\u00f3 per a desenvolupar e implementar solucions que faciliten la presa de decisions.</li> <li>(c) Aplicar t\u00e8cniques de tractament de dades per gestionar la transformaci\u00f3 digital a les organitzacions.</li> <li>(d) Caracteritzar sistemes de la Intel\u00b7lig\u00e8ncia Artificial per implantar funcionalitats, processos i sistemes de decisions.</li> <li>(e) Interpretar plans de canvi i millora dels processos de les empreses i organitzacions per a la seva gesti\u00f3 amb Intel\u00b7lig\u00e8ncia artificial.</li> <li>(j) Determinar la documentaci\u00f3 t\u00e8cnica i normativa vigent dels procediments de protecci\u00f3 de dades per executar el sistema d'explotaci\u00f3 de dades complint amb els principis legals i \u00e8tics.</li> <li>(k) Determinar la soluci\u00f3 d'Intel\u00b7lig\u00e8ncia Artificial i Big Data per configurar les eines i els llenguatges espec\u00edfics.</li> <li>(m) Analitzar i utilitzar els recursos i les oportunitats d'aprenentatge relacionats amb l'evoluci\u00f3 cient\u00edfica, tecnol\u00f2gica i organitzativa del sector i les tecnologies de la informaci\u00f3 i la comunicaci\u00f3, per mantenir l'esperit d'actualitzaci\u00f3 i adaptar-se a noves situacions laborals i personals.</li> <li>(n) Desenvolupar la creativitat i l'esperit d'innovaci\u00f3 per respondre als reptes que es presenten en els processos i l'organitzaci\u00f3 del treball i de la vida personal.</li> <li>(\u00f1) Avaluar situacions de prevenci\u00f3 de riscos laborals i de protecci\u00f3 ambiental, proposant i aplicant mesures de prevenci\u00f3 personal i col\u00b7lectiva, d'acord amb la normativa aplicable en els processos de treball, per garantir entorns segurs.</li> <li>(o) Identificar i proposar les accions professionals necess\u00e0ries, per donar resposta a l'accessibilitat universal, al \u00abdisseny per a totes les persones\u00bb, aix\u00ed com per evitar possibles biaixos de g\u00e8nere en el desenvolupament i les aplicacions d'Intel\u00b7lig\u00e8ncia Artificial i Big Data.</li> <li>(p) Identificar i aplicar par\u00e0metres de qualitat en els treballs i les activitats realitzats en el proc\u00e9s d'aprenentatge, per valorar la cultura de l'avaluaci\u00f3 i de la qualitat i ser capa\u00e7os de supervisar i millorar procediments de gesti\u00f3 de qualitat.</li> </ul>"},{"location":"info/guia_didactica/#22-competencies-professionals","title":"2.2. Compet\u00e8ncies professionals","text":"<p>D'acord amb el Reial Decret del T\u00edtol, la formaci\u00f3 d'aquest m\u00f2dul contribueix a obtenir les compet\u00e8ncies professionals, personals i socials a), b), c), d), e), j), k), m), n), \u00f1), o), p), q), r) y s) del curs de especialitzaci\u00f3.</p> <ul> <li>(a) Aplicar sistemes d'intel\u00b7lig\u00e8ncia artificial per identificar noves formes deinteracci\u00f3 en els negocis que millorin la productivitat.</li> <li>(b) Desenvolupar i implementar sistemes d'intel\u00b7lig\u00e8ncia artificial que faciliten la presa de decisions \u00e0gils dins d'un negoci gestionant i explotant dades massives.</li> <li>(c) Gestionar la transformaci\u00f3 digital necess\u00e0ria a les organitzacions per a la consecuci\u00f3 de l'efici\u00e8ncia empresarial mitjan\u00e7ant el tractament de dades.</li> <li>(d) Aplicar Intel\u00b7lig\u00e8ncia Artificial en funcionalitats, processos i sistemes de decisi\u00f3 empresarials.</li> <li>(e) Gestionar els diferents tipus d'intel\u00b7lig\u00e8ncia artificial per a la consecuci\u00f3 de transformaci\u00f3 i canvi a les empreses.</li> <li>(j) Executar el sistema d'explotaci\u00f3 de dades segons les necessitats d'\u00fas i les condicions de seguretat establertes assegurant el compliment dels principis legals i \u00e8tics.</li> <li>(k) Configurar les eines que es fan servir per construir solucions Big Data i d'Intel\u00b7lig\u00e8ncia Artificial.</li> <li>(m) Complir la legislaci\u00f3 vigent que regula la normativa dels mitjans de comunicaci\u00f3 audiovisual i de l'accessibilitat universal.</li> <li>(n) Adaptar-se a les noves situacions laborals, mantenint actualitzats els coneixements cient\u00edfics, t\u00e8cnics i tecnol\u00f2gics relatius al seu entorn professional, gestionant-ne la formaci\u00f3 i els recursos existents en l'aprenentatge al llarg de la vida i utilitzant les tecnologies de la informaci\u00f3 i la comunicaci\u00f3.</li> <li>(\u00f1) Resoldre situacions, problemes o conting\u00e8ncies amb iniciativa i autonomia en l'\u00e0mbit de la seva compet\u00e8ncia, amb creativitat, innovaci\u00f3 i esperit de millora en el treball personal i en el dels membres de l'equip.</li> <li>(o) Organitzar i coordinar equips de treball amb responsabilitat, supervisant-ne el desenvolupament, mantenint relacions fluides i assumint el lideratge, aix\u00ed com aportant solucions als conflictes grupals que es presenten.</li> <li>(p) Comunicar-se amb els seus iguals, superiors, clientela i persones sota la seva responsabilitat, utilitzant vies eficaces de comunicaci\u00f3, transmetent la informaci\u00f3 o coneixements adequats i respectant l'autonomia i la compet\u00e8ncia de les persones que intervenen en l'\u00e0mbit del seu treball.</li> <li>(q) Generar entorns segurs en el desenvolupament de la feina i el del seu equip, supervisant i aplicant els procediments de prevenci\u00f3 de riscos laborals i ambientals, d'acord amb all\u00f2 establert per la normativa i els objectius de l'empresa.</li> <li>(r) Supervisar i aplicar procediments de gesti\u00f3 de qualitat, d'accessibilitat universal i de disseny per a totes les persones, en les activitats professionals incloses en els processos de producci\u00f3 o prestaci\u00f3 de serveis.</li> <li>(s) Exercir els seus drets i complir les obligacions derivades de la seva activitat professional, d'acord amb all\u00f2 establert a la legislaci\u00f3 vigent, participant activament en la vida econ\u00f2mica, social i cultural.</li> </ul>"},{"location":"info/guia_didactica/#23-resultats-daprenentatge","title":"2.3. Resultats d'aprenentatge","text":"<p>D'acord amb la normativa vigent, els objectius espec\u00edfics estan expressats en termes de resultats d'aprenentatge. Estos son:</p> <ol> <li>Caracteritza llenguatges de programaci\u00f3 valorant la seva idone\u00eftat en el desenvolupament d'Intel\u00b7lig\u00e8ncia Artificial.</li> <li>Desenvolupa aplicacions d'intel\u00b7lig\u00e8ncia artifcial utilitzant entorns de modelatge.</li> <li>Avalua les millores als negocis integrant converg\u00e8ncia tecnol\u00f2gica.</li> <li>Avalua models d'automatitzaci\u00f3 industrial i de negoci relacionant-los amb els resultats esperats per les empreses.</li> </ol>"},{"location":"info/guia_didactica/#24-criteris-davaluacio","title":"2.4. Criteris d'avaluaci\u00f3","text":"<p>Els criteris d'avaluaci\u00f3 de cada resultat d'aprenentatge series:</p> <ol> <li> <p>Caracteritza llenguatges de programaci\u00f3 valorant la seva idone\u00eftat en el desenvolupament d'Intel\u00b7lig\u00e8ncia Artificial.</p> <ul> <li>a) S'ha identificat l'estructura d'un programa inform\u00e0tic.</li> <li>b) S'han valorat caracter\u00edstiques en els llenguatges de programaci\u00f3 adequades al tipus d'aplicacions que cal implementar.</li> <li>c) S'ha determinat el llenguatge de programaci\u00f3 m\u00e9s apropiat per al desenvolupament de l'aplicaci\u00f3.</li> <li>d) S'han valorat caracter\u00edstiques dels llenguatges de programaci\u00f3 per al desenvolupament d'intel\u00b7lig\u00e8ncia Artificial.</li> <li>e) S'ha determinat el llenguatge de programaci\u00f3 m\u00e9s apropiat per al desenvolupament de laplicaci\u00f3 dIntel\u00b7lig\u00e8ncia Artificial.</li> <li>f) S'han caracteritzat llenguatges de marcatge destacant la informaci\u00f3 que contenen les etiquetes.</li> </ul> </li> <li> <p>Desenvolupa aplicacions d'intel\u00b7lig\u00e8ncia artifcial utilitzant entorns de modelatge.</p> <ul> <li>a) S'han avaluat plataformes d'intel\u00b7lig\u00e8ncia artificial.</li> <li>b) S'han caracteritzat entorns de model d'aplicacions d'intel\u00b7lig\u00e8ncia artificial.</li> <li>c) S'ha definit el model que es vol implementar segons el problema plantejat.</li> <li>d) S'ha implementat l'aplicaci\u00f3 Intel\u00b7lig\u00e8ncia Artifcial.</li> <li>e) S'han avaluat els resultats obtinguts.</li> </ul> </li> <li> <p>Avalua les millores als negocis integrant converg\u00e8ncia tecnol\u00f2gica.</p> <ul> <li>a) S'han identificat els avantatges que ofereix unificar processos, serveis, eines, m\u00e8todes i sectors.</li> <li>b) S'han identificat sistemes que faciliten la connexi\u00f3 tecnol\u00f2gica.</li> <li>c) S'han avaluat les caracter\u00edstiques dels sistemes esmentats.</li> <li>d) S'ha avaluat com la converg\u00e8ncia tecnol\u00f2gica aporta seguretat als negocis.</li> <li>e) S'ha avaluat la millora en la capacitat de presa de decisions estrat\u00e8giques a un negoci connectat.</li> </ul> </li> <li> <p>Avalua models d'automatitzaci\u00f3 industrial i de negoci relacionant-los amb els resultats esperats per les empreses.</p> <ul> <li>a) S'han identificat les noves estrat\u00e8gies corporatives i models de negoci a les empreses.</li> <li>b) S'ha definit la relaci\u00f3 entre empreses i clients i el seu efecte en la manera com les empreses organitzen i gestionen els seus actius i recursos.</li> <li>c) S'han avaluat models d'automatitzaci\u00f3 per als requeriments nous industrials i de negoci.</li> <li>d) S'ha avaluat la conveni\u00e8ncia de cada model per aconseguir els resultats esperats per les empreses.</li> </ul> </li> </ol>"},{"location":"info/guia_didactica/#3-continguts-del-modul-unitats-didactiques","title":"3. Continguts del m\u00f2dul. Unitats did\u00e0ctiques","text":"<p>Els continguts del m\u00f2dul s'organitzen de la seguent forma:</p> <ul> <li> <p>UD1: Introducci\u00f3 a la programaci\u00f3.</p> <ul> <li>Llenguatge de programaci\u00f3</li> <li>Algorisme</li> <li>Compilat vs Implementat</li> <li>Comparativa de llenguatges</li> </ul> </li> <li> <p>UD2: Python</p> <ul> <li>Entorns de desenvolupamnet. Conda/Anaconda</li> <li>Creaci\u00f3 de projectes. Entorns virtuals</li> <li>Tipus b\u00e0sics. Variables</li> <li>Operadors</li> <li>Estructures de control</li> <li>Funcions<ul> <li>Del sistema</li> <li>llibrerires</li> <li>Definici\u00f3 i crida. Par\u00e0metres</li> </ul> </li> <li>Estructures de dades: tupla, llista i diccionari</li> <li>POO</li> <li>Projecte inicial: dibuixant figures</li> </ul> </li> <li> <p>UD3: Python aplicat al BD i IA</p> <ul> <li>Numpy</li> <li>Matplotlib</li> <li>Seaborn</li> <li>Keras</li> <li>Pandas</li> </ul> </li> <li> <p>UD4: Programaci\u00f3 d'aplicacions</p> <ul> <li>Frontend. Programaci\u00f3 amb <code>Flet</code><ul> <li>Calculadora o To do App</li> </ul> </li> <li>Docker. Contenidors amb BBDD (MONGO)<ul> <li>EXPORTAR DATASET A BBDD</li> </ul> </li> <li>API-Rest. Peticions HTTP.</li> <li>Backend. Programaci\u00f3 amb <code>Flask</code></li> <li>Projecte integrador<ul> <li>APP client servidor amb model preentrenat amb validaci\u00f3 contra base de dades i nombre de peticions limitades</li> </ul> </li> </ul> </li> <li> <p>UD5: Programaci\u00f3 d'aplicacions d'IA</p> <ul> <li>Azure Cognitive Services</li> <li>AWS</li> <li>IBM Watson</li> <li>Construcci\u00f3 d'una aplicaci\u00f3 amb models preentrenats i accessibles a trav\u00e9s de serveis</li> </ul> </li> <li> <p>UD6: Converg\u00e8ncia tecnol\u00f2gica</p> <ul> <li>Series temporals</li> <li>Computer Vision</li> <li>IA aplicat al lleguatge.</li> <li>App de passar llista o similar</li> </ul> </li> <li> <p>UD7: Automatitzaci\u00f3 industrial</p> <ul> <li>Projectes</li> </ul> </li> </ul>"},{"location":"info/guia_didactica/#4-temporalitzacio-de-continguts","title":"4. Temporalitzaci\u00f3 de continguts","text":"<p>La temporalitzaci\u00f3 de continguts prevista ser\u00e0 la seg\u00fcemt:</p> Avaluaci\u00f3 Unitats Did\u00e0ctiques 1a Avaluaci\u00f3 - UD 1. Introducci\u00f3 a la programaci\u00f3. - UD 2. Python - UD 3. Python aplicat al BD i IA - UD 4. Programaci\u00f3 d'aplicacions - UD 5. Programaci\u00f3 d'aplicacions d'IA 2a Avaluaci\u00f3 - UD 5. Programaci\u00f3 d'aplicacions d'IA - UD 6. Converg\u00e8ncia tecnol\u00f2gica (projectes) - UD 7. Automatitzaci\u00f3 industrial (projectes)"},{"location":"info/guia_didactica/#5-aspectes-metodologics","title":"5. Aspectes metodol\u00f2gics","text":""},{"location":"info/guia_didactica/#51-material-didactic","title":"5.1. Material Did\u00e0ctic","text":"<p>El material did\u00e0ctic del m\u00f2dul pot ressumir-se en el seg\u00fcent:</p> <ul> <li>Apunts proporcionats pel professor en format web.</li> <li>Textos d'ampliaci\u00f3 i enlla\u00e7os a articles i documentaci\u00f3 oficial relacionats amb cada unitat.</li> <li>Pr\u00e0ctiques i exercicis per refor\u00e7ar el que s'ha exposat als apunts.</li> </ul> <p>Tot aquest material s'oferir\u00e0 a trav\u00e9s de l'aula virtual durant el desenvolupament de cada unitat.</p> <p>A m\u00e9s, dins l'aula virtual, disposarem d'un f\u00f2rum general per comentar aspectes globals del m\u00f2dul, i un f\u00f2rum per cada unitat did\u00e0ctica, per tal de resoldre dubtes i tractar aspectes relacionats amb la unitat.</p>"},{"location":"info/guia_didactica/#52-recursos","title":"5.2. Recursos","text":"<p>El programari a utilitzar ser\u00e0 principalment lliure, i es donaran instruccions en cada unitat per a la seua desc\u00e0rrega i instal\u00b7laci\u00f3. A grans trets, el programari a utilitzar ser\u00e0:</p> <ul> <li>Sistema operatiu d'elecci\u00f3 pr\u00f2pia. Com a sistema operatiu de base a l'aula fem servir Linux Mint, tot i que per al modul, per\u00f2 l'alumne pot utilitzar qualsevol altre sistema operatiu, ja que tot el programari amb qu\u00e8 treballarem \u00e9s multiplataforma.</li> <li>Visual Studio Code com a editor de codi, que suporta diferents llenguatges, i \u00e9s bastant ampliable amb extensions. Tot i que ser\u00e0 l'editor de refer\u00e8ncia, es pot fer \u00fas de PyCharm, Eclipse, InteliJ o qualsevol altre editor/IDE.</li> <li>Python3, com a llenguatge de programaci\u00f3,</li> <li>Flet (Flutter + Python3), com a framework per a aplicacions multiplataforma amb interf\u00edcie d'usuari per a m\u00f2bil, web o escriptori.</li> <li>Flask per al desenvolupament de la part servidora.</li> <li>Eines al n\u00favol tals com Azure, AWS o IBM Watson.</li> </ul>"},{"location":"info/guia_didactica/#53-eines-web-i-collaboratives","title":"5.3. Eines web i col\u00b7laboratives","text":"<p>A banda del programari esmentat anteriorment, tamb\u00e9 s'utilitzaran el seg\u00fcent portals web i plataformes de treball col\u00b7laboratiu:</p> <ul> <li>Portal Aules: Com a aula virtual, i que articular\u00e0 el funcionament del m\u00f2dul. Ser\u00e0 aci on s'ubiquen els diferents recursos, f\u00f2rums, etc.</li> <li>Github: En alguns projectes en grup, ser\u00e0 de gran ajuda treballar amb sistemes de control de versions distribuits, com Github, de manera que puguen realitzar desenvolupaments de forma col\u00b7laborativa. Podeu optar per fer l'entrega de treballs a trav\u00e9s del vostre repositori Github.</li> <li>Google Colab: Vos proporcionarem algun Jupyter Nettbook dir\u00e8ctament al nuvol per a que pugau treballar amb ell.</li> </ul>"},{"location":"info/guia_didactica/#54-metodologia","title":"5.4. Metodologia","text":"<p>Per a aquest curs, anem a buscar una forma el m\u00e9s pr\u00e0ctica possible d'abordar les classes. </p> <p>Segons aquestes premisses, la metodolog\u00eda utilitzada al m\u00f2dul es regir\u00e0 per les seg\u00fcents pautes:</p> <ul> <li>En iniciar cada unitat did\u00e0tica es realitzar\u00e0 una presentaci\u00f3 inicial d'aquesta, dels conceptes b\u00e0sics, i de qu\u00e8 sereu capa\u00e7os de fer en finalitzar-la.</li> <li>Disposareu de material per a la seua lectura comprensiva i estudi, aix\u00ed com de documentaci\u00f3 addicional que es considere interessant,</li> <li>Disposareu d'exercicis i pr\u00e0ctiques que acompanyen la teor\u00eda de la unitat i que ens ajudaran a entendre els conceptes de la unitat, fonamentant-se en coneixements previs, facilitant aix\u00ed l'aprenentatge per descobriment, significatiu i deductiu.</li> <li>Les session a l'aula tindran un car\u00e0cter fonamentalment pr\u00e0ctic, i s'aprofitaran exemples i casos pr\u00e0ctics per exposar els principals conceptes.</li> <li>Es fomentar\u00e0 la realitzaci\u00f3 de projectes i treballs en equip.</li> </ul>"},{"location":"info/guia_didactica/#6-avaluacio","title":"6. Avaluaci\u00f3","text":"<p>L'avaluaci\u00f3 ser\u00e0 continuada, i consistir\u00e0 en el seguiment del treball que aneu realitzant. Cada unitat tindr\u00e0 una qualificaci\u00f3, fruit del treball de activitats i pr\u00e0ctiques entregables.</p> <p>En finalitzar cada avaluaci\u00f3 hi haur\u00e0 tamb\u00e9 una prova de validaci\u00f3 de coneixements (examen), que caldr\u00e0 aprovar per considerar v\u00e0lida la qualificaci\u00f3 de l'avaluaci\u00f3 continuada. La nota final ser\u00e0 la nota ponderada de la qualificaci\u00f3 del les diferents unitats, en funci\u00f3 del temps invertit en cadascuna, i el pes considerat per a cada tasca. Es perd el dret a l'avaluaci\u00f3 continuada en faltar a m\u00e9s d'un 15% de les classes.</p> <p>En cas de no superar l'avaluaci\u00f3 continuada, es disposar\u00e0 d'una convocat\u00f2ria final ordin\u00e0ria. En este cas, la nota vindr\u00e0 donada al 100% per la nota de la prova corresponent.</p> <p>Per a la correcci\u00f3 de les pr\u00e0ctiques i projectes s'utilitzaran r\u00fabriques.</p>"}]}